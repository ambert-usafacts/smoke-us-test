import{A as $t,s as ke,e as me,i as x,d as M,o as vo,z as D,B as Q,C as ko,r as bt,f as W,g as Y,h as q,j as g,D as So,k as O,E as wf,u as pt,v as wt,w as vt,p as St,F as je,G as de,H as _e,x as N,l as H,m as F,n as ae,a as Z,c as J,I as Re,y as Pe,J as vf,K as pl,L as Kt,M as hi,N as vn,O as Ll,P as sr,Q as kf,R as wl}from"../chunks/scheduler.7f01e268.js";import{a as U,S as Se,i as Ee,g as Ar,t as K,c as Dr,b as ue,d as se,m as ce,e as he,f as vl}from"../chunks/index.2010496a.js";import{w as re,d as Ae}from"../chunks/index.bd54f367.js";function xe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function kl(e,t){e.d(1),t.delete(e.key)}function Sl(e,t,n,i,r,l,a,o,u,f,s,h){let c=e.length,d=l.length,_=c;const b={};for(;_--;)b[e[_].key]=_;const y=[],p=new Map,k=new Map,A=[];for(_=d;_--;){const S=h(r,l,_),I=n(S);let G=a.get(I);G?i&&A.push(()=>G.p(S,t)):(G=f(I,S),G.c()),p.set(I,y[_]=G),I in b&&k.set(I,Math.abs(_-b[I]))}const R=new Set,w=new Set;function v(S){U(S,1),S.m(o,s),a.set(S.key,S),s=S.first,d--}for(;c&&d;){const S=y[d-1],I=e[c-1],G=S.key,j=I.key;S===I?(s=S.first,c--,d--):p.has(j)?!a.has(G)||R.has(G)?v(S):w.has(j)?c--:k.get(G)>k.get(j)?(w.add(G),v(S)):(R.add(j),c--):(u(I,a),c--)}for(;c--;){const S=e[c];p.has(S.key)||u(S,a)}for(;d;)v(y[d-1]);return $t(A),y}function Pt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Eo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mo(e){let t,n,i;e.length!==2?(t=Pt,n=(o,u)=>Pt(e(o),u),i=(o,u)=>e(o)-u):(t=e===Pt||e===Eo?e:Sf,n=e,i=e);function r(o,u,f=0,s=o.length){if(f<s){if(t(u,u)!==0)return s;do{const h=f+s>>>1;n(o[h],u)<0?f=h+1:s=h}while(f<s)}return f}function l(o,u,f=0,s=o.length){if(f<s){if(t(u,u)!==0)return s;do{const h=f+s>>>1;n(o[h],u)<=0?f=h+1:s=h}while(f<s)}return f}function a(o,u,f=0,s=o.length){const h=r(o,u,f,s-1);return h>f&&i(o[h-1],u)>-i(o[h],u)?h-1:h}return{left:r,center:a,right:l}}function Sf(){return 0}function Ef(e){return e===null?NaN:+e}function*Mf(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}const Nf=Mo(Pt),Rf=Nf.right;Mo(Ef).center;const zf=Rf;function Af(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let l of e)(l=t(l,++r,e))!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}return[n,i]}class Qt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],a=t+l,o=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);o&&(n[i++]=o),t=a}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,a=0;if(n>0){for(a=t[--n];n>0&&(i=a,r=t[--n],a=i+r,l=r-(a-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=a+r,r==i-a&&(a=i))}return a}}class ql extends Map{constructor(t,n=Cf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Gl(this,t))}has(t){return super.has(Gl(this,t))}set(t,n){return super.set(Df(this,t),n)}delete(t){return super.delete(Pf(this,t))}}function Gl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Df({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Pf({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Cf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Tf(e=Pt){if(e===Pt)return No;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function No(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const If=Math.sqrt(50),Lf=Math.sqrt(10),qf=Math.sqrt(2);function cr(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),a=l>=If?10:l>=Lf?5:l>=qf?2:1;let o,u,f;return r<0?(f=Math.pow(10,-r)/a,o=Math.round(e*f),u=Math.round(t*f),o/f<e&&++o,u/f>t&&--u,f=-f):(f=Math.pow(10,r)*a,o=Math.round(e/f),u=Math.round(t/f),o*f<e&&++o,u*f>t&&--u),u<o&&.5<=n&&n<2?cr(e,t,n*2):[o,u,f]}function Gf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,a]=i?cr(t,e,n):cr(e,t,n);if(!(l>=r))return[];const o=l-r+1,u=new Array(o);if(i)if(a<0)for(let f=0;f<o;++f)u[f]=(l-f)/-a;else for(let f=0;f<o;++f)u[f]=(l-f)*a;else if(a<0)for(let f=0;f<o;++f)u[f]=(r+f)/-a;else for(let f=0;f<o;++f)u[f]=(r+f)*a;return u}function $r(e,t,n){return t=+t,e=+e,n=+n,cr(e,t,n)[2]}function jf(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?$r(t,e,n):$r(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function el(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function jl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function Ro(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?No:Tf(r);i>n;){if(i-n>600){const u=i-n+1,f=t-n+1,s=Math.log(u),h=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*h*(u-h)/u)*(f-u/2<0?-1:1),d=Math.max(n,Math.floor(t-f*h/u+c)),_=Math.min(i,Math.floor(t+(u-f)*h/u+c));Ro(e,t,d,_,r)}const l=e[t];let a=n,o=i;for(Jn(e,n,t),r(e[i],l)>0&&Jn(e,n,i);a<o;){for(Jn(e,a,o),++a,--o;r(e[a],l)<0;)++a;for(;r(e[o],l)>0;)--o}r(e[n],l)===0?Jn(e,n,o):(++o,Jn(e,o,i)),o<=t&&(n=o+1),t<=o&&(i=o-1)}return e}function Jn(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Yr(e,t,n){if(e=Float64Array.from(Mf(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return jl(e);if(t>=1)return el(e);var i,r=(i-1)*t,l=Math.floor(r),a=el(Ro(e,l).subarray(0,l+1)),o=jl(e.subarray(l+1));return a+(o-a)*(r-l)}}function*xf(e){for(const t of e)yield*t}function zo(e){return Array.from(xf(e))}function Ao(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}const ht=re({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"}),oi=re(),Sn=re();function Bf(e){return e===0?!0:e}function Bt(e){return Bf(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function Of(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function Vr(e,t={}){return Of(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function Hf(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function Ff(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),l=r.length;let a,o,u,f,s,h,c;const d=e.length;for(a=0;a<l;a+=1){for(c=new Set,f=r[a],s=t[f],o=0;o<d;o+=1)if(h=s(e[o]),Array.isArray(h)){const b=h.length;for(u=0;u<b;u+=1)c.add(h[u])}else c.add(h);const _=Array.from(c);i[f]=n===!0?_.sort():_}return i}function Wf(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let l,a,o,u,f,s,h,c;const d=e.length;for(l=0;l<r;l+=1){for(u=i[l],h=t[u],f=null,s=null,a=0;a<d;a+=1)if(c=h(e[a]),Array.isArray(c)){const _=c.length;for(o=0;o<_;o+=1)c[o]!==!1&&c[o]!==void 0&&c[o]!==null&&Number.isNaN(c[o])===!1&&((f===null||c[o]<f)&&(f=c[o]),(s===null||c[o]>s)&&(s=c[o]))}else c!==!1&&c!==void 0&&c!==null&&Number.isNaN(c)===!1&&((f===null||c<f)&&(f=c),(s===null||c>s)&&(s=c));n[u]=[f,s]}return n}function $n(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function Do(e){return!!(typeof e.bandwidth=="function"||$n(Object.keys(e),["domain","range","unknown","copy"]))}function Yf(e,t,n){const i=Object.keys(n).reduce((l,a)=>{const o=Do(n[a])===!0?"ordinal":"other";return l[o]||(l[o]={}),l[o][a]=t[a],l},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=Ff(e,i.ordinal)),i.other&&(r={...r,...Wf(e,i.other)}),r}function Vf(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function Xi(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?Vf(n[e],i):i}}function Pr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const xl=Symbol("implicit");function Po(){var e=new ql,t=[],n=[],i=xl;function r(l){let a=e.get(l);if(a===void 0){if(i!==xl)return i;e.set(l,a=t.push(l)-1)}return n[a%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new ql;for(const a of l)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return Po(t,n).unknown(i)},Pr.apply(r,arguments),r}function El(){var e=Po().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,a,o=!1,u=0,f=0,s=.5;delete e.unknown;function h(){var c=t().length,d=r<i,_=d?r:i,b=d?i:r;l=(b-_)/Math.max(1,c-u+f*2),o&&(l=Math.floor(l)),_+=(b-_-l*(c-u))*s,a=l*(1-u),o&&(_=Math.round(_),a=Math.round(a));var y=Ao(c).map(function(p){return _+l*p});return n(d?y.reverse():y)}return e.domain=function(c){return arguments.length?(t(c),h()):t()},e.range=function(c){return arguments.length?([i,r]=c,i=+i,r=+r,h()):[i,r]},e.rangeRound=function(c){return[i,r]=c,i=+i,r=+r,o=!0,h()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(c){return arguments.length?(o=!!c,h()):o},e.padding=function(c){return arguments.length?(u=Math.min(1,f=+c),h()):u},e.paddingInner=function(c){return arguments.length?(u=Math.min(1,c),h()):u},e.paddingOuter=function(c){return arguments.length?(f=+c,h()):f},e.align=function(c){return arguments.length?(s=Math.max(0,Math.min(1,c)),h()):s},e.copy=function(){return El(t(),[i,r]).round(o).paddingInner(u).paddingOuter(f).align(s)},Pr.apply(h(),arguments)}function Ml(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Co(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function di(){}var fi=.7,hr=1/fi,En="\\s*([+-]?\\d+)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uf=/^#([0-9a-f]{3,8})$/,Xf=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),Kf=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Qf=new RegExp(`^rgba\\(${En},${En},${En},${ui}\\)$`),Zf=new RegExp(`^rgba\\(${kt},${kt},${kt},${ui}\\)$`),Jf=new RegExp(`^hsl\\(${ui},${kt},${kt}\\)$`),$f=new RegExp(`^hsla\\(${ui},${kt},${kt},${ui}\\)$`),Bl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ml(di,si,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ol,formatHex:Ol,formatHex8:eu,formatHsl:tu,formatRgb:Hl,toString:Hl});function Ol(){return this.rgb().formatHex()}function eu(){return this.rgb().formatHex8()}function tu(){return To(this).formatHsl()}function Hl(){return this.rgb().formatRgb()}function si(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Uf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fl(t):n===3?new Xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ki(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ki(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xf.exec(e))?new Xe(t[1],t[2],t[3],1):(t=Kf.exec(e))?new Xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qf.exec(e))?Ki(t[1],t[2],t[3],t[4]):(t=Zf.exec(e))?Ki(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jf.exec(e))?Vl(t[1],t[2]/100,t[3]/100,1):(t=$f.exec(e))?Vl(t[1],t[2]/100,t[3]/100,t[4]):Bl.hasOwnProperty(e)?Fl(Bl[e]):e==="transparent"?new Xe(NaN,NaN,NaN,0):null}function Fl(e){return new Xe(e>>16&255,e>>8&255,e&255,1)}function Ki(e,t,n,i){return i<=0&&(e=t=n=NaN),new Xe(e,t,n,i)}function nu(e){return e instanceof di||(e=si(e)),e?(e=e.rgb(),new Xe(e.r,e.g,e.b,e.opacity)):new Xe}function dr(e,t,n,i){return arguments.length===1?nu(e):new Xe(e,t,n,i??1)}function Xe(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Ml(Xe,dr,Co(di,{brighter(e){return e=e==null?hr:Math.pow(hr,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xe(Xt(this.r),Xt(this.g),Xt(this.b),_r(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wl,formatHex:Wl,formatHex8:iu,formatRgb:Yl,toString:Yl}));function Wl(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}`}function iu(){return`#${Ut(this.r)}${Ut(this.g)}${Ut(this.b)}${Ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yl(){const e=_r(this.opacity);return`${e===1?"rgb(":"rgba("}${Xt(this.r)}, ${Xt(this.g)}, ${Xt(this.b)}${e===1?")":`, ${e})`}`}function _r(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ut(e){return e=Xt(e),(e<16?"0":"")+e.toString(16)}function Vl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new st(e,t,n,i)}function To(e){if(e instanceof st)return new st(e.h,e.s,e.l,e.opacity);if(e instanceof di||(e=si(e)),!e)return new st;if(e instanceof st)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),a=NaN,o=l-r,u=(l+r)/2;return o?(t===l?a=(n-i)/o+(n<i)*6:n===l?a=(i-t)/o+2:a=(t-n)/o+4,o/=u<.5?l+r:2-l-r,a*=60):o=u>0&&u<1?0:a,new st(a,o,u,e.opacity)}function ru(e,t,n,i){return arguments.length===1?To(e):new st(e,t,n,i??1)}function st(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Ml(st,ru,Co(di,{brighter(e){return e=e==null?hr:Math.pow(hr,e),new st(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new st(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Xe(Ur(e>=240?e-240:e+120,r,i),Ur(e,r,i),Ur(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new st(Ul(this.h),Qi(this.s),Qi(this.l),_r(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_r(this.opacity);return`${e===1?"hsl(":"hsla("}${Ul(this.h)}, ${Qi(this.s)*100}%, ${Qi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ul(e){return e=(e||0)%360,e<0?e+360:e}function Qi(e){return Math.max(0,Math.min(1,e||0))}function Ur(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Nl=e=>()=>e;function lu(e,t){return function(n){return e+n*t}}function au(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function ou(e){return(e=+e)==1?Io:function(t,n){return n-t?au(t,n,e):Nl(isNaN(t)?n:t)}}function Io(e,t){var n=t-e;return n?lu(e,n):Nl(isNaN(e)?t:e)}const Xl=function e(t){var n=ou(t);function i(r,l){var a=n((r=dr(r)).r,(l=dr(l)).r),o=n(r.g,l.g),u=n(r.b,l.b),f=Io(r.opacity,l.opacity);return function(s){return r.r=a(s),r.g=o(s),r.b=u(s),r.opacity=f(s),r+""}}return i.gamma=e,i}(1);function fu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function uu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function su(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),a;for(a=0;a<i;++a)r[a]=Rl(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(o){for(a=0;a<i;++a)l[a]=r[a](o);return l}}function cu(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function gr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function hu(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Rl(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var tl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xr=new RegExp(tl.source,"g");function du(e){return function(){return e}}function _u(e){return function(t){return e(t)+""}}function gu(e,t){var n=tl.lastIndex=Xr.lastIndex=0,i,r,l,a=-1,o=[],u=[];for(e=e+"",t=t+"";(i=tl.exec(e))&&(r=Xr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),o[a]?o[a]+=l:o[++a]=l),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,u.push({i:a,x:gr(i,r)})),n=Xr.lastIndex;return n<t.length&&(l=t.slice(n),o[a]?o[a]+=l:o[++a]=l),o.length<2?u[0]?_u(u[0].x):du(t):(t=u.length,function(f){for(var s=0,h;s<t;++s)o[(h=u[s]).i]=h.x(f);return o.join("")})}function Rl(e,t){var n=typeof t,i;return t==null||n==="boolean"?Nl(t):(n==="number"?gr:n==="string"?(i=si(t))?(t=i,Xl):gu:t instanceof si?Xl:t instanceof Date?cu:uu(t)?fu:Array.isArray(t)?su:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hu:gr)(e,t)}function mu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yu(e){return function(){return e}}function bu(e){return+e}var Kl=[0,1];function yt(e){return e}function nl(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yu(isNaN(t)?NaN:.5)}function pu(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function wu(e,t,n){var i=e[0],r=e[1],l=t[0],a=t[1];return r<i?(i=nl(r,i),l=n(a,l)):(i=nl(i,r),l=n(l,a)),function(o){return l(i(o))}}function vu(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=nl(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(o){var u=zf(e,o,1,i)-1;return l[u](r[u](o))}}function Lo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qo(){var e=Kl,t=Kl,n=Rl,i,r,l,a=yt,o,u,f;function s(){var c=Math.min(e.length,t.length);return a!==yt&&(a=pu(e[0],e[c-1])),o=c>2?vu:wu,u=f=null,h}function h(c){return c==null||isNaN(c=+c)?l:(u||(u=o(e.map(i),t,n)))(i(a(c)))}return h.invert=function(c){return a(r((f||(f=o(t,e.map(i),gr)))(c)))},h.domain=function(c){return arguments.length?(e=Array.from(c,bu),s()):e.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),n=mu,s()},h.clamp=function(c){return arguments.length?(a=c?!0:yt,s()):a!==yt},h.interpolate=function(c){return arguments.length?(n=c,s()):n},h.unknown=function(c){return arguments.length?(l=c,h):l},function(c,d){return i=c,r=d,s()}}function ku(){return qo()(yt,yt)}function Su(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Mn(e){return e=mr(Math.abs(e)),e?e[1]:NaN}function Eu(e,t){return function(n,i){for(var r=n.length,l=[],a=0,o=e[0],u=0;r>0&&o>0&&(u+o+1>i&&(o=Math.max(1,i-u)),l.push(n.substring(r-=o,r+o)),!((u+=o+1)>i));)o=e[a=(a+1)%e.length];return l.reverse().join(t)}}function Mu(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Nu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yr(e){if(!(t=Nu.exec(e)))throw new Error("invalid format: "+e);var t;return new zl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yr.prototype=zl.prototype;function zl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ru(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Go;function zu(e,t){var n=mr(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(Go=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return l===a?i:l>a?i+new Array(l-a+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+mr(e,Math.max(0,t+l-1))[0]}function Ql(e,t){var n=mr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Zl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Su,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ql(e*100,t),r:Ql,s:zu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Jl(e){return e}var $l=Array.prototype.map,ea=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Au(e){var t=e.grouping===void 0||e.thousands===void 0?Jl:Eu($l.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Jl:Mu($l.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(h){h=yr(h);var c=h.fill,d=h.align,_=h.sign,b=h.symbol,y=h.zero,p=h.width,k=h.comma,A=h.precision,R=h.trim,w=h.type;w==="n"?(k=!0,w="g"):Zl[w]||(A===void 0&&(A=12),R=!0,w="g"),(y||c==="0"&&d==="=")&&(y=!0,c="0",d="=");var v=b==="$"?n:b==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=b==="$"?i:/[%p]/.test(w)?a:"",I=Zl[w],G=/[defgprs%]/.test(w);A=A===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function j(P){var B=v,C=S,T,E,z;if(w==="c")C=I(P)+C,P="";else{P=+P;var V=P<0||1/P<0;if(P=isNaN(P)?u:I(Math.abs(P),A),R&&(P=Ru(P)),V&&+P==0&&_!=="+"&&(V=!1),B=(V?_==="("?_:o:_==="-"||_==="("?"":_)+B,C=(w==="s"?ea[8+Go/3]:"")+C+(V&&_==="("?")":""),G){for(T=-1,E=P.length;++T<E;)if(z=P.charCodeAt(T),48>z||z>57){C=(z===46?r+P.slice(T+1):P.slice(T))+C,P=P.slice(0,T);break}}}k&&!y&&(P=t(P,1/0));var X=B.length+P.length+C.length,$=X<p?new Array(p-X+1).join(c):"";switch(k&&y&&(P=t($+P,$.length?p-C.length:1/0),$=""),d){case"<":P=B+P+C+$;break;case"=":P=B+$+P+C;break;case"^":P=$.slice(0,X=$.length>>1)+B+P+C+$.slice(X);break;default:P=$+B+P+C;break}return l(P)}return j.toString=function(){return h+""},j}function s(h,c){var d=f((h=yr(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(Mn(c)/3)))*3,b=Math.pow(10,-_),y=ea[8+_/3];return function(p){return d(b*p)+y}}return{format:f,formatPrefix:s}}var Zi,jo,xo;Du({thousands:",",grouping:[3],currency:["$",""]});function Du(e){return Zi=Au(e),jo=Zi.format,xo=Zi.formatPrefix,Zi}function Pu(e){return Math.max(0,-Mn(Math.abs(e)))}function Cu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mn(t)/3)))*3-Mn(Math.abs(e)))}function Tu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mn(t)-Mn(e))+1}function Iu(e,t,n,i){var r=jf(e,t,n),l;switch(i=yr(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=Cu(r,a))&&(i.precision=l),xo(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=Tu(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=Pu(r))&&(i.precision=l-(i.type==="%")*2);break}}return jo(i)}function Bo(e){var t=e.domain;return e.ticks=function(n){var i=t();return Gf(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return Iu(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,a=i[r],o=i[l],u,f,s=10;for(o<a&&(f=a,a=o,o=f,f=r,r=l,l=f);s-- >0;){if(f=$r(a,o,n),f===u)return i[r]=a,i[l]=o,t(i);if(f>0)a=Math.floor(a/f)*f,o=Math.ceil(o/f)*f;else if(f<0)a=Math.ceil(a*f)/f,o=Math.floor(o*f)/f;else break;u=f}return e},e}function or(){var e=ku();return e.copy=function(){return Lo(e,or())},Pr.apply(e,arguments),Bo(e)}function ta(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lu(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qu(e){return e<0?-e*e:e*e}function Gu(e){var t=e(yt,yt),n=1;function i(){return n===1?e(yt,yt):n===.5?e(Lu,qu):e(ta(n),ta(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Bo(t)}function Oo(){var e=Gu(qo());return e.copy=function(){return Lo(e,Oo()).exponent(e.exponent())},Pr.apply(e,arguments),e}function Ho(){return Oo.apply(null,arguments).exponent(.5)}const ei={x:or,y:or,z:or,r:Ho};function ju(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function na(e){return e}function xu(e){return t=>Math.log(e*t)}function Bu(e){return t=>e*Math.exp(t)}function Ou(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Hu(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ji(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Fu(e){const t=ju(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:xu(n),ground:Bu(n),scaleType:t}}return t==="pow"?{lift:Ji(1),ground:Ji(1/1),scaleType:t}:t==="sqrt"?{lift:Ji(.5),ground:Ji(1/.5),scaleType:t}:t==="symlog"?{lift:Ou(1),ground:Hu(1),scaleType:t}:{lift:na,ground:na,scaleType:t}}function br(e){return e.replace(/^\w/,t=>t.toUpperCase())}function He(e,t=""){return`scale${br(t)}${br(e)}`}function Fo(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?He("band"):He("point");if($n(Object.keys(e),["domain","range","unknown","copy"]))return He("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return He("quantile",t);if(e.thresholds)return He("quantize",t);if(e.constant)return He("symlog",t);if(e.base)return He("log",t);if(e.exponent)return e.exponent()===.5?He("sqrt",t):He("pow",t);if($n(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return He("threshold");if($n(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return He("identity");if($n(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return He("radial");if(t)return He(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),He(i)}return He("linear")}const Wu=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Yu(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Wu.includes(Fo(e))||Do(e)===!0)return e.domain();const{lift:n,ground:i}=Fu(e),r=e.domain()[0],l=Object.prototype.toString.call(r)==="[object Date]",[a,o]=e.domain().map(d=>n(l?d.getTime():d)),[u,f]=e.range(),s=t[0]||0,h=t[1]||0,c=(o-a)/(Math.abs(f-u)-s-h);return[a-s*c,h*c+o].map(d=>i(l?new Date(d):d))}function Vu(e,t,n,i,r){let l,a;return r===!0?(l=0,a=100):(l=e==="r"?1:0,a=e==="y"?n:e==="r"?25:t),i===!0?[a,l]:[l,a]}function Uu(e,t,n,i,r,l){return r?typeof r=="function"?r({width:t,height:n}):r:Vu(e,t,n,i,l)}function $i(e){return function([n,i,r,l,a,o,u,f,s,h]){if(i===null)return null;const c=Uu(e,u,f,o,s,h),d=n===ei[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(c),l&&d.domain(Yu(d,l)),(a===!0||typeof a=="number")&&(typeof d.nice=="function"?d.nice(typeof a=="number"?a:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function er([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function tr([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const _t="    ";function Xu(e){const{r:t,g:n,b:i,opacity:r}=dr(e);return[t,n,i].every(l=>l>=0&&l<=255)?{r:t,g:n,b:i,o:r}:!1}function Ku({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Qu(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Zu(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{Ju(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Zu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${_t}${t}:`,n)})}function Ju(e,t,n){const i=Fo(t);console.log(`${_t}${e}:`),console.log(`${_t}${_t}Accessor: "${n.toString()}"`),console.log(`${_t}${_t}Type: ${i}`),ia(t,"domain"),ia(t,"range"," ")}function ia(e,t,n=""){const i=e[t](),r=es(i);r?$u(r,t,i):console.log(`${_t}${_t}${br(t)}:${n}`,i)}function $u(e,t,n){console.log(`${_t}${_t}${br(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function es(e){const t=[],n=e.map((i,r)=>{const l=Xu(i);if(l!==!1){t.push(l);const a=r===e.length-1?" ":"";return`%c ${i}${a}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${Ku(i)};`)]:null}const ts=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),ra=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function la(e){let t,n,i;const r=e[153].default,l=bt(r,e,e[152],ra);return{c(){t=W("div"),l&&l.c(),this.h()},l(a){t=Y(a,"DIV",{class:!0});var o=q(t);l&&l.l(o),o.forEach(M),this.h()},h(){g(t,"class","layercake-container svelte-vhzpsp"),So(()=>e[155].call(t)),O(t,"position",e[5]),O(t,"top",e[5]==="absolute"?"0":null),O(t,"right",e[5]==="absolute"?"0":null),O(t,"bottom",e[5]==="absolute"?"0":null),O(t,"left",e[5]==="absolute"?"0":null),O(t,"pointer-events",e[4]===!1?"none":null)},m(a,o){x(a,t,o),l&&l.m(t,null),e[154](t),n=wf(t,e[155].bind(t)),i=!0},p(a,o){l&&l.p&&(!i||o[0]&2147483588|o[1]&1048575|o[4]&268435456)&&pt(l,r,a,a[152],i?vt(r,a[152],o,ts):wt(a[152]),ra),o[0]&32&&O(t,"position",a[5]),o[0]&32&&O(t,"top",a[5]==="absolute"?"0":null),o[0]&32&&O(t,"right",a[5]==="absolute"?"0":null),o[0]&32&&O(t,"bottom",a[5]==="absolute"?"0":null),o[0]&32&&O(t,"left",a[5]==="absolute"?"0":null),o[0]&16&&O(t,"pointer-events",a[4]===!1?"none":null)},i(a){i||(U(l,a),i=!0)},o(a){K(l,a),i=!1},d(a){a&&M(t),l&&l.d(a),e[154](null),n()}}}function ns(e){let t,n,i=(e[3]===!0||typeof window<"u")&&la(e);return{c(){i&&i.c(),t=me()},l(r){i&&i.l(r),t=me()},m(r,l){i&&i.m(r,l),x(r,t,l),n=!0},p(r,l){r[3]===!0||typeof window<"u"?i?(i.p(r,l),l[0]&8&&U(i,1)):(i=la(r),i.c(),U(i,1),i.m(t.parentNode,t)):i&&(Ar(),K(i,1,1,()=>{i=null}),Dr())},i(r){n||(U(i),n=!0)},o(r){K(i),n=!1},d(r){r&&M(t),i&&i.d(r)}}}function is(e,t,n){let i,r,l,a,o,u,f,s,h,c,d,_,b,y,p,k,A,R,w,v,S,I,G,j,P,B,C,T,E,z,V,X,$,le,ne,ye,L,ie,ze,Ce,ee,ge,Ne,Te,Ve,$e,we,et,rt,Et,Be,Ke,en,Tt,Ht,tn,Ft,nn,rn,Qe,ln,It,{$$slots:an={},$$scope:on}=t;const Wt=Hf(Qu,200);let{ssr:Lt=!1}=t,{pointerEvents:fn=!0}=t,{position:un="relative"}=t,{percentRange:Ze=!1}=t,{width:qe=void 0}=t,{height:An=void 0}=t,{containerWidth:Mt=qe||100}=t,{containerHeight:te=An||100}=t,{element:be=void 0}=t,{x:Ie=void 0}=t,{y:Oe=void 0}=t,{z:Je=void 0}=t,{r:lt=void 0}=t,{data:Le=[]}=t,{xDomain:Nt=void 0}=t,{yDomain:Rt=void 0}=t,{zDomain:zt=void 0}=t,{rDomain:Ue=void 0}=t,{xNice:Yt=!1}=t,{yNice:qt=!1}=t,{zNice:At=!1}=t,{rNice:at=!1}=t,{xPadding:ot=void 0}=t,{yPadding:_i=void 0}=t,{zPadding:gi=void 0}=t,{rPadding:mi=void 0}=t,{xScale:yi=ei.x}=t,{yScale:Dn=ei.y}=t,{zScale:bi=ei.z}=t,{rScale:pi=ei.r}=t,{xRange:sn=void 0}=t,{yRange:cn=void 0}=t,{zRange:hn=void 0}=t,{rRange:dn=void 0}=t,{xReverse:wi=!1}=t,{yReverse:vi=void 0}=t,{zReverse:ki=!1}=t,{rReverse:Si=!1}=t,{padding:Ei={}}=t,{extents:Mi={}}=t,{flatData:Ni=void 0}=t,{custom:Ri={}}=t,{debug:Cr=!1}=t,Tr=!1;vo(()=>{Tr=!0});const pe={},Gt=re(Ze);D(e,Gt,m=>n(33,Ve=m));const _n=re(Mt);D(e,_n,m=>n(32,Te=m));const gn=re(te);D(e,gn,m=>n(31,Ne=m));const zi=re(Vr(Mi));D(e,zi,m=>n(170,ge=m));const Ai=re(Le);D(e,Ai,m=>n(30,ee=m));const Pn=re(Ni||Le);D(e,Pn,m=>n(29,Ce=m));const Di=re(Ei);D(e,Di,m=>n(169,ze=m));const mn=re(Bt(Ie));D(e,mn,m=>n(28,ie=m));const yn=re(Bt(Oe));D(e,yn,m=>n(27,L=m));const bn=re(Bt(Je));D(e,bn,m=>n(26,ye=m));const pn=re(Bt(lt));D(e,pn,m=>n(25,ne=m));const Pi=re(Nt);D(e,Pi,m=>n(168,le=m));const Ci=re(Rt);D(e,Ci,m=>n(167,$=m));const Ti=re(zt);D(e,Ti,m=>n(166,X=m));const Ii=re(Ue);D(e,Ii,m=>n(165,V=m));const Cn=re(Yt);D(e,Cn,m=>n(24,z=m));const Tn=re(qt);D(e,Tn,m=>n(23,E=m));const In=re(At);D(e,In,m=>n(22,T=m));const Ln=re(at);D(e,Ln,m=>n(21,C=m));const qn=re(wi);D(e,qn,m=>n(20,B=m));const Gn=re(i);D(e,Gn,m=>n(19,P=m));const jn=re(ki);D(e,jn,m=>n(18,j=m));const xn=re(Si);D(e,xn,m=>n(17,G=m));const Bn=re(ot);D(e,Bn,m=>n(16,I=m));const On=re(_i);D(e,On,m=>n(15,S=m));const Hn=re(gi);D(e,Hn,m=>n(14,v=m));const Fn=re(mi);D(e,Fn,m=>n(13,w=m));const Li=re(sn);D(e,Li,m=>n(164,R=m));const qi=re(cn);D(e,qi,m=>n(163,A=m));const Gi=re(hn);D(e,Gi,m=>n(162,k=m));const ji=re(dn);D(e,ji,m=>n(161,p=m));const Wn=re(yi);D(e,Wn,m=>n(160,y=m));const Yn=re(Dn);D(e,Yn,m=>n(159,b=m));const Vn=re(bi);D(e,Vn,m=>n(158,_=m));const Un=re(pi);D(e,Un,m=>n(157,d=m));const xi=re(pe);D(e,xi,m=>n(11,h=m));const Bi=re(Ri);D(e,Bi,m=>n(12,c=m));const Oi=Ae([mn,yn,bn,pn],([m,Dt,dt,Ge])=>{const Vt={};return m&&(Vt.x=m),Dt&&(Vt.y=Dt),dt&&(Vt.z=dt),Ge&&(Vt.r=Ge),Vt});D(e,Oi,m=>n(10,f=m));const Hi=Ae([Di,_n,gn],([m])=>Object.assign({top:0,right:0,bottom:0,left:0},m));D(e,Hi,m=>n(37,rt=m));const Fi=Ae([_n,gn,Hi],([m,Dt,dt])=>{const Ge={};return Ge.top=dt.top,Ge.right=m-dt.right,Ge.bottom=Dt-dt.bottom,Ge.left=dt.left,Ge.width=Ge.right-Ge.left,Ge.height=Ge.bottom-Ge.top,Ge.width<=0&&Tr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),Ge.height<=0&&Tr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),Ge});D(e,Fi,m=>n(151,s=m));const jt=Ae([Fi],([m])=>m.width);D(e,jt,m=>n(34,$e=m));const xt=Ae([Fi],([m])=>m.height);D(e,xt,m=>n(35,we=m));const ft=Ae([Pn,Oi,zi,Wn,Yn,Un,Vn],([m,Dt,dt,Ge,Vt,mf,yf])=>{const bf={x:Ge,y:Vt,r:mf,z:yf},Fr=Vr(Dt,dt),pf=Object.fromEntries(Object.keys(Fr).map(Wr=>[Wr,bf[Wr]]));return Object.keys(Fr).length>0?{...Yf(m,Fr,pf),...dt}:{}});D(e,ft,m=>n(38,Et=m));const Wi=Ae([ft,Pi],Xi("x"));D(e,Wi,m=>n(39,Be=m));const Yi=Ae([ft,Ci],Xi("y"));D(e,Yi,m=>n(40,Ke=m));const Vi=Ae([ft,Ti],Xi("z"));D(e,Vi,m=>n(41,en=m));const Ui=Ae([ft,Ii],Xi("r"));D(e,Ui,m=>n(42,Tt=m));const Xn=Ae([Wn,ft,Wi,Bn,Cn,qn,jt,xt,Li,Gt],$i("x"));D(e,Xn,m=>n(9,u=m));const Ir=Ae([mn,Xn],er);D(e,Ir,m=>n(47,rn=m));const Kn=Ae([Yn,ft,Yi,On,Tn,Gn,jt,xt,qi,Gt],$i("y"));D(e,Kn,m=>n(8,o=m));const Lr=Ae([yn,Kn],er);D(e,Lr,m=>n(48,Qe=m));const Qn=Ae([Vn,ft,Vi,Hn,In,jn,jt,xt,Gi,Gt],$i("z"));D(e,Qn,m=>n(7,a=m));const qr=Ae([bn,Qn],er);D(e,qr,m=>n(49,ln=m));const Zn=Ae([Un,ft,Ui,Fn,Ln,xn,jt,xt,ji,Gt],$i("r"));D(e,Zn,m=>n(6,l=m));const Gr=Ae([pn,Zn],er);D(e,Gr,m=>n(50,It=m));const jr=Ae([Xn],tr);D(e,jr,m=>n(43,Ht=m));const xr=Ae([Kn],tr);D(e,xr,m=>n(44,tn=m));const Br=Ae([Qn],tr);D(e,Br,m=>n(45,Ft=m));const Or=Ae([Zn],tr);D(e,Or,m=>n(46,nn=m));const Hr=Ae([jt,xt],([m,Dt])=>m/Dt);D(e,Hr,m=>n(36,et=m));function _f(m){St[m?"unshift":"push"](()=>{be=m,n(2,be)})}function gf(){Mt=this.clientWidth,te=this.clientHeight,n(0,Mt),n(1,te)}return e.$$set=m=>{"ssr"in m&&n(3,Lt=m.ssr),"pointerEvents"in m&&n(4,fn=m.pointerEvents),"position"in m&&n(5,un=m.position),"percentRange"in m&&n(111,Ze=m.percentRange),"width"in m&&n(112,qe=m.width),"height"in m&&n(113,An=m.height),"containerWidth"in m&&n(0,Mt=m.containerWidth),"containerHeight"in m&&n(1,te=m.containerHeight),"element"in m&&n(2,be=m.element),"x"in m&&n(114,Ie=m.x),"y"in m&&n(115,Oe=m.y),"z"in m&&n(116,Je=m.z),"r"in m&&n(117,lt=m.r),"data"in m&&n(118,Le=m.data),"xDomain"in m&&n(119,Nt=m.xDomain),"yDomain"in m&&n(120,Rt=m.yDomain),"zDomain"in m&&n(121,zt=m.zDomain),"rDomain"in m&&n(122,Ue=m.rDomain),"xNice"in m&&n(123,Yt=m.xNice),"yNice"in m&&n(124,qt=m.yNice),"zNice"in m&&n(125,At=m.zNice),"rNice"in m&&n(126,at=m.rNice),"xPadding"in m&&n(127,ot=m.xPadding),"yPadding"in m&&n(128,_i=m.yPadding),"zPadding"in m&&n(129,gi=m.zPadding),"rPadding"in m&&n(130,mi=m.rPadding),"xScale"in m&&n(131,yi=m.xScale),"yScale"in m&&n(132,Dn=m.yScale),"zScale"in m&&n(133,bi=m.zScale),"rScale"in m&&n(134,pi=m.rScale),"xRange"in m&&n(135,sn=m.xRange),"yRange"in m&&n(136,cn=m.yRange),"zRange"in m&&n(137,hn=m.zRange),"rRange"in m&&n(138,dn=m.rRange),"xReverse"in m&&n(139,wi=m.xReverse),"yReverse"in m&&n(140,vi=m.yReverse),"zReverse"in m&&n(141,ki=m.zReverse),"rReverse"in m&&n(142,Si=m.rReverse),"padding"in m&&n(143,Ei=m.padding),"extents"in m&&n(144,Mi=m.extents),"flatData"in m&&n(145,Ni=m.flatData),"custom"in m&&n(146,Ri=m.custom),"debug"in m&&n(147,Cr=m.debug),"$$scope"in m&&n(152,on=m.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof vi>"u"?typeof Dn.bandwidth!="function":vi),e.$$.dirty[3]&2097152&&Ie&&n(148,pe.x=Ie,pe),e.$$.dirty[3]&4194304&&Oe&&n(148,pe.y=Oe,pe),e.$$.dirty[3]&8388608&&Je&&n(148,pe.z=Je,pe),e.$$.dirty[3]&16777216&&lt&&n(148,pe.r=lt,pe),e.$$.dirty[3]&67108864&&Nt&&n(148,pe.xDomain=Nt,pe),e.$$.dirty[3]&134217728&&Rt&&n(148,pe.yDomain=Rt,pe),e.$$.dirty[3]&268435456&&zt&&n(148,pe.zDomain=zt,pe),e.$$.dirty[3]&536870912&&Ue&&n(148,pe.rDomain=Ue,pe),e.$$.dirty[4]&2048&&sn&&n(148,pe.xRange=sn,pe),e.$$.dirty[4]&4096&&cn&&n(148,pe.yRange=cn,pe),e.$$.dirty[4]&8192&&hn&&n(148,pe.zRange=hn,pe),e.$$.dirty[4]&16384&&dn&&n(148,pe.rRange=dn,pe),e.$$.dirty[3]&262144&&Q(Gt,Ve=Ze,Ve),e.$$.dirty[0]&1&&Q(_n,Te=Mt,Te),e.$$.dirty[0]&2&&Q(gn,Ne=te,Ne),e.$$.dirty[4]&1048576&&Q(zi,ge=Vr(Mi),ge),e.$$.dirty[3]&33554432&&Q(Ai,ee=Le,ee),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&Q(Pn,Ce=Ni||Le,Ce),e.$$.dirty[4]&524288&&Q(Di,ze=Ei,ze),e.$$.dirty[3]&2097152&&Q(mn,ie=Bt(Ie),ie),e.$$.dirty[3]&4194304&&Q(yn,L=Bt(Oe),L),e.$$.dirty[3]&8388608&&Q(bn,ye=Bt(Je),ye),e.$$.dirty[3]&16777216&&Q(pn,ne=Bt(lt),ne),e.$$.dirty[3]&67108864&&Q(Pi,le=Nt,le),e.$$.dirty[3]&134217728&&Q(Ci,$=Rt,$),e.$$.dirty[3]&268435456&&Q(Ti,X=zt,X),e.$$.dirty[3]&536870912&&Q(Ii,V=Ue,V),e.$$.dirty[3]&1073741824&&Q(Cn,z=Yt,z),e.$$.dirty[4]&1&&Q(Tn,E=qt,E),e.$$.dirty[4]&2&&Q(In,T=At,T),e.$$.dirty[4]&4&&Q(Ln,C=at,C),e.$$.dirty[4]&32768&&Q(qn,B=wi,B),e.$$.dirty[4]&67108864&&Q(Gn,P=i,P),e.$$.dirty[4]&131072&&Q(jn,j=ki,j),e.$$.dirty[4]&262144&&Q(xn,G=Si,G),e.$$.dirty[4]&8&&Q(Bn,I=ot,I),e.$$.dirty[4]&16&&Q(On,S=_i,S),e.$$.dirty[4]&32&&Q(Hn,v=gi,v),e.$$.dirty[4]&64&&Q(Fn,w=mi,w),e.$$.dirty[4]&2048&&Q(Li,R=sn,R),e.$$.dirty[4]&4096&&Q(qi,A=cn,A),e.$$.dirty[4]&8192&&Q(Gi,k=hn,k),e.$$.dirty[4]&16384&&Q(ji,p=dn,p),e.$$.dirty[4]&128&&Q(Wn,y=yi,y),e.$$.dirty[4]&256&&Q(Yn,b=Dn,b),e.$$.dirty[4]&512&&Q(Vn,_=bi,_),e.$$.dirty[4]&1024&&Q(Un,d=pi,d),e.$$.dirty[4]&4194304&&Q(Bi,c=Ri,c),e.$$.dirty[4]&16777216&&Q(xi,h=pe,h),e.$$.dirty[4]&33554432&&ko("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&s&&Cr===!0&&(Lt===!0||typeof window<"u")&&Wt({boundingBox:s,activeGetters:f,x:pe.x,y:pe.y,z:pe.z,r:pe.r,xScale:u,yScale:o,zScale:a,rScale:l})},n(149,r={activeGetters:Oi,width:jt,height:xt,percentRange:Gt,aspectRatio:Hr,containerWidth:_n,containerHeight:gn,x:mn,y:yn,z:bn,r:pn,custom:Bi,data:Ai,xNice:Cn,yNice:Tn,zNice:In,rNice:Ln,xReverse:qn,yReverse:Gn,zReverse:jn,rReverse:xn,xPadding:Bn,yPadding:On,zPadding:Hn,rPadding:Fn,padding:Hi,flatData:Pn,extents:ft,xDomain:Wi,yDomain:Yi,zDomain:Vi,rDomain:Ui,xRange:jr,yRange:xr,zRange:Br,rRange:Or,config:xi,xScale:Xn,xGet:Ir,yScale:Kn,yGet:Lr,zScale:Qn,zGet:qr,rScale:Zn,rGet:Gr}),[Mt,te,be,Lt,fn,un,l,a,o,u,f,h,c,w,v,S,I,G,j,P,B,C,T,E,z,ne,ye,L,ie,Ce,ee,Ne,Te,Ve,$e,we,et,rt,Et,Be,Ke,en,Tt,Ht,tn,Ft,nn,rn,Qe,ln,It,Gt,_n,gn,zi,Ai,Pn,Di,mn,yn,bn,pn,Pi,Ci,Ti,Ii,Cn,Tn,In,Ln,qn,Gn,jn,xn,Bn,On,Hn,Fn,Li,qi,Gi,ji,Wn,Yn,Vn,Un,xi,Bi,Oi,Hi,Fi,jt,xt,ft,Wi,Yi,Vi,Ui,Xn,Ir,Kn,Lr,Qn,qr,Zn,Gr,jr,xr,Br,Or,Hr,Ze,qe,An,Ie,Oe,Je,lt,Le,Nt,Rt,zt,Ue,Yt,qt,At,at,ot,_i,gi,mi,yi,Dn,bi,pi,sn,cn,hn,dn,wi,vi,ki,Si,Ei,Mi,Ni,Ri,Cr,pe,r,i,s,on,an,_f,gf]}class Al extends Se{constructor(t){super(),Ee(this,t,is,ns,ke,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const rs=e=>({element:e&1}),aa=e=>({element:e[0]});function ls(e){let t,n;const i=e[11].default,r=bt(i,e,e[10],aa);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=Y(l,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var a=q(t);r&&r.l(a),a.forEach(M),this.h()},h(){g(t,"class","layercake-layout-html svelte-1bu60uu"),g(t,"role",e[6]),g(t,"aria-label",e[3]),g(t,"aria-labelledby",e[4]),g(t,"aria-describedby",e[5]),O(t,"z-index",e[1]),O(t,"pointer-events",e[2]===!1?"none":null),O(t,"top",e[7].top+"px"),O(t,"right",e[7].right+"px"),O(t,"bottom",e[7].bottom+"px"),O(t,"left",e[7].left+"px")},m(l,a){x(l,t,a),r&&r.m(t,null),e[12](t),n=!0},p(l,[a]){r&&r.p&&(!n||a&1025)&&pt(r,i,l,l[10],n?vt(i,l[10],a,rs):wt(l[10]),aa),(!n||a&64)&&g(t,"role",l[6]),(!n||a&8)&&g(t,"aria-label",l[3]),(!n||a&16)&&g(t,"aria-labelledby",l[4]),(!n||a&32)&&g(t,"aria-describedby",l[5]),a&2&&O(t,"z-index",l[1]),a&4&&O(t,"pointer-events",l[2]===!1?"none":null),a&128&&O(t,"top",l[7].top+"px"),a&128&&O(t,"right",l[7].right+"px"),a&128&&O(t,"bottom",l[7].bottom+"px"),a&128&&O(t,"left",l[7].left+"px")},i(l){n||(U(r,l),n=!0)},o(l){K(r,l),n=!1},d(l){l&&M(t),r&&r.d(l),e[12](null)}}}function as(e,t,n){let i,r,{$$slots:l={},$$scope:a}=t;const{padding:o}=je("LayerCake");D(e,o,y=>n(7,r=y));let{element:u=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:s=void 0}=t,{role:h=void 0}=t,{label:c=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:_=void 0}=t;function b(y){St[y?"unshift":"push"](()=>{u=y,n(0,u)})}return e.$$set=y=>{"element"in y&&n(0,u=y.element),"zIndex"in y&&n(1,f=y.zIndex),"pointerEvents"in y&&n(2,s=y.pointerEvents),"role"in y&&n(9,h=y.role),"label"in y&&n(3,c=y.label),"labelledBy"in y&&n(4,d=y.labelledBy),"describedBy"in y&&n(5,_=y.describedBy),"$$scope"in y&&n(10,a=y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=h||(c||d||_?"figure":void 0))},[u,f,s,c,d,_,i,r,o,h,a,l,b]}class pr extends Se{constructor(t){super(),Ee(this,t,as,ls,ke,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const os=e=>({element:e&1}),oa=e=>({element:e[0]}),fs=e=>({}),fa=e=>({}),us=e=>({}),ua=e=>({});function sa(e){let t,n;return{c(){t=de("title"),n=H(e[8])},l(i){t=_e(i,"title",{});var r=q(t);n=F(r,e[8]),r.forEach(M)},m(i,r){x(i,t,r),N(t,n)},p(i,r){r&256&&ae(n,i[8])},d(i){i&&M(t)}}}function ss(e){let t,n=e[8]&&sa(e);return{c(){n&&n.c(),t=me()},l(i){n&&n.l(i),t=me()},m(i,r){n&&n.m(i,r),x(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=sa(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&M(t),n&&n.d(i)}}}function cs(e){let t,n,i,r,l;const a=e[16].title,o=bt(a,e,e[15],ua),u=o||ss(e),f=e[16].defs,s=bt(f,e,e[15],fa),h=e[16].default,c=bt(h,e,e[15],oa);return{c(){t=de("svg"),u&&u.c(),n=de("defs"),s&&s.c(),i=de("g"),c&&c.c(),this.h()},l(d){t=_e(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var _=q(t);u&&u.l(_),n=_e(_,"defs",{});var b=q(n);s&&s.l(b),b.forEach(M),i=_e(_,"g",{class:!0,transform:!0});var y=q(i);c&&c.l(y),y.forEach(M),_.forEach(M),this.h()},h(){g(i,"class","layercake-layout-svg_g"),g(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),g(t,"class","layercake-layout-svg svelte-u84d8d"),g(t,"viewBox",e[4]),g(t,"width",e[9]),g(t,"height",e[10]),g(t,"aria-label",e[5]),g(t,"aria-labelledby",e[6]),g(t,"aria-describedby",e[7]),O(t,"z-index",e[2]),O(t,"pointer-events",e[3]===!1?"none":null)},m(d,_){x(d,t,_),u&&u.m(t,null),N(t,n),s&&s.m(n,null),N(t,i),c&&c.m(i,null),e[17](i),e[18](t),l=!0},p(d,[_]){o?o.p&&(!l||_&32768)&&pt(o,a,d,d[15],l?vt(a,d[15],_,us):wt(d[15]),ua):u&&u.p&&(!l||_&256)&&u.p(d,l?_:-1),s&&s.p&&(!l||_&32768)&&pt(s,f,d,d[15],l?vt(f,d[15],_,fs):wt(d[15]),fa),c&&c.p&&(!l||_&32769)&&pt(c,h,d,d[15],l?vt(h,d[15],_,os):wt(d[15]),oa),(!l||_&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&g(i,"transform",r),(!l||_&16)&&g(t,"viewBox",d[4]),(!l||_&512)&&g(t,"width",d[9]),(!l||_&1024)&&g(t,"height",d[10]),(!l||_&32)&&g(t,"aria-label",d[5]),(!l||_&64)&&g(t,"aria-labelledby",d[6]),(!l||_&128)&&g(t,"aria-describedby",d[7]),_&4&&O(t,"z-index",d[2]),_&8&&O(t,"pointer-events",d[3]===!1?"none":null)},i(d){l||(U(u,d),U(s,d),U(c,d),l=!0)},o(d){K(u,d),K(s,d),K(c,d),l=!1},d(d){d&&M(t),u&&u.d(d),s&&s.d(d),c&&c.d(d),e[17](null),e[18](null)}}}function hs(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t,{element:u=void 0}=t,{innerElement:f=void 0}=t,{zIndex:s=void 0}=t,{pointerEvents:h=void 0}=t,{viewBox:c=void 0}=t,{label:d=void 0}=t,{labelledBy:_=void 0}=t,{describedBy:b=void 0}=t,{title:y=void 0}=t;const{containerWidth:p,containerHeight:k,padding:A}=je("LayerCake");D(e,p,v=>n(9,i=v)),D(e,k,v=>n(10,r=v)),D(e,A,v=>n(11,l=v));function R(v){St[v?"unshift":"push"](()=>{f=v,n(1,f)})}function w(v){St[v?"unshift":"push"](()=>{u=v,n(0,u)})}return e.$$set=v=>{"element"in v&&n(0,u=v.element),"innerElement"in v&&n(1,f=v.innerElement),"zIndex"in v&&n(2,s=v.zIndex),"pointerEvents"in v&&n(3,h=v.pointerEvents),"viewBox"in v&&n(4,c=v.viewBox),"label"in v&&n(5,d=v.label),"labelledBy"in v&&n(6,_=v.labelledBy),"describedBy"in v&&n(7,b=v.describedBy),"title"in v&&n(8,y=v.title),"$$scope"in v&&n(15,o=v.$$scope)},[u,f,s,h,c,d,_,b,y,i,r,l,p,k,A,o,a,R,w]}class Dl extends Se{constructor(t){super(),Ee(this,t,hs,cs,ke,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Wo(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const ds=e=>({element:e&2,context:e&1}),ca=e=>({element:e[1],context:e[0]}),_s=e=>({}),ha=e=>({});function da(e){let t;return{c(){t=H(e[4])},l(n){t=F(n,e[4])},m(n,i){x(n,t,i)},p(n,i){i&16&&ae(t,n[4])},d(n){n&&M(t)}}}function gs(e){let t,n=e[4]&&da(e);return{c(){n&&n.c(),t=me()},l(i){n&&n.l(i),t=me()},m(i,r){n&&n.m(i,r),x(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=da(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&M(t),n&&n.d(i)}}}function ms(e){let t,n,i;const r=e[13].fallback,l=bt(r,e,e[12],ha),a=l||gs(e),o=e[13].default,u=bt(o,e,e[12],ca);return{c(){t=W("canvas"),a&&a.c(),n=Z(),u&&u.c(),this.h()},l(f){t=Y(f,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var s=q(t);a&&a.l(s),s.forEach(M),n=J(f),u&&u.l(f),this.h()},h(){g(t,"class","layercake-layout-canvas"),O(t,"width","100%"),O(t,"height","100%"),O(t,"position","absolute"),g(t,"aria-label",e[5]),g(t,"aria-labelledby",e[6]),g(t,"aria-describedby",e[7]),O(t,"z-index",e[2]),O(t,"pointer-events",e[3]===!1?"none":null),O(t,"top",e[8].top+"px"),O(t,"right",e[8].right+"px"),O(t,"bottom",e[8].bottom+"px"),O(t,"left",e[8].left+"px")},m(f,s){x(f,t,s),a&&a.m(t,null),e[14](t),x(f,n,s),u&&u.m(f,s),i=!0},p(f,[s]){l?l.p&&(!i||s&4096)&&pt(l,r,f,f[12],i?vt(r,f[12],s,_s):wt(f[12]),ha):a&&a.p&&(!i||s&16)&&a.p(f,i?s:-1),(!i||s&32)&&g(t,"aria-label",f[5]),(!i||s&64)&&g(t,"aria-labelledby",f[6]),(!i||s&128)&&g(t,"aria-describedby",f[7]),s&4&&O(t,"z-index",f[2]),s&8&&O(t,"pointer-events",f[3]===!1?"none":null),s&256&&O(t,"top",f[8].top+"px"),s&256&&O(t,"right",f[8].right+"px"),s&256&&O(t,"bottom",f[8].bottom+"px"),s&256&&O(t,"left",f[8].left+"px"),u&&u.p&&(!i||s&4099)&&pt(u,o,f,f[12],i?vt(o,f[12],s,ds):wt(f[12]),ca)},i(f){i||(U(a,f),U(u,f),i=!0)},o(f){K(a,f),K(u,f),i=!1},d(f){f&&(M(t),M(n)),a&&a.d(f),e[14](null),u&&u.d(f)}}}function ys(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t;const{width:u,height:f,padding:s}=je("LayerCake");D(e,u,w=>n(16,r=w)),D(e,f,w=>n(15,i=w)),D(e,s,w=>n(8,l=w));let{element:h=void 0}=t,{context:c=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:_=void 0}=t,{fallback:b=""}=t,{label:y=void 0}=t,{labelledBy:p=void 0}=t,{describedBy:k=void 0}=t;const A={ctx:re({})};vo(()=>{n(0,c=h.getContext("2d")),Wo(c,r,i)}),ko("canvas",A);function R(w){St[w?"unshift":"push"](()=>{h=w,n(1,h)})}return e.$$set=w=>{"element"in w&&n(1,h=w.element),"context"in w&&n(0,c=w.context),"zIndex"in w&&n(2,d=w.zIndex),"pointerEvents"in w&&n(3,_=w.pointerEvents),"fallback"in w&&n(4,b=w.fallback),"label"in w&&n(5,y=w.label),"labelledBy"in w&&n(6,p=w.labelledBy),"describedBy"in w&&n(7,k=w.describedBy),"$$scope"in w&&n(12,o=w.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&A.ctx.set(c)},[c,h,d,_,b,y,p,k,l,u,f,s,o,a,R]}class bs extends Se{constructor(t){super(),Ee(this,t,ys,ms,ke,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function ps(e){e.nextSibling&&e.parentNode.appendChild(e)}function ws(e){return e}function vs(e){if(e==null)return ws;var t,n,i=e.scale[0],r=e.scale[1],l=e.translate[0],a=e.translate[1];return function(o,u){u||(t=n=0);var f=2,s=o.length,h=new Array(s);for(h[0]=(t+=o[0])*i+l,h[1]=(n+=o[1])*r+a;f<s;)h[f]=o[f],++f;return h}}function ks(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function Ss(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return _a(e,n)})}:_a(e,t)}function _a(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,l=Es(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function Es(e,t){var n=vs(e.transform),i=e.arcs;function r(s,h){h.length&&h.pop();for(var c=i[s<0?~s:s],d=0,_=c.length;d<_;++d)h.push(n(c[d],d));s<0&&ks(h,_)}function l(s){return n(s)}function a(s){for(var h=[],c=0,d=s.length;c<d;++c)r(s[c],h);return h.length<2&&h.push(h[0]),h}function o(s){for(var h=a(s);h.length<4;)h.push(h[0]);return h}function u(s){return s.map(o)}function f(s){var h=s.type,c;switch(h){case"GeometryCollection":return{type:h,geometries:s.geometries.map(f)};case"Point":c=l(s.coordinates);break;case"MultiPoint":c=s.coordinates.map(l);break;case"LineString":c=a(s.arcs);break;case"MultiLineString":c=s.arcs.map(a);break;case"Polygon":c=u(s.arcs);break;case"MultiPolygon":c=s.arcs.map(u);break;default:return null}return{type:h,coordinates:c}}return f(t)}var fe=1e-6,Ms=1e-12,oe=Math.PI,tt=oe/2,ga=oe/4,it=oe*2,ut=180/oe,Fe=oe/180,Me=Math.abs,Ns=Math.atan,Nn=Math.atan2,De=Math.cos,ve=Math.sin,fr=Math.sign||function(e){return e>0?1:e<0?-1:0},Ct=Math.sqrt;function Rs(e){return e>1?0:e<-1?oe:Math.acos(e)}function Zt(e){return e>1?tt:e<-1?-tt:Math.asin(e)}function nt(){}function wr(e,t){e&&ya.hasOwnProperty(e.type)&&ya[e.type](e,t)}var ma={Feature:function(e,t){wr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)wr(n[i].geometry,t)}},ya={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){il(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)il(n[i],t,0)},Polygon:function(e,t){ba(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)ba(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)wr(n[i],t)}};function il(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function ba(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)il(e[n],t,1);t.polygonEnd()}function wn(e,t){e&&ma.hasOwnProperty(e.type)?ma[e.type](e,t):wr(e,t)}function rl(e){return[Nn(e[1],e[0]),Zt(e[2])]}function Rn(e){var t=e[0],n=e[1],i=De(n);return[i*De(t),i*ve(t),ve(n)]}function nr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function vr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Kr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ir(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ll(e){var t=Ct(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function al(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function ol(e,t){return Me(e)>oe&&(e-=Math.round(e/it)*it),[e,t]}ol.invert=ol;function zs(e,t,n){return(e%=it)?t||n?al(wa(e),va(t,n)):wa(e):t||n?va(t,n):ol}function pa(e){return function(t,n){return t+=e,Me(t)>oe&&(t-=Math.round(t/it)*it),[t,n]}}function wa(e){var t=pa(e);return t.invert=pa(-e),t}function va(e,t){var n=De(e),i=ve(e),r=De(t),l=ve(t);function a(o,u){var f=De(u),s=De(o)*f,h=ve(o)*f,c=ve(u),d=c*n+s*i;return[Nn(h*r-d*l,s*n-c*i),Zt(d*r+h*l)]}return a.invert=function(o,u){var f=De(u),s=De(o)*f,h=ve(o)*f,c=ve(u),d=c*r-h*l;return[Nn(h*r+c*l,s*n+d*i),Zt(d*n-s*i)]},a}function As(e,t,n,i,r,l){if(n){var a=De(t),o=ve(t),u=i*n;r==null?(r=t+i*it,l=t-u/2):(r=ka(a,r),l=ka(a,l),(i>0?r<l:r>l)&&(r+=i*it));for(var f,s=r;i>0?s>l:s<l;s-=u)f=rl([a,-o*De(s),-o*ve(s)]),e.point(f[0],f[1])}}function ka(e,t){t=Rn(t),t[0]-=e,ll(t);var n=Rs(-t[1]);return((-t[2]<0?-n:n)+it-fe)%it}function Yo(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:nt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ur(e,t){return Me(e[0]-t[0])<fe&&Me(e[1]-t[1])<fe}function rr(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Vo(e,t,n,i,r){var l=[],a=[],o,u;if(e.forEach(function(_){if(!((b=_.length-1)<=0)){var b,y=_[0],p=_[b],k;if(ur(y,p)){if(!y[2]&&!p[2]){for(r.lineStart(),o=0;o<b;++o)r.point((y=_[o])[0],y[1]);r.lineEnd();return}p[0]+=2*fe}l.push(k=new rr(y,_,null,!0)),a.push(k.o=new rr(y,null,k,!1)),l.push(k=new rr(p,_,null,!1)),a.push(k.o=new rr(p,null,k,!0))}}),!!l.length){for(a.sort(t),Sa(l),Sa(a),o=0,u=a.length;o<u;++o)a[o].e=n=!n;for(var f=l[0],s,h;;){for(var c=f,d=!0;c.v;)if((c=c.n)===f)return;s=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(o=0,u=s.length;o<u;++o)r.point((h=s[o])[0],h[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(d)for(s=c.p.z,o=s.length-1;o>=0;--o)r.point((h=s[o])[0],h[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,s=c.z,d=!d}while(!c.v);r.lineEnd()}}}function Sa(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Qr(e){return Me(e[0])<=oe?e[0]:fr(e[0])*((Me(e[0])+oe)%it-oe)}function Ds(e,t){var n=Qr(t),i=t[1],r=ve(i),l=[ve(n),-De(n),0],a=0,o=0,u=new Qt;r===1?i=tt+fe:r===-1&&(i=-tt-fe);for(var f=0,s=e.length;f<s;++f)if(c=(h=e[f]).length)for(var h,c,d=h[c-1],_=Qr(d),b=d[1]/2+ga,y=ve(b),p=De(b),k=0;k<c;++k,_=R,y=v,p=S,d=A){var A=h[k],R=Qr(A),w=A[1]/2+ga,v=ve(w),S=De(w),I=R-_,G=I>=0?1:-1,j=G*I,P=j>oe,B=y*v;if(u.add(Nn(B*G*ve(j),p*S+B*De(j))),a+=P?I+G*it:I,P^_>=n^R>=n){var C=vr(Rn(d),Rn(A));ll(C);var T=vr(l,C);ll(T);var E=(P^I>=0?-1:1)*Zt(T[2]);(i>E||i===E&&(C[0]||C[1]))&&(o+=P^I>=0?1:-1)}}return(a<-fe||a<fe&&u<-Ms)^o&1}function Uo(e,t,n,i){return function(r){var l=t(r),a=Yo(),o=t(a),u=!1,f,s,h,c={point:d,lineStart:b,lineEnd:y,polygonStart:function(){c.point=p,c.lineStart=k,c.lineEnd=A,s=[],f=[]},polygonEnd:function(){c.point=d,c.lineStart=b,c.lineEnd=y,s=zo(s);var R=Ds(f,i);s.length?(u||(r.polygonStart(),u=!0),Vo(s,Cs,R,n,r)):R&&(u||(r.polygonStart(),u=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),s=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(R,w){e(R,w)&&r.point(R,w)}function _(R,w){l.point(R,w)}function b(){c.point=_,l.lineStart()}function y(){c.point=d,l.lineEnd()}function p(R,w){h.push([R,w]),o.point(R,w)}function k(){o.lineStart(),h=[]}function A(){p(h[0][0],h[0][1]),o.lineEnd();var R=o.clean(),w=a.result(),v,S=w.length,I,G,j;if(h.pop(),f.push(h),h=null,!!S){if(R&1){if(G=w[0],(I=G.length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),v=0;v<I;++v)r.point((j=G[v])[0],j[1]);r.lineEnd()}return}S>1&&R&2&&w.push(w.pop().concat(w.shift())),s.push(w.filter(Ps))}}return c}}function Ps(e){return e.length>1}function Cs(e,t){return((e=e.x)[0]<0?e[1]-tt-fe:tt-e[1])-((t=t.x)[0]<0?t[1]-tt-fe:tt-t[1])}const Ea=Uo(function(){return!0},Ts,Ls,[-oe,-tt]);function Ts(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,a){var o=l>0?oe:-oe,u=Me(l-t);Me(u-oe)<fe?(e.point(t,n=(n+a)/2>0?tt:-tt),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(l,n),r=0):i!==o&&u>=oe&&(Me(t-i)<fe&&(t-=i*fe),Me(l-o)<fe&&(l-=o*fe),n=Is(t,n,l,a),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),r=0),e.point(t=l,n=a),i=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function Is(e,t,n,i){var r,l,a=ve(e-n);return Me(a)>fe?Ns((ve(t)*(l=De(i))*ve(n)-ve(i)*(r=De(t))*ve(e))/(r*l*a)):(t+i)/2}function Ls(e,t,n,i){var r;if(e==null)r=n*tt,i.point(-oe,r),i.point(0,r),i.point(oe,r),i.point(oe,0),i.point(oe,-r),i.point(0,-r),i.point(-oe,-r),i.point(-oe,0),i.point(-oe,r);else if(Me(e[0]-t[0])>fe){var l=e[0]<t[0]?oe:-oe;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function qs(e){var t=De(e),n=6*Fe,i=t>0,r=Me(t)>fe;function l(s,h,c,d){As(d,e,n,c,s,h)}function a(s,h){return De(s)*De(h)>t}function o(s){var h,c,d,_,b;return{lineStart:function(){_=d=!1,b=1},point:function(y,p){var k=[y,p],A,R=a(y,p),w=i?R?0:f(y,p):R?f(y+(y<0?oe:-oe),p):0;if(!h&&(_=d=R)&&s.lineStart(),R!==d&&(A=u(h,k),(!A||ur(h,A)||ur(k,A))&&(k[2]=1)),R!==d)b=0,R?(s.lineStart(),A=u(k,h),s.point(A[0],A[1])):(A=u(h,k),s.point(A[0],A[1],2),s.lineEnd()),h=A;else if(r&&h&&i^R){var v;!(w&c)&&(v=u(k,h,!0))&&(b=0,i?(s.lineStart(),s.point(v[0][0],v[0][1]),s.point(v[1][0],v[1][1]),s.lineEnd()):(s.point(v[1][0],v[1][1]),s.lineEnd(),s.lineStart(),s.point(v[0][0],v[0][1],3)))}R&&(!h||!ur(h,k))&&s.point(k[0],k[1]),h=k,d=R,c=w},lineEnd:function(){d&&s.lineEnd(),h=null},clean:function(){return b|(_&&d)<<1}}}function u(s,h,c){var d=Rn(s),_=Rn(h),b=[1,0,0],y=vr(d,_),p=nr(y,y),k=y[0],A=p-k*k;if(!A)return!c&&s;var R=t*p/A,w=-t*k/A,v=vr(b,y),S=ir(b,R),I=ir(y,w);Kr(S,I);var G=v,j=nr(S,G),P=nr(G,G),B=j*j-P*(nr(S,S)-1);if(!(B<0)){var C=Ct(B),T=ir(G,(-j-C)/P);if(Kr(T,S),T=rl(T),!c)return T;var E=s[0],z=h[0],V=s[1],X=h[1],$;z<E&&($=E,E=z,z=$);var le=z-E,ne=Me(le-oe)<fe,ye=ne||le<fe;if(!ne&&X<V&&($=V,V=X,X=$),ye?ne?V+X>0^T[1]<(Me(T[0]-E)<fe?V:X):V<=T[1]&&T[1]<=X:le>oe^(E<=T[0]&&T[0]<=z)){var L=ir(G,(-j+C)/P);return Kr(L,S),[T,rl(L)]}}}function f(s,h){var c=i?e:oe-e,d=0;return s<-c?d|=1:s>c&&(d|=2),h<-c?d|=4:h>c&&(d|=8),d}return Uo(a,o,l,i?[0,-e]:[-oe,e-oe])}function Gs(e,t,n,i,r,l){var a=e[0],o=e[1],u=t[0],f=t[1],s=0,h=1,c=u-a,d=f-o,_;if(_=n-a,!(!c&&_>0)){if(_/=c,c<0){if(_<s)return;_<h&&(h=_)}else if(c>0){if(_>h)return;_>s&&(s=_)}if(_=r-a,!(!c&&_<0)){if(_/=c,c<0){if(_>h)return;_>s&&(s=_)}else if(c>0){if(_<s)return;_<h&&(h=_)}if(_=i-o,!(!d&&_>0)){if(_/=d,d<0){if(_<s)return;_<h&&(h=_)}else if(d>0){if(_>h)return;_>s&&(s=_)}if(_=l-o,!(!d&&_<0)){if(_/=d,d<0){if(_>h)return;_>s&&(s=_)}else if(d>0){if(_<s)return;_<h&&(h=_)}return s>0&&(e[0]=a+s*c,e[1]=o+s*d),h<1&&(t[0]=a+h*c,t[1]=o+h*d),!0}}}}}var ti=1e9,lr=-ti;function js(e,t,n,i){function r(f,s){return e<=f&&f<=n&&t<=s&&s<=i}function l(f,s,h,c){var d=0,_=0;if(f==null||(d=a(f,h))!==(_=a(s,h))||u(f,s)<0^h>0)do c.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+h+4)%4)!==_);else c.point(s[0],s[1])}function a(f,s){return Me(f[0]-e)<fe?s>0?0:3:Me(f[0]-n)<fe?s>0?2:1:Me(f[1]-t)<fe?s>0?1:0:s>0?3:2}function o(f,s){return u(f.x,s.x)}function u(f,s){var h=a(f,1),c=a(s,1);return h!==c?h-c:h===0?s[1]-f[1]:h===1?f[0]-s[0]:h===2?f[1]-s[1]:s[0]-f[0]}return function(f){var s=f,h=Yo(),c,d,_,b,y,p,k,A,R,w,v,S={point:I,lineStart:B,lineEnd:C,polygonStart:j,polygonEnd:P};function I(E,z){r(E,z)&&s.point(E,z)}function G(){for(var E=0,z=0,V=d.length;z<V;++z)for(var X=d[z],$=1,le=X.length,ne=X[0],ye,L,ie=ne[0],ze=ne[1];$<le;++$)ye=ie,L=ze,ne=X[$],ie=ne[0],ze=ne[1],L<=i?ze>i&&(ie-ye)*(i-L)>(ze-L)*(e-ye)&&++E:ze<=i&&(ie-ye)*(i-L)<(ze-L)*(e-ye)&&--E;return E}function j(){s=h,c=[],d=[],v=!0}function P(){var E=G(),z=v&&E,V=(c=zo(c)).length;(z||V)&&(f.polygonStart(),z&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),V&&Vo(c,o,E,l,f),f.polygonEnd()),s=f,c=d=_=null}function B(){S.point=T,d&&d.push(_=[]),w=!0,R=!1,k=A=NaN}function C(){c&&(T(b,y),p&&R&&h.rejoin(),c.push(h.result())),S.point=I,R&&s.lineEnd()}function T(E,z){var V=r(E,z);if(d&&_.push([E,z]),w)b=E,y=z,p=V,w=!1,V&&(s.lineStart(),s.point(E,z));else if(V&&R)s.point(E,z);else{var X=[k=Math.max(lr,Math.min(ti,k)),A=Math.max(lr,Math.min(ti,A))],$=[E=Math.max(lr,Math.min(ti,E)),z=Math.max(lr,Math.min(ti,z))];Gs(X,$,e,t,n,i)?(R||(s.lineStart(),s.point(X[0],X[1])),s.point($[0],$[1]),V||s.lineEnd(),v=!1):V&&(s.lineStart(),s.point(E,z),v=!1)}k=E,A=z,R=V}return S}}const fl=e=>e;var Zr=new Qt,ul=new Qt,Xo,Ko,sl,cl,Ot={point:nt,lineStart:nt,lineEnd:nt,polygonStart:function(){Ot.lineStart=xs,Ot.lineEnd=Os},polygonEnd:function(){Ot.lineStart=Ot.lineEnd=Ot.point=nt,Zr.add(Me(ul)),ul=new Qt},result:function(){var e=Zr/2;return Zr=new Qt,e}};function xs(){Ot.point=Bs}function Bs(e,t){Ot.point=Qo,Xo=sl=e,Ko=cl=t}function Qo(e,t){ul.add(cl*e-sl*t),sl=e,cl=t}function Os(){Qo(Xo,Ko)}const Ma=Ot;var zn=1/0,kr=zn,ci=-zn,Sr=ci,Hs={point:Fs,lineStart:nt,lineEnd:nt,polygonStart:nt,polygonEnd:nt,result:function(){var e=[[zn,kr],[ci,Sr]];return ci=Sr=-(kr=zn=1/0),e}};function Fs(e,t){e<zn&&(zn=e),e>ci&&(ci=e),t<kr&&(kr=t),t>Sr&&(Sr=t)}const Er=Hs;var hl=0,dl=0,ni=0,Mr=0,Nr=0,kn=0,_l=0,gl=0,ii=0,Zo,Jo,gt,mt,ct={point:Jt,lineStart:Na,lineEnd:Ra,polygonStart:function(){ct.lineStart=Vs,ct.lineEnd=Us},polygonEnd:function(){ct.point=Jt,ct.lineStart=Na,ct.lineEnd=Ra},result:function(){var e=ii?[_l/ii,gl/ii]:kn?[Mr/kn,Nr/kn]:ni?[hl/ni,dl/ni]:[NaN,NaN];return hl=dl=ni=Mr=Nr=kn=_l=gl=ii=0,e}};function Jt(e,t){hl+=e,dl+=t,++ni}function Na(){ct.point=Ws}function Ws(e,t){ct.point=Ys,Jt(gt=e,mt=t)}function Ys(e,t){var n=e-gt,i=t-mt,r=Ct(n*n+i*i);Mr+=r*(gt+e)/2,Nr+=r*(mt+t)/2,kn+=r,Jt(gt=e,mt=t)}function Ra(){ct.point=Jt}function Vs(){ct.point=Xs}function Us(){$o(Zo,Jo)}function Xs(e,t){ct.point=$o,Jt(Zo=gt=e,Jo=mt=t)}function $o(e,t){var n=e-gt,i=t-mt,r=Ct(n*n+i*i);Mr+=r*(gt+e)/2,Nr+=r*(mt+t)/2,kn+=r,r=mt*e-gt*t,_l+=r*(gt+e),gl+=r*(mt+t),ii+=r*3,Jt(gt=e,mt=t)}const za=ct;function ef(e){this._context=e}ef.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,it);break}}},result:nt};var ml=new Qt,Jr,tf,nf,ri,li,Rr={point:nt,lineStart:function(){Rr.point=Ks},lineEnd:function(){Jr&&rf(tf,nf),Rr.point=nt},polygonStart:function(){Jr=!0},polygonEnd:function(){Jr=null},result:function(){var e=+ml;return ml=new Qt,e}};function Ks(e,t){Rr.point=rf,tf=ri=e,nf=li=t}function rf(e,t){ri-=e,li-=t,ml.add(Ct(ri*ri+li*li)),ri=e,li=t}const Aa=Rr;let Da,zr,Pa,Ca;class Ta{constructor(t){this._append=t==null?lf:Qs(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Pa||this._append!==zr){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Pa=i,zr=this._append,Ca=this._,this._=r}this._+=Ca;break}}}result(){const t=this._;return this._="",t.length?t:null}}function lf(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Qs(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return lf;if(t!==Da){const n=10**t;Da=t,zr=function(r){let l=1;this._+=r[0];for(const a=r.length;l<a;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return zr}function Ia(e,t){let n=3,i=4.5,r,l;function a(o){return o&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),wn(o,r(l))),l.result()}return a.area=function(o){return wn(o,r(Ma)),Ma.result()},a.measure=function(o){return wn(o,r(Aa)),Aa.result()},a.bounds=function(o){return wn(o,r(Er)),Er.result()},a.centroid=function(o){return wn(o,r(za)),za.result()},a.projection=function(o){return arguments.length?(r=o==null?(e=null,fl):(e=o).stream,a):e},a.context=function(o){return arguments.length?(l=o==null?(t=null,new Ta(n)):new ef(t=o),typeof i!="function"&&l.pointRadius(i),a):t},a.pointRadius=function(o){return arguments.length?(i=typeof o=="function"?o:(l.pointRadius(+o),+o),a):i},a.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const u=Math.floor(o);if(!(u>=0))throw new RangeError(`invalid digits: ${o}`);n=u}return t===null&&(l=new Ta(n)),a},a.projection(e).digits(n).context(t)}function Pl(e){return function(t){var n=new yl;for(var i in e)n[i]=e[i];return n.stream=t,n}}function yl(){}yl.prototype={constructor:yl,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Cl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),wn(n,e.stream(Er)),t(Er.result()),i!=null&&e.clipExtent(i),e}function Tl(e,t,n){return Cl(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),o=+t[0][0]+(r-a*(i[1][0]+i[0][0]))/2,u=+t[0][1]+(l-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([o,u])},n)}function af(e,t,n){return Tl(e,[[0,0],t],n)}function of(e,t,n){return Cl(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),a=(r-l*(i[1][0]+i[0][0]))/2,o=-l*i[0][1];e.scale(150*l).translate([a,o])},n)}function ff(e,t,n){return Cl(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),a=-l*i[0][0],o=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([a,o])},n)}var La=16,Zs=De(30*Fe);function qa(e,t){return+t?$s(e,t):Js(e)}function Js(e){return Pl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function $s(e,t){function n(i,r,l,a,o,u,f,s,h,c,d,_,b,y){var p=f-i,k=s-r,A=p*p+k*k;if(A>4*t&&b--){var R=a+c,w=o+d,v=u+_,S=Ct(R*R+w*w+v*v),I=Zt(v/=S),G=Me(Me(v)-1)<fe||Me(l-h)<fe?(l+h)/2:Nn(w,R),j=e(G,I),P=j[0],B=j[1],C=P-i,T=B-r,E=k*C-p*T;(E*E/A>t||Me((p*C+k*T)/A-.5)>.3||a*c+o*d+u*_<Zs)&&(n(i,r,l,a,o,u,P,B,G,R/=S,w/=S,v,b,y),y.point(P,B),n(P,B,G,R,w,v,f,s,h,c,d,_,b,y))}}return function(i){var r,l,a,o,u,f,s,h,c,d,_,b,y={point:p,lineStart:k,lineEnd:R,polygonStart:function(){i.polygonStart(),y.lineStart=w},polygonEnd:function(){i.polygonEnd(),y.lineStart=k}};function p(I,G){I=e(I,G),i.point(I[0],I[1])}function k(){h=NaN,y.point=A,i.lineStart()}function A(I,G){var j=Rn([I,G]),P=e(I,G);n(h,c,s,d,_,b,h=P[0],c=P[1],s=I,d=j[0],_=j[1],b=j[2],La,i),i.point(h,c)}function R(){y.point=p,i.lineEnd()}function w(){k(),y.point=v,y.lineEnd=S}function v(I,G){A(r=I,G),l=h,a=c,o=d,u=_,f=b,y.point=A}function S(){n(h,c,s,d,_,b,l,a,r,o,u,f,La,i),y.lineEnd=R,R()}return y}}var ec=Pl({point:function(e,t){this.stream.point(e*Fe,t*Fe)}});function tc(e){return Pl({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function nc(e,t,n,i,r){function l(a,o){return a*=i,o*=r,[t+e*a,n-e*o]}return l.invert=function(a,o){return[(a-t)/e*i,(n-o)/e*r]},l}function Ga(e,t,n,i,r,l){if(!l)return nc(e,t,n,i,r);var a=De(l),o=ve(l),u=a*e,f=o*e,s=a/e,h=o/e,c=(o*n-a*t)/e,d=(o*t+a*n)/e;function _(b,y){return b*=i,y*=r,[u*b-f*y+t,n-f*b-u*y]}return _.invert=function(b,y){return[i*(s*b-h*y+c),r*(d-h*b-s*y)]},_}function ic(e){var t,n=150,i=480,r=250,l=0,a=0,o=0,u=0,f=0,s,h=0,c=1,d=1,_=null,b=Ea,y=null,p,k,A,R=fl,w=.5,v,S,I,G,j;function P(E){return I(E[0]*Fe,E[1]*Fe)}function B(E){return E=I.invert(E[0],E[1]),E&&[E[0]*ut,E[1]*ut]}P.stream=function(E){return G&&j===E?G:G=ec(tc(s)(b(v(R(j=E)))))},P.preclip=function(E){return arguments.length?(b=E,_=void 0,T()):b},P.postclip=function(E){return arguments.length?(R=E,y=p=k=A=null,T()):R},P.clipAngle=function(E){return arguments.length?(b=+E?qs(_=E*Fe):(_=null,Ea),T()):_*ut},P.clipExtent=function(E){return arguments.length?(R=E==null?(y=p=k=A=null,fl):js(y=+E[0][0],p=+E[0][1],k=+E[1][0],A=+E[1][1]),T()):y==null?null:[[y,p],[k,A]]},P.scale=function(E){return arguments.length?(n=+E,C()):n},P.translate=function(E){return arguments.length?(i=+E[0],r=+E[1],C()):[i,r]},P.center=function(E){return arguments.length?(l=E[0]%360*Fe,a=E[1]%360*Fe,C()):[l*ut,a*ut]},P.rotate=function(E){return arguments.length?(o=E[0]%360*Fe,u=E[1]%360*Fe,f=E.length>2?E[2]%360*Fe:0,C()):[o*ut,u*ut,f*ut]},P.angle=function(E){return arguments.length?(h=E%360*Fe,C()):h*ut},P.reflectX=function(E){return arguments.length?(c=E?-1:1,C()):c<0},P.reflectY=function(E){return arguments.length?(d=E?-1:1,C()):d<0},P.precision=function(E){return arguments.length?(v=qa(S,w=E*E),T()):Ct(w)},P.fitExtent=function(E,z){return Tl(P,E,z)},P.fitSize=function(E,z){return af(P,E,z)},P.fitWidth=function(E,z){return of(P,E,z)},P.fitHeight=function(E,z){return ff(P,E,z)};function C(){var E=Ga(n,0,0,c,d,h).apply(null,t(l,a)),z=Ga(n,i-E[0],r-E[1],c,d,h);return s=zs(o,u,f),S=al(t,z),I=al(s,S),v=qa(S,w),T()}function T(){return G=j=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&B,C()}}function rc(e){var t=0,n=oe/3,i=ic(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*Fe,n=l[1]*Fe):[t*ut,n*ut]},r}function lc(e){var t=De(e);function n(i,r){return[i*t,ve(r)/t]}return n.invert=function(i,r){return[i/t,Zt(r*t)]},n}function ac(e,t){var n=ve(e),i=(n+ve(t))/2;if(Me(i)<fe)return lc(e);var r=1+n*(2*i-n),l=Ct(r)/i;function a(o,u){var f=Ct(r-2*i*ve(u))/i;return[f*ve(o*=i),l-f*De(o)]}return a.invert=function(o,u){var f=l-u,s=Nn(o,Me(f))*fr(f);return f*i<0&&(s-=oe*fr(o)*fr(f)),[s/i,Zt((r-(o*o+f*f)*i*i)/(2*i))]},a}function bl(){return rc(ac).scale(155.424).center([0,33.6442])}function oc(){return bl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function fc(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function uc(){var e,t,n=oc(),i,r=bl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,a=bl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,u,f={point:function(c,d){u=[c,d]}};function s(c){var d=c[0],_=c[1];return u=null,i.point(d,_),u||(l.point(d,_),u)||(o.point(d,_),u)}s.invert=function(c){var d=n.scale(),_=n.translate(),b=(c[0]-_[0])/d,y=(c[1]-_[1])/d;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?r:y>=.166&&y<.234&&b>=-.214&&b<-.115?a:n).invert(c)},s.stream=function(c){return e&&t===c?e:e=fc([n.stream(t=c),r.stream(c),a.stream(c)])},s.precision=function(c){return arguments.length?(n.precision(c),r.precision(c),a.precision(c),h()):n.precision()},s.scale=function(c){return arguments.length?(n.scale(c),r.scale(c*.35),a.scale(c),s.translate(n.translate())):n.scale()},s.translate=function(c){if(!arguments.length)return n.translate();var d=n.scale(),_=+c[0],b=+c[1];return i=n.translate(c).clipExtent([[_-.455*d,b-.238*d],[_+.455*d,b+.238*d]]).stream(f),l=r.translate([_-.307*d,b+.201*d]).clipExtent([[_-.425*d+fe,b+.12*d+fe],[_-.214*d-fe,b+.234*d-fe]]).stream(f),o=a.translate([_-.205*d,b+.212*d]).clipExtent([[_-.214*d+fe,b+.166*d+fe],[_-.115*d-fe,b+.234*d-fe]]).stream(f),h()},s.fitExtent=function(c,d){return Tl(s,c,d)},s.fitSize=function(c,d){return af(s,c,d)},s.fitWidth=function(c,d){return of(s,c,d)},s.fitHeight=function(c,d){return ff(s,c,d)};function h(){return e=t=null,s}return s.scale(1070)}function sc(e,t,n){let i,r,l,a,o,u,f,s;const{data:h,width:c,height:d,zGet:_}=je("LayerCake");D(e,h,w=>n(17,s=w)),D(e,c,w=>n(16,f=w)),D(e,d,w=>n(15,u=w)),D(e,_,w=>n(14,o=w));const{ctx:b}=je("canvas");D(e,b,w=>n(13,a=w));let{projection:y}=t,{stroke:p="#ccc"}=t,{strokeWidth:k=1}=t,{fill:A=void 0}=t,{features:R=void 0}=t;return e.$$set=w=>{"projection"in w&&n(5,y=w.projection),"stroke"in w&&n(6,p=w.stroke),"strokeWidth"in w&&n(7,k=w.strokeWidth),"fill"in w&&n(8,A=w.fill),"features"in w&&n(9,R=w.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=y().fitSize([f,u],s)),e.$$.dirty&4096&&n(10,r=Ia(i)),e.$$.dirty&131584&&n(11,l=R||s.features),e.$$.dirty&126400&&a&&Ia&&(Wo(a,f,u),a.clearRect(0,0,f,u),l.forEach(w=>{a.beginPath(),r.context(a),r(w),Q(b,a.fillStyle=A||o(w.properties),a),a.fill(),Q(b,a.lineWidth=k,a),Q(b,a.strokeStyle=p,a),a.stroke()}))},[h,c,d,_,b,y,p,k,A,R,r,l,i,a,o,u,f,s]}class cc extends Se{constructor(t){super(),Ee(this,t,sc,null,ke,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function ja(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function xa(e){let t=[],n=new Map,i,r=xe(e[4]);const l=a=>`${a[29].ori}-${a[29].name}`;for(let a=0;a<r.length;a+=1){let o=ja(e,r,a),u=l(o);n.set(u,t[a]=Oa(u,o))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();i=me()},l(a){for(let o=0;o<t.length;o+=1)t[o].l(a);i=me()},m(a,o){for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(a,o);x(a,i,o)},p(a,o){o[0]&98815&&(r=xe(a[4]),t=Sl(t,o,l,1,a,r,n,i.parentNode,kl,Oa,i,ja))},d(a){a&&M(i);for(let o=0;o<t.length;o+=1)t[o].d(a)}}}function Ba(e){let t,n,i,r,l,a,o;function u(...h){return e[22](e[29],...h)}function f(...h){return e[23](e[29],...h)}function s(...h){return e[24](e[29],...h)}return{c(){t=de("circle"),this.h()},l(h){t=_e(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),q(t).forEach(M),this.h()},h(){g(t,"cx",n=e[30][0]),g(t,"cy",i=e[30][1]),g(t,"r",r=e[7](Math.abs(e[8](e[29])))),g(t,"fill",l=e[0](e[29])),g(t,"stroke",e[1]),g(t,"stroke-width",e[2]),g(t,"opacity",e[3])},m(h,c){x(h,t,c),a||(o=[Re(t,"mouseover",u),Re(t,"focus",f),Re(t,"mousemove",function(){pl(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),Re(t,"click",s)],a=!0)},p(h,c){e=h,c[0]&48&&n!==(n=e[30][0])&&g(t,"cx",n),c[0]&48&&i!==(i=e[30][1])&&g(t,"cy",i),c[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&g(t,"r",r),c[0]&17&&l!==(l=e[0](e[29]))&&g(t,"fill",l),c[0]&2&&g(t,"stroke",e[1]),c[0]&4&&g(t,"stroke-width",e[2]),c[0]&8&&g(t,"opacity",e[3])},d(h){h&&M(t),a=!1,$t(o)}}}function Oa(e,t){let n,i=!isNaN(t[6](t[29])),r,l=i&&Ba(t);return{key:e,first:null,c(){n=me(),l&&l.c(),r=me(),this.h()},l(a){n=me(),l&&l.l(a),r=me(),this.h()},h(){this.first=n},m(a,o){x(a,n,o),l&&l.m(a,o),x(a,r,o)},p(a,o){t=a,o[0]&80&&(i=!isNaN(t[6](t[29]))),i?l?l.p(t,o):(l=Ba(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(M(n),M(r)),l&&l.d(a)}}}function hc(e){let t,n,i,r=e[4].length&&xa(e);return{c(){t=de("g"),r&&r.c(),this.h()},l(l){t=_e(l,"g",{class:!0});var a=q(t);r&&r.l(a),a.forEach(M),this.h()},h(){g(t,"class","points")},m(l,a){x(l,t,a),r&&r.m(t,null),n||(i=[Re(t,"mouseout",e[25]),Re(t,"blur",e[26])],n=!0)},p(l,a){l[4].length?r?r.p(l,a):(r=xa(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:Pe,o:Pe,d(l){l&&M(t),r&&r.d(),n=!1,$t(i)}}}function dc(e,t,n){let i,r,l,a,o,u,f;const{data:s,width:h,height:c,rScale:d,rGet:_,zGet:b,r:y,zScale:p}=je("LayerCake");D(e,s,z=>n(19,r=z)),D(e,h,z=>n(21,a=z)),D(e,c,z=>n(20,l=z)),D(e,d,z=>n(7,u=z)),D(e,_,z=>n(6,o=z)),D(e,y,z=>n(8,f=z));let{projection:k}=t;const A=vf();let{fill:R="yellow"}=t,{fillFunction:w=z=>z}=t,{stroke:v="#000"}=t,{strokeWidth:S=1}=t,{opacity:I=1}=t,{features:G=void 0}=t;function j(z){return function(X){ps(this),X.layerX!==0&&X.layerY!==0&&A("mousemove",{e:X,props:z})}}const P=(z,V)=>A("mousemove",{e:V,props:z}),B=(z,V)=>A("mousemove",{e:V,props:z}),C=(z,V)=>A("clickedPoint",{e:V,props:z}),T=z=>A("mouseout"),E=z=>A("mouseout");return e.$$set=z=>{"projection"in z&&n(17,k=z.projection),"fill"in z&&n(18,R=z.fill),"fillFunction"in z&&n(0,w=z.fillFunction),"stroke"in z&&n(1,v=z.stroke),"strokeWidth"in z&&n(2,S=z.strokeWidth),"opacity"in z&&n(3,I=z.opacity),"features"in z&&n(4,G=z.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=k().fitSize([a,l],r))},[w,v,S,I,G,i,o,u,f,s,h,c,d,_,y,A,j,k,R,r,l,a,P,B,C,T,E]}class _c extends Se{constructor(t){super(),Ee(this,t,dc,hc,ke,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const gc=e=>({detail:e&1}),Ha=e=>({detail:e[0].detail});function Fa(e){let t,n;const i=e[3].default,r=bt(i,e,e[2],Ha);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=Y(l,"DIV",{class:!0,style:!0});var a=q(t);r&&r.l(a),a.forEach(M),this.h()},h(){g(t,"class","tooltip svelte-qjsu2l"),O(t,"top",e[0].detail.e.layerY+e[1]+"px"),O(t,"left",e[0].detail.e.layerX+"px")},m(l,a){x(l,t,a),r&&r.m(t,null),n=!0},p(l,a){r&&r.p&&(!n||a&5)&&pt(r,i,l,l[2],n?vt(i,l[2],a,gc):wt(l[2]),Ha),(!n||a&3)&&O(t,"top",l[0].detail.e.layerY+l[1]+"px"),(!n||a&1)&&O(t,"left",l[0].detail.e.layerX+"px")},i(l){n||(U(r,l),n=!0)},o(l){K(r,l),n=!1},d(l){l&&M(t),r&&r.d(l)}}}function mc(e){let t,n,i=e[0].detail&&Fa(e);return{c(){i&&i.c(),t=me()},l(r){i&&i.l(r),t=me()},m(r,l){i&&i.m(r,l),x(r,t,l),n=!0},p(r,[l]){r[0].detail?i?(i.p(r,l),l&1&&U(i,1)):(i=Fa(r),i.c(),U(i,1),i.m(t.parentNode,t)):i&&(Ar(),K(i,1,1,()=>{i=null}),Dr())},i(r){n||(U(i),n=!0)},o(r){K(i),n=!1},d(r){r&&M(t),i&&i.d(r)}}}function yc(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:l={}}=t,{offset:a=-35}=t;return e.$$set=o=>{"evt"in o&&n(0,l=o.evt),"offset"in o&&n(1,a=o.offset),"$$scope"in o&&n(2,r=o.$$scope)},[l,a,r,i]}class bc extends Se{constructor(t){super(),Ee(this,t,yc,mc,ke,{evt:0,offset:1})}}function pc(e){let t,n,i="The Worst:",r,l=e[0].name+"",a,o=`${e[1][1]+Wa}px`,u=`${e[1][0]}px`;return{c(){t=W("p"),n=W("strong"),n.textContent=i,r=Z(),a=H(l),this.h()},l(f){t=Y(f,"P",{class:!0});var s=q(t);n=Y(s,"STRONG",{"data-svelte-h":!0}),Kt(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=J(s),a=F(s,l),s.forEach(M),this.h()},h(){g(t,"class","worst svelte-1oovamt"),O(t,"top",o),O(t,"left",u)},m(f,s){x(f,t,s),N(t,n),N(t,r),N(t,a)},p(f,[s]){s&1&&l!==(l=f[0].name+"")&&ae(a,l),s&2&&o!==(o=`${f[1][1]+Wa}px`)&&O(t,"top",o),s&2&&u!==(u=`${f[1][0]}px`)&&O(t,"left",u)},i:Pe,o:Pe,d(f){f&&M(t)}}}const Wa=8;function wc(e,t,n){let i,r,l,a,o,u,f;const{data:s,width:h,height:c}=je("LayerCake");D(e,s,b=>n(9,o=b)),D(e,h,b=>n(11,f=b)),D(e,c,b=>n(10,u=b));let{features:d}=t,{projection:_}=t;return e.$$set=b=>{"features"in b&&n(5,d=b.features),"projection"in b&&n(6,_=b.projection)},e.$$.update=()=>{e.$$.dirty&3648&&n(8,i=_().fitSize([f,u],o)),e.$$.dirty&32&&n(0,r=d[0]),e.$$.dirty&32&&n(7,l=d[d.length-1]),e.$$.dirty&257&&n(1,a=i([r.longitude,r.latitude])),e.$$.dirty&384&&i([l.longitude,l.latitude])},[r,a,s,h,c,d,_,l,i,o,u,f]}class vc extends Se{constructor(t){super(),Ee(this,t,wc,pc,ke,{features:5,projection:6})}}function Ya(e){const t={...e[15].props};e[16]=t}function kc(e){let t,n;return t=new cc({props:{projection:e[6],fill:"#fff"}}),{c(){ue(t.$$.fragment)},l(i){se(t.$$.fragment,i)},m(i,r){ce(t,i,r),n=!0},p:Pe,i(i){n||(U(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){he(t,i)}}}function Sc(e){let t,n;return t=new _c({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[12]),t.$on("mouseout",e[13]),t.$on("clickedPoint",e[14]),{c(){ue(t.$$.fragment)},l(i){se(t.$$.fragment,i)},m(i,r){ce(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),r&8&&(l.fillFunction=i[3]),t.$set(l)},i(i){n||(U(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){he(t,i)}}}function Ec(e){let t,n;return t=new vc({props:{features:e[4],projection:e[6]}}),{c(){ue(t.$$.fragment)},l(i){se(t.$$.fragment,i)},m(i,r){ce(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),t.$set(l)},i(i){n||(U(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){he(t,i)}}}function Va(e){let t,n;return t=new bc({props:{evt:e[1],$$slots:{default:[Mc,({detail:i})=>({15:i}),({detail:i})=>i?32768:0]},$$scope:{ctx:e}}}),{c(){ue(t.$$.fragment)},l(i){se(t.$$.fragment,i)},m(i,r){ce(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.evt=i[1]),r&163840&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(U(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){he(t,i)}}}function Mc(e){Ya(e);let t,n=e[16].name+"",i,r,l,a=e[16].bad_air_days+"",o,u;return{c(){t=W("p"),i=H(n),r=Z(),l=W("p"),o=H(a),u=H(" bad air days"),this.h()},l(f){t=Y(f,"P",{class:!0});var s=q(t);i=F(s,n),s.forEach(M),r=J(f),l=Y(f,"P",{class:!0});var h=q(l);o=F(h,a),u=F(h," bad air days"),h.forEach(M),this.h()},h(){g(t,"class","name svelte-hqwlpy"),g(l,"class","days")},m(f,s){x(f,t,s),N(t,i),x(f,r,s),x(f,l,s),N(l,o),N(l,u)},p(f,s){Ya(f),s&32768&&n!==(n=f[16].name+"")&&ae(i,n),s&32768&&a!==(a=f[16].bad_air_days+"")&&ae(o,a)},d(f){f&&(M(t),M(r),M(l))}}}function Nc(e){let t,n,i=e[2]!==!0&&Va(e);return{c(){i&&i.c(),t=me()},l(r){i&&i.l(r),t=me()},m(r,l){i&&i.m(r,l),x(r,t,l),n=!0},p(r,l){r[2]!==!0?i?(i.p(r,l),l&4&&U(i,1)):(i=Va(r),i.c(),U(i,1),i.m(t.parentNode,t)):i&&(Ar(),K(i,1,1,()=>{i=null}),Dr())},i(r){n||(U(i),n=!0)},o(r){K(i),n=!1},d(r){r&&M(t),i&&i.d(r)}}}function Rc(e){let t,n,i,r,l,a,o,u;return t=new bs({props:{$$slots:{default:[kc]},$$scope:{ctx:e}}}),i=new Dl({props:{$$slots:{default:[Sc]},$$scope:{ctx:e}}}),l=new pr({props:{pointerEvents:!1,$$slots:{default:[Ec]},$$scope:{ctx:e}}}),o=new pr({props:{pointerEvents:!1,$$slots:{default:[Nc]},$$scope:{ctx:e}}}),{c(){ue(t.$$.fragment),n=Z(),ue(i.$$.fragment),r=Z(),ue(l.$$.fragment),a=Z(),ue(o.$$.fragment)},l(f){se(t.$$.fragment,f),n=J(f),se(i.$$.fragment,f),r=J(f),se(l.$$.fragment,f),a=J(f),se(o.$$.fragment,f)},m(f,s){ce(t,f,s),x(f,n,s),ce(i,f,s),x(f,r,s),ce(l,f,s),x(f,a,s),ce(o,f,s),u=!0},p(f,s){const h={};s&131072&&(h.$$scope={dirty:s,ctx:f}),t.$set(h);const c={};s&131103&&(c.$$scope={dirty:s,ctx:f}),i.$set(c);const d={};s&131088&&(d.$$scope={dirty:s,ctx:f}),l.$set(d);const _={};s&131078&&(_.$$scope={dirty:s,ctx:f}),o.$set(_)},i(f){u||(U(t.$$.fragment,f),U(i.$$.fragment,f),U(l.$$.fragment,f),U(o.$$.fragment,f),u=!0)},o(f){K(t.$$.fragment,f),K(i.$$.fragment,f),K(l.$$.fragment,f),K(o.$$.fragment,f),u=!1},d(f){f&&(M(n),M(r),M(a)),he(t,f),he(i,f),he(l,f),he(o,f)}}}function zc(e){let t,n,i;return n=new Al({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:Ho().clamp(!0),rRange:[1,15],rDomain:[0,100],$$slots:{default:[Rc]},$$scope:{ctx:e}}}),{c(){t=W("div"),ue(n.$$.fragment),this.h()},l(r){t=Y(r,"DIV",{class:!0});var l=q(t);se(n.$$.fragment,l),l.forEach(M),this.h()},h(){g(t,"class","container svelte-hqwlpy")},m(r,l){x(r,t,l),ce(n,t,null),i=!0},p(r,[l]){const a={};l&131103&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(U(n.$$.fragment,r),i=!0)},o(r){K(n.$$.fragment,r),i=!1},d(r){r&&M(t),he(n)}}}function Ac(e,t,n){let i,r,l,a;D(e,ht,k=>n(0,a=k));let{data:o}=t,{us_states:u}=t,{cbsa_lookup:f}=t,s,h=!0;const c=Ss(u,u.objects.collection),d=uc,_=c.features.map(k=>k.properties),b=k=>n(1,s=n(2,h=k)),y=()=>n(2,h=!0),p=k=>{const{detail:A}=k,{props:R}=A;Q(ht,a={value:R==null?void 0:R.code,label:R==null?void 0:R.name},a)};return e.$$set=k=>{"data"in k&&n(8,o=k.data),"us_states"in k&&n(9,u=k.us_states),"cbsa_lookup"in k&&n(10,f=k.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=o.map(k=>{var A,R;return{...k,latitude:(A=f.get(k.code))==null?void 0:A.latitude,longitude:(R=f.get(k.code))==null?void 0:R.longitude}}).filter(k=>k.latitude).filter(k=>k.longitude)),e.$$.dirty&256&&n(11,r=o[0]),e.$$.dirty&2049&&n(3,l=k=>k.code===a.value?"var(--primary)":k.code===r.code?"var(--secondary-lighter)":"var(--secondary)")},[a,s,h,l,i,c,d,_,o,u,f,r,b,y,p]}class Dc extends Se{constructor(t){super(),Ee(this,t,Ac,zc,ke,{data:8,us_states:9,cbsa_lookup:10})}}function Ua(e,t,n){const i=e.slice();return i[7]=t[n].name,i[8]=t[n].code,i[9]=t[n].bad_air_days,i}function Xa(e){let t,n,i=e[7]+"",r,l,a=e[9]+"",o,u,f,s;return{c(){t=W("li"),n=W("span"),r=H(i),l=H(`
				- `),o=H(a),u=H(` days
			`),this.h()},l(h){t=Y(h,"LI",{class:!0});var c=q(t);n=Y(c,"SPAN",{role:!0,class:!0});var d=q(n);r=F(d,i),d.forEach(M),l=F(c,`
				- `),o=F(c,a),u=F(c,` days
			`),c.forEach(M),this.h()},h(){g(n,"role","button"),g(n,"class","svelte-fe00af"),g(t,"class","svelte-fe00af")},m(h,c){x(h,t,c),N(t,n),N(n,r),N(t,l),N(t,o),N(t,u),f||(s=Re(n,"click",function(){pl(e[6](e[7],e[8]))&&e[6](e[7],e[8]).apply(this,arguments)}),f=!0)},p(h,c){e=h,c&16&&i!==(i=e[7]+"")&&ae(r,i),c&16&&a!==(a=e[9]+"")&&ae(o,a)},d(h){h&&M(t),f=!1,s()}}}function Pc(e){var ie,ze,Ce;let t,n,i="The 10 Places with the Most Poor Air Quality Days in 2022",r,l,a,o,u,f,s=((ie=e[0][0])==null?void 0:ie.name)+"",h,c,d,_=((ze=e[0][0])==null?void 0:ze.bad_air_days)+"",b,y,p,k,A,R,w=((Ce=e[5])==null?void 0:Ce.label)+"",v,S,I,G=e[3]+1+"",j,P,B=e[0].length+"",C,T,E,z=e[0][e[3]].bad_air_days+"",V,X,$,le,ne,ye=xe(e[4]),L=[];for(let ee=0;ee<ye.length;ee+=1)L[ee]=Xa(Ua(e,ye,ee));return le=new Dc({props:{data:e[0],us_states:e[1],cbsa_lookup:e[2]}}),{c(){t=W("section"),n=W("h2"),n.textContent=i,r=Z(),l=W("ol");for(let ee=0;ee<L.length;ee+=1)L[ee].c();a=Z(),o=W("p"),u=H("In 2022 (our most recent year of data), "),f=W("strong"),h=H(s),c=H(`
		was the city with the most days with poor air quality in the USA. If you were
		living in that area, you might remember up to
		`),d=W("strong"),b=H(_),y=H(" days of haze and low air quality."),p=Z(),k=W("p"),A=H("For comparison, "),R=W("strong"),v=H(w),S=H(` ranked number
		`),I=W("strong"),j=H(G),P=H(`
			out of `),C=H(B),T=H(`
		locations with `),E=W("strong"),V=H(z),X=H(`
		low air quality days in 2022.`),$=Z(),ue(le.$$.fragment),this.h()},l(ee){t=Y(ee,"SECTION",{});var ge=q(t);n=Y(ge,"H2",{"data-svelte-h":!0}),Kt(n)!=="svelte-1rdcl41"&&(n.textContent=i),r=J(ge),l=Y(ge,"OL",{class:!0});var Ne=q(l);for(let Be=0;Be<L.length;Be+=1)L[Be].l(Ne);Ne.forEach(M),a=J(ge),o=Y(ge,"P",{class:!0});var Te=q(o);u=F(Te,"In 2022 (our most recent year of data), "),f=Y(Te,"STRONG",{});var Ve=q(f);h=F(Ve,s),Ve.forEach(M),c=F(Te,`
		was the city with the most days with poor air quality in the USA. If you were
		living in that area, you might remember up to
		`),d=Y(Te,"STRONG",{});var $e=q(d);b=F($e,_),$e.forEach(M),y=F(Te," days of haze and low air quality."),Te.forEach(M),p=J(ge),k=Y(ge,"P",{class:!0});var we=q(k);A=F(we,"For comparison, "),R=Y(we,"STRONG",{});var et=q(R);v=F(et,w),et.forEach(M),S=F(we,` ranked number
		`),I=Y(we,"STRONG",{});var rt=q(I);j=F(rt,G),P=F(rt,`
			out of `),C=F(rt,B),rt.forEach(M),T=F(we,`
		locations with `),E=Y(we,"STRONG",{});var Et=q(E);V=F(Et,z),Et.forEach(M),X=F(we,`
		low air quality days in 2022.`),we.forEach(M),$=J(ge),se(le.$$.fragment,ge),ge.forEach(M),this.h()},h(){g(l,"class","svelte-fe00af"),g(o,"class","prose"),g(k,"class","prose")},m(ee,ge){x(ee,t,ge),N(t,n),N(t,r),N(t,l);for(let Ne=0;Ne<L.length;Ne+=1)L[Ne]&&L[Ne].m(l,null);N(t,a),N(t,o),N(o,u),N(o,f),N(f,h),N(o,c),N(o,d),N(d,b),N(o,y),N(t,p),N(t,k),N(k,A),N(k,R),N(R,v),N(k,S),N(k,I),N(I,j),N(I,P),N(I,C),N(k,T),N(k,E),N(E,V),N(k,X),N(t,$),ce(le,t,null),ne=!0},p(ee,[ge]){var Te,Ve,$e;if(ge&80){ye=xe(ee[4]);let we;for(we=0;we<ye.length;we+=1){const et=Ua(ee,ye,we);L[we]?L[we].p(et,ge):(L[we]=Xa(et),L[we].c(),L[we].m(l,null))}for(;we<L.length;we+=1)L[we].d(1);L.length=ye.length}(!ne||ge&1)&&s!==(s=((Te=ee[0][0])==null?void 0:Te.name)+"")&&ae(h,s),(!ne||ge&1)&&_!==(_=((Ve=ee[0][0])==null?void 0:Ve.bad_air_days)+"")&&ae(b,_),(!ne||ge&32)&&w!==(w=(($e=ee[5])==null?void 0:$e.label)+"")&&ae(v,w),(!ne||ge&8)&&G!==(G=ee[3]+1+"")&&ae(j,G),(!ne||ge&1)&&B!==(B=ee[0].length+"")&&ae(C,B),(!ne||ge&9)&&z!==(z=ee[0][ee[3]].bad_air_days+"")&&ae(V,z);const Ne={};ge&1&&(Ne.data=ee[0]),ge&2&&(Ne.us_states=ee[1]),ge&4&&(Ne.cbsa_lookup=ee[2]),le.$set(Ne)},i(ee){ne||(U(le.$$.fragment,ee),ne=!0)},o(ee){K(le.$$.fragment,ee),ne=!1},d(ee){ee&&M(t),hi(L,ee),he(le)}}}function Cc(e,t,n){let i,r;D(e,ht,s=>n(5,r=s));let{data:l}=t,{us_states:a}=t,{cbsa_lookup:o}=t,{index_of_selected:u}=t;const f=(s,h)=>{Q(ht,r={value:h,label:s},r)};return e.$$set=s=>{"data"in s&&n(0,l=s.data),"us_states"in s&&n(1,a=s.us_states),"cbsa_lookup"in s&&n(2,o=s.cbsa_lookup),"index_of_selected"in s&&n(3,u=s.index_of_selected)},e.$$.update=()=>{e.$$.dirty&1&&n(4,i=l.slice(0,10))},[l,a,o,u,i,r,f]}class Tc extends Se{constructor(t){super(),Ee(this,t,Cc,Pc,ke,{data:0,us_states:1,cbsa_lookup:2,index_of_selected:3})}}function Ka(e){let t,n;return{c(){t=de("desc"),n=H(e[7])},l(i){t=_e(i,"desc",{});var r=q(t);n=F(r,e[7]),r.forEach(M)},m(i,r){x(i,t,r),N(t,n)},p(i,r){r&128&&ae(n,i[7])},d(i){i&&M(t)}}}function Qa(e){let t,n;return{c(){t=de("title"),n=H(e[6])},l(i){t=_e(i,"title",{});var r=q(t);n=F(r,e[6]),r.forEach(M)},m(i,r){x(i,t,r),N(t,n)},p(i,r){r&64&&ae(n,i[6])},d(i){i&&M(t)}}}function Ic(e){let t,n,i,r=e[7]&&Ka(e),l=e[6]&&Qa(e);return{c(){t=de("svg"),r&&r.c(),n=me(),l&&l.c(),i=de("path"),this.h()},l(a){t=_e(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var o=q(t);r&&r.l(o),n=me(),l&&l.l(o),i=_e(o,"path",{d:!0,fill:!0}),q(i).forEach(M),o.forEach(M),this.h()},h(){g(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),g(i,"fill",e[2]),g(t,"viewBox",e[3]),g(t,"width",e[0]),g(t,"height",e[1]),g(t,"class",e[8]),g(t,"aria-label",e[4]),g(t,"aria-hidden",e[5])},m(a,o){x(a,t,o),r&&r.m(t,null),N(t,n),l&&l.m(t,null),N(t,i)},p(a,[o]){a[7]?r?r.p(a,o):(r=Ka(a),r.c(),r.m(t,n)):r&&(r.d(1),r=null),a[6]?l?l.p(a,o):(l=Qa(a),l.c(),l.m(t,i)):l&&(l.d(1),l=null),o&4&&g(i,"fill",a[2]),o&8&&g(t,"viewBox",a[3]),o&1&&g(t,"width",a[0]),o&2&&g(t,"height",a[1]),o&256&&g(t,"class",a[8]),o&16&&g(t,"aria-label",a[4]),o&32&&g(t,"aria-hidden",a[5])},i:Pe,o:Pe,d(a){a&&M(t),r&&r.d(),l&&l.d()}}}function Lc(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:l=i}=t,{color:a="currentColor"}=t,{viewBox:o="0 0 24 24"}=t,{ariaLabel:u=void 0}=t,{ariaHidden:f=void 0}=t,{title:s=void 0}=t,{desc:h=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,l=d.height),"color"in d&&n(2,a=d.color),"viewBox"in d&&n(3,o=d.viewBox),"ariaLabel"in d&&n(4,u=d.ariaLabel),"ariaHidden"in d&&n(5,f=d.ariaHidden),"title"in d&&n(6,s=d.title),"desc"in d&&n(7,h=d.desc),"class"in d&&n(8,c=d.class)},[r,l,a,o,u,f,s,h,c,i]}class qc extends Se{constructor(t){super(),Ee(this,t,Lc,Ic,ke,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Za(e,t,n){const i=e.slice();return i[36]=t[n].label,i[37]=t[n].value,i[38]=t,i[39]=n,i}function Ja(e,t,n){const i=e.slice();return i[36]=t[n].label,i[37]=t[n].value,i}function $a(e){let t,n=e[36]+"",i,r;return{c(){t=W("option"),i=H(n),this.h()},l(l){t=Y(l,"OPTION",{});var a=q(t);i=F(a,n),a.forEach(M),this.h()},h(){t.__value=r=e[37],sr(t,t.__value)},m(l,a){x(l,t,a),N(t,i)},p(l,a){a[0]&2&&n!==(n=l[36]+"")&&ae(i,n),a[0]&2&&r!==(r=l[37])&&(t.__value=r,sr(t,t.__value))},d(l){l&&M(t)}}}function Gc(e){let t,n="Sorry, no options match";return{c(){t=W("li"),t.textContent=n,this.h()},l(i){t=Y(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),Kt(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){g(t,"class","disabled svelte-13q4pje"),g(t,"tabindex","-1")},m(i,r){x(i,t,r)},p:Pe,d(i){i&&M(t)}}}function jc(e){let t,n=xe(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=eo(Za(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=me()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=me()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);x(r,t,l)},p(r,l){if(l[0]&798784){n=xe(r[6]);let a;for(a=0;a<n.length;a+=1){const o=Za(r,n,a);i[a]?i[a].p(o,l):(i[a]=eo(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(r){r&&M(t),hi(i,r)}}}function eo(e){let t,n=e[36]+"",i,r,l,a,o=e[39],u,f;const s=()=>e[29](t,o),h=()=>e[29](null,o);function c(){return e[30](e[37],e[36])}function d(..._){return e[31](e[37],e[36],..._)}return{c(){t=W("li"),i=H(n),r=Z(),this.h()},l(_){t=Y(_,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var b=q(t);i=F(b,n),r=J(b),b.forEach(M),this.h()},h(){g(t,"role","option"),g(t,"tabindex","-1"),g(t,"aria-selected",l=e[39]===e[13]),g(t,"data-option-value",a=e[37]),g(t,"id",`autocomplete_${e[39]}`),g(t,"class","svelte-13q4pje")},m(_,b){x(_,t,b),N(t,i),N(t,r),s(),u||(f=[Re(t,"click",c),Re(t,"keydown",d)],u=!0)},p(_,b){e=_,b[0]&64&&n!==(n=e[36]+"")&&ae(i,n),b[0]&8192&&l!==(l=e[39]===e[13])&&g(t,"aria-selected",l),b[0]&64&&a!==(a=e[37])&&g(t,"data-option-value",a),o!==e[39]&&(h(),o=e[39],s())},d(_){_&&M(t),h(),u=!1,$t(f)}}}function to(e){let t,n,i,r,l;return n=new qc({props:{width:"16px",height:"16px"}}),{c(){t=W("button"),ue(n.$$.fragment),this.h()},l(a){t=Y(a,"BUTTON",{"aria-label":!0,class:!0});var o=q(t);se(n.$$.fragment,o),o.forEach(M),this.h()},h(){g(t,"aria-label","clear autocomplete search"),g(t,"class","svelte-13q4pje")},m(a,o){x(a,t,o),ce(n,t,null),i=!0,r||(l=Re(t,"click",e[22]),r=!0)},p:Pe,i(a){i||(U(n.$$.fragment,a),i=!0)},o(a){K(n.$$.fragment,a),i=!1},d(a){a&&M(t),he(n),r=!1,l()}}}function xc(e){let t,n,i,r,l,a,o,u,f,s,h,c,d,_,b,y,p,k,A,R,w,v,S,I,G=xe(e[1]),j=[];for(let E=0;E<G.length;E+=1)j[E]=$a(Ja(e,G,E));function P(E,z){return E[6].length?jc:Gc}let B=P(e),C=B(e),T=e[4]===!0&&e[8]&&e[8].length&&to(e);return{c(){t=W("div"),n=W("label"),i=W("span"),r=H(e[2]),a=Z(),o=W("select");for(let E=0;E<j.length;E+=1)j[E].c();u=Z(),f=W("div"),s=W("input"),d=Z(),_=W("ul"),C.c(),y=Z(),p=W("div"),k=H(e[7]),A=H(" results available"),R=Z(),T&&T.c(),this.h()},l(E){t=Y(E,"DIV",{class:!0,style:!0,id:!0});var z=q(t);n=Y(z,"LABEL",{for:!0,class:!0});var V=q(n);i=Y(V,"SPAN",{class:!0});var X=q(i);r=F(X,e[2]),X.forEach(M),V.forEach(M),a=J(z),o=Y(z,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var $=q(o);for(let L=0;L<j.length;L+=1)j[L].l($);$.forEach(M),u=J(z),f=Y(z,"DIV",{class:!0});var le=q(f);s=Y(le,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=J(le),_=Y(le,"UL",{id:!0,role:!0,class:!0});var ne=q(_);C.l(ne),ne.forEach(M),y=J(le),p=Y(le,"DIV",{"aria-live":!0,role:!0,class:!0});var ye=q(p);k=F(ye,e[7]),A=F(ye," results available"),ye.forEach(M),R=J(le),T&&T.l(le),le.forEach(M),z.forEach(M),this.h()},h(){g(i,"class","field-label"),g(n,"for",l=`${e[14]}-${e[2]}`),g(n,"class","svelte-13q4pje"),vn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),g(o,"name",e[2]),g(o,"aria-hidden","true"),g(o,"tabindex","-1"),g(o,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&So(()=>e[26].call(o)),g(s,"aria-controls",h=`autocomplete-options--${e[14]}-${e[2]}`),g(s,"autocapitalize","none"),g(s,"type","text"),g(s,"autocomplete","off"),g(s,"aria-autocomplete","list"),g(s,"role","combobox"),g(s,"id",c=`${e[14]}-${e[2]}`),g(s,"aria-expanded","false"),g(s,"name",`autocomplete-${e[14]}`),g(s,"class","svelte-13q4pje"),g(_,"id",b=`autocomplete-options--${e[14]}-${e[2]}`),g(_,"role","listbox"),g(_,"class","svelte-13q4pje"),vn(_,"hidden",!e[9]),g(p,"aria-live","polite"),g(p,"role","status"),g(p,"class","visually-hidden svelte-13q4pje"),g(f,"class","autocomplete svelte-13q4pje"),g(t,"class","field svelte-13q4pje"),O(t,"font-size",e[3]+"px"),g(t,"id",w=`field-${e[14]}-${e[2]}`),O(t,"flex",e[5]?"1 1 auto":"auto")},m(E,z){x(E,t,z),N(t,n),N(n,i),N(i,r),N(t,a),N(t,o);for(let V=0;V<j.length;V+=1)j[V]&&j[V].m(o,null);Ll(o,e[0],!0),N(t,u),N(t,f),N(f,s),sr(s,e[8]),e[28](s),N(f,d),N(f,_),C.m(_,null),N(f,y),N(f,p),N(p,k),N(p,A),N(f,R),T&&T.m(f,null),v=!0,S||(I=[Re(window,"click",e[21]),Re(o,"change",e[26]),Re(s,"keyup",e[15]),Re(s,"keydown",e[16]),Re(s,"focus",e[17]),Re(s,"blur",function(){pl(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),Re(s,"input",e[27]),Re(s,"click",e[20])],S=!0)},p(E,z){if(e=E,(!v||z[0]&4)&&ae(r,e[2]),(!v||z[0]&4&&l!==(l=`${e[14]}-${e[2]}`))&&g(n,"for",l),(!v||z[0]&1537)&&vn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),z[0]&2){G=xe(e[1]);let X;for(X=0;X<G.length;X+=1){const $=Ja(e,G,X);j[X]?j[X].p($,z):(j[X]=$a($),j[X].c(),j[X].m(o,null))}for(;X<j.length;X+=1)j[X].d(1);j.length=G.length}(!v||z[0]&4)&&g(o,"name",e[2]),z[0]&3&&Ll(o,e[0]),(!v||z[0]&4&&h!==(h=`autocomplete-options--${e[14]}-${e[2]}`))&&g(s,"aria-controls",h),(!v||z[0]&4&&c!==(c=`${e[14]}-${e[2]}`))&&g(s,"id",c),z[0]&256&&s.value!==e[8]&&sr(s,e[8]),B===(B=P(e))&&C?C.p(e,z):(C.d(1),C=B(e),C&&(C.c(),C.m(_,null))),(!v||z[0]&4&&b!==(b=`autocomplete-options--${e[14]}-${e[2]}`))&&g(_,"id",b),(!v||z[0]&512)&&vn(_,"hidden",!e[9]),(!v||z[0]&128)&&ae(k,e[7]),e[4]===!0&&e[8]&&e[8].length?T?(T.p(e,z),z[0]&272&&U(T,1)):(T=to(e),T.c(),U(T,1),T.m(f,null)):T&&(Ar(),K(T,1,1,()=>{T=null}),Dr()),(!v||z[0]&8)&&O(t,"font-size",e[3]+"px"),(!v||z[0]&4&&w!==(w=`field-${e[14]}-${e[2]}`))&&g(t,"id",w),(z[0]&8||z[0]&40)&&O(t,"flex",e[5]?"1 1 auto":"auto")},i(E){v||(U(T),v=!0)},o(E){K(T),v=!1},d(E){E&&M(t),hi(j,E),e[28](null),C.d(),T&&T.d(),S=!1,$t(I)}}}function Bc(e,t,n){let i,r;D(e,oi,L=>n(33,i=L)),D(e,ht,L=>n(34,r=L));let{data:l}=t,{name:a}=t,{fontSize:o=16}=t,{selected:u=""}=t,{clearButton:f=!0}=t,{manualSelection:s={}}=t,{inline:h=!1}=t,{updateLocation:c=!1}=t,{updateAge:d=!1}=t,_=l.sort((L,ie)=>Pt(L.label,ie.label)),b=Math.floor(Math.random()*1e4),y=_.length,p=u,k=!1,A=!1,R,w=[],v,S=!0;const I=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function G(L){!I.includes(L.key)&&p&&p.length&&(n(6,_=l.filter(ie=>String(ie.label).toLowerCase().includes(String(p).toLowerCase()))),n(9,k=!0),n(7,y=_.length)),L.key==="Tab"&&n(9,k=!1),L.key==="ArrowDown"&&_&&_.length&&(n(9,k=!0),n(13,v=0),w[0].focus())}function j(L){L.key==="Tab"&&n(9,k=!1),p&&p.length===1&&L.key==="Backspace"&&(n(6,_=l),n(0,u="")),L.key==="Escape"&&n(9,k=!1)}function P(){n(10,A=!0)}function B(L,ie){n(0,u=L),n(8,p=ie),n(9,k=!1),R.focus(),c&&Q(ht,r={value:L,label:ie},r),d&&Q(oi,i=L,i)}function C(L,ie,ze){const Ce=L.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(Ce)?(Ce==="Enter"&&(B(ie,ze),S=!1),Ce==="ArrowDown"&&_&&_.length&&(n(13,v=v<_.length-1?v+1:_.length-1),w[v].focus(),S=!0),Ce==="Escape"&&(n(9,k=!1),R.focus()),Ce==="ArrowUp"&&v===0?(R.focus(),n(13,v=null),S=!0):Ce==="ArrowUp"&&v!=0&&(n(13,v-=1),w[v].focus(),S=!0)):S=!1,S===!0&&L.preventDefault()}function T(){n(8,p=""),n(23,s={}),n(9,k=!0),n(6,_=l),n(13,v=null)}function E(L){const ie=L.target;ie!=R&&!w.includes(ie)&&n(9,k=!1)}function z(){n(8,p=""),n(0,u=""),n(23,s={})}function V(){u=kf(this),n(0,u),n(23,s),n(1,l)}function X(){p=this.value,n(8,p),n(23,s),n(0,u)}function $(L){St[L?"unshift":"push"](()=>{R=L,n(11,R)})}function le(L,ie){St[L?"unshift":"push"](()=>{w[ie]=L,n(12,w)})}const ne=(L,ie)=>{B(L,ie)},ye=(L,ie,ze)=>C(ze,L,ie);return e.$$set=L=>{"data"in L&&n(1,l=L.data),"name"in L&&n(2,a=L.name),"fontSize"in L&&n(3,o=L.fontSize),"selected"in L&&n(0,u=L.selected),"clearButton"in L&&n(4,f=L.clearButton),"manualSelection"in L&&n(23,s=L.manualSelection),"inline"in L&&n(5,h=L.inline),"updateLocation"in L&&n(24,c=L.updateLocation),"updateAge"in L&&n(25,d=L.updateAge)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&s!=null&&s.value&&(n(0,u=s.value),n(8,p=s.label)),e.$$.dirty[0]&1&&u===""&&n(8,p="")},[u,l,a,o,f,h,_,y,p,k,A,R,w,v,b,G,j,P,B,C,T,E,z,s,c,d,V,X,$,le,ne,ye]}class uf extends Se{constructor(t){super(),Ee(this,t,Bc,xc,ke,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5,updateLocation:24,updateAge:25},null,[-1,-1])}}function Oc(e){let t,n,i,r,l,a,o,u,f=`We experience above and below-seasonal variation in the weather every year.
		Changes in air quality are no exception. Is this typical? Or is this year
		different.`,s,h,c=`Using data from the Environmental Protection Agency, we can look at the
		number of days with poor air quality in cities across the country to better
		understand our own experiences.`,d;function _(y){e[4](y)}let b={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35",updateLocation:!0};return e[1]!==void 0&&(b.selected=e[1]),l=new uf({props:b}),St.push(()=>vl(l,"selected",_)),{c(){t=W("section"),n=W("div"),i=W("h1"),r=H("Air Quality in "),ue(l.$$.fragment),o=Z(),u=W("p"),u.textContent=f,s=Z(),h=W("p"),h.textContent=c,this.h()},l(y){t=Y(y,"SECTION",{});var p=q(t);n=Y(p,"DIV",{class:!0});var k=q(n);i=Y(k,"H1",{class:!0});var A=q(i);r=F(A,"Air Quality in "),se(l.$$.fragment,A),A.forEach(M),k.forEach(M),o=J(p),u=Y(p,"P",{class:!0,"data-svelte-h":!0}),Kt(u)!=="svelte-7q1qpt"&&(u.textContent=f),s=J(p),h=Y(p,"P",{class:!0,"data-svelte-h":!0}),Kt(h)!=="svelte-1k9dmul"&&(h.textContent=c),p.forEach(M),this.h()},h(){g(i,"class","svelte-1acsj2x"),g(n,"class","inline svelte-1acsj2x"),g(u,"class","prose"),g(h,"class","prose")},m(y,p){x(y,t,p),N(t,n),N(n,i),N(i,r),ce(l,i,null),N(t,o),N(t,u),N(t,s),N(t,h),d=!0},p(y,[p]){const k={};p&1&&(k.data=y[0]),p&4&&(k.manualSelection=y[2]),!a&&p&2&&(a=!0,k.selected=y[1],wl(()=>a=!1)),l.$set(k)},i(y){d||(U(l.$$.fragment,y),d=!0)},o(y){K(l.$$.fragment,y),d=!1},d(y){y&&M(t),he(l)}}}function Hc(e,t,n){let i,r;D(e,ht,u=>n(2,r=u));let{data:l}=t,a;function o(u){a=u,n(1,a)}return e.$$set=u=>{"data"in u&&n(3,l=u.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(l.map(u=>JSON.stringify([u.name,u.code])))).map(u=>JSON.parse(u)).map(u=>({value:u[1],label:u[0]})).filter(u=>u.label)),e.$$.dirty&1&&new Map(i)},[i,a,r,l,o]}class Fc extends Se{constructor(t){super(),Ee(this,t,Hc,Oc,ke,{data:3})}}function no(e,t,n){const i=e.slice();i[26]=t[n],i[33]=n;const r=i[6](i[26]);i[27]=r;const l=i[5](i[26]);i[28]=l;const a=Array.isArray(i[28])?i[28][0]:i[28];i[29]=a;const o=i[9].bandwidth?i[9].bandwidth():i[7](i[26]);i[30]=o;const u=i[10](i[26]);return i[31]=u,i}function io(e){let t,n=e[31]+"",i,r,l;return{c(){t=de("text"),i=H(n),this.h()},l(a){t=_e(a,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var o=q(t);i=F(o,n),o.forEach(M),this.h()},h(){g(t,"x",r=e[29]+e[30]/2),g(t,"y",l=e[12]-e[27]-5),g(t,"text-anchor","middle"),g(t,"class","svelte-gs7zwh")},m(a,o){x(a,t,o),N(t,i)},p(a,o){o[0]&1280&&n!==(n=a[31]+"")&&ae(i,n),o[0]&928&&r!==(r=a[29]+a[30]/2)&&g(t,"x",r),o[0]&4416&&l!==(l=a[12]-a[27]-5)&&g(t,"y",l)},d(a){a&&M(t)}}}function ro(e){let t,n,i,r,l,a,o,u,f,s=e[3]&&e[31]&&io(e);return{c(){t=de("rect"),s&&s.c(),f=me(),this.h()},l(h){t=_e(h,"rect",{class:!0,"data-id":!0,"data-range":!0,"data-count":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),q(t).forEach(M),s&&s.l(h),f=me(),this.h()},h(){g(t,"class","group-rect"),g(t,"data-id",e[33]),g(t,"data-range",n=e[11](e[26])),g(t,"data-count",i=e[31]),g(t,"x",r=e[29]),g(t,"y",l=e[4](e[26])),g(t,"width",a=e[30]),g(t,"height",o=e[27]),g(t,"fill",u=e[0](e[26])),g(t,"stroke",e[1]),g(t,"stroke-width",e[2])},m(h,c){x(h,t,c),s&&s.m(h,c),x(h,f,c)},p(h,c){c[0]&2304&&n!==(n=h[11](h[26]))&&g(t,"data-range",n),c[0]&1280&&i!==(i=h[31])&&g(t,"data-count",i),c[0]&288&&r!==(r=h[29])&&g(t,"x",r),c[0]&272&&l!==(l=h[4](h[26]))&&g(t,"y",l),c[0]&896&&a!==(a=h[30])&&g(t,"width",a),c[0]&320&&o!==(o=h[27])&&g(t,"height",o),c[0]&257&&u!==(u=h[0](h[26]))&&g(t,"fill",u),c[0]&2&&g(t,"stroke",h[1]),c[0]&4&&g(t,"stroke-width",h[2]),h[3]&&h[31]?s?s.p(h,c):(s=io(h),s.c(),s.m(f.parentNode,f)):s&&(s.d(1),s=null)},d(h){h&&(M(t),M(f)),s&&s.d(h)}}}function Wc(e){let t,n=xe(e[8]),i=[];for(let r=0;r<n.length;r+=1)i[r]=ro(no(e,n,r));return{c(){t=de("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=_e(r,"g",{class:!0});var l=q(t);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(M),this.h()},h(){g(t,"class","column-group")},m(r,l){x(r,t,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null)},p(r,l){if(l[0]&8191){n=xe(r[8]);let a;for(a=0;a<n.length;a+=1){const o=no(r,n,a);i[a]?i[a].p(o,l):(i[a]=ro(o),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i:Pe,o:Pe,d(r){r&&M(t),hi(i,r)}}}function Yc(e,t,n){let i,r,l,a,o,u,f,s,h,c;const{data:d,xGet:_,yGet:b,x:y,yRange:p,xScale:k,y:A,height:R,zGet:w,zScale:v,z:S}=je("LayerCake");D(e,d,C=>n(8,u=C)),D(e,_,C=>n(5,o=C)),D(e,b,C=>n(4,l=C)),D(e,y,C=>n(11,h=C)),D(e,p,C=>n(22,a=C)),D(e,k,C=>n(9,f=C)),D(e,A,C=>n(10,s=C)),D(e,R,C=>n(12,c=C));let{fill:I="#00e047"}=t,{fillFunction:G=C=>C}=t,{stroke:j="#000"}=t,{strokeWidth:P=0}=t,{showLabels:B=!1}=t;return e.$$set=C=>{"fill"in C&&n(21,I=C.fill),"fillFunction"in C&&n(0,G=C.fillFunction),"stroke"in C&&n(1,j=C.stroke),"strokeWidth"in C&&n(2,P=C.strokeWidth),"showLabels"in C&&n(3,B=C.showLabels)},e.$$.update=()=>{e.$$.dirty[0]&32&&n(7,i=C=>{const T=o(C);return Math.abs(T[1]-T[0])}),e.$$.dirty[0]&4194320&&n(6,r=C=>a[0]-l(C))},[G,j,P,B,l,o,r,i,u,f,s,h,c,d,_,b,y,p,k,A,R,I,a]}class Vc extends Se{constructor(t){super(),Ee(this,t,Yc,Wc,ke,{fill:21,fillFunction:0,stroke:1,strokeWidth:2,showLabels:3},null,[-1,-1])}}function lo(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function ao(e){let t,n;return{c(){t=de("line"),this.h()},l(i){t=_e(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","gridline svelte-gquvov"),g(t,"y1",n=e[11]*-1),g(t,"y2","0"),g(t,"x1","0"),g(t,"x2","0")},m(i,r){x(i,t,r)},p(i,r){r&2048&&n!==(n=i[11]*-1)&&g(t,"y1",n)},d(i){i&&M(t)}}}function oo(e){let t,n,i;return{c(){t=de("line"),this.h()},l(r){t=_e(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","tick-mark svelte-gquvov"),g(t,"y1",0),g(t,"y2",6),g(t,"x1",n=e[7]?e[8].bandwidth()/2:0),g(t,"x2",i=e[7]?e[8].bandwidth()/2:0)},m(r,l){x(r,t,l)},p(r,l){l&384&&n!==(n=r[7]?r[8].bandwidth()/2:0)&&g(t,"x1",n),l&384&&i!==(i=r[7]?r[8].bandwidth()/2:0)&&g(t,"x2",i)},d(r){r&&M(t)}}}function fo(e,t){let n,i,r,l=t[4](t[20])+"",a,o,u,f,s,h=t[0]!==!1&&ao(t),c=t[1]===!0&&oo(t);return{key:e,first:null,c(){n=de("g"),h&&h.c(),i=me(),c&&c.c(),r=de("text"),a=H(l),this.h()},l(d){n=_e(d,"g",{class:!0,transform:!0});var _=q(n);h&&h.l(_),i=me(),c&&c.l(_),r=_e(_,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var b=q(r);a=F(b,l),b.forEach(M),_.forEach(M),this.h()},h(){g(r,"x",o=t[7]?t[8].bandwidth()/2+t[5]:t[5]),g(r,"y",t[6]),g(r,"dx",""),g(r,"dy",""),g(r,"text-anchor",u=t[17](t[22])),g(r,"class","svelte-gquvov"),g(n,"class",f="tick tick-"+t[22]+" svelte-gquvov"),g(n,"transform",s="translate("+t[8](t[20])+","+Math.max(...t[10])+")"),this.first=n},m(d,_){x(d,n,_),h&&h.m(n,null),N(n,i),c&&c.m(n,null),N(n,r),N(r,a)},p(d,_){t=d,t[0]!==!1?h?h.p(t,_):(h=ao(t),h.c(),h.m(n,i)):h&&(h.d(1),h=null),t[1]===!0?c?c.p(t,_):(c=oo(t),c.c(),c.m(n,r)):c&&(c.d(1),c=null),_&528&&l!==(l=t[4](t[20])+"")&&ae(a,l),_&416&&o!==(o=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&g(r,"x",o),_&64&&g(r,"y",t[6]),_&512&&u!==(u=t[17](t[22]))&&g(r,"text-anchor",u),_&512&&f!==(f="tick tick-"+t[22]+" svelte-gquvov")&&g(n,"class",f),_&1792&&s!==(s="translate("+t[8](t[20])+","+Math.max(...t[10])+")")&&g(n,"transform",s)},d(d){d&&M(n),h&&h.d(),c&&c.d()}}}function uo(e){let t,n,i;return{c(){t=de("line"),this.h()},l(r){t=_e(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","baseline svelte-gquvov"),g(t,"y1",n=e[11]+.5),g(t,"y2",i=e[11]+.5),g(t,"x1","0"),g(t,"x2",e[12])},m(r,l){x(r,t,l)},p(r,l){l&2048&&n!==(n=r[11]+.5)&&g(t,"y1",n),l&2048&&i!==(i=r[11]+.5)&&g(t,"y2",i),l&4096&&g(t,"x2",r[12])},d(r){r&&M(t)}}}function Uc(e){let t,n=[],i=new Map,r,l=xe(e[9]);const a=u=>u[20];for(let u=0;u<l.length;u+=1){let f=lo(e,l,u),s=a(f);i.set(s,n[u]=fo(s,f))}let o=e[2]===!0&&uo(e);return{c(){t=de("g");for(let u=0;u<n.length;u+=1)n[u].c();r=me(),o&&o.c(),this.h()},l(u){t=_e(u,"g",{class:!0});var f=q(t);for(let s=0;s<n.length;s+=1)n[s].l(f);r=me(),o&&o.l(f),f.forEach(M),this.h()},h(){g(t,"class","axis x-axis svelte-gquvov"),vn(t,"snapTicks",e[3])},m(u,f){x(u,t,f);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(t,null);N(t,r),o&&o.m(t,null)},p(u,[f]){f&135155&&(l=xe(u[9]),n=Sl(n,f,a,1,u,l,i,t,kl,fo,r,lo)),u[2]===!0?o?o.p(u,f):(o=uo(u),o.c(),o.m(t,null)):o&&(o.d(1),o=null),f&8&&vn(t,"snapTicks",u[3])},i:Pe,o:Pe,d(u){u&&M(t);for(let f=0;f<n.length;f+=1)n[f].d();o&&o.d()}}}function Xc(e,t,n){let i,r,l,a,o,u;const{width:f,height:s,xScale:h,yRange:c,xReverse:d}=je("LayerCake");D(e,f,S=>n(12,u=S)),D(e,s,S=>n(11,o=S)),D(e,h,S=>n(8,l=S)),D(e,c,S=>n(10,a=S));let{gridlines:_=!0}=t,{tickMarks:b=!1}=t,{baseline:y=!1}=t,{snapTicks:p=!1}=t,{formatTick:k=S=>S}=t,{ticks:A=void 0}=t,{xTick:R=0}=t,{yTick:w=16}=t;function v(S){if(p===!0)if(d===!1){if(S===0)return"start";if(S===r.length-1)return"end"}else{if(S===0)return"end";if(S===r.length-1)return"start"}return"middle"}return e.$$set=S=>{"gridlines"in S&&n(0,_=S.gridlines),"tickMarks"in S&&n(1,b=S.tickMarks),"baseline"in S&&n(2,y=S.baseline),"snapTicks"in S&&n(3,p=S.snapTicks),"formatTick"in S&&n(4,k=S.formatTick),"ticks"in S&&n(18,A=S.ticks),"xTick"in S&&n(5,R=S.xTick),"yTick"in S&&n(6,w=S.yTick)},e.$$.update=()=>{e.$$.dirty&256&&n(7,i=typeof l.bandwidth=="function"),e.$$.dirty&262528&&n(9,r=Array.isArray(A)?A:i?l.domain():typeof A=="function"?A(l.ticks()):l.ticks(A))},[_,b,y,p,k,R,w,i,l,r,a,o,u,f,s,h,c,v,A]}class sf extends Se{constructor(t){super(),Ee(this,t,Xc,Uc,ke,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function so(e,t,n){const i=e.slice();return i[20]=t[n],i}function co(e){let t,n,i;return{c(){t=de("line"),this.h()},l(r){t=_e(r,"line",{class:!0,x2:!0,y1:!0,y2:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","gridline svelte-1d87mp0"),g(t,"x2","100%"),g(t,"y1",n=e[9]?e[10].bandwidth()/2:0),g(t,"y2",i=e[9]?e[10].bandwidth()/2:0)},m(r,l){x(r,t,l)},p(r,l){l&1536&&n!==(n=r[9]?r[10].bandwidth()/2:0)&&g(t,"y1",n),l&1536&&i!==(i=r[9]?r[10].bandwidth()/2:0)&&g(t,"y2",i)},d(r){r&&M(t)}}}function ho(e){let t,n,i,r;return{c(){t=de("line"),this.h()},l(l){t=_e(l,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","tick-mark svelte-1d87mp0"),g(t,"x1","0"),g(t,"x2",n=e[9]?-6:6),g(t,"y1",i=e[9]?e[10].bandwidth()/2:0),g(t,"y2",r=e[9]?e[10].bandwidth()/2:0)},m(l,a){x(l,t,a)},p(l,a){a&512&&n!==(n=l[9]?-6:6)&&g(t,"x2",n),a&1536&&i!==(i=l[9]?l[10].bandwidth()/2:0)&&g(t,"y1",i),a&1536&&r!==(r=l[9]?l[10].bandwidth()/2:0)&&g(t,"y2",r)},d(l){l&&M(t)}}}function _o(e,t){let n,i,r,l=t[2](t[20])+"",a,o,u,f,s,h,c=t[0]!==!1&&co(t),d=t[1]===!0&&ho(t);return{key:e,first:null,c(){n=de("g"),c&&c.c(),i=me(),d&&d.c(),r=de("text"),a=H(l),this.h()},l(_){n=_e(_,"g",{class:!0,transform:!0});var b=q(n);c&&c.l(b),i=me(),d&&d.l(b),r=_e(b,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var y=q(r);a=F(y,l),y.forEach(M),b.forEach(M),this.h()},h(){g(r,"x",t[3]),g(r,"y",o=t[9]?t[10].bandwidth()/2+t[4]:t[4]),g(r,"dx",u=t[9]?-9:t[5]),g(r,"dy",f=t[9]?4:t[6]),O(r,"text-anchor",t[9]?"end":t[8]),g(r,"class","svelte-1d87mp0"),g(n,"class",s="tick tick-"+t[20]+" svelte-1d87mp0"),g(n,"transform",h="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")"),this.first=n},m(_,b){x(_,n,b),c&&c.m(n,null),N(n,i),d&&d.m(n,null),N(n,r),N(r,a)},p(_,b){t=_,t[0]!==!1?c?c.p(t,b):(c=co(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),t[1]===!0?d?d.p(t,b):(d=ho(t),d.c(),d.m(n,r)):d&&(d.d(1),d=null),b&2052&&l!==(l=t[2](t[20])+"")&&ae(a,l),b&8&&g(r,"x",t[3]),b&1552&&o!==(o=t[9]?t[10].bandwidth()/2+t[4]:t[4])&&g(r,"y",o),b&544&&u!==(u=t[9]?-9:t[5])&&g(r,"dx",u),b&576&&f!==(f=t[9]?4:t[6])&&g(r,"dy",f),b&768&&O(r,"text-anchor",t[9]?"end":t[8]),b&2048&&s!==(s="tick tick-"+t[20]+" svelte-1d87mp0")&&g(n,"class",s),b&15872&&h!==(h="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")")&&g(n,"transform",h)},d(_){_&&M(n),c&&c.d(),d&&d.d()}}}function go(e){let t,n,i;return{c(){t=de("line"),this.h()},l(r){t=_e(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","baseline svelte-1d87mp0"),g(t,"y1","0"),g(t,"y2",e[14]),g(t,"x1",n=e[12].left),g(t,"x2",i=e[12].left)},m(r,l){x(r,t,l)},p(r,l){l&16384&&g(t,"y2",r[14]),l&4096&&n!==(n=r[12].left)&&g(t,"x1",n),l&4096&&i!==(i=r[12].left)&&g(t,"x2",i)},d(r){r&&M(t)}}}function Kc(e){let t,n=[],i=new Map,r,l,a=xe(e[11]);const o=f=>f[20];for(let f=0;f<a.length;f+=1){let s=so(e,a,f),h=o(s);i.set(h,n[f]=_o(h,s))}let u=e[7]===!0&&go(e);return{c(){t=de("g");for(let f=0;f<n.length;f+=1)n[f].c();r=me(),u&&u.c(),this.h()},l(f){t=_e(f,"g",{class:!0,transform:!0});var s=q(t);for(let h=0;h<n.length;h+=1)n[h].l(s);r=me(),u&&u.l(s),s.forEach(M),this.h()},h(){g(t,"class","axis y-axis"),g(t,"transform",l="translate("+-e[12].left+", 0)")},m(f,s){x(f,t,s);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(t,null);N(t,r),u&&u.m(t,null)},p(f,[s]){s&16255&&(a=xe(f[11]),n=Sl(n,s,o,1,f,a,i,t,kl,_o,r,so)),f[7]===!0?u?u.p(f,s):(u=go(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null),s&4096&&l!==(l="translate("+-f[12].left+", 0)")&&g(t,"transform",l)},i:Pe,o:Pe,d(f){f&&M(t);for(let s=0;s<n.length;s+=1)n[s].d();u&&u.d()}}}function Qc(e,t,n){let i,r,l,a,o,u;const{padding:f,xRange:s,yScale:h,height:c}=je("LayerCake");D(e,f,S=>n(12,a=S)),D(e,s,S=>n(13,o=S)),D(e,h,S=>n(10,l=S)),D(e,c,S=>n(14,u=S));let{gridlines:d=!0}=t,{tickMarks:_=!1}=t,{formatTick:b=S=>S}=t,{ticks:y=4}=t,{xTick:p=0}=t,{yTick:k=0}=t,{dxTick:A=0}=t,{dyTick:R=-4}=t,{baseline:w=!1}=t,{textAnchor:v="start"}=t;return e.$$set=S=>{"gridlines"in S&&n(0,d=S.gridlines),"tickMarks"in S&&n(1,_=S.tickMarks),"formatTick"in S&&n(2,b=S.formatTick),"ticks"in S&&n(19,y=S.ticks),"xTick"in S&&n(3,p=S.xTick),"yTick"in S&&n(4,k=S.yTick),"dxTick"in S&&n(5,A=S.dxTick),"dyTick"in S&&n(6,R=S.dyTick),"baseline"in S&&n(7,w=S.baseline),"textAnchor"in S&&n(8,v=S.textAnchor)},e.$$.update=()=>{e.$$.dirty&1024&&n(9,i=typeof l.bandwidth=="function"),e.$$.dirty&525824&&n(11,r=Array.isArray(y)?y:i?l.domain():typeof y=="function"?y(l.ticks()):l.ticks(y))},[d,_,b,p,k,A,R,w,v,i,l,r,a,o,u,f,s,h,c,y]}class Zc extends Se{constructor(t){super(),Ee(this,t,Qc,Kc,ke,{gridlines:0,tickMarks:1,formatTick:2,ticks:19,xTick:3,yTick:4,dxTick:5,dyTick:6,baseline:7,textAnchor:8})}}function Jc(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return cf(this.cover(t,n),t,n,e)}function cf(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,l=e._root,a={data:i},o=e._x0,u=e._y0,f=e._x1,s=e._y1,h,c,d,_,b,y,p,k;if(!l)return e._root=a,e;for(;l.length;)if((b=t>=(h=(o+f)/2))?o=h:f=h,(y=n>=(c=(u+s)/2))?u=c:s=c,r=l,!(l=l[p=y<<1|b]))return r[p]=a,e;if(d=+e._x.call(null,l.data),_=+e._y.call(null,l.data),t===d&&n===_)return a.next=l,r?r[p]=a:e._root=a,e;do r=r?r[p]=new Array(4):e._root=new Array(4),(b=t>=(h=(o+f)/2))?o=h:f=h,(y=n>=(c=(u+s)/2))?u=c:s=c;while((p=y<<1|b)===(k=(_>=c)<<1|d>=h));return r[k]=l,r[p]=a,e}function $c(e){var t,n,i=e.length,r,l,a=new Array(i),o=new Array(i),u=1/0,f=1/0,s=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(l=+this._y.call(null,t))||(a[n]=r,o[n]=l,r<u&&(u=r),r>s&&(s=r),l<f&&(f=l),l>h&&(h=l));if(u>s||f>h)return this;for(this.cover(u,f).cover(s,h),n=0;n<i;++n)cf(this,a[n],o[n],e[n]);return this}function eh(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,l=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,l=(i=Math.floor(t))+1;else{for(var a=r-n||1,o=this._root,u,f;n>e||e>=r||i>t||t>=l;)switch(f=(t<i)<<1|e<n,u=new Array(4),u[f]=o,o=u,a*=2,f){case 0:r=n+a,l=i+a;break;case 1:n=r-a,l=i+a;break;case 2:r=n+a,i=l-a;break;case 3:n=r-a,i=l-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=i,this._x1=r,this._y1=l,this}function th(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function nh(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function We(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r}function ih(e,t,n){var i,r=this._x0,l=this._y0,a,o,u,f,s=this._x1,h=this._y1,c=[],d=this._root,_,b;for(d&&c.push(new We(d,r,l,s,h)),n==null?n=1/0:(r=e-n,l=t-n,s=e+n,h=t+n,n*=n);_=c.pop();)if(!(!(d=_.node)||(a=_.x0)>s||(o=_.y0)>h||(u=_.x1)<r||(f=_.y1)<l))if(d.length){var y=(a+u)/2,p=(o+f)/2;c.push(new We(d[3],y,p,u,f),new We(d[2],a,p,y,f),new We(d[1],y,o,u,p),new We(d[0],a,o,y,p)),(b=(t>=p)<<1|e>=y)&&(_=c[c.length-1],c[c.length-1]=c[c.length-1-b],c[c.length-1-b]=_)}else{var k=e-+this._x.call(null,d.data),A=t-+this._y.call(null,d.data),R=k*k+A*A;if(R<n){var w=Math.sqrt(n=R);r=e-w,l=t-w,s=e+w,h=t+w,i=d.data}}return i}function rh(e){if(isNaN(s=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,i,r,l,a=this._x0,o=this._y0,u=this._x1,f=this._y1,s,h,c,d,_,b,y,p;if(!n)return this;if(n.length)for(;;){if((_=s>=(c=(a+u)/2))?a=c:u=c,(b=h>=(d=(o+f)/2))?o=d:f=d,t=n,!(n=n[y=b<<1|_]))return this;if(!n.length)break;(t[y+1&3]||t[y+2&3]||t[y+3&3])&&(i=t,p=y)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,r?(l?r.next=l:delete r.next,this):t?(l?t[y]=l:delete t[y],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(i?i[p]=n:this._root=n),this):(this._root=l,this)}function lh(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function ah(){return this._root}function oh(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function fh(e){var t=[],n,i=this._root,r,l,a,o,u;for(i&&t.push(new We(i,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(i=n.node,l=n.x0,a=n.y0,o=n.x1,u=n.y1)&&i.length){var f=(l+o)/2,s=(a+u)/2;(r=i[3])&&t.push(new We(r,f,s,o,u)),(r=i[2])&&t.push(new We(r,l,s,f,u)),(r=i[1])&&t.push(new We(r,f,a,o,s)),(r=i[0])&&t.push(new We(r,l,a,f,s))}return this}function uh(e){var t=[],n=[],i;for(this._root&&t.push(new We(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var r=i.node;if(r.length){var l,a=i.x0,o=i.y0,u=i.x1,f=i.y1,s=(a+u)/2,h=(o+f)/2;(l=r[0])&&t.push(new We(l,a,o,s,h)),(l=r[1])&&t.push(new We(l,s,o,u,h)),(l=r[2])&&t.push(new We(l,a,h,s,f)),(l=r[3])&&t.push(new We(l,s,h,u,f))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function sh(e){return e[0]}function ch(e){return arguments.length?(this._x=e,this):this._x}function hh(e){return e[1]}function dh(e){return arguments.length?(this._y=e,this):this._y}function hf(e,t,n){var i=new Il(t??sh,n??hh,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Il(e,t,n,i,r,l){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=l,this._root=void 0}function mo(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ye=hf.prototype=Il.prototype;Ye.copy=function(){var e=new Il(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,i;if(!t)return e;if(!t.length)return e._root=mo(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var r=0;r<4;++r)(i=t.source[r])&&(i.length?n.push({source:i,target:t.target[r]=new Array(4)}):t.target[r]=mo(i));return e};Ye.add=Jc;Ye.addAll=$c;Ye.cover=eh;Ye.data=th;Ye.extent=nh;Ye.find=ih;Ye.remove=rh;Ye.removeAll=lh;Ye.root=ah;Ye.size=oh;Ye.visit=fh;Ye.visitAfter=uh;Ye.x=ch;Ye.y=dh;const _h=e=>({x:e&9,y:e&5,found:e&1,visible:e&16,e:e&32}),yo=e=>({x:e[3](e[0])||0,y:e[2](e[0])||0,found:e[0],visible:e[4],e:e[5]});function gh(e){let t,n,i,r,l;const a=e[23].default,o=bt(a,e,e[22],yo);return{c(){t=W("div"),n=Z(),o&&o.c(),this.h()},l(u){t=Y(u,"DIV",{class:!0}),q(t).forEach(M),n=J(u),o&&o.l(u),this.h()},h(){g(t,"class","bg svelte-19xh5jy")},m(u,f){x(u,t,f),x(u,n,f),o&&o.m(u,f),i=!0,r||(l=[Re(t,"mousemove",e[12]),Re(t,"mouseout",e[24]),Re(t,"blur",e[25])],r=!0)},p(u,[f]){o&&o.p&&(!i||f&4194365)&&pt(o,a,u,u[22],i?vt(a,u[22],f,_h):wt(u[22]),yo)},i(u){i||(U(o,u),i=!0)},o(u){K(o,u),i=!1},d(u){u&&(M(t),M(n)),o&&o.d(u),r=!1,$t(l)}}}function mh(e,t,n){let i,r,l,a,o,u,f,s,h;D(e,Sn,E=>n(6,f=E));let{$$slots:c={},$$scope:d}=t;const{data:_,xGet:b,yGet:y,width:p,height:k,padding:A}=je("LayerCake");D(e,_,E=>n(17,a=E)),D(e,b,E=>n(20,s=E)),D(e,y,E=>n(21,h=E)),D(e,p,E=>n(19,u=E)),D(e,k,E=>n(18,o=E));let R=!1,w={},{x:v="x"}=t,{y:S="y"}=t,{searchRadius:I=200}=t,{dataset:G=void 0}=t,{saveYear:j=!1}=t,{found:P={}}=t;function B(E){n(5,w=E);const z=`layer${v.toUpperCase()}`,V=`layer${S.toUpperCase()}`;n(0,P=l.find(E[z],E[V],I)||{}),n(4,R=Object.keys(P).length>0),j&&Q(Sn,f=(P==null?void 0:P.year)||"",f)}const C=()=>{n(4,R=!1),n(0,P={}),j&&Q(Sn,f="",f)},T=()=>n(4,R=!1);return e.$$set=E=>{"x"in E&&n(13,v=E.x),"y"in E&&n(14,S=E.y),"searchRadius"in E&&n(15,I=E.searchRadius),"dataset"in E&&n(16,G=E.dataset),"saveYear"in E&&n(1,j=E.saveYear),"found"in E&&n(0,P=E.found),"$$scope"in E&&n(22,d=E.$$scope)},e.$$.update=()=>{e.$$.dirty&3153920&&n(3,i=v==="x"?s:h),e.$$.dirty&3162112&&n(2,r=S==="y"?h:s),e.$$.dirty&983052&&(l=hf().extent([[-1,-1],[u+1,o+1]]).x(i).y(r).addAll(G||a))},[P,j,r,i,R,w,f,_,b,y,p,k,B,v,S,I,G,a,o,u,s,h,d,c,C,T]}class yh extends Se{constructor(t){super(),Ee(this,t,mh,gh,ke,{x:13,y:14,searchRadius:15,dataset:16,saveYear:1,found:0})}}function bh(e){let t,n=e[0].bad_air_days+"",i,r=`${e[1](e[0])}px`,l=`${e[2](e[0])}px`,a,o;return{c(){t=W("p"),i=H(n),a=Z(),o=W("p"),this.h()},l(u){t=Y(u,"P",{class:!0});var f=q(t);i=F(f,n),f.forEach(M),a=J(u),o=Y(u,"P",{class:!0}),q(o).forEach(M),this.h()},h(){g(t,"class","svelte-ntn3t"),O(t,"top",r),O(t,"left",l),g(o,"class","svelte-ntn3t")},m(u,f){x(u,t,f),N(t,i),x(u,a,f),x(u,o,f)},p(u,[f]){f&1&&n!==(n=u[0].bad_air_days+"")&&ae(i,n),f&3&&r!==(r=`${u[1](u[0])}px`)&&O(t,"top",r),f&5&&l!==(l=`${u[2](u[0])}px`)&&O(t,"left",l)},i:Pe,o:Pe,d(u){u&&(M(t),M(a),M(o))}}}function ph(e,t,n){let i,r,l,a,o,u;D(e,ht,p=>n(8,l=p));const{data:f,width:s,heigh:h,xGet:c,yGet:d,yScale:_,xScale:b}=je("LayerCake");D(e,f,p=>n(9,a=p)),D(e,c,p=>n(2,u=p)),D(e,d,p=>n(1,o=p));let{found:y}=t;return e.$$set=p=>{"found"in p&&n(6,y=p.found)},e.$$.update=()=>{e.$$.dirty&768&&n(7,i=a.find(p=>p.code===l.value)),e.$$.dirty&192&&n(0,r=y&&Object.keys(y).length?y:i)},[r,o,u,f,c,d,y,i,l,a]}class wh extends Se{constructor(t){super(),Ee(this,t,ph,bh,ke,{found:6})}}const vh=e=>({x:e&9,y:e&5,found:e&1,visible:e&2}),bo=e=>({x:e[3](e[0])||0,y:e[2](e[0])||0,found:e[0],visible:e[1],e:e[8]});function kh(e){let t,n,i,r,l;const a=e[18].default,o=bt(a,e,e[17],bo);return{c(){t=W("div"),n=Z(),o&&o.c(),this.h()},l(u){t=Y(u,"DIV",{class:!0}),q(t).forEach(M),n=J(u),o&&o.l(u),this.h()},h(){g(t,"class","bg svelte-19xh5jy")},m(u,f){x(u,t,f),x(u,n,f),o&&o.m(u,f),i=!0,r||(l=[Re(t,"mousemove",e[9]),Re(t,"mouseout",e[19]),Re(t,"blur",e[20])],r=!0)},p(u,[f]){o&&o.p&&(!i||f&131087)&&pt(o,a,u,u[17],i?vt(a,u[17],f,vh):wt(u[17]),bo)},i(u){i||(U(o,u),i=!0)},o(u){K(o,u),i=!1},d(u){u&&(M(t),M(n)),o&&o.d(u),r=!1,$t(l)}}}function Sh(e,t,n){let i,r,l,a,o,u,{$$slots:f={},$$scope:s}=t;const{data:h,xGet:c,yGet:d,xScale:_,yScale:b,width:y,height:p,padding:k}=je("LayerCake");D(e,h,T=>n(21,l=T)),D(e,c,T=>n(15,o=T)),D(e,d,T=>n(16,u=T)),D(e,_,T=>n(22,a=T));let A=!1,R={},{x:w="x"}=t,{y:v="y"}=t,{searchRadius:S=200}=t,{dataset:I=void 0}=t,{saveYear:G=!1}=t,{found:j={}}=t;function P(T){const E=T.layerX,z=a.domain(),V=a.range(),X=a.bandwidth(),$=Math.abs(Math.floor((V[1]-E)/X)),le=z.length-1-$;if(le>=0&&le<z.length){const ne=z[le];n(0,j=l.find(ye=>ye.name===ne))}}const B=()=>{n(1,A=!1),n(0,j={})},C=()=>n(1,A=!1);return e.$$set=T=>{"x"in T&&n(10,w=T.x),"y"in T&&n(11,v=T.y),"searchRadius"in T&&n(12,S=T.searchRadius),"dataset"in T&&n(13,I=T.dataset),"saveYear"in T&&n(14,G=T.saveYear),"found"in T&&n(0,j=T.found),"$$scope"in T&&n(17,s=T.$$scope)},e.$$.update=()=>{e.$$.dirty&99328&&n(3,i=w==="x"?o:u),e.$$.dirty&100352&&n(2,r=v==="y"?u:o)},[j,A,r,i,h,c,d,_,R,P,w,v,S,I,G,o,u,s,f,B,C]}class Eh extends Se{constructor(t){super(),Ee(this,t,Sh,kh,ke,{x:10,y:11,searchRadius:12,dataset:13,saveYear:14,found:0})}}function Mh(e){let t,n,i,r;return t=new Vc({props:{fillFunction:e[3]}}),i=new sf({props:{gridlines:!1,ticks:e[2],tickMarks:!0}}),{c(){ue(t.$$.fragment),n=Z(),ue(i.$$.fragment)},l(l){se(t.$$.fragment,l),n=J(l),se(i.$$.fragment,l)},m(l,a){ce(t,l,a),x(l,n,a),ce(i,l,a),r=!0},p(l,a){const o={};a&8&&(o.fillFunction=l[3]),t.$set(o);const u={};a&4&&(u.ticks=l[2]),i.$set(u)},i(l){r||(U(t.$$.fragment,l),U(i.$$.fragment,l),r=!0)},o(l){K(t.$$.fragment,l),K(i.$$.fragment,l),r=!1},d(l){l&&M(n),he(t,l),he(i,l)}}}function Nh(e){let t,n,i,r,l;t=new wh({props:{found:e[1]}});function a(u){e[6](u)}let o={};return e[1]!==void 0&&(o.found=e[1]),i=new Eh({props:o}),St.push(()=>vl(i,"found",a)),{c(){ue(t.$$.fragment),n=Z(),ue(i.$$.fragment)},l(u){se(t.$$.fragment,u),n=J(u),se(i.$$.fragment,u)},m(u,f){ce(t,u,f),x(u,n,f),ce(i,u,f),l=!0},p(u,f){const s={};f&2&&(s.found=u[1]),t.$set(s);const h={};!r&&f&2&&(r=!0,h.found=u[1],wl(()=>r=!1)),i.$set(h)},i(u){l||(U(t.$$.fragment,u),U(i.$$.fragment,u),l=!0)},o(u){K(t.$$.fragment,u),K(i.$$.fragment,u),l=!1},d(u){u&&M(n),he(t,u),he(i,u)}}}function Rh(e){let t,n,i,r;return t=new Dl({props:{$$slots:{default:[Mh]},$$scope:{ctx:e}}}),i=new pr({props:{$$slots:{default:[Nh]},$$scope:{ctx:e}}}),{c(){ue(t.$$.fragment),n=Z(),ue(i.$$.fragment)},l(l){se(t.$$.fragment,l),n=J(l),se(i.$$.fragment,l)},m(l,a){ce(t,l,a),x(l,n,a),ce(i,l,a),r=!0},p(l,a){const o={};a&140&&(o.$$scope={dirty:a,ctx:l}),t.$set(o);const u={};a&130&&(u.$$scope={dirty:a,ctx:l}),i.$set(u)},i(l){r||(U(t.$$.fragment,l),U(i.$$.fragment,l),r=!0)},o(l){K(t.$$.fragment,l),K(i.$$.fragment,l),r=!1},d(l){l&&M(n),he(t,l),he(i,l)}}}function zh(e){let t,n,i;return n=new Al({props:{padding:{top:0,right:0,bottom:20,left:0},x:Ah,y:Dh,xScale:El().paddingInner(.01),yDomain:[0,null],data:e[0],xReverse:!0,$$slots:{default:[Rh]},$$scope:{ctx:e}}}),{c(){t=W("div"),ue(n.$$.fragment),this.h()},l(r){t=Y(r,"DIV",{class:!0});var l=q(t);se(n.$$.fragment,l),l.forEach(M),this.h()},h(){g(t,"class","chart-container svelte-30i632")},m(r,l){x(r,t,l),ce(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&142&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(U(n.$$.fragment,r),i=!0)},o(r){K(n.$$.fragment,r),i=!1},d(r){r&&M(t),he(n)}}}const Ah="name",Dh="bad_air_days";function Ph(e,t,n){let i,r;D(e,ht,s=>n(5,r=s));let{data:l}=t,{index_of_selected:a}=t,o,u;function f(s){u=s,n(1,u)}return e.$$set=s=>{"data"in s&&n(0,l=s.data),"index_of_selected"in s&&n(4,a=s.index_of_selected)},e.$$.update=()=>{e.$$.dirty&34&&(u&&Object.keys(u).length?n(2,o=[u.name]):n(2,o=[r.label])),e.$$.dirty&34&&n(3,i=s=>{if(u&&Object.keys(u).length){if(s.code===u.code)return"var(--primary)"}else if(s.code===r.value)return"var(--primary)";return"var(--secondary)"})},[l,u,o,i,a,r,f]}class Ch extends Se{constructor(t){super(),Ee(this,t,Ph,zh,ke,{data:0,index_of_selected:4})}}function Th(e){let t;return{c(){t=de("path"),this.h()},l(n){t=_e(n,"path",{class:!0,d:!0,stroke:!0,opacity:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","path-line svelte-1a99x5h"),g(t,"d",e[2]),g(t,"stroke",e[0]),g(t,"opacity",e[1])},m(n,i){x(n,t,i)},p(n,[i]){i&4&&g(t,"d",n[2]),i&1&&g(t,"stroke",n[0]),i&2&&g(t,"opacity",n[1])},i:Pe,o:Pe,d(n){n&&M(t)}}}function Ih(e,t,n){let i,r,l,a;const{data:o,xGet:u,yGet:f}=je("LayerCake");D(e,o,c=>n(8,a=c)),D(e,u,c=>n(7,l=c)),D(e,f,c=>n(6,r=c));let{stroke:s="#ab00d6"}=t,{opacity:h=1}=t;return e.$$set=c=>{"stroke"in c&&n(0,s=c.stroke),"opacity"in c&&n(1,h=c.opacity)},e.$$.update=()=>{e.$$.dirty&448&&n(2,i="M"+a.map(c=>l(c)+","+r(c)).join("L"))},[s,h,i,o,u,f,r,l,a]}class Lh extends Se{constructor(t){super(),Ee(this,t,Ih,Th,ke,{stroke:0,opacity:1})}}function po(e,t,n){const i=e.slice();return i[14]=t[n],i[16]=n,i}function wo(e){var R,w;let t,n=((R=e[14])==null?void 0:R.bad_air_days)+"",i,r=e[16]!==0?"days":"",l,a,o,u,f,s=((w=e[14])==null?void 0:w.bad_air_days)+"",h,c=e[16]!==0?" days":"",d,_,b,y,p,k,A;return{c(){t=de("text"),i=H(n),l=H(r),u=Z(),f=de("text"),h=H(s),d=H(c),y=Z(),p=de("circle"),this.h()},l(v){t=_e(v,"text",{x:!0,y:!0,class:!0});var S=q(t);i=F(S,n),l=F(S,r),S.forEach(M),u=J(v),f=_e(v,"text",{x:!0,y:!0,class:!0});var I=q(f);h=F(I,s),d=F(I,c),I.forEach(M),y=J(v),p=_e(v,"circle",{r:!0,fill:!0,cx:!0,cy:!0}),q(p).forEach(M),this.h()},h(){g(t,"x",a=e[2](e[14])),g(t,"y",o=e[3](e[14])-16),g(t,"class","bg svelte-7mghxg"),g(f,"x",_=e[2](e[14])),g(f,"y",b=e[3](e[14])-16),g(f,"class","svelte-7mghxg"),g(p,"r","6"),g(p,"fill",e[0]),g(p,"cx",k=e[2](e[14])),g(p,"cy",A=e[3](e[14]))},m(v,S){x(v,t,S),N(t,i),N(t,l),x(v,u,S),x(v,f,S),N(f,h),N(f,d),x(v,y,S),x(v,p,S)},p(v,S){var I,G;S&2&&n!==(n=((I=v[14])==null?void 0:I.bad_air_days)+"")&&ae(i,n),S&6&&a!==(a=v[2](v[14]))&&g(t,"x",a),S&10&&o!==(o=v[3](v[14])-16)&&g(t,"y",o),S&2&&s!==(s=((G=v[14])==null?void 0:G.bad_air_days)+"")&&ae(h,s),S&6&&_!==(_=v[2](v[14]))&&g(f,"x",_),S&10&&b!==(b=v[3](v[14])-16)&&g(f,"y",b),S&1&&g(p,"fill",v[0]),S&6&&k!==(k=v[2](v[14]))&&g(p,"cx",k),S&10&&A!==(A=v[3](v[14]))&&g(p,"cy",A)},d(v){v&&(M(t),M(u),M(f),M(y),M(p))}}}function qh(e){let t,n=xe(e[1]),i=[];for(let r=0;r<n.length;r+=1)i[r]=wo(po(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=me()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=me()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);x(r,t,l)},p(r,[l]){if(l&15){n=xe(r[1]);let a;for(a=0;a<n.length;a+=1){const o=po(r,n,a);i[a]?i[a].p(o,l):(i[a]=wo(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i:Pe,o:Pe,d(r){r&&M(t),hi(i,r)}}}function Gh(e,t,n){let i,r,l,a,o,u,f;D(e,Sn,p=>n(12,o=p));const{data:s,xGet:h,yGet:c,xScale:d}=je("LayerCake");D(e,s,p=>n(11,a=p)),D(e,h,p=>n(2,u=p)),D(e,c,p=>n(3,f=p));let{comparison_year:_}=t,{fill:b="#ab00d6"}=t,{stroke:y="#ab00d6"}=t;return e.$$set=p=>{"comparison_year"in p&&n(7,_=p.comparison_year),"fill"in p&&n(0,b=p.fill),"stroke"in p&&n(8,y=p.stroke)},e.$$.update=()=>{e.$$.dirty&4224&&n(10,i=o||_),e.$$.dirty&1024&&n(9,r=[i,2022]),e.$$.dirty&2560&&n(1,l=a.filter(p=>r.includes(p.year)))},[b,l,u,f,s,h,c,_,y,r,i,a,o]}class jh extends Se{constructor(t){super(),Ee(this,t,Gh,qh,ke,{comparison_year:7,fill:0,stroke:8})}}function xh(e){let t,n,i,r;return{c(){t=de("defs"),n=de("linearGradient"),i=de("stop"),r=de("stop"),this.h()},l(l){t=_e(l,"defs",{});var a=q(t);n=_e(a,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var o=q(n);i=_e(o,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),q(i).forEach(M),r=_e(o,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),q(r).forEach(M),o.forEach(M),a.forEach(M),this.h()},h(){g(i,"offset",e[1]),g(i,"stop-color",e[0]),g(i,"stop-opacity","0.25"),g(r,"offset",e[1]),g(r,"stop-color",e[0]),g(r,"stop-opacity","1"),g(n,"id","line-gradient"),g(n,"x1","0%"),g(n,"y1","0%"),g(n,"x2","100%"),g(n,"y2","0%")},m(l,a){x(l,t,a),N(t,n),N(n,i),N(n,r)},p(l,[a]){a&2&&g(i,"offset",l[1]),a&1&&g(i,"stop-color",l[0]),a&2&&g(r,"offset",l[1]),a&1&&g(r,"stop-color",l[0])},i:Pe,o:Pe,d(l){l&&M(t)}}}function Bh(e,t,n){let i,r,l,a,o,u;D(e,Sn,R=>n(7,o=R));const{data:f,xGet:s,yGet:h,xScale:c,yScale:d,x:_,zGet:b,zScale:y,height:p}=je("LayerCake");D(e,f,R=>n(8,u=R));let{yearOfInterest:k=2008}=t,{accentColor:A}=t;return e.$$set=R=>{"yearOfInterest"in R&&n(3,k=R.yearOfInterest),"accentColor"in R&&n(0,A=R.accentColor)},e.$$.update=()=>{e.$$.dirty&256&&n(5,i=Af(u,R=>R.year)),e.$$.dirty&32&&n(4,r=i[1]-i[0]),e.$$.dirty&136&&n(6,l=o||k),e.$$.dirty&112&&n(1,a=(l-i[0])/r)},[A,a,f,k,r,i,l,o,u]}class Oh extends Se{constructor(t){super(),Ee(this,t,Bh,xh,ke,{yearOfInterest:3,accentColor:0})}}function Hh(e){let t,n,i,r,l,a,o,u,f,s;return t=new sf({props:{gridlines:!1,ticks:e[2],baseline:!0}}),i=new Zc({props:{gridlines:!1,baseline:!0,ticks:5}}),l=new Oh({props:{yearOfInterest:e[1],accentColor:"var(--secondary)"}}),o=new Lh({props:{stroke:"url(#line-gradient)"}}),f=new jh({props:{fill:"var(--secondary)",stroke:"var(--secondary)",comparison_year:e[1]}}),{c(){ue(t.$$.fragment),n=Z(),ue(i.$$.fragment),r=Z(),ue(l.$$.fragment),a=Z(),ue(o.$$.fragment),u=Z(),ue(f.$$.fragment)},l(h){se(t.$$.fragment,h),n=J(h),se(i.$$.fragment,h),r=J(h),se(l.$$.fragment,h),a=J(h),se(o.$$.fragment,h),u=J(h),se(f.$$.fragment,h)},m(h,c){ce(t,h,c),x(h,n,c),ce(i,h,c),x(h,r,c),ce(l,h,c),x(h,a,c),ce(o,h,c),x(h,u,c),ce(f,h,c),s=!0},p(h,c){const d={};c&4&&(d.ticks=h[2]),t.$set(d);const _={};c&2&&(_.yearOfInterest=h[1]),l.$set(_);const b={};c&2&&(b.comparison_year=h[1]),f.$set(b)},i(h){s||(U(t.$$.fragment,h),U(i.$$.fragment,h),U(l.$$.fragment,h),U(o.$$.fragment,h),U(f.$$.fragment,h),s=!0)},o(h){K(t.$$.fragment,h),K(i.$$.fragment,h),K(l.$$.fragment,h),K(o.$$.fragment,h),K(f.$$.fragment,h),s=!1},d(h){h&&(M(n),M(r),M(a),M(u)),he(t,h),he(i,h),he(l,h),he(o,h),he(f,h)}}}function Fh(e){let t;return{c(){t=W("div"),this.h()},l(n){t=Y(n,"DIV",{class:!0,style:!0}),q(t).forEach(M),this.h()},h(){g(t,"class","circle svelte-10y7u41"),O(t,"top",e[8]+"px"),O(t,"left",e[7]+"px"),O(t,"display",e[9]?"block":"none")},m(n,i){x(n,t,i)},p(n,i){i&256&&O(t,"top",n[8]+"px"),i&128&&O(t,"left",n[7]+"px"),i&512&&O(t,"display",n[9]?"block":"none")},d(n){n&&M(t)}}}function Wh(e){let t,n;return t=new yh({props:{saveYear:!0,$$slots:{default:[Fh,({x:i,y:r,visible:l,found:a})=>({7:i,8:r,9:l,10:a}),({x:i,y:r,visible:l,found:a})=>(i?128:0)|(r?256:0)|(l?512:0)|(a?1024:0)]},$$scope:{ctx:e}}}),{c(){ue(t.$$.fragment)},l(i){se(t.$$.fragment,i)},m(i,r){ce(t,i,r),n=!0},p(i,r){const l={};r&2944&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(U(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){he(t,i)}}}function Yh(e){let t,n,i,r;return t=new Dl({props:{$$slots:{default:[Hh]},$$scope:{ctx:e}}}),i=new pr({props:{$$slots:{default:[Wh]},$$scope:{ctx:e}}}),{c(){ue(t.$$.fragment),n=Z(),ue(i.$$.fragment)},l(l){se(t.$$.fragment,l),n=J(l),se(i.$$.fragment,l)},m(l,a){ce(t,l,a),x(l,n,a),ce(i,l,a),r=!0},p(l,a){const o={};a&2054&&(o.$$scope={dirty:a,ctx:l}),t.$set(o);const u={};a&2048&&(u.$$scope={dirty:a,ctx:l}),i.$set(u)},i(l){r||(U(t.$$.fragment,l),U(i.$$.fragment,l),r=!0)},o(l){K(t.$$.fragment,l),K(i.$$.fragment,l),r=!1},d(l){l&&M(n),he(t,l),he(i,l)}}}function Vh(e){let t,n,i;return n=new Al({props:{x:Uh,y:df,xScale:El().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xPadding:[ar,ar],yPadding:[ar,ar],padding:{top:0,right:5,bottom:20,left:25},$$slots:{default:[Yh]},$$scope:{ctx:e}}}),{c(){t=W("div"),ue(n.$$.fragment),this.h()},l(r){t=Y(r,"DIV",{class:!0});var l=q(t);se(n.$$.fragment,l),l.forEach(M),this.h()},h(){g(t,"class","chart-container svelte-10y7u41")},m(r,l){x(r,t,l),ce(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&2054&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(U(n.$$.fragment,r),i=!0)},o(r){K(n.$$.fragment,r),i=!1},d(r){r&&M(t),he(n)}}}const Uh="year",df="bad_air_days",ar=6;function Xh(e,t,n){let i,r,l;D(e,Sn,f=>n(5,l=f));let{data:a}=t,{comparison_year:o}=t,{comparison_age:u}=t;return e.$$set=f=>{"data"in f&&n(0,a=f.data),"comparison_year"in f&&n(1,o=f.comparison_year),"comparison_age"in f&&n(3,u=f.comparison_age)},e.$$.update=()=>{e.$$.dirty&34&&n(4,i=l||o),e.$$.dirty&1&&el(a.map(f=>f[df])),e.$$.dirty&16&&n(2,r=[...new Set([1980,i,2022])])},[a,o,r,u,i,l]}class Kh extends Se{constructor(t){super(),Ee(this,t,Xh,Vh,ke,{data:0,comparison_year:1,comparison_age:3})}}function Qh(e){let t,n,i='<h2 class="svelte-1tce3u7">Is this typical?</h2> <p class="subtitle svelte-1tce3u7">You be the judge.</p>',r,l,a,o="2022",u,f,s=e[0][e[1]].name+"",h,c,d=e[0][e[1]].bad_air_days+"",_,b,y,p,k,A,R=e[9](e[0][e[1]].bad_air_days)+"",w,v,S,I,G,j,P,B,C,T,E,z,V=oi?`When you were ${ai} years old`:"20 years ago",X,$,le,ne,ye,L,ie,ze,Ce=e[4].label+"",ee,ge,Ne,Te,Ve,$e,we=oi?`when you were ${ai} years old`:"20 years ago",et,rt,Et,Be,Ke,en,Tt=e[8]>e[7]?"fewer":"more",Ht,tn,Ft,nn,rn,Qe,ln,It=e[6].year+"",an,on,Wt=e[6].bad_air_days+"",Lt,fn,un,Ze,qe;I=new Ch({props:{data:e[0],index_of_selected:e[1]}});function An(te){e[14](te)}let Mt={name:"How old are you?",data:e[10],updateAge:!0};return e[5]!==void 0&&(Mt.selected=e[5]),ne=new uf({props:Mt}),St.push(()=>vl(ne,"selected",An)),Ze=new Kh({props:{data:e[2],comparison_year:e[3],comparison_age:ai}}),{c(){t=W("section"),n=W("div"),n.innerHTML=i,r=Z(),l=W("div"),a=W("h3"),a.textContent=o,u=Z(),f=W("p"),h=H(s),c=H(" experienced "),_=H(d),b=H(" days with bad air quality in 2022."),y=Z(),p=W("ul"),k=W("li"),A=H("This is "),w=H(R),v=H(` compared
				to all other cities in our data.`),S=Z(),ue(I.$$.fragment),G=Z(),j=W("hr"),P=Z(),B=W("div"),C=W("h3"),T=H(e[3]),E=Z(),z=W("p"),X=H(V),$=Z(),le=W("div"),ue(ne.$$.fragment),L=Z(),ie=W("p"),ze=W("strong"),ee=H(Ce),ge=H(` experienced
			`),Ne=W("strong"),Te=H(e[8]),Ve=H(" bad air quality days"),$e=Z(),et=H(we),rt=H("."),Et=Z(),Be=W("ul"),Ke=W("li"),en=H("There are "),Ht=H(Tt),tn=H(` poor air quality
				days now than there were in `),Ft=H(e[3]),nn=H("."),rn=Z(),Qe=W("li"),ln=H("The highest on record was in "),an=H(It),on=H(" when there were "),Lt=H(Wt),fn=H(`
				poor air quality days reported.`),un=Z(),ue(Ze.$$.fragment),this.h()},l(te){t=Y(te,"SECTION",{class:!0});var be=q(t);n=Y(be,"DIV",{class:!0,"data-svelte-h":!0}),Kt(n)!=="svelte-1wgwpos"&&(n.innerHTML=i),r=J(be),l=Y(be,"DIV",{class:!0});var Ie=q(l);a=Y(Ie,"H3",{class:!0,"data-svelte-h":!0}),Kt(a)!=="svelte-1rc7x6b"&&(a.textContent=o),u=J(Ie),f=Y(Ie,"P",{class:!0});var Oe=q(f);h=F(Oe,s),c=F(Oe," experienced "),_=F(Oe,d),b=F(Oe," days with bad air quality in 2022."),Oe.forEach(M),y=J(Ie),p=Y(Ie,"UL",{class:!0});var Je=q(p);k=Y(Je,"LI",{class:!0});var lt=q(k);A=F(lt,"This is "),w=F(lt,R),v=F(lt,` compared
				to all other cities in our data.`),lt.forEach(M),Je.forEach(M),S=J(Ie),se(I.$$.fragment,Ie),Ie.forEach(M),G=J(be),j=Y(be,"HR",{class:!0}),P=J(be),B=Y(be,"DIV",{class:!0});var Le=q(B);C=Y(Le,"H3",{class:!0});var Nt=q(C);T=F(Nt,e[3]),Nt.forEach(M),E=J(Le),z=Y(Le,"P",{class:!0});var Rt=q(z);X=F(Rt,V),Rt.forEach(M),$=J(Le),le=Y(Le,"DIV",{class:!0});var zt=q(le);se(ne.$$.fragment,zt),zt.forEach(M),L=J(Le),ie=Y(Le,"P",{class:!0});var Ue=q(ie);ze=Y(Ue,"STRONG",{});var Yt=q(ze);ee=F(Yt,Ce),Yt.forEach(M),ge=F(Ue,` experienced
			`),Ne=Y(Ue,"STRONG",{});var qt=q(Ne);Te=F(qt,e[8]),Ve=F(qt," bad air quality days"),qt.forEach(M),$e=J(Ue),et=F(Ue,we),rt=F(Ue,"."),Ue.forEach(M),Et=J(Le),Be=Y(Le,"UL",{class:!0});var At=q(Be);Ke=Y(At,"LI",{class:!0});var at=q(Ke);en=F(at,"There are "),Ht=F(at,Tt),tn=F(at,` poor air quality
				days now than there were in `),Ft=F(at,e[3]),nn=F(at,"."),at.forEach(M),rn=J(At),Qe=Y(At,"LI",{class:!0});var ot=q(Qe);ln=F(ot,"The highest on record was in "),an=F(ot,It),on=F(ot," when there were "),Lt=F(ot,Wt),fn=F(ot,`
				poor air quality days reported.`),ot.forEach(M),At.forEach(M),un=J(Le),se(Ze.$$.fragment,Le),Le.forEach(M),be.forEach(M),this.h()},h(){g(n,"class","contents svelte-1tce3u7"),g(a,"class","rail svelte-1tce3u7"),g(f,"class","prose"),g(k,"class","svelte-1tce3u7"),g(p,"class","svelte-1tce3u7"),g(l,"class","latest block svelte-1tce3u7"),g(j,"class","svelte-1tce3u7"),g(C,"class","rail svelte-1tce3u7"),g(z,"class","rail__context svelte-1tce3u7"),g(le,"class","age"),g(ie,"class","prose"),g(Ke,"class","svelte-1tce3u7"),g(Qe,"class","svelte-1tce3u7"),g(Be,"class","svelte-1tce3u7"),g(B,"class","past block svelte-1tce3u7"),g(t,"class","svelte-1tce3u7")},m(te,be){x(te,t,be),N(t,n),N(t,r),N(t,l),N(l,a),N(l,u),N(l,f),N(f,h),N(f,c),N(f,_),N(f,b),N(l,y),N(l,p),N(p,k),N(k,A),N(k,w),N(k,v),N(l,S),ce(I,l,null),N(t,G),N(t,j),N(t,P),N(t,B),N(B,C),N(C,T),N(B,E),N(B,z),N(z,X),N(B,$),N(B,le),ce(ne,le,null),N(B,L),N(B,ie),N(ie,ze),N(ze,ee),N(ie,ge),N(ie,Ne),N(Ne,Te),N(Ne,Ve),N(ie,$e),N(ie,et),N(ie,rt),N(B,Et),N(B,Be),N(Be,Ke),N(Ke,en),N(Ke,Ht),N(Ke,tn),N(Ke,Ft),N(Ke,nn),N(Be,rn),N(Be,Qe),N(Qe,ln),N(Qe,an),N(Qe,on),N(Qe,Lt),N(Qe,fn),N(B,un),ce(Ze,B,null),qe=!0},p(te,[be]){(!qe||be&3)&&s!==(s=te[0][te[1]].name+"")&&ae(h,s),(!qe||be&3)&&d!==(d=te[0][te[1]].bad_air_days+"")&&ae(_,d),(!qe||be&3)&&R!==(R=te[9](te[0][te[1]].bad_air_days)+"")&&ae(w,R);const Ie={};be&1&&(Ie.data=te[0]),be&2&&(Ie.index_of_selected=te[1]),I.$set(Ie),(!qe||be&8)&&ae(T,te[3]);const Oe={};!ye&&be&32&&(ye=!0,Oe.selected=te[5],wl(()=>ye=!1)),ne.$set(Oe),(!qe||be&16)&&Ce!==(Ce=te[4].label+"")&&ae(ee,Ce),(!qe||be&256)&&ae(Te,te[8]),(!qe||be&384)&&Tt!==(Tt=te[8]>te[7]?"fewer":"more")&&ae(Ht,Tt),(!qe||be&8)&&ae(Ft,te[3]),(!qe||be&64)&&It!==(It=te[6].year+"")&&ae(an,It),(!qe||be&64)&&Wt!==(Wt=te[6].bad_air_days+"")&&ae(Lt,Wt);const Je={};be&4&&(Je.data=te[2]),be&8&&(Je.comparison_year=te[3]),Ze.$set(Je)},i(te){qe||(U(I.$$.fragment,te),U(ne.$$.fragment,te),U(Ze.$$.fragment,te),qe=!0)},o(te){K(I.$$.fragment,te),K(ne.$$.fragment,te),K(Ze.$$.fragment,te),qe=!1},d(te){te&&M(t),he(I),he(ne),he(Ze)}}}let Zh=30,ai=10;function Jh(e,t,n){let i,r,l,a,o,u,f,s,h,c,d;D(e,ht,w=>n(4,c=w)),D(e,oi,w=>n(13,d=w));let{latestData:_}=t,{allData:b}=t,{index_of_selected:y}=t;const p=w=>w<l?"very low":w<a?"moderately low":w<o?"moderately high":"very high",k=Ao(10,53,1).map(w=>({value:w,label:w===52?"52 or older":w}));let A;function R(w){A=w,n(5,A)}return e.$$set=w=>{"latestData"in w&&n(0,_=w.latestData),"allData"in w&&n(11,b=w.allData),"index_of_selected"in w&&n(1,y=w.index_of_selected)},e.$$.update=()=>{var w;e.$$.dirty&1&&n(12,i=_.map(v=>v.bad_air_days)),e.$$.dirty&8192&&n(3,r=d?2022-d+ai:2022-Zh+ai),e.$$.dirty&4096&&(l=Yr(i,.25)),e.$$.dirty&4096&&(a=Yr(i,.5)),e.$$.dirty&4096&&(o=Yr(i,.75)),e.$$.dirty&2064&&n(2,u=b.filter(v=>v.code===c.value)),e.$$.dirty&12&&n(8,f=(w=[...u].filter(v=>v.year===r)[0])==null?void 0:w.bad_air_days),e.$$.dirty&4&&n(7,s=[...u].sort((v,S)=>Pt(v.year,S.year))[u.length-1].bad_air_days),e.$$.dirty&4&&n(6,h=[...u].sort((v,S)=>Pt(v.bad_air_days,S.bad_air_days))[u.length-1])},[_,y,u,r,c,A,h,s,f,p,k,b,i,d,R]}class $h extends Se{constructor(t){super(),Ee(this,t,Jh,Qh,ke,{latestData:0,allData:11,index_of_selected:1})}}function e0(e){let t,n,i,r,l,a;return t=new Fc({props:{data:e[0]}}),i=new Tc({props:{data:e[0],us_states:e[4],cbsa_lookup:e[2],index_of_selected:e[3]}}),l=new $h({props:{latestData:e[0],allData:e[1],index_of_selected:e[3]}}),{c(){ue(t.$$.fragment),n=Z(),ue(i.$$.fragment),r=Z(),ue(l.$$.fragment)},l(o){se(t.$$.fragment,o),n=J(o),se(i.$$.fragment,o),r=J(o),se(l.$$.fragment,o)},m(o,u){ce(t,o,u),x(o,n,u),ce(i,o,u),x(o,r,u),ce(l,o,u),a=!0},p(o,[u]){const f={};u&1&&(f.data=o[0]),t.$set(f);const s={};u&1&&(s.data=o[0]),u&16&&(s.us_states=o[4]),u&4&&(s.cbsa_lookup=o[2]),u&8&&(s.index_of_selected=o[3]),i.$set(s);const h={};u&1&&(h.latestData=o[0]),u&2&&(h.allData=o[1]),u&8&&(h.index_of_selected=o[3]),l.$set(h)},i(o){a||(U(t.$$.fragment,o),U(i.$$.fragment,o),U(l.$$.fragment,o),a=!0)},o(o){K(t.$$.fragment,o),K(i.$$.fragment,o),K(l.$$.fragment,o),a=!1},d(o){o&&(M(n),M(r)),he(t,o),he(i,o),he(l,o)}}}function t0(e,t,n){let i,r,l,a,o,u,f,s;D(e,ht,c=>n(8,s=c));let{data:h}=t;return e.$$set=c=>{"data"in c&&n(5,h=c.data)},e.$$.update=()=>{e.$$.dirty&32&&n(6,{city_data:i,cbsa:r,us_states:l}=h,i,(n(7,r),n(5,h)),(n(4,l),n(5,h))),e.$$.dirty&128&&n(2,a=new Map(r.map(c=>[c.GEOID,{name:c.NAME.replace(" Metro Area",""),latitude:+c.latitude,longitude:+c.longitude}]))),e.$$.dirty&68&&n(1,o=i.map(c=>{var d;return{...c,year:+c.year,bad_air_days:+c.n,name:(d=a.get(c["CBSA Code"]))==null?void 0:d.name,code:c["CBSA Code"]}})),e.$$.dirty&2&&n(0,u=o.filter(c=>c.year===2022).sort((c,d)=>Eo(c.bad_air_days,d.bad_air_days))),e.$$.dirty&257&&n(3,f=u.findIndex(c=>c["CBSA Code"]===(s==null?void 0:s.value)))},[u,o,a,f,l,h,i,r,s]}class l0 extends Se{constructor(t){super(),Ee(this,t,t0,e0,ke,{data:5})}}export{l0 as component};
