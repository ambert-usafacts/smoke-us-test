import{A as In,s as Ee,e as se,i as O,d as N,o as Zo,z as A,B as X,C as Qo,r as at,f as W,g as U,h as G,j as m,D as Jo,k as x,E as Xa,u as ft,v as ut,w as st,p as ct,F as Qe,G as we,H as ve,x as C,l as K,m as Z,n as ce,a as oe,c as ae,I as Se,y as Ie,J as Ka,K as Kr,L as ht,M as nr,N as Ut,O as bl,P as qi,Q as Za,R as Qa}from"../chunks/scheduler.7f01e268.js";import{a as Q,S as Me,i as Re,g as ir,t as te,c as rr,b as me,d as ye,m as be,e as pe,f as Ja}from"../chunks/index.2010496a.js";import{w as J,d as ge}from"../chunks/index.bd54f367.js";function je(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function $o(e,t){e.d(1),t.delete(e.key)}function ea(e,t,n,i,r,l,o,a,h,u,f,s){let c=e.length,d=l.length,g=c;const b={};for(;g--;)b[e[g].key]=g;const y=[],p=new Map,v=new Map,w=[];for(g=d;g--;){const z=s(r,l,g),B=n(z);let T=o.get(B);T?i&&w.push(()=>T.p(z,t)):(T=u(B,z),T.c()),p.set(B,y[g]=T),B in b&&v.set(B,Math.abs(g-b[B]))}const P=new Set,k=new Set;function M(z){Q(z,1),z.m(a,f),o.set(z.key,z),f=z.first,d--}for(;c&&d;){const z=y[d-1],B=e[c-1],T=z.key,L=B.key;z===B?(f=z.first,c--,d--):p.has(L)?!o.has(T)||P.has(T)?M(z):k.has(L)?c--:v.get(T)>v.get(L)?(k.add(T),M(z)):(P.add(L),c--):(h(B,o),c--)}for(;c--;){const z=e[c];p.has(z.key)||h(z,o)}for(;d;)M(y[d-1]);return In(w),y}function yt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ta(e){let t,n,i;e.length!==2?(t=yt,n=(a,h)=>yt(e(a),h),i=(a,h)=>e(a)-h):(t=e===yt||e===Zr?e:$a,n=e,i=e);function r(a,h,u=0,f=a.length){if(u<f){if(t(h,h)!==0)return f;do{const s=u+f>>>1;n(a[s],h)<0?u=s+1:f=s}while(u<f)}return u}function l(a,h,u=0,f=a.length){if(u<f){if(t(h,h)!==0)return f;do{const s=u+f>>>1;n(a[s],h)<=0?u=s+1:f=s}while(u<f)}return u}function o(a,h,u=0,f=a.length){const s=r(a,h,u,f-1);return s>u&&i(a[s-1],h)>-i(a[s],h)?s-1:s}return{left:r,center:o,right:l}}function $a(){return 0}function ef(e){return e===null?NaN:+e}function*tf(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}const nf=ta(yt),rf=nf.right;ta(ef).center;const lf=rf;class pt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],o=t+l,a=Math.abs(t)<Math.abs(l)?t-(o-l):l-(o-t);a&&(n[i++]=a),t=o}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,o=0;if(n>0){for(o=t[--n];n>0&&(i=o,r=t[--n],o=i+r,l=r-(o-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=o+r,r==i-o&&(o=i))}return o}}class pl extends Map{constructor(t,n=ff){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(wl(this,t))}has(t){return super.has(wl(this,t))}set(t,n){return super.set(of(this,t),n)}delete(t){return super.delete(af(this,t))}}function wl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function of({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function af({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function ff(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uf(e=yt){if(e===yt)return na;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function na(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const sf=Math.sqrt(50),cf=Math.sqrt(10),hf=Math.sqrt(2);function xi(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),o=l>=sf?10:l>=cf?5:l>=hf?2:1;let a,h,u;return r<0?(u=Math.pow(10,-r)/o,a=Math.round(e*u),h=Math.round(t*u),a/u<e&&++a,h/u>t&&--h,u=-u):(u=Math.pow(10,r)*o,a=Math.round(e/u),h=Math.round(t/u),a*u<e&&++a,h*u>t&&--h),h<a&&.5<=n&&n<2?xi(e,t,n*2):[a,h,u]}function df(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,o]=i?xi(t,e,n):xi(e,t,n);if(!(l>=r))return[];const a=l-r+1,h=new Array(a);if(i)if(o<0)for(let u=0;u<a;++u)h[u]=(l-u)/-o;else for(let u=0;u<a;++u)h[u]=(l-u)*o;else if(o<0)for(let u=0;u<a;++u)h[u]=(r+u)/-o;else for(let u=0;u<a;++u)h[u]=(r+u)*o;return h}function Pr(e,t,n){return t=+t,e=+e,n=+n,xi(e,t,n)[2]}function gf(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?Pr(t,e,n):Pr(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function vl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function kl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function ia(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?na:uf(r);i>n;){if(i-n>600){const h=i-n+1,u=t-n+1,f=Math.log(h),s=.5*Math.exp(2*f/3),c=.5*Math.sqrt(f*s*(h-s)/h)*(u-h/2<0?-1:1),d=Math.max(n,Math.floor(t-u*s/h+c)),g=Math.min(i,Math.floor(t+(h-u)*s/h+c));ia(e,t,d,g,r)}const l=e[t];let o=n,a=i;for(kn(e,n,t),r(e[i],l)>0&&kn(e,n,i);o<a;){for(kn(e,o,a),++o,--a;r(e[o],l)<0;)++o;for(;r(e[a],l)>0;)--a}r(e[n],l)===0?kn(e,n,a):(++a,kn(e,a,i)),a<=t&&(n=a+1),t<=a&&(i=a-1)}return e}function kn(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function kr(e,t,n){if(e=Float64Array.from(tf(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return kl(e);if(t>=1)return vl(e);var i,r=(i-1)*t,l=Math.floor(r),o=vl(ia(e,l).subarray(0,l+1)),a=kl(e.subarray(l+1));return o+(a-o)*(r-l)}}function*_f(e){for(const t of e)yield*t}function ra(e){return Array.from(_f(e))}function mf(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}const Je=J({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"});function yf(e){return e===0?!0:e}function lt(e){return yf(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function bf(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function Sr(e,t={}){return bf(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function pf(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function wf(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),l=r.length;let o,a,h,u,f,s,c;const d=e.length;for(o=0;o<l;o+=1){for(c=new Set,u=r[o],f=t[u],a=0;a<d;a+=1)if(s=f(e[a]),Array.isArray(s)){const b=s.length;for(h=0;h<b;h+=1)c.add(s[h])}else c.add(s);const g=Array.from(c);i[u]=n===!0?g.sort():g}return i}function vf(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let l,o,a,h,u,f,s,c;const d=e.length;for(l=0;l<r;l+=1){for(h=i[l],s=t[h],u=null,f=null,o=0;o<d;o+=1)if(c=s(e[o]),Array.isArray(c)){const g=c.length;for(a=0;a<g;a+=1)c[a]!==!1&&c[a]!==void 0&&c[a]!==null&&Number.isNaN(c[a])===!1&&((u===null||c[a]<u)&&(u=c[a]),(f===null||c[a]>f)&&(f=c[a]))}else c!==!1&&c!==void 0&&c!==null&&Number.isNaN(c)===!1&&((u===null||c<u)&&(u=c),(f===null||c>f)&&(f=c));n[h]=[u,f]}return n}function Sn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function la(e){return!!(typeof e.bandwidth=="function"||Sn(Object.keys(e),["domain","range","unknown","copy"]))}function kf(e,t,n){const i=Object.keys(n).reduce((l,o)=>{const a=la(n[o])===!0?"ordinal":"other";return l[a]||(l[a]={}),l[a][o]=t[o],l},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=wf(e,i.ordinal)),i.other&&(r={...r,...vf(e,i.other)}),r}function Sf(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function Si(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?Sf(n[e],i):i}}function lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Sl=Symbol("implicit");function oa(){var e=new pl,t=[],n=[],i=Sl;function r(l){let o=e.get(l);if(o===void 0){if(i!==Sl)return i;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new pl;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return oa(t,n).unknown(i)},lr.apply(r,arguments),r}function aa(){var e=oa().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,o,a=!1,h=0,u=0,f=.5;delete e.unknown;function s(){var c=t().length,d=r<i,g=d?r:i,b=d?i:r;l=(b-g)/Math.max(1,c-h+u*2),a&&(l=Math.floor(l)),g+=(b-g-l*(c-h))*f,o=l*(1-h),a&&(g=Math.round(g),o=Math.round(o));var y=mf(c).map(function(p){return g+l*p});return n(d?y.reverse():y)}return e.domain=function(c){return arguments.length?(t(c),s()):t()},e.range=function(c){return arguments.length?([i,r]=c,i=+i,r=+r,s()):[i,r]},e.rangeRound=function(c){return[i,r]=c,i=+i,r=+r,a=!0,s()},e.bandwidth=function(){return o},e.step=function(){return l},e.round=function(c){return arguments.length?(a=!!c,s()):a},e.padding=function(c){return arguments.length?(h=Math.min(1,u=+c),s()):h},e.paddingInner=function(c){return arguments.length?(h=Math.min(1,c),s()):h},e.paddingOuter=function(c){return arguments.length?(u=+c,s()):u},e.align=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),s()):f},e.copy=function(){return aa(t(),[i,r]).round(a).paddingInner(h).paddingOuter(u).align(f)},lr.apply(s(),arguments)}function Qr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fa(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ln(){}var Pn=.7,Gi=1/Pn,Yt="\\s*([+-]?\\d+)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ef=/^#([0-9a-f]{3,8})$/,Mf=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),Rf=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),Nf=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${An}\\)$`),zf=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${An}\\)$`),Df=new RegExp(`^hsl\\(${An},${Ke},${Ke}\\)$`),Pf=new RegExp(`^hsla\\(${An},${Ke},${Ke},${An}\\)$`),El={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qr(Ln,Cn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ml,formatHex:Ml,formatHex8:Af,formatHsl:Cf,formatRgb:Rl,toString:Rl});function Ml(){return this.rgb().formatHex()}function Af(){return this.rgb().formatHex8()}function Cf(){return ua(this).formatHsl()}function Rl(){return this.rgb().formatRgb()}function Cn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ef.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Nl(t):n===3?new Ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ei(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ei(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mf.exec(e))?new Ae(t[1],t[2],t[3],1):(t=Rf.exec(e))?new Ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Nf.exec(e))?Ei(t[1],t[2],t[3],t[4]):(t=zf.exec(e))?Ei(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Df.exec(e))?Pl(t[1],t[2]/100,t[3]/100,1):(t=Pf.exec(e))?Pl(t[1],t[2]/100,t[3]/100,t[4]):El.hasOwnProperty(e)?Nl(El[e]):e==="transparent"?new Ae(NaN,NaN,NaN,0):null}function Nl(e){return new Ae(e>>16&255,e>>8&255,e&255,1)}function Ei(e,t,n,i){return i<=0&&(e=t=n=NaN),new Ae(e,t,n,i)}function Tf(e){return e instanceof Ln||(e=Cn(e)),e?(e=e.rgb(),new Ae(e.r,e.g,e.b,e.opacity)):new Ae}function Oi(e,t,n,i){return arguments.length===1?Tf(e):new Ae(e,t,n,i??1)}function Ae(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Qr(Ae,Oi,fa(Ln,{brighter(e){return e=e==null?Gi:Math.pow(Gi,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ae(bt(this.r),bt(this.g),bt(this.b),Fi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zl,formatHex:zl,formatHex8:If,formatRgb:Dl,toString:Dl}));function zl(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function If(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dl(){const e=Fi(this.opacity);return`${e===1?"rgb(":"rgba("}${bt(this.r)}, ${bt(this.g)}, ${bt(this.b)}${e===1?")":`, ${e})`}`}function Fi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mt(e){return e=bt(e),(e<16?"0":"")+e.toString(16)}function Pl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oe(e,t,n,i)}function ua(e){if(e instanceof Oe)return new Oe(e.h,e.s,e.l,e.opacity);if(e instanceof Ln||(e=Cn(e)),!e)return new Oe;if(e instanceof Oe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),o=NaN,a=l-r,h=(l+r)/2;return a?(t===l?o=(n-i)/a+(n<i)*6:n===l?o=(i-t)/a+2:o=(t-n)/a+4,a/=h<.5?l+r:2-l-r,o*=60):a=h>0&&h<1?0:o,new Oe(o,a,h,e.opacity)}function Lf(e,t,n,i){return arguments.length===1?ua(e):new Oe(e,t,n,i??1)}function Oe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Qr(Oe,Lf,fa(Ln,{brighter(e){return e=e==null?Gi:Math.pow(Gi,e),new Oe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pn:Math.pow(Pn,e),new Oe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Ae(Er(e>=240?e-240:e+120,r,i),Er(e,r,i),Er(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Oe(Al(this.h),Mi(this.s),Mi(this.l),Fi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fi(this.opacity);return`${e===1?"hsl(":"hsla("}${Al(this.h)}, ${Mi(this.s)*100}%, ${Mi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Al(e){return e=(e||0)%360,e<0?e+360:e}function Mi(e){return Math.max(0,Math.min(1,e||0))}function Er(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Jr=e=>()=>e;function Bf(e,t){return function(n){return e+n*t}}function jf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function qf(e){return(e=+e)==1?sa:function(t,n){return n-t?jf(t,n,e):Jr(isNaN(t)?n:t)}}function sa(e,t){var n=t-e;return n?Bf(e,n):Jr(isNaN(e)?t:e)}const Cl=function e(t){var n=qf(t);function i(r,l){var o=n((r=Oi(r)).r,(l=Oi(l)).r),a=n(r.g,l.g),h=n(r.b,l.b),u=sa(r.opacity,l.opacity);return function(f){return r.r=o(f),r.g=a(f),r.b=h(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function xf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function Gf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Of(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),o;for(o=0;o<i;++o)r[o]=$r(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(a){for(o=0;o<i;++o)l[o]=r[o](a);return l}}function Ff(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Hi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Hf(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=$r(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var Ar=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mr=new RegExp(Ar.source,"g");function Wf(e){return function(){return e}}function Uf(e){return function(t){return e(t)+""}}function Vf(e,t){var n=Ar.lastIndex=Mr.lastIndex=0,i,r,l,o=-1,a=[],h=[];for(e=e+"",t=t+"";(i=Ar.exec(e))&&(r=Mr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),a[o]?a[o]+=l:a[++o]=l),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,h.push({i:o,x:Hi(i,r)})),n=Mr.lastIndex;return n<t.length&&(l=t.slice(n),a[o]?a[o]+=l:a[++o]=l),a.length<2?h[0]?Uf(h[0].x):Wf(t):(t=h.length,function(u){for(var f=0,s;f<t;++f)a[(s=h[f]).i]=s.x(u);return a.join("")})}function $r(e,t){var n=typeof t,i;return t==null||n==="boolean"?Jr(t):(n==="number"?Hi:n==="string"?(i=Cn(t))?(t=i,Cl):Vf:t instanceof Cn?Cl:t instanceof Date?Ff:Gf(t)?xf:Array.isArray(t)?Of:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hf:Hi)(e,t)}function Yf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Xf(e){return function(){return e}}function Kf(e){return+e}var Tl=[0,1];function Xe(e){return e}function Cr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Xf(isNaN(t)?NaN:.5)}function Zf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function Qf(e,t,n){var i=e[0],r=e[1],l=t[0],o=t[1];return r<i?(i=Cr(r,i),l=n(o,l)):(i=Cr(i,r),l=n(l,o)),function(a){return l(i(a))}}function Jf(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=Cr(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(a){var h=lf(e,a,1,i)-1;return l[h](r[h](a))}}function ca(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ha(){var e=Tl,t=Tl,n=$r,i,r,l,o=Xe,a,h,u;function f(){var c=Math.min(e.length,t.length);return o!==Xe&&(o=Zf(e[0],e[c-1])),a=c>2?Jf:Qf,h=u=null,s}function s(c){return c==null||isNaN(c=+c)?l:(h||(h=a(e.map(i),t,n)))(i(o(c)))}return s.invert=function(c){return o(r((u||(u=a(t,e.map(i),Hi)))(c)))},s.domain=function(c){return arguments.length?(e=Array.from(c,Kf),f()):e.slice()},s.range=function(c){return arguments.length?(t=Array.from(c),f()):t.slice()},s.rangeRound=function(c){return t=Array.from(c),n=Yf,f()},s.clamp=function(c){return arguments.length?(o=c?!0:Xe,f()):o!==Xe},s.interpolate=function(c){return arguments.length?(n=c,f()):n},s.unknown=function(c){return arguments.length?(l=c,s):l},function(c,d){return i=c,r=d,f()}}function $f(){return ha()(Xe,Xe)}function eu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Xt(e){return e=Wi(Math.abs(e)),e?e[1]:NaN}function tu(e,t){return function(n,i){for(var r=n.length,l=[],o=0,a=e[0],h=0;r>0&&a>0&&(h+a+1>i&&(a=Math.max(1,i-h)),l.push(n.substring(r-=a,r+a)),!((h+=a+1)>i));)a=e[o=(o+1)%e.length];return l.reverse().join(t)}}function nu(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var iu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ui(e){if(!(t=iu.exec(e)))throw new Error("invalid format: "+e);var t;return new el({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ui.prototype=el.prototype;function el(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}el.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ru(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var da;function lu(e,t){var n=Wi(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(da=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return l===o?i:l>o?i+new Array(l-o+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+Wi(e,Math.max(0,t+l-1))[0]}function Il(e,t){var n=Wi(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Ll={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Il(e*100,t),r:Il,s:lu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Bl(e){return e}var jl=Array.prototype.map,ql=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ou(e){var t=e.grouping===void 0||e.thousands===void 0?Bl:tu(jl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Bl:nu(jl.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function u(s){s=Ui(s);var c=s.fill,d=s.align,g=s.sign,b=s.symbol,y=s.zero,p=s.width,v=s.comma,w=s.precision,P=s.trim,k=s.type;k==="n"?(v=!0,k="g"):Ll[k]||(w===void 0&&(w=12),P=!0,k="g"),(y||c==="0"&&d==="=")&&(y=!0,c="0",d="=");var M=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",z=b==="$"?i:/[%p]/.test(k)?o:"",B=Ll[k],T=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(R){var q=M,D=z,I,S,E;if(k==="c")D=B(R)+D,R="";else{R=+R;var F=R<0||1/R<0;if(R=isNaN(R)?h:B(Math.abs(R),w),P&&(R=ru(R)),F&&+R==0&&g!=="+"&&(F=!1),q=(F?g==="("?g:a:g==="-"||g==="("?"":g)+q,D=(k==="s"?ql[8+da/3]:"")+D+(F&&g==="("?")":""),T){for(I=-1,S=R.length;++I<S;)if(E=R.charCodeAt(I),48>E||E>57){D=(E===46?r+R.slice(I+1):R.slice(I))+D,R=R.slice(0,I);break}}}v&&!y&&(R=t(R,1/0));var H=q.length+R.length+D.length,$=H<p?new Array(p-H+1).join(c):"";switch(v&&y&&(R=t($+R,$.length?p-D.length:1/0),$=""),d){case"<":R=q+R+D+$;break;case"=":R=q+$+R+D;break;case"^":R=$.slice(0,H=$.length>>1)+q+R+D+$.slice(H);break;default:R=$+q+R+D;break}return l(R)}return L.toString=function(){return s+""},L}function f(s,c){var d=u((s=Ui(s),s.type="f",s)),g=Math.max(-8,Math.min(8,Math.floor(Xt(c)/3)))*3,b=Math.pow(10,-g),y=ql[8+g/3];return function(p){return d(b*p)+y}}return{format:u,formatPrefix:f}}var Ri,ga,_a;au({thousands:",",grouping:[3],currency:["$",""]});function au(e){return Ri=ou(e),ga=Ri.format,_a=Ri.formatPrefix,Ri}function fu(e){return Math.max(0,-Xt(Math.abs(e)))}function uu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xt(t)/3)))*3-Xt(Math.abs(e)))}function su(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xt(t)-Xt(e))+1}function cu(e,t,n,i){var r=gf(e,t,n),l;switch(i=Ui(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=uu(r,o))&&(i.precision=l),_a(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=su(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=fu(r))&&(i.precision=l-(i.type==="%")*2);break}}return ga(i)}function ma(e){var t=e.domain;return e.ticks=function(n){var i=t();return df(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return cu(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,o=i[r],a=i[l],h,u,f=10;for(a<o&&(u=o,o=a,a=u,u=r,r=l,l=u);f-- >0;){if(u=Pr(o,a,n),u===h)return i[r]=o,i[l]=a,t(i);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;h=u}return e},e}function Li(){var e=$f();return e.copy=function(){return ca(e,Li())},lr.apply(e,arguments),ma(e)}function xl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hu(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function du(e){return e<0?-e*e:e*e}function gu(e){var t=e(Xe,Xe),n=1;function i(){return n===1?e(Xe,Xe):n===.5?e(hu,du):e(xl(n),xl(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},ma(t)}function ya(){var e=gu(ha());return e.copy=function(){return ca(e,ya()).exponent(e.exponent())},lr.apply(e,arguments),e}function ba(){return ya.apply(null,arguments).exponent(.5)}const En={x:Li,y:Li,z:Li,r:ba};function _u(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Gl(e){return e}function mu(e){return t=>Math.log(e*t)}function yu(e){return t=>e*Math.exp(t)}function bu(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function pu(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ni(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function wu(e){const t=_u(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:mu(n),ground:yu(n),scaleType:t}}return t==="pow"?{lift:Ni(1),ground:Ni(1/1),scaleType:t}:t==="sqrt"?{lift:Ni(.5),ground:Ni(1/.5),scaleType:t}:t==="symlog"?{lift:bu(1),ground:pu(1),scaleType:t}:{lift:Gl,ground:Gl,scaleType:t}}function Vi(e){return e.replace(/^\w/,t=>t.toUpperCase())}function ze(e,t=""){return`scale${Vi(t)}${Vi(e)}`}function pa(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?ze("band"):ze("point");if(Sn(Object.keys(e),["domain","range","unknown","copy"]))return ze("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return ze("quantile",t);if(e.thresholds)return ze("quantize",t);if(e.constant)return ze("symlog",t);if(e.base)return ze("log",t);if(e.exponent)return e.exponent()===.5?ze("sqrt",t):ze("pow",t);if(Sn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return ze("threshold");if(Sn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return ze("identity");if(Sn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return ze("radial");if(t)return ze(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),ze(i)}return ze("linear")}const vu=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function ku(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||vu.includes(pa(e))||la(e)===!0)return e.domain();const{lift:n,ground:i}=wu(e),r=e.domain()[0],l=Object.prototype.toString.call(r)==="[object Date]",[o,a]=e.domain().map(d=>n(l?d.getTime():d)),[h,u]=e.range(),f=t[0]||0,s=t[1]||0,c=(a-o)/(Math.abs(u-h)-f-s);return[o-f*c,s*c+a].map(d=>i(l?new Date(d):d))}function Su(e,t,n,i,r){let l,o;return r===!0?(l=0,o=100):(l=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),i===!0?[o,l]:[l,o]}function Eu(e,t,n,i,r,l){return r?typeof r=="function"?r({width:t,height:n}):r:Su(e,t,n,i,l)}function zi(e){return function([n,i,r,l,o,a,h,u,f,s]){if(i===null)return null;const c=Eu(e,h,u,a,f,s),d=n===En[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(c),l&&d.domain(ku(d,l)),(o===!0||typeof o=="number")&&(typeof d.nice=="function"?d.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Di([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function Pi([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ue="    ";function Mu(e){const{r:t,g:n,b:i,opacity:r}=Oi(e);return[t,n,i].every(l=>l>=0&&l<=255)?{r:t,g:n,b:i,o:r}:!1}function Ru({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Nu(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),zu(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{Du(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function zu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Ue}${t}:`,n)})}function Du(e,t,n){const i=pa(t);console.log(`${Ue}${e}:`),console.log(`${Ue}${Ue}Accessor: "${n.toString()}"`),console.log(`${Ue}${Ue}Type: ${i}`),Ol(t,"domain"),Ol(t,"range"," ")}function Ol(e,t,n=""){const i=e[t](),r=Au(i);r?Pu(r,t,i):console.log(`${Ue}${Ue}${Vi(t)}:${n}`,i)}function Pu(e,t,n){console.log(`${Ue}${Ue}${Vi(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function Au(e){const t=[],n=e.map((i,r)=>{const l=Mu(i);if(l!==!1){t.push(l);const o=r===e.length-1?" ":"";return`%c ${i}${o}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${Ru(i)};`)]:null}const Cu=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),Fl=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function Hl(e){let t,n,i;const r=e[153].default,l=at(r,e,e[152],Fl);return{c(){t=W("div"),l&&l.c(),this.h()},l(o){t=U(o,"DIV",{class:!0});var a=G(t);l&&l.l(a),a.forEach(N),this.h()},h(){m(t,"class","layercake-container svelte-vhzpsp"),Jo(()=>e[155].call(t)),x(t,"position",e[5]),x(t,"top",e[5]==="absolute"?"0":null),x(t,"right",e[5]==="absolute"?"0":null),x(t,"bottom",e[5]==="absolute"?"0":null),x(t,"left",e[5]==="absolute"?"0":null),x(t,"pointer-events",e[4]===!1?"none":null)},m(o,a){O(o,t,a),l&&l.m(t,null),e[154](t),n=Xa(t,e[155].bind(t)),i=!0},p(o,a){l&&l.p&&(!i||a[0]&2147483588|a[1]&1048575|a[4]&268435456)&&ft(l,r,o,o[152],i?st(r,o[152],a,Cu):ut(o[152]),Fl),a[0]&32&&x(t,"position",o[5]),a[0]&32&&x(t,"top",o[5]==="absolute"?"0":null),a[0]&32&&x(t,"right",o[5]==="absolute"?"0":null),a[0]&32&&x(t,"bottom",o[5]==="absolute"?"0":null),a[0]&32&&x(t,"left",o[5]==="absolute"?"0":null),a[0]&16&&x(t,"pointer-events",o[4]===!1?"none":null)},i(o){i||(Q(l,o),i=!0)},o(o){te(l,o),i=!1},d(o){o&&N(t),l&&l.d(o),e[154](null),n()}}}function Tu(e){let t,n,i=(e[3]===!0||typeof window<"u")&&Hl(e);return{c(){i&&i.c(),t=se()},l(r){i&&i.l(r),t=se()},m(r,l){i&&i.m(r,l),O(r,t,l),n=!0},p(r,l){r[3]===!0||typeof window<"u"?i?(i.p(r,l),l[0]&8&&Q(i,1)):(i=Hl(r),i.c(),Q(i,1),i.m(t.parentNode,t)):i&&(ir(),te(i,1,1,()=>{i=null}),rr())},i(r){n||(Q(i),n=!0)},o(r){te(i),n=!1},d(r){r&&N(t),i&&i.d(r)}}}function Iu(e,t,n){let i,r,l,o,a,h,u,f,s,c,d,g,b,y,p,v,w,P,k,M,z,B,T,L,R,q,D,I,S,E,F,H,$,j,V,fe,Y,Ce,Te,dt,ee,le,Ne,Pe,He,et,de,tt,gt,Jt,kt,rl,ll,ol,al,fl,ul,sl,cl,hl,dl,gl,{$$slots:Ga={},$$scope:_l}=t;const Oa=pf(Nu,200);let{ssr:or=!1}=t,{pointerEvents:ml=!0}=t,{position:yl="relative"}=t,{percentRange:Bn=!1}=t,{width:ar=void 0}=t,{height:fr=void 0}=t,{containerWidth:St=ar||100}=t,{containerHeight:Et=fr||100}=t,{element:jn=void 0}=t,{x:Mt=void 0}=t,{y:Rt=void 0}=t,{z:Nt=void 0}=t,{r:zt=void 0}=t,{data:Dt=[]}=t,{xDomain:Pt=void 0}=t,{yDomain:At=void 0}=t,{zDomain:Ct=void 0}=t,{rDomain:Tt=void 0}=t,{xNice:qn=!1}=t,{yNice:xn=!1}=t,{zNice:Gn=!1}=t,{rNice:On=!1}=t,{xPadding:Fn=void 0}=t,{yPadding:Hn=void 0}=t,{zPadding:Wn=void 0}=t,{rPadding:Un=void 0}=t,{xScale:Vn=En.x}=t,{yScale:$t=En.y}=t,{zScale:Yn=En.z}=t,{rScale:Xn=En.r}=t,{xRange:It=void 0}=t,{yRange:Lt=void 0}=t,{zRange:Bt=void 0}=t,{rRange:jt=void 0}=t,{xReverse:Kn=!1}=t,{yReverse:Zn=void 0}=t,{zReverse:Qn=!1}=t,{rReverse:Jn=!1}=t,{padding:$n={}}=t,{extents:ei={}}=t,{flatData:ti=void 0}=t,{custom:ni={}}=t,{debug:ur=!1}=t,sr=!1;Zo(()=>{sr=!0});const re={},nt=J(Bn);A(e,nt,_=>n(33,He=_));const qt=J(St);A(e,qt,_=>n(32,Pe=_));const xt=J(Et);A(e,xt,_=>n(31,Ne=_));const ii=J(Sr(ei));A(e,ii,_=>n(170,le=_));const ri=J(Dt);A(e,ri,_=>n(30,ee=_));const en=J(ti||Dt);A(e,en,_=>n(29,dt=_));const li=J($n);A(e,li,_=>n(169,Te=_));const Gt=J(lt(Mt));A(e,Gt,_=>n(28,Ce=_));const Ot=J(lt(Rt));A(e,Ot,_=>n(27,Y=_));const Ft=J(lt(Nt));A(e,Ft,_=>n(26,fe=_));const Ht=J(lt(zt));A(e,Ht,_=>n(25,V=_));const oi=J(Pt);A(e,oi,_=>n(168,j=_));const ai=J(At);A(e,ai,_=>n(167,$=_));const fi=J(Ct);A(e,fi,_=>n(166,H=_));const ui=J(Tt);A(e,ui,_=>n(165,F=_));const tn=J(qn);A(e,tn,_=>n(24,E=_));const nn=J(xn);A(e,nn,_=>n(23,S=_));const rn=J(Gn);A(e,rn,_=>n(22,I=_));const ln=J(On);A(e,ln,_=>n(21,D=_));const on=J(Kn);A(e,on,_=>n(20,q=_));const an=J(i);A(e,an,_=>n(19,R=_));const fn=J(Qn);A(e,fn,_=>n(18,L=_));const un=J(Jn);A(e,un,_=>n(17,T=_));const sn=J(Fn);A(e,sn,_=>n(16,B=_));const cn=J(Hn);A(e,cn,_=>n(15,z=_));const hn=J(Wn);A(e,hn,_=>n(14,M=_));const dn=J(Un);A(e,dn,_=>n(13,k=_));const si=J(It);A(e,si,_=>n(164,P=_));const ci=J(Lt);A(e,ci,_=>n(163,w=_));const hi=J(Bt);A(e,hi,_=>n(162,v=_));const di=J(jt);A(e,di,_=>n(161,p=_));const gn=J(Vn);A(e,gn,_=>n(160,y=_));const _n=J($t);A(e,_n,_=>n(159,b=_));const mn=J(Yn);A(e,mn,_=>n(158,g=_));const yn=J(Xn);A(e,yn,_=>n(157,d=_));const gi=J(re);A(e,gi,_=>n(11,s=_));const _i=J(ni);A(e,_i,_=>n(12,c=_));const mi=ge([Gt,Ot,Ft,Ht],([_,Ze,We,ke])=>{const _t={};return _&&(_t.x=_),Ze&&(_t.y=Ze),We&&(_t.z=We),ke&&(_t.r=ke),_t});A(e,mi,_=>n(10,u=_));const yi=ge([li,qt,xt],([_])=>Object.assign({top:0,right:0,bottom:0,left:0},_));A(e,yi,_=>n(37,gt=_));const bi=ge([qt,xt,yi],([_,Ze,We])=>{const ke={};return ke.top=We.top,ke.right=_-We.right,ke.bottom=Ze-We.bottom,ke.left=We.left,ke.width=ke.right-ke.left,ke.height=ke.bottom-ke.top,ke.width<=0&&sr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),ke.height<=0&&sr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),ke});A(e,bi,_=>n(151,f=_));const it=ge([bi],([_])=>_.width);A(e,it,_=>n(34,et=_));const rt=ge([bi],([_])=>_.height);A(e,rt,_=>n(35,de=_));const xe=ge([en,mi,ii,gn,_n,yn,mn],([_,Ze,We,ke,_t,Wa,Ua])=>{const Va={x:ke,y:_t,r:Wa,z:Ua},wr=Sr(Ze,We),Ya=Object.fromEntries(Object.keys(wr).map(vr=>[vr,Va[vr]]));return Object.keys(wr).length>0?{...kf(_,wr,Ya),...We}:{}});A(e,xe,_=>n(38,Jt=_));const pi=ge([xe,oi],Si("x"));A(e,pi,_=>n(39,kt=_));const wi=ge([xe,ai],Si("y"));A(e,wi,_=>n(40,rl=_));const vi=ge([xe,fi],Si("z"));A(e,vi,_=>n(41,ll=_));const ki=ge([xe,ui],Si("r"));A(e,ki,_=>n(42,ol=_));const bn=ge([gn,xe,pi,sn,tn,on,it,rt,si,nt],zi("x"));A(e,bn,_=>n(9,h=_));const cr=ge([Gt,bn],Di);A(e,cr,_=>n(47,cl=_));const pn=ge([_n,xe,wi,cn,nn,an,it,rt,ci,nt],zi("y"));A(e,pn,_=>n(8,a=_));const hr=ge([Ot,pn],Di);A(e,hr,_=>n(48,hl=_));const wn=ge([mn,xe,vi,hn,rn,fn,it,rt,hi,nt],zi("z"));A(e,wn,_=>n(7,o=_));const dr=ge([Ft,wn],Di);A(e,dr,_=>n(49,dl=_));const vn=ge([yn,xe,ki,dn,ln,un,it,rt,di,nt],zi("r"));A(e,vn,_=>n(6,l=_));const gr=ge([Ht,vn],Di);A(e,gr,_=>n(50,gl=_));const _r=ge([bn],Pi);A(e,_r,_=>n(43,al=_));const mr=ge([pn],Pi);A(e,mr,_=>n(44,fl=_));const yr=ge([wn],Pi);A(e,yr,_=>n(45,ul=_));const br=ge([vn],Pi);A(e,br,_=>n(46,sl=_));const pr=ge([it,rt],([_,Ze])=>_/Ze);A(e,pr,_=>n(36,tt=_));function Fa(_){ct[_?"unshift":"push"](()=>{jn=_,n(2,jn)})}function Ha(){St=this.clientWidth,Et=this.clientHeight,n(0,St),n(1,Et)}return e.$$set=_=>{"ssr"in _&&n(3,or=_.ssr),"pointerEvents"in _&&n(4,ml=_.pointerEvents),"position"in _&&n(5,yl=_.position),"percentRange"in _&&n(111,Bn=_.percentRange),"width"in _&&n(112,ar=_.width),"height"in _&&n(113,fr=_.height),"containerWidth"in _&&n(0,St=_.containerWidth),"containerHeight"in _&&n(1,Et=_.containerHeight),"element"in _&&n(2,jn=_.element),"x"in _&&n(114,Mt=_.x),"y"in _&&n(115,Rt=_.y),"z"in _&&n(116,Nt=_.z),"r"in _&&n(117,zt=_.r),"data"in _&&n(118,Dt=_.data),"xDomain"in _&&n(119,Pt=_.xDomain),"yDomain"in _&&n(120,At=_.yDomain),"zDomain"in _&&n(121,Ct=_.zDomain),"rDomain"in _&&n(122,Tt=_.rDomain),"xNice"in _&&n(123,qn=_.xNice),"yNice"in _&&n(124,xn=_.yNice),"zNice"in _&&n(125,Gn=_.zNice),"rNice"in _&&n(126,On=_.rNice),"xPadding"in _&&n(127,Fn=_.xPadding),"yPadding"in _&&n(128,Hn=_.yPadding),"zPadding"in _&&n(129,Wn=_.zPadding),"rPadding"in _&&n(130,Un=_.rPadding),"xScale"in _&&n(131,Vn=_.xScale),"yScale"in _&&n(132,$t=_.yScale),"zScale"in _&&n(133,Yn=_.zScale),"rScale"in _&&n(134,Xn=_.rScale),"xRange"in _&&n(135,It=_.xRange),"yRange"in _&&n(136,Lt=_.yRange),"zRange"in _&&n(137,Bt=_.zRange),"rRange"in _&&n(138,jt=_.rRange),"xReverse"in _&&n(139,Kn=_.xReverse),"yReverse"in _&&n(140,Zn=_.yReverse),"zReverse"in _&&n(141,Qn=_.zReverse),"rReverse"in _&&n(142,Jn=_.rReverse),"padding"in _&&n(143,$n=_.padding),"extents"in _&&n(144,ei=_.extents),"flatData"in _&&n(145,ti=_.flatData),"custom"in _&&n(146,ni=_.custom),"debug"in _&&n(147,ur=_.debug),"$$scope"in _&&n(152,_l=_.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof Zn>"u"?typeof $t.bandwidth!="function":Zn),e.$$.dirty[3]&2097152&&Mt&&n(148,re.x=Mt,re),e.$$.dirty[3]&4194304&&Rt&&n(148,re.y=Rt,re),e.$$.dirty[3]&8388608&&Nt&&n(148,re.z=Nt,re),e.$$.dirty[3]&16777216&&zt&&n(148,re.r=zt,re),e.$$.dirty[3]&67108864&&Pt&&n(148,re.xDomain=Pt,re),e.$$.dirty[3]&134217728&&At&&n(148,re.yDomain=At,re),e.$$.dirty[3]&268435456&&Ct&&n(148,re.zDomain=Ct,re),e.$$.dirty[3]&536870912&&Tt&&n(148,re.rDomain=Tt,re),e.$$.dirty[4]&2048&&It&&n(148,re.xRange=It,re),e.$$.dirty[4]&4096&&Lt&&n(148,re.yRange=Lt,re),e.$$.dirty[4]&8192&&Bt&&n(148,re.zRange=Bt,re),e.$$.dirty[4]&16384&&jt&&n(148,re.rRange=jt,re),e.$$.dirty[3]&262144&&X(nt,He=Bn,He),e.$$.dirty[0]&1&&X(qt,Pe=St,Pe),e.$$.dirty[0]&2&&X(xt,Ne=Et,Ne),e.$$.dirty[4]&1048576&&X(ii,le=Sr(ei),le),e.$$.dirty[3]&33554432&&X(ri,ee=Dt,ee),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&X(en,dt=ti||Dt,dt),e.$$.dirty[4]&524288&&X(li,Te=$n,Te),e.$$.dirty[3]&2097152&&X(Gt,Ce=lt(Mt),Ce),e.$$.dirty[3]&4194304&&X(Ot,Y=lt(Rt),Y),e.$$.dirty[3]&8388608&&X(Ft,fe=lt(Nt),fe),e.$$.dirty[3]&16777216&&X(Ht,V=lt(zt),V),e.$$.dirty[3]&67108864&&X(oi,j=Pt,j),e.$$.dirty[3]&134217728&&X(ai,$=At,$),e.$$.dirty[3]&268435456&&X(fi,H=Ct,H),e.$$.dirty[3]&536870912&&X(ui,F=Tt,F),e.$$.dirty[3]&1073741824&&X(tn,E=qn,E),e.$$.dirty[4]&1&&X(nn,S=xn,S),e.$$.dirty[4]&2&&X(rn,I=Gn,I),e.$$.dirty[4]&4&&X(ln,D=On,D),e.$$.dirty[4]&32768&&X(on,q=Kn,q),e.$$.dirty[4]&67108864&&X(an,R=i,R),e.$$.dirty[4]&131072&&X(fn,L=Qn,L),e.$$.dirty[4]&262144&&X(un,T=Jn,T),e.$$.dirty[4]&8&&X(sn,B=Fn,B),e.$$.dirty[4]&16&&X(cn,z=Hn,z),e.$$.dirty[4]&32&&X(hn,M=Wn,M),e.$$.dirty[4]&64&&X(dn,k=Un,k),e.$$.dirty[4]&2048&&X(si,P=It,P),e.$$.dirty[4]&4096&&X(ci,w=Lt,w),e.$$.dirty[4]&8192&&X(hi,v=Bt,v),e.$$.dirty[4]&16384&&X(di,p=jt,p),e.$$.dirty[4]&128&&X(gn,y=Vn,y),e.$$.dirty[4]&256&&X(_n,b=$t,b),e.$$.dirty[4]&512&&X(mn,g=Yn,g),e.$$.dirty[4]&1024&&X(yn,d=Xn,d),e.$$.dirty[4]&4194304&&X(_i,c=ni,c),e.$$.dirty[4]&16777216&&X(gi,s=re,s),e.$$.dirty[4]&33554432&&Qo("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&f&&ur===!0&&(or===!0||typeof window<"u")&&Oa({boundingBox:f,activeGetters:u,x:re.x,y:re.y,z:re.z,r:re.r,xScale:h,yScale:a,zScale:o,rScale:l})},n(149,r={activeGetters:mi,width:it,height:rt,percentRange:nt,aspectRatio:pr,containerWidth:qt,containerHeight:xt,x:Gt,y:Ot,z:Ft,r:Ht,custom:_i,data:ri,xNice:tn,yNice:nn,zNice:rn,rNice:ln,xReverse:on,yReverse:an,zReverse:fn,rReverse:un,xPadding:sn,yPadding:cn,zPadding:hn,rPadding:dn,padding:yi,flatData:en,extents:xe,xDomain:pi,yDomain:wi,zDomain:vi,rDomain:ki,xRange:_r,yRange:mr,zRange:yr,rRange:br,config:gi,xScale:bn,xGet:cr,yScale:pn,yGet:hr,zScale:wn,zGet:dr,rScale:vn,rGet:gr}),[St,Et,jn,or,ml,yl,l,o,a,h,u,s,c,k,M,z,B,T,L,R,q,D,I,S,E,V,fe,Y,Ce,dt,ee,Ne,Pe,He,et,de,tt,gt,Jt,kt,rl,ll,ol,al,fl,ul,sl,cl,hl,dl,gl,nt,qt,xt,ii,ri,en,li,Gt,Ot,Ft,Ht,oi,ai,fi,ui,tn,nn,rn,ln,on,an,fn,un,sn,cn,hn,dn,si,ci,hi,di,gn,_n,mn,yn,gi,_i,mi,yi,bi,it,rt,xe,pi,wi,vi,ki,bn,cr,pn,hr,wn,dr,vn,gr,_r,mr,yr,br,pr,Bn,ar,fr,Mt,Rt,Nt,zt,Dt,Pt,At,Ct,Tt,qn,xn,Gn,On,Fn,Hn,Wn,Un,Vn,$t,Yn,Xn,It,Lt,Bt,jt,Kn,Zn,Qn,Jn,$n,ei,ti,ni,ur,re,r,i,f,_l,Ga,Fa,Ha]}class wa extends Me{constructor(t){super(),Re(this,t,Iu,Tu,Ee,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Lu=e=>({element:e&1}),Wl=e=>({element:e[0]});function Bu(e){let t,n;const i=e[11].default,r=at(i,e,e[10],Wl);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=U(l,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var o=G(t);r&&r.l(o),o.forEach(N),this.h()},h(){m(t,"class","layercake-layout-html svelte-1bu60uu"),m(t,"role",e[6]),m(t,"aria-label",e[3]),m(t,"aria-labelledby",e[4]),m(t,"aria-describedby",e[5]),x(t,"z-index",e[1]),x(t,"pointer-events",e[2]===!1?"none":null),x(t,"top",e[7].top+"px"),x(t,"right",e[7].right+"px"),x(t,"bottom",e[7].bottom+"px"),x(t,"left",e[7].left+"px")},m(l,o){O(l,t,o),r&&r.m(t,null),e[12](t),n=!0},p(l,[o]){r&&r.p&&(!n||o&1025)&&ft(r,i,l,l[10],n?st(i,l[10],o,Lu):ut(l[10]),Wl),(!n||o&64)&&m(t,"role",l[6]),(!n||o&8)&&m(t,"aria-label",l[3]),(!n||o&16)&&m(t,"aria-labelledby",l[4]),(!n||o&32)&&m(t,"aria-describedby",l[5]),o&2&&x(t,"z-index",l[1]),o&4&&x(t,"pointer-events",l[2]===!1?"none":null),o&128&&x(t,"top",l[7].top+"px"),o&128&&x(t,"right",l[7].right+"px"),o&128&&x(t,"bottom",l[7].bottom+"px"),o&128&&x(t,"left",l[7].left+"px")},i(l){n||(Q(r,l),n=!0)},o(l){te(r,l),n=!1},d(l){l&&N(t),r&&r.d(l),e[12](null)}}}function ju(e,t,n){let i,r,{$$slots:l={},$$scope:o}=t;const{padding:a}=Qe("LayerCake");A(e,a,y=>n(7,r=y));let{element:h=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:f=void 0}=t,{role:s=void 0}=t,{label:c=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:g=void 0}=t;function b(y){ct[y?"unshift":"push"](()=>{h=y,n(0,h)})}return e.$$set=y=>{"element"in y&&n(0,h=y.element),"zIndex"in y&&n(1,u=y.zIndex),"pointerEvents"in y&&n(2,f=y.pointerEvents),"role"in y&&n(9,s=y.role),"label"in y&&n(3,c=y.label),"labelledBy"in y&&n(4,d=y.labelledBy),"describedBy"in y&&n(5,g=y.describedBy),"$$scope"in y&&n(10,o=y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=s||(c||d||g?"figure":void 0))},[h,u,f,c,d,g,i,r,a,s,o,l,b]}class Ul extends Me{constructor(t){super(),Re(this,t,ju,Bu,Ee,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const qu=e=>({element:e&1}),Vl=e=>({element:e[0]}),xu=e=>({}),Yl=e=>({}),Gu=e=>({}),Xl=e=>({});function Kl(e){let t,n;return{c(){t=we("title"),n=K(e[8])},l(i){t=ve(i,"title",{});var r=G(t);n=Z(r,e[8]),r.forEach(N)},m(i,r){O(i,t,r),C(t,n)},p(i,r){r&256&&ce(n,i[8])},d(i){i&&N(t)}}}function Ou(e){let t,n=e[8]&&Kl(e);return{c(){n&&n.c(),t=se()},l(i){n&&n.l(i),t=se()},m(i,r){n&&n.m(i,r),O(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=Kl(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&N(t),n&&n.d(i)}}}function Fu(e){let t,n,i,r,l;const o=e[16].title,a=at(o,e,e[15],Xl),h=a||Ou(e),u=e[16].defs,f=at(u,e,e[15],Yl),s=e[16].default,c=at(s,e,e[15],Vl);return{c(){t=we("svg"),h&&h.c(),n=we("defs"),f&&f.c(),i=we("g"),c&&c.c(),this.h()},l(d){t=ve(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=G(t);h&&h.l(g),n=ve(g,"defs",{});var b=G(n);f&&f.l(b),b.forEach(N),i=ve(g,"g",{class:!0,transform:!0});var y=G(i);c&&c.l(y),y.forEach(N),g.forEach(N),this.h()},h(){m(i,"class","layercake-layout-svg_g"),m(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),m(t,"class","layercake-layout-svg svelte-u84d8d"),m(t,"viewBox",e[4]),m(t,"width",e[9]),m(t,"height",e[10]),m(t,"aria-label",e[5]),m(t,"aria-labelledby",e[6]),m(t,"aria-describedby",e[7]),x(t,"z-index",e[2]),x(t,"pointer-events",e[3]===!1?"none":null)},m(d,g){O(d,t,g),h&&h.m(t,null),C(t,n),f&&f.m(n,null),C(t,i),c&&c.m(i,null),e[17](i),e[18](t),l=!0},p(d,[g]){a?a.p&&(!l||g&32768)&&ft(a,o,d,d[15],l?st(o,d[15],g,Gu):ut(d[15]),Xl):h&&h.p&&(!l||g&256)&&h.p(d,l?g:-1),f&&f.p&&(!l||g&32768)&&ft(f,u,d,d[15],l?st(u,d[15],g,xu):ut(d[15]),Yl),c&&c.p&&(!l||g&32769)&&ft(c,s,d,d[15],l?st(s,d[15],g,qu):ut(d[15]),Vl),(!l||g&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&m(i,"transform",r),(!l||g&16)&&m(t,"viewBox",d[4]),(!l||g&512)&&m(t,"width",d[9]),(!l||g&1024)&&m(t,"height",d[10]),(!l||g&32)&&m(t,"aria-label",d[5]),(!l||g&64)&&m(t,"aria-labelledby",d[6]),(!l||g&128)&&m(t,"aria-describedby",d[7]),g&4&&x(t,"z-index",d[2]),g&8&&x(t,"pointer-events",d[3]===!1?"none":null)},i(d){l||(Q(h,d),Q(f,d),Q(c,d),l=!0)},o(d){te(h,d),te(f,d),te(c,d),l=!1},d(d){d&&N(t),h&&h.d(d),f&&f.d(d),c&&c.d(d),e[17](null),e[18](null)}}}function Hu(e,t,n){let i,r,l,{$$slots:o={},$$scope:a}=t,{element:h=void 0}=t,{innerElement:u=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:s=void 0}=t,{viewBox:c=void 0}=t,{label:d=void 0}=t,{labelledBy:g=void 0}=t,{describedBy:b=void 0}=t,{title:y=void 0}=t;const{containerWidth:p,containerHeight:v,padding:w}=Qe("LayerCake");A(e,p,M=>n(9,i=M)),A(e,v,M=>n(10,r=M)),A(e,w,M=>n(11,l=M));function P(M){ct[M?"unshift":"push"](()=>{u=M,n(1,u)})}function k(M){ct[M?"unshift":"push"](()=>{h=M,n(0,h)})}return e.$$set=M=>{"element"in M&&n(0,h=M.element),"innerElement"in M&&n(1,u=M.innerElement),"zIndex"in M&&n(2,f=M.zIndex),"pointerEvents"in M&&n(3,s=M.pointerEvents),"viewBox"in M&&n(4,c=M.viewBox),"label"in M&&n(5,d=M.label),"labelledBy"in M&&n(6,g=M.labelledBy),"describedBy"in M&&n(7,b=M.describedBy),"title"in M&&n(8,y=M.title),"$$scope"in M&&n(15,a=M.$$scope)},[h,u,f,s,c,d,g,b,y,i,r,l,p,v,w,a,o,P,k]}class va extends Me{constructor(t){super(),Re(this,t,Hu,Fu,Ee,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function ka(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const Wu=e=>({element:e&2,context:e&1}),Zl=e=>({element:e[1],context:e[0]}),Uu=e=>({}),Ql=e=>({});function Jl(e){let t;return{c(){t=K(e[4])},l(n){t=Z(n,e[4])},m(n,i){O(n,t,i)},p(n,i){i&16&&ce(t,n[4])},d(n){n&&N(t)}}}function Vu(e){let t,n=e[4]&&Jl(e);return{c(){n&&n.c(),t=se()},l(i){n&&n.l(i),t=se()},m(i,r){n&&n.m(i,r),O(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=Jl(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&N(t),n&&n.d(i)}}}function Yu(e){let t,n,i;const r=e[13].fallback,l=at(r,e,e[12],Ql),o=l||Vu(e),a=e[13].default,h=at(a,e,e[12],Zl);return{c(){t=W("canvas"),o&&o.c(),n=oe(),h&&h.c(),this.h()},l(u){t=U(u,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=G(t);o&&o.l(f),f.forEach(N),n=ae(u),h&&h.l(u),this.h()},h(){m(t,"class","layercake-layout-canvas"),x(t,"width","100%"),x(t,"height","100%"),x(t,"position","absolute"),m(t,"aria-label",e[5]),m(t,"aria-labelledby",e[6]),m(t,"aria-describedby",e[7]),x(t,"z-index",e[2]),x(t,"pointer-events",e[3]===!1?"none":null),x(t,"top",e[8].top+"px"),x(t,"right",e[8].right+"px"),x(t,"bottom",e[8].bottom+"px"),x(t,"left",e[8].left+"px")},m(u,f){O(u,t,f),o&&o.m(t,null),e[14](t),O(u,n,f),h&&h.m(u,f),i=!0},p(u,[f]){l?l.p&&(!i||f&4096)&&ft(l,r,u,u[12],i?st(r,u[12],f,Uu):ut(u[12]),Ql):o&&o.p&&(!i||f&16)&&o.p(u,i?f:-1),(!i||f&32)&&m(t,"aria-label",u[5]),(!i||f&64)&&m(t,"aria-labelledby",u[6]),(!i||f&128)&&m(t,"aria-describedby",u[7]),f&4&&x(t,"z-index",u[2]),f&8&&x(t,"pointer-events",u[3]===!1?"none":null),f&256&&x(t,"top",u[8].top+"px"),f&256&&x(t,"right",u[8].right+"px"),f&256&&x(t,"bottom",u[8].bottom+"px"),f&256&&x(t,"left",u[8].left+"px"),h&&h.p&&(!i||f&4099)&&ft(h,a,u,u[12],i?st(a,u[12],f,Wu):ut(u[12]),Zl)},i(u){i||(Q(o,u),Q(h,u),i=!0)},o(u){te(o,u),te(h,u),i=!1},d(u){u&&(N(t),N(n)),o&&o.d(u),e[14](null),h&&h.d(u)}}}function Xu(e,t,n){let i,r,l,{$$slots:o={},$$scope:a}=t;const{width:h,height:u,padding:f}=Qe("LayerCake");A(e,h,k=>n(16,r=k)),A(e,u,k=>n(15,i=k)),A(e,f,k=>n(8,l=k));let{element:s=void 0}=t,{context:c=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:g=void 0}=t,{fallback:b=""}=t,{label:y=void 0}=t,{labelledBy:p=void 0}=t,{describedBy:v=void 0}=t;const w={ctx:J({})};Zo(()=>{n(0,c=s.getContext("2d")),ka(c,r,i)}),Qo("canvas",w);function P(k){ct[k?"unshift":"push"](()=>{s=k,n(1,s)})}return e.$$set=k=>{"element"in k&&n(1,s=k.element),"context"in k&&n(0,c=k.context),"zIndex"in k&&n(2,d=k.zIndex),"pointerEvents"in k&&n(3,g=k.pointerEvents),"fallback"in k&&n(4,b=k.fallback),"label"in k&&n(5,y=k.label),"labelledBy"in k&&n(6,p=k.labelledBy),"describedBy"in k&&n(7,v=k.describedBy),"$$scope"in k&&n(12,a=k.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&w.ctx.set(c)},[c,s,d,g,b,y,p,v,l,h,u,f,a,o,P]}class Ku extends Me{constructor(t){super(),Re(this,t,Xu,Yu,Ee,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function Zu(e){e.nextSibling&&e.parentNode.appendChild(e)}function Qu(e){return e}function Ju(e){if(e==null)return Qu;var t,n,i=e.scale[0],r=e.scale[1],l=e.translate[0],o=e.translate[1];return function(a,h){h||(t=n=0);var u=2,f=a.length,s=new Array(f);for(s[0]=(t+=a[0])*i+l,s[1]=(n+=a[1])*r+o;u<f;)s[u]=a[u],++u;return s}}function $u(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function es(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return $l(e,n)})}:$l(e,t)}function $l(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,l=ts(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function ts(e,t){var n=Ju(e.transform),i=e.arcs;function r(f,s){s.length&&s.pop();for(var c=i[f<0?~f:f],d=0,g=c.length;d<g;++d)s.push(n(c[d],d));f<0&&$u(s,g)}function l(f){return n(f)}function o(f){for(var s=[],c=0,d=f.length;c<d;++c)r(f[c],s);return s.length<2&&s.push(s[0]),s}function a(f){for(var s=o(f);s.length<4;)s.push(s[0]);return s}function h(f){return f.map(a)}function u(f){var s=f.type,c;switch(s){case"GeometryCollection":return{type:s,geometries:f.geometries.map(u)};case"Point":c=l(f.coordinates);break;case"MultiPoint":c=f.coordinates.map(l);break;case"LineString":c=o(f.arcs);break;case"MultiLineString":c=f.arcs.map(o);break;case"Polygon":c=h(f.arcs);break;case"MultiPolygon":c=f.arcs.map(h);break;default:return null}return{type:s,coordinates:c}}return u(t)}var ie=1e-6,ns=1e-12,ne=Math.PI,Le=ne/2,eo=ne/4,qe=ne*2,Ge=180/ne,De=ne/180,he=Math.abs,is=Math.atan,Kt=Math.atan2,_e=Math.cos,ue=Math.sin,Bi=Math.sign||function(e){return e>0?1:e<0?-1:0},$e=Math.sqrt;function rs(e){return e>1?0:e<-1?ne:Math.acos(e)}function wt(e){return e>1?Le:e<-1?-Le:Math.asin(e)}function Be(){}function Yi(e,t){e&&no.hasOwnProperty(e.type)&&no[e.type](e,t)}var to={Feature:function(e,t){Yi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Yi(n[i].geometry,t)}},no={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Tr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Tr(n[i],t,0)},Polygon:function(e,t){io(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)io(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Yi(n[i],t)}};function Tr(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function io(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Tr(e[n],t,1);t.polygonEnd()}function Wt(e,t){e&&to.hasOwnProperty(e.type)?to[e.type](e,t):Yi(e,t)}function Ir(e){return[Kt(e[1],e[0]),wt(e[2])]}function Zt(e){var t=e[0],n=e[1],i=_e(n);return[i*_e(t),i*ue(t),ue(n)]}function Ai(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Xi(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Rr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ci(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Lr(e){var t=$e(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Br(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function jr(e,t){return he(e)>ne&&(e-=Math.round(e/qe)*qe),[e,t]}jr.invert=jr;function ls(e,t,n){return(e%=qe)?t||n?Br(lo(e),oo(t,n)):lo(e):t||n?oo(t,n):jr}function ro(e){return function(t,n){return t+=e,he(t)>ne&&(t-=Math.round(t/qe)*qe),[t,n]}}function lo(e){var t=ro(e);return t.invert=ro(-e),t}function oo(e,t){var n=_e(e),i=ue(e),r=_e(t),l=ue(t);function o(a,h){var u=_e(h),f=_e(a)*u,s=ue(a)*u,c=ue(h),d=c*n+f*i;return[Kt(s*r-d*l,f*n-c*i),wt(d*r+s*l)]}return o.invert=function(a,h){var u=_e(h),f=_e(a)*u,s=ue(a)*u,c=ue(h),d=c*r-s*l;return[Kt(s*r+c*l,f*n+d*i),wt(d*n-f*i)]},o}function os(e,t,n,i,r,l){if(n){var o=_e(t),a=ue(t),h=i*n;r==null?(r=t+i*qe,l=t-h/2):(r=ao(o,r),l=ao(o,l),(i>0?r<l:r>l)&&(r+=i*qe));for(var u,f=r;i>0?f>l:f<l;f-=h)u=Ir([o,-a*_e(f),-a*ue(f)]),e.point(u[0],u[1])}}function ao(e,t){t=Zt(t),t[0]-=e,Lr(t);var n=rs(-t[1]);return((-t[2]<0?-n:n)+qe-ie)%qe}function Sa(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:Be,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ji(e,t){return he(e[0]-t[0])<ie&&he(e[1]-t[1])<ie}function Ti(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ea(e,t,n,i,r){var l=[],o=[],a,h;if(e.forEach(function(g){if(!((b=g.length-1)<=0)){var b,y=g[0],p=g[b],v;if(ji(y,p)){if(!y[2]&&!p[2]){for(r.lineStart(),a=0;a<b;++a)r.point((y=g[a])[0],y[1]);r.lineEnd();return}p[0]+=2*ie}l.push(v=new Ti(y,g,null,!0)),o.push(v.o=new Ti(y,null,v,!1)),l.push(v=new Ti(p,g,null,!1)),o.push(v.o=new Ti(p,null,v,!0))}}),!!l.length){for(o.sort(t),fo(l),fo(o),a=0,h=o.length;a<h;++a)o[a].e=n=!n;for(var u=l[0],f,s;;){for(var c=u,d=!0;c.v;)if((c=c.n)===u)return;f=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(a=0,h=f.length;a<h;++a)r.point((s=f[a])[0],s[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(d)for(f=c.p.z,a=f.length-1;a>=0;--a)r.point((s=f[a])[0],s[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,f=c.z,d=!d}while(!c.v);r.lineEnd()}}}function fo(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Nr(e){return he(e[0])<=ne?e[0]:Bi(e[0])*((he(e[0])+ne)%qe-ne)}function as(e,t){var n=Nr(t),i=t[1],r=ue(i),l=[ue(n),-_e(n),0],o=0,a=0,h=new pt;r===1?i=Le+ie:r===-1&&(i=-Le-ie);for(var u=0,f=e.length;u<f;++u)if(c=(s=e[u]).length)for(var s,c,d=s[c-1],g=Nr(d),b=d[1]/2+eo,y=ue(b),p=_e(b),v=0;v<c;++v,g=P,y=M,p=z,d=w){var w=s[v],P=Nr(w),k=w[1]/2+eo,M=ue(k),z=_e(k),B=P-g,T=B>=0?1:-1,L=T*B,R=L>ne,q=y*M;if(h.add(Kt(q*T*ue(L),p*z+q*_e(L))),o+=R?B+T*qe:B,R^g>=n^P>=n){var D=Xi(Zt(d),Zt(w));Lr(D);var I=Xi(l,D);Lr(I);var S=(R^B>=0?-1:1)*wt(I[2]);(i>S||i===S&&(D[0]||D[1]))&&(a+=R^B>=0?1:-1)}}return(o<-ie||o<ie&&h<-ns)^a&1}function Ma(e,t,n,i){return function(r){var l=t(r),o=Sa(),a=t(o),h=!1,u,f,s,c={point:d,lineStart:b,lineEnd:y,polygonStart:function(){c.point=p,c.lineStart=v,c.lineEnd=w,f=[],u=[]},polygonEnd:function(){c.point=d,c.lineStart=b,c.lineEnd=y,f=ra(f);var P=as(u,i);f.length?(h||(r.polygonStart(),h=!0),Ea(f,us,P,n,r)):P&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(P,k){e(P,k)&&r.point(P,k)}function g(P,k){l.point(P,k)}function b(){c.point=g,l.lineStart()}function y(){c.point=d,l.lineEnd()}function p(P,k){s.push([P,k]),a.point(P,k)}function v(){a.lineStart(),s=[]}function w(){p(s[0][0],s[0][1]),a.lineEnd();var P=a.clean(),k=o.result(),M,z=k.length,B,T,L;if(s.pop(),u.push(s),s=null,!!z){if(P&1){if(T=k[0],(B=T.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),M=0;M<B;++M)r.point((L=T[M])[0],L[1]);r.lineEnd()}return}z>1&&P&2&&k.push(k.pop().concat(k.shift())),f.push(k.filter(fs))}}return c}}function fs(e){return e.length>1}function us(e,t){return((e=e.x)[0]<0?e[1]-Le-ie:Le-e[1])-((t=t.x)[0]<0?t[1]-Le-ie:Le-t[1])}const uo=Ma(function(){return!0},ss,hs,[-ne,-Le]);function ss(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,o){var a=l>0?ne:-ne,h=he(l-t);he(h-ne)<ie?(e.point(t,n=(n+o)/2>0?Le:-Le),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(l,n),r=0):i!==a&&h>=ne&&(he(t-i)<ie&&(t-=i*ie),he(l-a)<ie&&(l-=a*ie),n=cs(t,n,l,o),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),r=0),e.point(t=l,n=o),i=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function cs(e,t,n,i){var r,l,o=ue(e-n);return he(o)>ie?is((ue(t)*(l=_e(i))*ue(n)-ue(i)*(r=_e(t))*ue(e))/(r*l*o)):(t+i)/2}function hs(e,t,n,i){var r;if(e==null)r=n*Le,i.point(-ne,r),i.point(0,r),i.point(ne,r),i.point(ne,0),i.point(ne,-r),i.point(0,-r),i.point(-ne,-r),i.point(-ne,0),i.point(-ne,r);else if(he(e[0]-t[0])>ie){var l=e[0]<t[0]?ne:-ne;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function ds(e){var t=_e(e),n=6*De,i=t>0,r=he(t)>ie;function l(f,s,c,d){os(d,e,n,c,f,s)}function o(f,s){return _e(f)*_e(s)>t}function a(f){var s,c,d,g,b;return{lineStart:function(){g=d=!1,b=1},point:function(y,p){var v=[y,p],w,P=o(y,p),k=i?P?0:u(y,p):P?u(y+(y<0?ne:-ne),p):0;if(!s&&(g=d=P)&&f.lineStart(),P!==d&&(w=h(s,v),(!w||ji(s,w)||ji(v,w))&&(v[2]=1)),P!==d)b=0,P?(f.lineStart(),w=h(v,s),f.point(w[0],w[1])):(w=h(s,v),f.point(w[0],w[1],2),f.lineEnd()),s=w;else if(r&&s&&i^P){var M;!(k&c)&&(M=h(v,s,!0))&&(b=0,i?(f.lineStart(),f.point(M[0][0],M[0][1]),f.point(M[1][0],M[1][1]),f.lineEnd()):(f.point(M[1][0],M[1][1]),f.lineEnd(),f.lineStart(),f.point(M[0][0],M[0][1],3)))}P&&(!s||!ji(s,v))&&f.point(v[0],v[1]),s=v,d=P,c=k},lineEnd:function(){d&&f.lineEnd(),s=null},clean:function(){return b|(g&&d)<<1}}}function h(f,s,c){var d=Zt(f),g=Zt(s),b=[1,0,0],y=Xi(d,g),p=Ai(y,y),v=y[0],w=p-v*v;if(!w)return!c&&f;var P=t*p/w,k=-t*v/w,M=Xi(b,y),z=Ci(b,P),B=Ci(y,k);Rr(z,B);var T=M,L=Ai(z,T),R=Ai(T,T),q=L*L-R*(Ai(z,z)-1);if(!(q<0)){var D=$e(q),I=Ci(T,(-L-D)/R);if(Rr(I,z),I=Ir(I),!c)return I;var S=f[0],E=s[0],F=f[1],H=s[1],$;E<S&&($=S,S=E,E=$);var j=E-S,V=he(j-ne)<ie,fe=V||j<ie;if(!V&&H<F&&($=F,F=H,H=$),fe?V?F+H>0^I[1]<(he(I[0]-S)<ie?F:H):F<=I[1]&&I[1]<=H:j>ne^(S<=I[0]&&I[0]<=E)){var Y=Ci(T,(-L+D)/R);return Rr(Y,z),[I,Ir(Y)]}}}function u(f,s){var c=i?e:ne-e,d=0;return f<-c?d|=1:f>c&&(d|=2),s<-c?d|=4:s>c&&(d|=8),d}return Ma(o,a,l,i?[0,-e]:[-ne,e-ne])}function gs(e,t,n,i,r,l){var o=e[0],a=e[1],h=t[0],u=t[1],f=0,s=1,c=h-o,d=u-a,g;if(g=n-o,!(!c&&g>0)){if(g/=c,c<0){if(g<f)return;g<s&&(s=g)}else if(c>0){if(g>s)return;g>f&&(f=g)}if(g=r-o,!(!c&&g<0)){if(g/=c,c<0){if(g>s)return;g>f&&(f=g)}else if(c>0){if(g<f)return;g<s&&(s=g)}if(g=i-a,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<s&&(s=g)}else if(d>0){if(g>s)return;g>f&&(f=g)}if(g=l-a,!(!d&&g<0)){if(g/=d,d<0){if(g>s)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<s&&(s=g)}return f>0&&(e[0]=o+f*c,e[1]=a+f*d),s<1&&(t[0]=o+s*c,t[1]=a+s*d),!0}}}}}var Mn=1e9,Ii=-Mn;function _s(e,t,n,i){function r(u,f){return e<=u&&u<=n&&t<=f&&f<=i}function l(u,f,s,c){var d=0,g=0;if(u==null||(d=o(u,s))!==(g=o(f,s))||h(u,f)<0^s>0)do c.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+s+4)%4)!==g);else c.point(f[0],f[1])}function o(u,f){return he(u[0]-e)<ie?f>0?0:3:he(u[0]-n)<ie?f>0?2:1:he(u[1]-t)<ie?f>0?1:0:f>0?3:2}function a(u,f){return h(u.x,f.x)}function h(u,f){var s=o(u,1),c=o(f,1);return s!==c?s-c:s===0?f[1]-u[1]:s===1?u[0]-f[0]:s===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,s=Sa(),c,d,g,b,y,p,v,w,P,k,M,z={point:B,lineStart:q,lineEnd:D,polygonStart:L,polygonEnd:R};function B(S,E){r(S,E)&&f.point(S,E)}function T(){for(var S=0,E=0,F=d.length;E<F;++E)for(var H=d[E],$=1,j=H.length,V=H[0],fe,Y,Ce=V[0],Te=V[1];$<j;++$)fe=Ce,Y=Te,V=H[$],Ce=V[0],Te=V[1],Y<=i?Te>i&&(Ce-fe)*(i-Y)>(Te-Y)*(e-fe)&&++S:Te<=i&&(Ce-fe)*(i-Y)<(Te-Y)*(e-fe)&&--S;return S}function L(){f=s,c=[],d=[],M=!0}function R(){var S=T(),E=M&&S,F=(c=ra(c)).length;(E||F)&&(u.polygonStart(),E&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),F&&Ea(c,a,S,l,u),u.polygonEnd()),f=u,c=d=g=null}function q(){z.point=I,d&&d.push(g=[]),k=!0,P=!1,v=w=NaN}function D(){c&&(I(b,y),p&&P&&s.rejoin(),c.push(s.result())),z.point=B,P&&f.lineEnd()}function I(S,E){var F=r(S,E);if(d&&g.push([S,E]),k)b=S,y=E,p=F,k=!1,F&&(f.lineStart(),f.point(S,E));else if(F&&P)f.point(S,E);else{var H=[v=Math.max(Ii,Math.min(Mn,v)),w=Math.max(Ii,Math.min(Mn,w))],$=[S=Math.max(Ii,Math.min(Mn,S)),E=Math.max(Ii,Math.min(Mn,E))];gs(H,$,e,t,n,i)?(P||(f.lineStart(),f.point(H[0],H[1])),f.point($[0],$[1]),F||f.lineEnd(),M=!1):F&&(f.lineStart(),f.point(S,E),M=!1)}v=S,w=E,P=F}return z}}const qr=e=>e;var zr=new pt,xr=new pt,Ra,Na,Gr,Or,ot={point:Be,lineStart:Be,lineEnd:Be,polygonStart:function(){ot.lineStart=ms,ot.lineEnd=bs},polygonEnd:function(){ot.lineStart=ot.lineEnd=ot.point=Be,zr.add(he(xr)),xr=new pt},result:function(){var e=zr/2;return zr=new pt,e}};function ms(){ot.point=ys}function ys(e,t){ot.point=za,Ra=Gr=e,Na=Or=t}function za(e,t){xr.add(Or*e-Gr*t),Gr=e,Or=t}function bs(){za(Ra,Na)}const so=ot;var Qt=1/0,Ki=Qt,Tn=-Qt,Zi=Tn,ps={point:ws,lineStart:Be,lineEnd:Be,polygonStart:Be,polygonEnd:Be,result:function(){var e=[[Qt,Ki],[Tn,Zi]];return Tn=Zi=-(Ki=Qt=1/0),e}};function ws(e,t){e<Qt&&(Qt=e),e>Tn&&(Tn=e),t<Ki&&(Ki=t),t>Zi&&(Zi=t)}const Qi=ps;var Fr=0,Hr=0,Rn=0,Ji=0,$i=0,Vt=0,Wr=0,Ur=0,Nn=0,Da,Pa,Ve,Ye,Fe={point:vt,lineStart:co,lineEnd:ho,polygonStart:function(){Fe.lineStart=Ss,Fe.lineEnd=Es},polygonEnd:function(){Fe.point=vt,Fe.lineStart=co,Fe.lineEnd=ho},result:function(){var e=Nn?[Wr/Nn,Ur/Nn]:Vt?[Ji/Vt,$i/Vt]:Rn?[Fr/Rn,Hr/Rn]:[NaN,NaN];return Fr=Hr=Rn=Ji=$i=Vt=Wr=Ur=Nn=0,e}};function vt(e,t){Fr+=e,Hr+=t,++Rn}function co(){Fe.point=vs}function vs(e,t){Fe.point=ks,vt(Ve=e,Ye=t)}function ks(e,t){var n=e-Ve,i=t-Ye,r=$e(n*n+i*i);Ji+=r*(Ve+e)/2,$i+=r*(Ye+t)/2,Vt+=r,vt(Ve=e,Ye=t)}function ho(){Fe.point=vt}function Ss(){Fe.point=Ms}function Es(){Aa(Da,Pa)}function Ms(e,t){Fe.point=Aa,vt(Da=Ve=e,Pa=Ye=t)}function Aa(e,t){var n=e-Ve,i=t-Ye,r=$e(n*n+i*i);Ji+=r*(Ve+e)/2,$i+=r*(Ye+t)/2,Vt+=r,r=Ye*e-Ve*t,Wr+=r*(Ve+e),Ur+=r*(Ye+t),Nn+=r*3,vt(Ve=e,Ye=t)}const go=Fe;function Ca(e){this._context=e}Ca.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,qe);break}}},result:Be};var Vr=new pt,Dr,Ta,Ia,zn,Dn,er={point:Be,lineStart:function(){er.point=Rs},lineEnd:function(){Dr&&La(Ta,Ia),er.point=Be},polygonStart:function(){Dr=!0},polygonEnd:function(){Dr=null},result:function(){var e=+Vr;return Vr=new pt,e}};function Rs(e,t){er.point=La,Ta=zn=e,Ia=Dn=t}function La(e,t){zn-=e,Dn-=t,Vr.add($e(zn*zn+Dn*Dn)),zn=e,Dn=t}const _o=er;let mo,tr,yo,bo;class po{constructor(t){this._append=t==null?Ba:Ns(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==yo||this._append!==tr){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,yo=i,tr=this._append,bo=this._,this._=r}this._+=bo;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Ba(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ns(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Ba;if(t!==mo){const n=10**t;mo=t,tr=function(r){let l=1;this._+=r[0];for(const o=r.length;l<o;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return tr}function wo(e,t){let n=3,i=4.5,r,l;function o(a){return a&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),Wt(a,r(l))),l.result()}return o.area=function(a){return Wt(a,r(so)),so.result()},o.measure=function(a){return Wt(a,r(_o)),_o.result()},o.bounds=function(a){return Wt(a,r(Qi)),Qi.result()},o.centroid=function(a){return Wt(a,r(go)),go.result()},o.projection=function(a){return arguments.length?(r=a==null?(e=null,qr):(e=a).stream,o):e},o.context=function(a){return arguments.length?(l=a==null?(t=null,new po(n)):new Ca(t=a),typeof i!="function"&&l.pointRadius(i),o):t},o.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(l.pointRadius(+a),+a),o):i},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const h=Math.floor(a);if(!(h>=0))throw new RangeError(`invalid digits: ${a}`);n=h}return t===null&&(l=new po(n)),o},o.projection(e).digits(n).context(t)}function tl(e){return function(t){var n=new Yr;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Yr(){}Yr.prototype={constructor:Yr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function nl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Wt(n,e.stream(Qi)),t(Qi.result()),i!=null&&e.clipExtent(i),e}function il(e,t,n){return nl(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],o=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),a=+t[0][0]+(r-o*(i[1][0]+i[0][0]))/2,h=+t[0][1]+(l-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([a,h])},n)}function ja(e,t,n){return il(e,[[0,0],t],n)}function qa(e,t,n){return nl(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),o=(r-l*(i[1][0]+i[0][0]))/2,a=-l*i[0][1];e.scale(150*l).translate([o,a])},n)}function xa(e,t,n){return nl(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),o=-l*i[0][0],a=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([o,a])},n)}var vo=16,zs=_e(30*De);function ko(e,t){return+t?Ps(e,t):Ds(e)}function Ds(e){return tl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Ps(e,t){function n(i,r,l,o,a,h,u,f,s,c,d,g,b,y){var p=u-i,v=f-r,w=p*p+v*v;if(w>4*t&&b--){var P=o+c,k=a+d,M=h+g,z=$e(P*P+k*k+M*M),B=wt(M/=z),T=he(he(M)-1)<ie||he(l-s)<ie?(l+s)/2:Kt(k,P),L=e(T,B),R=L[0],q=L[1],D=R-i,I=q-r,S=v*D-p*I;(S*S/w>t||he((p*D+v*I)/w-.5)>.3||o*c+a*d+h*g<zs)&&(n(i,r,l,o,a,h,R,q,T,P/=z,k/=z,M,b,y),y.point(R,q),n(R,q,T,P,k,M,u,f,s,c,d,g,b,y))}}return function(i){var r,l,o,a,h,u,f,s,c,d,g,b,y={point:p,lineStart:v,lineEnd:P,polygonStart:function(){i.polygonStart(),y.lineStart=k},polygonEnd:function(){i.polygonEnd(),y.lineStart=v}};function p(B,T){B=e(B,T),i.point(B[0],B[1])}function v(){s=NaN,y.point=w,i.lineStart()}function w(B,T){var L=Zt([B,T]),R=e(B,T);n(s,c,f,d,g,b,s=R[0],c=R[1],f=B,d=L[0],g=L[1],b=L[2],vo,i),i.point(s,c)}function P(){y.point=p,i.lineEnd()}function k(){v(),y.point=M,y.lineEnd=z}function M(B,T){w(r=B,T),l=s,o=c,a=d,h=g,u=b,y.point=w}function z(){n(s,c,f,d,g,b,l,o,r,a,h,u,vo,i),y.lineEnd=P,P()}return y}}var As=tl({point:function(e,t){this.stream.point(e*De,t*De)}});function Cs(e){return tl({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function Ts(e,t,n,i,r){function l(o,a){return o*=i,a*=r,[t+e*o,n-e*a]}return l.invert=function(o,a){return[(o-t)/e*i,(n-a)/e*r]},l}function So(e,t,n,i,r,l){if(!l)return Ts(e,t,n,i,r);var o=_e(l),a=ue(l),h=o*e,u=a*e,f=o/e,s=a/e,c=(a*n-o*t)/e,d=(a*t+o*n)/e;function g(b,y){return b*=i,y*=r,[h*b-u*y+t,n-u*b-h*y]}return g.invert=function(b,y){return[i*(f*b-s*y+c),r*(d-s*b-f*y)]},g}function Is(e){var t,n=150,i=480,r=250,l=0,o=0,a=0,h=0,u=0,f,s=0,c=1,d=1,g=null,b=uo,y=null,p,v,w,P=qr,k=.5,M,z,B,T,L;function R(S){return B(S[0]*De,S[1]*De)}function q(S){return S=B.invert(S[0],S[1]),S&&[S[0]*Ge,S[1]*Ge]}R.stream=function(S){return T&&L===S?T:T=As(Cs(f)(b(M(P(L=S)))))},R.preclip=function(S){return arguments.length?(b=S,g=void 0,I()):b},R.postclip=function(S){return arguments.length?(P=S,y=p=v=w=null,I()):P},R.clipAngle=function(S){return arguments.length?(b=+S?ds(g=S*De):(g=null,uo),I()):g*Ge},R.clipExtent=function(S){return arguments.length?(P=S==null?(y=p=v=w=null,qr):_s(y=+S[0][0],p=+S[0][1],v=+S[1][0],w=+S[1][1]),I()):y==null?null:[[y,p],[v,w]]},R.scale=function(S){return arguments.length?(n=+S,D()):n},R.translate=function(S){return arguments.length?(i=+S[0],r=+S[1],D()):[i,r]},R.center=function(S){return arguments.length?(l=S[0]%360*De,o=S[1]%360*De,D()):[l*Ge,o*Ge]},R.rotate=function(S){return arguments.length?(a=S[0]%360*De,h=S[1]%360*De,u=S.length>2?S[2]%360*De:0,D()):[a*Ge,h*Ge,u*Ge]},R.angle=function(S){return arguments.length?(s=S%360*De,D()):s*Ge},R.reflectX=function(S){return arguments.length?(c=S?-1:1,D()):c<0},R.reflectY=function(S){return arguments.length?(d=S?-1:1,D()):d<0},R.precision=function(S){return arguments.length?(M=ko(z,k=S*S),I()):$e(k)},R.fitExtent=function(S,E){return il(R,S,E)},R.fitSize=function(S,E){return ja(R,S,E)},R.fitWidth=function(S,E){return qa(R,S,E)},R.fitHeight=function(S,E){return xa(R,S,E)};function D(){var S=So(n,0,0,c,d,s).apply(null,t(l,o)),E=So(n,i-S[0],r-S[1],c,d,s);return f=ls(a,h,u),z=Br(t,E),B=Br(f,z),M=ko(z,k),I()}function I(){return T=L=null,R}return function(){return t=e.apply(this,arguments),R.invert=t.invert&&q,D()}}function Ls(e){var t=0,n=ne/3,i=Is(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*De,n=l[1]*De):[t*Ge,n*Ge]},r}function Bs(e){var t=_e(e);function n(i,r){return[i*t,ue(r)/t]}return n.invert=function(i,r){return[i/t,wt(r*t)]},n}function js(e,t){var n=ue(e),i=(n+ue(t))/2;if(he(i)<ie)return Bs(e);var r=1+n*(2*i-n),l=$e(r)/i;function o(a,h){var u=$e(r-2*i*ue(h))/i;return[u*ue(a*=i),l-u*_e(a)]}return o.invert=function(a,h){var u=l-h,f=Kt(a,he(u))*Bi(u);return u*i<0&&(f-=ne*Bi(a)*Bi(u)),[f/i,wt((r-(a*a+u*u)*i*i)/(2*i))]},o}function Xr(){return Ls(js).scale(155.424).center([0,33.6442])}function qs(){return Xr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function xs(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Gs(){var e,t,n=qs(),i,r=Xr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,o=Xr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,h,u={point:function(c,d){h=[c,d]}};function f(c){var d=c[0],g=c[1];return h=null,i.point(d,g),h||(l.point(d,g),h)||(a.point(d,g),h)}f.invert=function(c){var d=n.scale(),g=n.translate(),b=(c[0]-g[0])/d,y=(c[1]-g[1])/d;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?r:y>=.166&&y<.234&&b>=-.214&&b<-.115?o:n).invert(c)},f.stream=function(c){return e&&t===c?e:e=xs([n.stream(t=c),r.stream(c),o.stream(c)])},f.precision=function(c){return arguments.length?(n.precision(c),r.precision(c),o.precision(c),s()):n.precision()},f.scale=function(c){return arguments.length?(n.scale(c),r.scale(c*.35),o.scale(c),f.translate(n.translate())):n.scale()},f.translate=function(c){if(!arguments.length)return n.translate();var d=n.scale(),g=+c[0],b=+c[1];return i=n.translate(c).clipExtent([[g-.455*d,b-.238*d],[g+.455*d,b+.238*d]]).stream(u),l=r.translate([g-.307*d,b+.201*d]).clipExtent([[g-.425*d+ie,b+.12*d+ie],[g-.214*d-ie,b+.234*d-ie]]).stream(u),a=o.translate([g-.205*d,b+.212*d]).clipExtent([[g-.214*d+ie,b+.166*d+ie],[g-.115*d-ie,b+.234*d-ie]]).stream(u),s()},f.fitExtent=function(c,d){return il(f,c,d)},f.fitSize=function(c,d){return ja(f,c,d)},f.fitWidth=function(c,d){return qa(f,c,d)},f.fitHeight=function(c,d){return xa(f,c,d)};function s(){return e=t=null,f}return f.scale(1070)}function Os(e,t,n){let i,r,l,o,a,h,u,f;const{data:s,width:c,height:d,zGet:g}=Qe("LayerCake");A(e,s,k=>n(17,f=k)),A(e,c,k=>n(16,u=k)),A(e,d,k=>n(15,h=k)),A(e,g,k=>n(14,a=k));const{ctx:b}=Qe("canvas");A(e,b,k=>n(13,o=k));let{projection:y}=t,{stroke:p="#ccc"}=t,{strokeWidth:v=1}=t,{fill:w=void 0}=t,{features:P=void 0}=t;return e.$$set=k=>{"projection"in k&&n(5,y=k.projection),"stroke"in k&&n(6,p=k.stroke),"strokeWidth"in k&&n(7,v=k.strokeWidth),"fill"in k&&n(8,w=k.fill),"features"in k&&n(9,P=k.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=y().fitSize([u,h],f)),e.$$.dirty&4096&&n(10,r=wo(i)),e.$$.dirty&131584&&n(11,l=P||f.features),e.$$.dirty&126400&&o&&wo&&(ka(o,u,h),o.clearRect(0,0,u,h),l.forEach(k=>{o.beginPath(),r.context(o),r(k),X(b,o.fillStyle=w||a(k.properties),o),o.fill(),X(b,o.lineWidth=v,o),X(b,o.strokeStyle=p,o),o.stroke()}))},[s,c,d,g,b,y,p,v,w,P,r,l,i,o,a,h,u,f]}class Fs extends Me{constructor(t){super(),Re(this,t,Os,null,Ee,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function Eo(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function Mo(e){let t=[],n=new Map,i,r=je(e[4]);const l=o=>`${o[29].ori}-${o[29].name}`;for(let o=0;o<r.length;o+=1){let a=Eo(e,r,o),h=l(a);n.set(h,t[o]=No(h,a))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=se()},l(o){for(let a=0;a<t.length;a+=1)t[a].l(o);i=se()},m(o,a){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(o,a);O(o,i,a)},p(o,a){a[0]&98815&&(r=je(o[4]),t=ea(t,a,l,1,o,r,n,i.parentNode,$o,No,i,Eo))},d(o){o&&N(i);for(let a=0;a<t.length;a+=1)t[a].d(o)}}}function Ro(e){let t,n,i,r,l,o,a;function h(...s){return e[22](e[29],...s)}function u(...s){return e[23](e[29],...s)}function f(...s){return e[24](e[29],...s)}return{c(){t=we("circle"),this.h()},l(s){t=ve(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),G(t).forEach(N),this.h()},h(){m(t,"cx",n=e[30][0]),m(t,"cy",i=e[30][1]),m(t,"r",r=e[7](Math.abs(e[8](e[29])))),m(t,"fill",l=e[0](e[29])),m(t,"stroke",e[1]),m(t,"stroke-width",e[2]),m(t,"opacity",e[3])},m(s,c){O(s,t,c),o||(a=[Se(t,"mouseover",h),Se(t,"focus",u),Se(t,"mousemove",function(){Kr(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),Se(t,"click",f)],o=!0)},p(s,c){e=s,c[0]&48&&n!==(n=e[30][0])&&m(t,"cx",n),c[0]&48&&i!==(i=e[30][1])&&m(t,"cy",i),c[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&m(t,"r",r),c[0]&17&&l!==(l=e[0](e[29]))&&m(t,"fill",l),c[0]&2&&m(t,"stroke",e[1]),c[0]&4&&m(t,"stroke-width",e[2]),c[0]&8&&m(t,"opacity",e[3])},d(s){s&&N(t),o=!1,In(a)}}}function No(e,t){let n,i=!isNaN(t[6](t[29])),r,l=i&&Ro(t);return{key:e,first:null,c(){n=se(),l&&l.c(),r=se(),this.h()},l(o){n=se(),l&&l.l(o),r=se(),this.h()},h(){this.first=n},m(o,a){O(o,n,a),l&&l.m(o,a),O(o,r,a)},p(o,a){t=o,a[0]&80&&(i=!isNaN(t[6](t[29]))),i?l?l.p(t,a):(l=Ro(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(o){o&&(N(n),N(r)),l&&l.d(o)}}}function Hs(e){let t,n,i,r=e[4].length&&Mo(e);return{c(){t=we("g"),r&&r.c(),this.h()},l(l){t=ve(l,"g",{class:!0});var o=G(t);r&&r.l(o),o.forEach(N),this.h()},h(){m(t,"class","points")},m(l,o){O(l,t,o),r&&r.m(t,null),n||(i=[Se(t,"mouseout",e[25]),Se(t,"blur",e[26])],n=!0)},p(l,o){l[4].length?r?r.p(l,o):(r=Mo(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:Ie,o:Ie,d(l){l&&N(t),r&&r.d(),n=!1,In(i)}}}function Ws(e,t,n){let i,r,l,o,a,h,u;const{data:f,width:s,height:c,rScale:d,rGet:g,zGet:b,r:y,zScale:p}=Qe("LayerCake");A(e,f,E=>n(19,r=E)),A(e,s,E=>n(21,o=E)),A(e,c,E=>n(20,l=E)),A(e,d,E=>n(7,h=E)),A(e,g,E=>n(6,a=E)),A(e,y,E=>n(8,u=E));let{projection:v}=t;const w=Ka();let{fill:P="yellow"}=t,{fillFunction:k=E=>E}=t,{stroke:M="#000"}=t,{strokeWidth:z=1}=t,{opacity:B=1}=t,{features:T=void 0}=t;function L(E){return function(H){Zu(this),H.layerX!==0&&H.layerY!==0&&w("mousemove",{e:H,props:E})}}const R=(E,F)=>w("mousemove",{e:F,props:E}),q=(E,F)=>w("mousemove",{e:F,props:E}),D=(E,F)=>w("clickedPoint",{e:F,props:E}),I=E=>w("mouseout"),S=E=>w("mouseout");return e.$$set=E=>{"projection"in E&&n(17,v=E.projection),"fill"in E&&n(18,P=E.fill),"fillFunction"in E&&n(0,k=E.fillFunction),"stroke"in E&&n(1,M=E.stroke),"strokeWidth"in E&&n(2,z=E.strokeWidth),"opacity"in E&&n(3,B=E.opacity),"features"in E&&n(4,T=E.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=v().fitSize([o,l],r))},[k,M,z,B,T,i,a,h,u,f,s,c,d,g,y,w,L,v,P,r,l,o,R,q,D,I,S]}class Us extends Me{constructor(t){super(),Re(this,t,Ws,Hs,Ee,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const Vs=e=>({detail:e&1}),zo=e=>({detail:e[0].detail});function Do(e){let t,n;const i=e[3].default,r=at(i,e,e[2],zo);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=U(l,"DIV",{class:!0,style:!0});var o=G(t);r&&r.l(o),o.forEach(N),this.h()},h(){m(t,"class","tooltip svelte-qjsu2l"),x(t,"top",e[0].detail.e.layerY+e[1]+"px"),x(t,"left",e[0].detail.e.layerX+"px")},m(l,o){O(l,t,o),r&&r.m(t,null),n=!0},p(l,o){r&&r.p&&(!n||o&5)&&ft(r,i,l,l[2],n?st(i,l[2],o,Vs):ut(l[2]),zo),(!n||o&3)&&x(t,"top",l[0].detail.e.layerY+l[1]+"px"),(!n||o&1)&&x(t,"left",l[0].detail.e.layerX+"px")},i(l){n||(Q(r,l),n=!0)},o(l){te(r,l),n=!1},d(l){l&&N(t),r&&r.d(l)}}}function Ys(e){let t,n,i=e[0].detail&&Do(e);return{c(){i&&i.c(),t=se()},l(r){i&&i.l(r),t=se()},m(r,l){i&&i.m(r,l),O(r,t,l),n=!0},p(r,[l]){r[0].detail?i?(i.p(r,l),l&1&&Q(i,1)):(i=Do(r),i.c(),Q(i,1),i.m(t.parentNode,t)):i&&(ir(),te(i,1,1,()=>{i=null}),rr())},i(r){n||(Q(i),n=!0)},o(r){te(i),n=!1},d(r){r&&N(t),i&&i.d(r)}}}function Xs(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:l={}}=t,{offset:o=-35}=t;return e.$$set=a=>{"evt"in a&&n(0,l=a.evt),"offset"in a&&n(1,o=a.offset),"$$scope"in a&&n(2,r=a.$$scope)},[l,o,r,i]}class Ks extends Me{constructor(t){super(),Re(this,t,Xs,Ys,Ee,{evt:0,offset:1})}}function Zs(e){let t,n,i="The Worst:",r,l=e[1].name+"",o,a=`${e[3][1]+Po}px`,h=`${e[3][0]}px`,u,f,s,c="The Best:",d,g=e[0].name+"",b,y=`${e[2][1]}px`,p=`${e[2][0]}px`;return{c(){t=W("p"),n=W("strong"),n.textContent=i,r=oe(),o=K(l),u=oe(),f=W("p"),s=W("strong"),s.textContent=c,d=oe(),b=K(g),this.h()},l(v){t=U(v,"P",{class:!0});var w=G(t);n=U(w,"STRONG",{"data-svelte-h":!0}),ht(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=ae(w),o=Z(w,l),w.forEach(N),u=ae(v),f=U(v,"P",{class:!0});var P=G(f);s=U(P,"STRONG",{"data-svelte-h":!0}),ht(s)!=="svelte-1u2nyi3"&&(s.textContent=c),d=ae(P),b=Z(P,g),P.forEach(N),this.h()},h(){m(t,"class","worst svelte-1vzmzh6"),x(t,"top",a),x(t,"left",h),m(f,"class","best svelte-1vzmzh6"),x(f,"top",y),x(f,"left",p)},m(v,w){O(v,t,w),C(t,n),C(t,r),C(t,o),O(v,u,w),O(v,f,w),C(f,s),C(f,d),C(f,b)},p(v,[w]){w&2&&l!==(l=v[1].name+"")&&ce(o,l),w&8&&a!==(a=`${v[3][1]+Po}px`)&&x(t,"top",a),w&8&&h!==(h=`${v[3][0]}px`)&&x(t,"left",h),w&1&&g!==(g=v[0].name+"")&&ce(b,g),w&4&&y!==(y=`${v[2][1]}px`)&&x(f,"top",y),w&4&&p!==(p=`${v[2][0]}px`)&&x(f,"left",p)},i:Ie,o:Ie,d(v){v&&(N(t),N(u),N(f))}}}const Po=25;function Qs(e,t,n){let i,r,l,o,a,h,u,f;const{data:s,width:c,height:d}=Qe("LayerCake");A(e,s,y=>n(10,h=y)),A(e,c,y=>n(12,f=y)),A(e,d,y=>n(11,u=y));let{features:g}=t,{projection:b}=t;return e.$$set=y=>{"features"in y&&n(7,g=y.features),"projection"in y&&n(8,b=y.projection)},e.$$.update=()=>{e.$$.dirty&7424&&n(9,i=b().fitSize([f,u],h)),e.$$.dirty&128&&n(1,r=g[0]),e.$$.dirty&128&&n(0,l=g[g.length-1]),e.$$.dirty&514&&n(3,o=i([r.longitude,r.latitude])),e.$$.dirty&513&&n(2,a=i([l.longitude,l.latitude]))},[l,r,a,o,s,c,d,g,b,i,h,u,f]}class Js extends Me{constructor(t){super(),Re(this,t,Qs,Zs,Ee,{features:7,projection:8})}}function Ao(e){const t={...e[14].props};e[15]=t}function $s(e){let t,n;return t=new Fs({props:{projection:e[6],fill:"#fff"}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p:Ie,i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function ec(e){let t,n;return t=new Us({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[11]),t.$on("mouseout",e[12]),t.$on("clickedPoint",e[13]),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),r&8&&(l.fillFunction=i[3]),t.$set(l)},i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function tc(e){let t,n;return t=new Js({props:{features:e[4],projection:e[6]}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),t.$set(l)},i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function Co(e){let t,n;return t=new Ks({props:{evt:e[1],$$slots:{default:[nc,({detail:i})=>({14:i}),({detail:i})=>i?16384:0]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.evt=i[1]),r&81920&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function nc(e){Ao(e);let t,n=e[15].name+"",i,r,l,o=e[15].bad_air_days+"",a,h;return{c(){t=W("p"),i=K(n),r=oe(),l=W("p"),a=K(o),h=K(" bad air days"),this.h()},l(u){t=U(u,"P",{class:!0});var f=G(t);i=Z(f,n),f.forEach(N),r=ae(u),l=U(u,"P",{class:!0});var s=G(l);a=Z(s,o),h=Z(s," bad air days"),s.forEach(N),this.h()},h(){m(t,"class","name svelte-1q0sbj5"),m(l,"class","days")},m(u,f){O(u,t,f),C(t,i),O(u,r,f),O(u,l,f),C(l,a),C(l,h)},p(u,f){Ao(u),f&16384&&n!==(n=u[15].name+"")&&ce(i,n),f&16384&&o!==(o=u[15].bad_air_days+"")&&ce(a,o)},d(u){u&&(N(t),N(r),N(l))}}}function ic(e){let t,n,i=e[2]!==!0&&Co(e);return{c(){i&&i.c(),t=se()},l(r){i&&i.l(r),t=se()},m(r,l){i&&i.m(r,l),O(r,t,l),n=!0},p(r,l){r[2]!==!0?i?(i.p(r,l),l&4&&Q(i,1)):(i=Co(r),i.c(),Q(i,1),i.m(t.parentNode,t)):i&&(ir(),te(i,1,1,()=>{i=null}),rr())},i(r){n||(Q(i),n=!0)},o(r){te(i),n=!1},d(r){r&&N(t),i&&i.d(r)}}}function rc(e){let t,n,i,r,l,o,a,h;return t=new Ku({props:{$$slots:{default:[$s]},$$scope:{ctx:e}}}),i=new va({props:{$$slots:{default:[ec]},$$scope:{ctx:e}}}),l=new Ul({props:{pointerEvents:!1,$$slots:{default:[tc]},$$scope:{ctx:e}}}),a=new Ul({props:{pointerEvents:!1,$$slots:{default:[ic]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment),n=oe(),me(i.$$.fragment),r=oe(),me(l.$$.fragment),o=oe(),me(a.$$.fragment)},l(u){ye(t.$$.fragment,u),n=ae(u),ye(i.$$.fragment,u),r=ae(u),ye(l.$$.fragment,u),o=ae(u),ye(a.$$.fragment,u)},m(u,f){be(t,u,f),O(u,n,f),be(i,u,f),O(u,r,f),be(l,u,f),O(u,o,f),be(a,u,f),h=!0},p(u,f){const s={};f&65536&&(s.$$scope={dirty:f,ctx:u}),t.$set(s);const c={};f&65567&&(c.$$scope={dirty:f,ctx:u}),i.$set(c);const d={};f&65552&&(d.$$scope={dirty:f,ctx:u}),l.$set(d);const g={};f&65542&&(g.$$scope={dirty:f,ctx:u}),a.$set(g)},i(u){h||(Q(t.$$.fragment,u),Q(i.$$.fragment,u),Q(l.$$.fragment,u),Q(a.$$.fragment,u),h=!0)},o(u){te(t.$$.fragment,u),te(i.$$.fragment,u),te(l.$$.fragment,u),te(a.$$.fragment,u),h=!1},d(u){u&&(N(n),N(r),N(o)),pe(t,u),pe(i,u),pe(l,u),pe(a,u)}}}function lc(e){let t,n,i;return n=new wa({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:ba().clamp(!0),rRange:[1,15],rDomain:[0,365],$$slots:{default:[rc]},$$scope:{ctx:e}}}),{c(){t=W("div"),me(n.$$.fragment),this.h()},l(r){t=U(r,"DIV",{class:!0});var l=G(t);ye(n.$$.fragment,l),l.forEach(N),this.h()},h(){m(t,"class","container svelte-1q0sbj5")},m(r,l){O(r,t,l),be(n,t,null),i=!0},p(r,[l]){const o={};l&65567&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){i||(Q(n.$$.fragment,r),i=!0)},o(r){te(n.$$.fragment,r),i=!1},d(r){r&&N(t),pe(n)}}}function oc(e,t,n){let i,r,l;A(e,Je,p=>n(0,l=p));let{data:o}=t,{us_states:a}=t,{cbsa_lookup:h}=t,u,f=!0;const s=es(a,a.objects.collection),c=Gs,d=s.features.map(p=>p.properties),g=p=>n(1,u=n(2,f=p)),b=()=>n(2,f=!0),y=p=>{const{detail:v}=p,{props:w}=v;X(Je,l={value:w==null?void 0:w.code,label:w==null?void 0:w.name},l)};return e.$$set=p=>{"data"in p&&n(8,o=p.data),"us_states"in p&&n(9,a=p.us_states),"cbsa_lookup"in p&&n(10,h=p.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=o.map(p=>{var v,w;return{...p,latitude:(v=h.get(p.code))==null?void 0:v.latitude,longitude:(w=h.get(p.code))==null?void 0:w.longitude}}).filter(p=>p.latitude).filter(p=>p.longitude)),e.$$.dirty&1&&n(3,r=p=>p.code===l.value?"var(--primary)":"var(--secondary)")},[l,u,f,r,i,s,c,d,o,a,h,g,b,y]}class ac extends Me{constructor(t){super(),Re(this,t,oc,lc,Ee,{data:8,us_states:9,cbsa_lookup:10})}}function To(e,t,n){const i=e.slice();return i[8]=t[n].name,i[9]=t[n].code,i[10]=t[n].bad_air_days,i}function Io(e){let t,n,i=e[8]+"",r,l,o=e[10]+"",a,h,u,f;return{c(){t=W("li"),n=W("span"),r=K(i),l=K(`
				- `),a=K(o),h=K(` days
			`),this.h()},l(s){t=U(s,"LI",{class:!0});var c=G(t);n=U(c,"SPAN",{role:!0,class:!0});var d=G(n);r=Z(d,i),d.forEach(N),l=Z(c,`
				- `),a=Z(c,o),h=Z(c,` days
			`),c.forEach(N),this.h()},h(){m(n,"role","button"),m(n,"class","svelte-fe00af"),m(t,"class","svelte-fe00af")},m(s,c){O(s,t,c),C(t,n),C(n,r),C(t,l),C(t,a),C(t,h),u||(f=Se(n,"click",function(){Kr(e[6](e[8],e[9]))&&e[6](e[8],e[9]).apply(this,arguments)}),u=!0)},p(s,c){e=s,c&32&&i!==(i=e[8]+"")&&ce(r,i),c&32&&o!==(o=e[10]+"")&&ce(a,o)},d(s){s&&N(t),u=!1,f()}}}function fc(e){var Ce,Te,dt;let t,n,i="The 10 Smokiest Places in 2022",r,l,o,a,h,u,f=((Ce=e[2][0])==null?void 0:Ce.name)+"",s,c,d,g=((Te=e[2][0])==null?void 0:Te.bad_air_days)+"",b,y,p,v,w,P,k=((dt=e[3])==null?void 0:dt.label)+"",M,z,B,T=e[4]+1+"",L,R,q=e[2].length+"",D,I,S,E=e[2][e[4]].bad_air_days+"",F,H,$,j,V,fe=je(e[5]),Y=[];for(let ee=0;ee<fe.length;ee+=1)Y[ee]=Io(To(e,fe,ee));return j=new ac({props:{data:e[2],us_states:e[0],cbsa_lookup:e[1]}}),{c(){t=W("section"),n=W("h2"),n.textContent=i,r=oe(),l=W("ol");for(let ee=0;ee<Y.length;ee+=1)Y[ee].c();o=oe(),a=W("p"),h=K("In 2022 (our most recent year of data), "),u=W("strong"),s=K(f),c=K(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=W("strong"),b=K(g),y=K(` days of haze and
		low air quality.`),p=oe(),v=W("p"),w=K("For comparison, "),P=W("strong"),M=K(k),z=K(` ranked number
		`),B=W("strong"),L=K(T),R=K(`
			out of `),D=K(q),I=K(`
		locations with `),S=W("strong"),F=K(E),H=K(`
		low air quality days in 2022.`),$=oe(),me(j.$$.fragment),this.h()},l(ee){t=U(ee,"SECTION",{});var le=G(t);n=U(le,"H2",{"data-svelte-h":!0}),ht(n)!=="svelte-15n9idw"&&(n.textContent=i),r=ae(le),l=U(le,"OL",{class:!0});var Ne=G(l);for(let kt=0;kt<Y.length;kt+=1)Y[kt].l(Ne);Ne.forEach(N),o=ae(le),a=U(le,"P",{class:!0});var Pe=G(a);h=Z(Pe,"In 2022 (our most recent year of data), "),u=U(Pe,"STRONG",{});var He=G(u);s=Z(He,f),He.forEach(N),c=Z(Pe,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=U(Pe,"STRONG",{});var et=G(d);b=Z(et,g),et.forEach(N),y=Z(Pe,` days of haze and
		low air quality.`),Pe.forEach(N),p=ae(le),v=U(le,"P",{class:!0});var de=G(v);w=Z(de,"For comparison, "),P=U(de,"STRONG",{});var tt=G(P);M=Z(tt,k),tt.forEach(N),z=Z(de,` ranked number
		`),B=U(de,"STRONG",{});var gt=G(B);L=Z(gt,T),R=Z(gt,`
			out of `),D=Z(gt,q),gt.forEach(N),I=Z(de,`
		locations with `),S=U(de,"STRONG",{});var Jt=G(S);F=Z(Jt,E),Jt.forEach(N),H=Z(de,`
		low air quality days in 2022.`),de.forEach(N),$=ae(le),ye(j.$$.fragment,le),le.forEach(N),this.h()},h(){m(l,"class","svelte-fe00af"),m(a,"class","prose"),m(v,"class","prose")},m(ee,le){O(ee,t,le),C(t,n),C(t,r),C(t,l);for(let Ne=0;Ne<Y.length;Ne+=1)Y[Ne]&&Y[Ne].m(l,null);C(t,o),C(t,a),C(a,h),C(a,u),C(u,s),C(a,c),C(a,d),C(d,b),C(a,y),C(t,p),C(t,v),C(v,w),C(v,P),C(P,M),C(v,z),C(v,B),C(B,L),C(B,R),C(B,D),C(v,I),C(v,S),C(S,F),C(v,H),C(t,$),be(j,t,null),V=!0},p(ee,[le]){var Pe,He,et;if(le&96){fe=je(ee[5]);let de;for(de=0;de<fe.length;de+=1){const tt=To(ee,fe,de);Y[de]?Y[de].p(tt,le):(Y[de]=Io(tt),Y[de].c(),Y[de].m(l,null))}for(;de<Y.length;de+=1)Y[de].d(1);Y.length=fe.length}(!V||le&4)&&f!==(f=((Pe=ee[2][0])==null?void 0:Pe.name)+"")&&ce(s,f),(!V||le&4)&&g!==(g=((He=ee[2][0])==null?void 0:He.bad_air_days)+"")&&ce(b,g),(!V||le&8)&&k!==(k=((et=ee[3])==null?void 0:et.label)+"")&&ce(M,k),(!V||le&16)&&T!==(T=ee[4]+1+"")&&ce(L,T),(!V||le&4)&&q!==(q=ee[2].length+"")&&ce(D,q),(!V||le&20)&&E!==(E=ee[2][ee[4]].bad_air_days+"")&&ce(F,E);const Ne={};le&4&&(Ne.data=ee[2]),le&1&&(Ne.us_states=ee[0]),le&2&&(Ne.cbsa_lookup=ee[1]),j.$set(Ne)},i(ee){V||(Q(j.$$.fragment,ee),V=!0)},o(ee){te(j.$$.fragment,ee),V=!1},d(ee){ee&&N(t),nr(Y,ee),pe(j)}}}function uc(e,t,n){let i,r,l,o;A(e,Je,s=>n(3,o=s));let{data:a}=t,{us_states:h}=t,{cbsa_lookup:u}=t;const f=(s,c)=>{X(Je,o={value:c,label:s},o)};return e.$$set=s=>{"data"in s&&n(7,a=s.data),"us_states"in s&&n(0,h=s.us_states),"cbsa_lookup"in s&&n(1,u=s.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&128&&n(2,i=a.filter(s=>s.year===2022).sort((s,c)=>Zr(s.bad_air_days,c.bad_air_days))),e.$$.dirty&4&&n(5,r=i.slice(0,10)),e.$$.dirty&12&&n(4,l=i.findIndex(s=>s["CBSA Code"]===(o==null?void 0:o.value)))},[h,u,i,o,l,r,f,a]}class sc extends Me{constructor(t){super(),Re(this,t,uc,fc,Ee,{data:7,us_states:0,cbsa_lookup:1})}}function Lo(e){let t,n;return{c(){t=we("desc"),n=K(e[7])},l(i){t=ve(i,"desc",{});var r=G(t);n=Z(r,e[7]),r.forEach(N)},m(i,r){O(i,t,r),C(t,n)},p(i,r){r&128&&ce(n,i[7])},d(i){i&&N(t)}}}function Bo(e){let t,n;return{c(){t=we("title"),n=K(e[6])},l(i){t=ve(i,"title",{});var r=G(t);n=Z(r,e[6]),r.forEach(N)},m(i,r){O(i,t,r),C(t,n)},p(i,r){r&64&&ce(n,i[6])},d(i){i&&N(t)}}}function cc(e){let t,n,i,r=e[7]&&Lo(e),l=e[6]&&Bo(e);return{c(){t=we("svg"),r&&r.c(),n=se(),l&&l.c(),i=we("path"),this.h()},l(o){t=ve(o,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var a=G(t);r&&r.l(a),n=se(),l&&l.l(a),i=ve(a,"path",{d:!0,fill:!0}),G(i).forEach(N),a.forEach(N),this.h()},h(){m(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),m(i,"fill",e[2]),m(t,"viewBox",e[3]),m(t,"width",e[0]),m(t,"height",e[1]),m(t,"class",e[8]),m(t,"aria-label",e[4]),m(t,"aria-hidden",e[5])},m(o,a){O(o,t,a),r&&r.m(t,null),C(t,n),l&&l.m(t,null),C(t,i)},p(o,[a]){o[7]?r?r.p(o,a):(r=Lo(o),r.c(),r.m(t,n)):r&&(r.d(1),r=null),o[6]?l?l.p(o,a):(l=Bo(o),l.c(),l.m(t,i)):l&&(l.d(1),l=null),a&4&&m(i,"fill",o[2]),a&8&&m(t,"viewBox",o[3]),a&1&&m(t,"width",o[0]),a&2&&m(t,"height",o[1]),a&256&&m(t,"class",o[8]),a&16&&m(t,"aria-label",o[4]),a&32&&m(t,"aria-hidden",o[5])},i:Ie,o:Ie,d(o){o&&N(t),r&&r.d(),l&&l.d()}}}function hc(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:l=i}=t,{color:o="currentColor"}=t,{viewBox:a="0 0 24 24"}=t,{ariaLabel:h=void 0}=t,{ariaHidden:u=void 0}=t,{title:f=void 0}=t,{desc:s=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,l=d.height),"color"in d&&n(2,o=d.color),"viewBox"in d&&n(3,a=d.viewBox),"ariaLabel"in d&&n(4,h=d.ariaLabel),"ariaHidden"in d&&n(5,u=d.ariaHidden),"title"in d&&n(6,f=d.title),"desc"in d&&n(7,s=d.desc),"class"in d&&n(8,c=d.class)},[r,l,o,a,h,u,f,s,c,i]}class dc extends Me{constructor(t){super(),Re(this,t,hc,cc,Ee,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function jo(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i[35]=t,i[36]=n,i}function qo(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i}function xo(e){let t,n=e[33]+"",i,r;return{c(){t=W("option"),i=K(n),this.h()},l(l){t=U(l,"OPTION",{});var o=G(t);i=Z(o,n),o.forEach(N),this.h()},h(){t.__value=r=e[34],qi(t,t.__value)},m(l,o){O(l,t,o),C(t,i)},p(l,o){o[0]&2&&n!==(n=l[33]+"")&&ce(i,n),o[0]&2&&r!==(r=l[34])&&(t.__value=r,qi(t,t.__value))},d(l){l&&N(t)}}}function gc(e){let t,n="Sorry, no options match";return{c(){t=W("li"),t.textContent=n,this.h()},l(i){t=U(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),ht(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){m(t,"class","disabled svelte-13q4pje"),m(t,"tabindex","-1")},m(i,r){O(i,t,r)},p:Ie,d(i){i&&N(t)}}}function _c(e){let t,n=je(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Go(jo(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=se()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=se()},m(r,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,l);O(r,t,l)},p(r,l){if(l[0]&798784){n=je(r[6]);let o;for(o=0;o<n.length;o+=1){const a=jo(r,n,o);i[o]?i[o].p(a,l):(i[o]=Go(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(r){r&&N(t),nr(i,r)}}}function Go(e){let t,n=e[33]+"",i,r,l,o,a=e[36],h,u;const f=()=>e[27](t,a),s=()=>e[27](null,a);function c(){return e[28](e[34],e[33])}function d(...g){return e[29](e[34],e[33],...g)}return{c(){t=W("li"),i=K(n),r=oe(),this.h()},l(g){t=U(g,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var b=G(t);i=Z(b,n),r=ae(b),b.forEach(N),this.h()},h(){m(t,"role","option"),m(t,"tabindex","-1"),m(t,"aria-selected",l=e[36]===e[13]),m(t,"data-option-value",o=e[34]),m(t,"id",`autocomplete_${e[36]}`),m(t,"class","svelte-13q4pje")},m(g,b){O(g,t,b),C(t,i),C(t,r),f(),h||(u=[Se(t,"click",c),Se(t,"keydown",d)],h=!0)},p(g,b){e=g,b[0]&64&&n!==(n=e[33]+"")&&ce(i,n),b[0]&8192&&l!==(l=e[36]===e[13])&&m(t,"aria-selected",l),b[0]&64&&o!==(o=e[34])&&m(t,"data-option-value",o),a!==e[36]&&(s(),a=e[36],f())},d(g){g&&N(t),s(),h=!1,In(u)}}}function Oo(e){let t,n,i,r,l;return n=new dc({props:{width:"16px",height:"16px"}}),{c(){t=W("button"),me(n.$$.fragment),this.h()},l(o){t=U(o,"BUTTON",{"aria-label":!0,class:!0});var a=G(t);ye(n.$$.fragment,a),a.forEach(N),this.h()},h(){m(t,"aria-label","clear autocomplete search"),m(t,"class","svelte-13q4pje")},m(o,a){O(o,t,a),be(n,t,null),i=!0,r||(l=Se(t,"click",e[22]),r=!0)},p:Ie,i(o){i||(Q(n.$$.fragment,o),i=!0)},o(o){te(n.$$.fragment,o),i=!1},d(o){o&&N(t),pe(n),r=!1,l()}}}function mc(e){let t,n,i,r,l,o,a,h,u,f,s,c,d,g,b,y,p,v,w,P,k,M,z,B,T=je(e[1]),L=[];for(let S=0;S<T.length;S+=1)L[S]=xo(qo(e,T,S));function R(S,E){return S[6].length?_c:gc}let q=R(e),D=q(e),I=e[4]===!0&&e[8]&&e[8].length&&Oo(e);return{c(){t=W("div"),n=W("label"),i=W("span"),r=K(e[2]),o=oe(),a=W("select");for(let S=0;S<L.length;S+=1)L[S].c();h=oe(),u=W("div"),f=W("input"),d=oe(),g=W("ul"),D.c(),y=oe(),p=W("div"),v=K(e[7]),w=K(" results available"),P=oe(),I&&I.c(),this.h()},l(S){t=U(S,"DIV",{class:!0,style:!0,id:!0});var E=G(t);n=U(E,"LABEL",{for:!0,class:!0});var F=G(n);i=U(F,"SPAN",{class:!0});var H=G(i);r=Z(H,e[2]),H.forEach(N),F.forEach(N),o=ae(E),a=U(E,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var $=G(a);for(let Y=0;Y<L.length;Y+=1)L[Y].l($);$.forEach(N),h=ae(E),u=U(E,"DIV",{class:!0});var j=G(u);f=U(j,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=ae(j),g=U(j,"UL",{id:!0,role:!0,class:!0});var V=G(g);D.l(V),V.forEach(N),y=ae(j),p=U(j,"DIV",{"aria-live":!0,role:!0,class:!0});var fe=G(p);v=Z(fe,e[7]),w=Z(fe," results available"),fe.forEach(N),P=ae(j),I&&I.l(j),j.forEach(N),E.forEach(N),this.h()},h(){m(i,"class","field-label"),m(n,"for",l=`${e[14]}-${e[2]}`),m(n,"class","svelte-13q4pje"),Ut(n,"offset",e[9]||e[0]&&e[0].length||e[10]),m(a,"name",e[2]),m(a,"aria-hidden","true"),m(a,"tabindex","-1"),m(a,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&Jo(()=>e[24].call(a)),m(f,"aria-controls",s=`autocomplete-options--${e[14]}-${e[2]}`),m(f,"autocapitalize","none"),m(f,"type","text"),m(f,"autocomplete","off"),m(f,"aria-autocomplete","list"),m(f,"role","combobox"),m(f,"id",c=`${e[14]}-${e[2]}`),m(f,"aria-expanded","false"),m(f,"name",`autocomplete-${e[14]}`),m(f,"class","svelte-13q4pje"),m(g,"id",b=`autocomplete-options--${e[14]}-${e[2]}`),m(g,"role","listbox"),m(g,"class","svelte-13q4pje"),Ut(g,"hidden",!e[9]),m(p,"aria-live","polite"),m(p,"role","status"),m(p,"class","visually-hidden svelte-13q4pje"),m(u,"class","autocomplete svelte-13q4pje"),m(t,"class","field svelte-13q4pje"),x(t,"font-size",e[3]+"px"),m(t,"id",k=`field-${e[14]}-${e[2]}`),x(t,"flex",e[5]?"1 1 auto":"auto")},m(S,E){O(S,t,E),C(t,n),C(n,i),C(i,r),C(t,o),C(t,a);for(let F=0;F<L.length;F+=1)L[F]&&L[F].m(a,null);bl(a,e[0],!0),C(t,h),C(t,u),C(u,f),qi(f,e[8]),e[26](f),C(u,d),C(u,g),D.m(g,null),C(u,y),C(u,p),C(p,v),C(p,w),C(u,P),I&&I.m(u,null),M=!0,z||(B=[Se(window,"click",e[21]),Se(a,"change",e[24]),Se(f,"keyup",e[15]),Se(f,"keydown",e[16]),Se(f,"focus",e[17]),Se(f,"blur",function(){Kr(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),Se(f,"input",e[25]),Se(f,"click",e[20])],z=!0)},p(S,E){if(e=S,(!M||E[0]&4)&&ce(r,e[2]),(!M||E[0]&4&&l!==(l=`${e[14]}-${e[2]}`))&&m(n,"for",l),(!M||E[0]&1537)&&Ut(n,"offset",e[9]||e[0]&&e[0].length||e[10]),E[0]&2){T=je(e[1]);let H;for(H=0;H<T.length;H+=1){const $=qo(e,T,H);L[H]?L[H].p($,E):(L[H]=xo($),L[H].c(),L[H].m(a,null))}for(;H<L.length;H+=1)L[H].d(1);L.length=T.length}(!M||E[0]&4)&&m(a,"name",e[2]),E[0]&3&&bl(a,e[0]),(!M||E[0]&4&&s!==(s=`autocomplete-options--${e[14]}-${e[2]}`))&&m(f,"aria-controls",s),(!M||E[0]&4&&c!==(c=`${e[14]}-${e[2]}`))&&m(f,"id",c),E[0]&256&&f.value!==e[8]&&qi(f,e[8]),q===(q=R(e))&&D?D.p(e,E):(D.d(1),D=q(e),D&&(D.c(),D.m(g,null))),(!M||E[0]&4&&b!==(b=`autocomplete-options--${e[14]}-${e[2]}`))&&m(g,"id",b),(!M||E[0]&512)&&Ut(g,"hidden",!e[9]),(!M||E[0]&128)&&ce(v,e[7]),e[4]===!0&&e[8]&&e[8].length?I?(I.p(e,E),E[0]&272&&Q(I,1)):(I=Oo(e),I.c(),Q(I,1),I.m(u,null)):I&&(ir(),te(I,1,1,()=>{I=null}),rr()),(!M||E[0]&8)&&x(t,"font-size",e[3]+"px"),(!M||E[0]&4&&k!==(k=`field-${e[14]}-${e[2]}`))&&m(t,"id",k),(E[0]&8||E[0]&40)&&x(t,"flex",e[5]?"1 1 auto":"auto")},i(S){M||(Q(I),M=!0)},o(S){te(I),M=!1},d(S){S&&N(t),nr(L,S),e[26](null),D.d(),I&&I.d(),z=!1,In(B)}}}function yc(e,t,n){let i;A(e,Je,j=>n(31,i=j));let{data:r}=t,{name:l}=t,{fontSize:o=16}=t,{selected:a=""}=t,{clearButton:h=!0}=t,{manualSelection:u={}}=t,{inline:f=!1}=t,s=r.sort((j,V)=>yt(j.label,V.label)),c=Math.floor(Math.random()*100),d=s.length,g=a,b=!1,y=!1,p,v=[],w,P=!0;const k=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function M(j){!k.includes(j.key)&&g&&g.length&&(n(6,s=r.filter(V=>(console.log({label:V.label}),V.label.toLowerCase().includes(g.toLowerCase())))),n(9,b=!0),n(7,d=s.length)),j.key==="Tab"&&n(9,b=!1),j.key==="ArrowDown"&&s&&s.length&&(n(9,b=!0),n(13,w=0),v[0].focus())}function z(j){j.key==="Tab"&&n(9,b=!1),g&&g.length===1&&j.key==="Backspace"&&(n(6,s=r),n(0,a="")),j.key==="Escape"&&n(9,b=!1)}function B(){n(10,y=!0)}function T(j,V){n(0,a=j),n(8,g=V),n(9,b=!1),p.focus(),X(Je,i={value:j,label:V},i)}function L(j,V,fe){const Y=j.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(Y)?(Y==="Enter"&&(T(V,fe),P=!1),Y==="ArrowDown"&&s&&s.length&&(n(13,w=w<s.length-1?w+1:s.length-1),v[w].focus(),P=!0),Y==="Escape"&&(n(9,b=!1),p.focus()),Y==="ArrowUp"&&w===0?(p.focus(),n(13,w=null),P=!0):Y==="ArrowUp"&&w!=0&&(n(13,w-=1),v[w].focus(),P=!0)):P=!1,P===!0&&j.preventDefault()}function R(){n(8,g=""),n(23,u={}),n(9,b=!0),n(6,s=r),n(13,w=null)}function q(j){const V=j.target;V!=p&&!v.includes(V)&&n(9,b=!1)}function D(){n(8,g=""),n(0,a=""),n(23,u={})}function I(){a=Za(this),n(0,a),n(23,u),n(1,r)}function S(){g=this.value,n(8,g),n(23,u),n(0,a)}function E(j){ct[j?"unshift":"push"](()=>{p=j,n(11,p)})}function F(j,V){ct[j?"unshift":"push"](()=>{v[V]=j,n(12,v)})}const H=(j,V)=>{T(j,V)},$=(j,V,fe)=>L(fe,j,V);return e.$$set=j=>{"data"in j&&n(1,r=j.data),"name"in j&&n(2,l=j.name),"fontSize"in j&&n(3,o=j.fontSize),"selected"in j&&n(0,a=j.selected),"clearButton"in j&&n(4,h=j.clearButton),"manualSelection"in j&&n(23,u=j.manualSelection),"inline"in j&&n(5,f=j.inline)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(n(0,a=u.value),n(8,g=u.label)),e.$$.dirty[0]&1&&a===""&&n(8,g="")},[a,r,l,o,h,f,s,d,g,b,y,p,v,w,c,M,z,B,T,L,R,q,D,u,I,S,E,F,H,$]}class bc extends Me{constructor(t){super(),Re(this,t,yc,mc,Ee,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5},null,[-1,-1])}}function pc(e){let t,n,i,r,l,o,a,h,u=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,f,s,c=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function g(y){e[4](y)}let b={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35"};return e[1]!==void 0&&(b.selected=e[1]),l=new bc({props:b}),ct.push(()=>Ja(l,"selected",g)),{c(){t=W("section"),n=W("div"),i=W("h1"),r=K("Smoke in "),me(l.$$.fragment),a=oe(),h=W("p"),h.textContent=u,f=oe(),s=W("p"),s.textContent=c,this.h()},l(y){t=U(y,"SECTION",{});var p=G(t);n=U(p,"DIV",{class:!0});var v=G(n);i=U(v,"H1",{class:!0});var w=G(i);r=Z(w,"Smoke in "),ye(l.$$.fragment,w),w.forEach(N),v.forEach(N),a=ae(p),h=U(p,"P",{class:!0,"data-svelte-h":!0}),ht(h)!=="svelte-1ieckh9"&&(h.textContent=u),f=ae(p),s=U(p,"P",{class:!0,"data-svelte-h":!0}),ht(s)!=="svelte-18rohxi"&&(s.textContent=c),p.forEach(N),this.h()},h(){m(i,"class","svelte-1acsj2x"),m(n,"class","inline svelte-1acsj2x"),m(h,"class","prose"),m(s,"class","prose")},m(y,p){O(y,t,p),C(t,n),C(n,i),C(i,r),be(l,i,null),C(t,a),C(t,h),C(t,f),C(t,s),d=!0},p(y,[p]){const v={};p&1&&(v.data=y[0]),p&4&&(v.manualSelection=y[2]),!o&&p&2&&(o=!0,v.selected=y[1],Qa(()=>o=!1)),l.$set(v)},i(y){d||(Q(l.$$.fragment,y),d=!0)},o(y){te(l.$$.fragment,y),d=!1},d(y){y&&N(t),pe(l)}}}function wc(e,t,n){let i,r;A(e,Je,h=>n(2,r=h));let{data:l}=t,o;function a(h){o=h,n(1,o)}return e.$$set=h=>{"data"in h&&n(3,l=h.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(l.map(h=>JSON.stringify([h.name,h.code])))).map(h=>JSON.parse(h)).map(h=>({value:h[1],label:h[0]})).filter(h=>h.label)),e.$$.dirty&1&&new Map(i)},[i,o,r,l,a]}class vc extends Me{constructor(t){super(),Re(this,t,wc,pc,Ee,{data:3})}}function Fo(e,t,n){const i=e.slice();i[26]=t[n],i[33]=n;const r=i[6](i[26]);i[27]=r;const l=i[5](i[26]);i[28]=l;const o=Array.isArray(i[28])?i[28][0]:i[28];i[29]=o;const a=i[9].bandwidth?i[9].bandwidth():i[7](i[26]);i[30]=a;const h=i[10](i[26]);return i[31]=h,i}function Ho(e){let t,n=e[31]+"",i,r,l;return{c(){t=we("text"),i=K(n),this.h()},l(o){t=ve(o,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var a=G(t);i=Z(a,n),a.forEach(N),this.h()},h(){m(t,"x",r=e[29]+e[30]/2),m(t,"y",l=e[12]-e[27]-5),m(t,"text-anchor","middle"),m(t,"class","svelte-gs7zwh")},m(o,a){O(o,t,a),C(t,i)},p(o,a){a[0]&1280&&n!==(n=o[31]+"")&&ce(i,n),a[0]&928&&r!==(r=o[29]+o[30]/2)&&m(t,"x",r),a[0]&4416&&l!==(l=o[12]-o[27]-5)&&m(t,"y",l)},d(o){o&&N(t)}}}function Wo(e){let t,n,i,r,l,o,a,h,u,f=e[3]&&e[31]&&Ho(e);return{c(){t=we("rect"),f&&f.c(),u=se(),this.h()},l(s){t=ve(s,"rect",{class:!0,"data-id":!0,"data-range":!0,"data-count":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),G(t).forEach(N),f&&f.l(s),u=se(),this.h()},h(){m(t,"class","group-rect"),m(t,"data-id",e[33]),m(t,"data-range",n=e[11](e[26])),m(t,"data-count",i=e[31]),m(t,"x",r=e[29]),m(t,"y",l=e[4](e[26])),m(t,"width",o=e[30]),m(t,"height",a=e[27]),m(t,"fill",h=e[0](e[26])),m(t,"stroke",e[1]),m(t,"stroke-width",e[2])},m(s,c){O(s,t,c),f&&f.m(s,c),O(s,u,c)},p(s,c){c[0]&2304&&n!==(n=s[11](s[26]))&&m(t,"data-range",n),c[0]&1280&&i!==(i=s[31])&&m(t,"data-count",i),c[0]&288&&r!==(r=s[29])&&m(t,"x",r),c[0]&272&&l!==(l=s[4](s[26]))&&m(t,"y",l),c[0]&896&&o!==(o=s[30])&&m(t,"width",o),c[0]&320&&a!==(a=s[27])&&m(t,"height",a),c[0]&257&&h!==(h=s[0](s[26]))&&m(t,"fill",h),c[0]&2&&m(t,"stroke",s[1]),c[0]&4&&m(t,"stroke-width",s[2]),s[3]&&s[31]?f?f.p(s,c):(f=Ho(s),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(s){s&&(N(t),N(u)),f&&f.d(s)}}}function kc(e){let t,n=je(e[8]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Wo(Fo(e,n,r));return{c(){t=we("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=ve(r,"g",{class:!0});var l=G(t);for(let o=0;o<i.length;o+=1)i[o].l(l);l.forEach(N),this.h()},h(){m(t,"class","column-group")},m(r,l){O(r,t,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(r,l){if(l[0]&8191){n=je(r[8]);let o;for(o=0;o<n.length;o+=1){const a=Fo(r,n,o);i[o]?i[o].p(a,l):(i[o]=Wo(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:Ie,o:Ie,d(r){r&&N(t),nr(i,r)}}}function Sc(e,t,n){let i,r,l,o,a,h,u,f,s,c;const{data:d,xGet:g,yGet:b,x:y,yRange:p,xScale:v,y:w,height:P,zGet:k,zScale:M,z}=Qe("LayerCake");A(e,d,D=>n(8,h=D)),A(e,g,D=>n(5,a=D)),A(e,b,D=>n(4,l=D)),A(e,y,D=>n(11,s=D)),A(e,p,D=>n(22,o=D)),A(e,v,D=>n(9,u=D)),A(e,w,D=>n(10,f=D)),A(e,P,D=>n(12,c=D));let{fill:B="#00e047"}=t,{fillFunction:T=D=>D}=t,{stroke:L="#000"}=t,{strokeWidth:R=0}=t,{showLabels:q=!1}=t;return e.$$set=D=>{"fill"in D&&n(21,B=D.fill),"fillFunction"in D&&n(0,T=D.fillFunction),"stroke"in D&&n(1,L=D.stroke),"strokeWidth"in D&&n(2,R=D.strokeWidth),"showLabels"in D&&n(3,q=D.showLabels)},e.$$.update=()=>{e.$$.dirty[0]&32&&n(7,i=D=>{const I=a(D);return Math.abs(I[1]-I[0])}),e.$$.dirty[0]&4194320&&n(6,r=D=>o[0]-l(D))},[T,L,R,q,l,a,r,i,h,u,f,s,c,d,g,b,y,p,v,w,P,B,o]}class Ec extends Me{constructor(t){super(),Re(this,t,Sc,kc,Ee,{fill:21,fillFunction:0,stroke:1,strokeWidth:2,showLabels:3},null,[-1,-1])}}function Uo(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function Vo(e){let t,n;return{c(){t=we("line"),this.h()},l(i){t=ve(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),G(t).forEach(N),this.h()},h(){m(t,"class","gridline svelte-1g0eosv"),m(t,"y1",n=e[11]*-1),m(t,"y2","0"),m(t,"x1","0"),m(t,"x2","0")},m(i,r){O(i,t,r)},p(i,r){r&2048&&n!==(n=i[11]*-1)&&m(t,"y1",n)},d(i){i&&N(t)}}}function Yo(e){let t,n,i;return{c(){t=we("line"),this.h()},l(r){t=ve(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),G(t).forEach(N),this.h()},h(){m(t,"class","tick-mark svelte-1g0eosv"),m(t,"y1",0),m(t,"y2",6),m(t,"x1",n=e[7]?e[8].bandwidth()/2:0),m(t,"x2",i=e[7]?e[8].bandwidth()/2:0)},m(r,l){O(r,t,l)},p(r,l){l&384&&n!==(n=r[7]?r[8].bandwidth()/2:0)&&m(t,"x1",n),l&384&&i!==(i=r[7]?r[8].bandwidth()/2:0)&&m(t,"x2",i)},d(r){r&&N(t)}}}function Xo(e,t){let n,i,r,l=t[4](t[20])+"",o,a,h,u,f,s=t[0]!==!1&&Vo(t),c=t[1]===!0&&Yo(t);return{key:e,first:null,c(){n=we("g"),s&&s.c(),i=se(),c&&c.c(),r=we("text"),o=K(l),this.h()},l(d){n=ve(d,"g",{class:!0,transform:!0});var g=G(n);s&&s.l(g),i=se(),c&&c.l(g),r=ve(g,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var b=G(r);o=Z(b,l),b.forEach(N),g.forEach(N),this.h()},h(){m(r,"x",a=t[7]?t[8].bandwidth()/2+t[5]:t[5]),m(r,"y",t[6]),m(r,"dx",""),m(r,"dy",""),m(r,"text-anchor",h=t[17](t[22])),m(r,"class","svelte-1g0eosv"),m(n,"class",u="tick tick-"+t[22]+" svelte-1g0eosv"),m(n,"transform",f="translate("+t[8](t[20])+","+Math.max(...t[10])+")"),this.first=n},m(d,g){O(d,n,g),s&&s.m(n,null),C(n,i),c&&c.m(n,null),C(n,r),C(r,o)},p(d,g){t=d,t[0]!==!1?s?s.p(t,g):(s=Vo(t),s.c(),s.m(n,i)):s&&(s.d(1),s=null),t[1]===!0?c?c.p(t,g):(c=Yo(t),c.c(),c.m(n,r)):c&&(c.d(1),c=null),g&528&&l!==(l=t[4](t[20])+"")&&ce(o,l),g&416&&a!==(a=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&m(r,"x",a),g&64&&m(r,"y",t[6]),g&512&&h!==(h=t[17](t[22]))&&m(r,"text-anchor",h),g&512&&u!==(u="tick tick-"+t[22]+" svelte-1g0eosv")&&m(n,"class",u),g&1792&&f!==(f="translate("+t[8](t[20])+","+Math.max(...t[10])+")")&&m(n,"transform",f)},d(d){d&&N(n),s&&s.d(),c&&c.d()}}}function Ko(e){let t,n,i;return{c(){t=we("line"),this.h()},l(r){t=ve(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),G(t).forEach(N),this.h()},h(){m(t,"class","baseline svelte-1g0eosv"),m(t,"y1",n=e[11]+.5),m(t,"y2",i=e[11]+.5),m(t,"x1","0"),m(t,"x2",e[12])},m(r,l){O(r,t,l)},p(r,l){l&2048&&n!==(n=r[11]+.5)&&m(t,"y1",n),l&2048&&i!==(i=r[11]+.5)&&m(t,"y2",i),l&4096&&m(t,"x2",r[12])},d(r){r&&N(t)}}}function Mc(e){let t,n=[],i=new Map,r,l=je(e[9]);const o=h=>h[20];for(let h=0;h<l.length;h+=1){let u=Uo(e,l,h),f=o(u);i.set(f,n[h]=Xo(f,u))}let a=e[2]===!0&&Ko(e);return{c(){t=we("g");for(let h=0;h<n.length;h+=1)n[h].c();r=se(),a&&a.c(),this.h()},l(h){t=ve(h,"g",{class:!0});var u=G(t);for(let f=0;f<n.length;f+=1)n[f].l(u);r=se(),a&&a.l(u),u.forEach(N),this.h()},h(){m(t,"class","axis x-axis svelte-1g0eosv"),Ut(t,"snapTicks",e[3])},m(h,u){O(h,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);C(t,r),a&&a.m(t,null)},p(h,[u]){u&135155&&(l=je(h[9]),n=ea(n,u,o,1,h,l,i,t,$o,Xo,r,Uo)),h[2]===!0?a?a.p(h,u):(a=Ko(h),a.c(),a.m(t,null)):a&&(a.d(1),a=null),u&8&&Ut(t,"snapTicks",h[3])},i:Ie,o:Ie,d(h){h&&N(t);for(let u=0;u<n.length;u+=1)n[u].d();a&&a.d()}}}function Rc(e,t,n){let i,r,l,o,a,h;const{width:u,height:f,xScale:s,yRange:c,xReverse:d}=Qe("LayerCake");A(e,u,z=>n(12,h=z)),A(e,f,z=>n(11,a=z)),A(e,s,z=>n(8,l=z)),A(e,c,z=>n(10,o=z));let{gridlines:g=!0}=t,{tickMarks:b=!1}=t,{baseline:y=!1}=t,{snapTicks:p=!1}=t,{formatTick:v=z=>z}=t,{ticks:w=void 0}=t,{xTick:P=0}=t,{yTick:k=16}=t;function M(z){if(p===!0)if(d===!1){if(z===0)return"start";if(z===r.length-1)return"end"}else{if(z===0)return"end";if(z===r.length-1)return"start"}return"middle"}return e.$$set=z=>{"gridlines"in z&&n(0,g=z.gridlines),"tickMarks"in z&&n(1,b=z.tickMarks),"baseline"in z&&n(2,y=z.baseline),"snapTicks"in z&&n(3,p=z.snapTicks),"formatTick"in z&&n(4,v=z.formatTick),"ticks"in z&&n(18,w=z.ticks),"xTick"in z&&n(5,P=z.xTick),"yTick"in z&&n(6,k=z.yTick)},e.$$.update=()=>{e.$$.dirty&256&&n(7,i=typeof l.bandwidth=="function"),e.$$.dirty&262528&&n(9,r=Array.isArray(w)?w:i?l.domain():typeof w=="function"?w(l.ticks()):l.ticks(w))},[g,b,y,p,v,P,k,i,l,r,o,a,h,u,f,s,c,M,w]}class Nc extends Me{constructor(t){super(),Re(this,t,Rc,Mc,Ee,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function zc(e){let t,n,i,r;return t=new Ec({props:{fillFunction:e[1]}}),i=new Nc({props:{gridlines:!1,ticks:e[2],tickMarks:!0}}),{c(){me(t.$$.fragment),n=oe(),me(i.$$.fragment)},l(l){ye(t.$$.fragment,l),n=ae(l),ye(i.$$.fragment,l)},m(l,o){be(t,l,o),O(l,n,o),be(i,l,o),r=!0},p(l,o){const a={};o&2&&(a.fillFunction=l[1]),t.$set(a);const h={};o&4&&(h.ticks=l[2]),i.$set(h)},i(l){r||(Q(t.$$.fragment,l),Q(i.$$.fragment,l),r=!0)},o(l){te(t.$$.fragment,l),te(i.$$.fragment,l),r=!1},d(l){l&&N(n),pe(t,l),pe(i,l)}}}function Dc(e){let t,n;return t=new va({props:{$$slots:{default:[zc]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&38&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function Pc(e){let t,n,i;return n=new wa({props:{padding:{top:0,right:40,bottom:20,left:70},x:Ac,y:Cc,xScale:aa().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xReverse:!0,$$slots:{default:[Dc]},$$scope:{ctx:e}}}),{c(){t=W("div"),me(n.$$.fragment),this.h()},l(r){t=U(r,"DIV",{class:!0});var l=G(t);ye(n.$$.fragment,l),l.forEach(N),this.h()},h(){m(t,"class","chart-container svelte-1s4q9ue")},m(r,l){O(r,t,l),be(n,t,null),i=!0},p(r,[l]){const o={};l&1&&(o.data=r[0]),l&38&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){i||(Q(n.$$.fragment,r),i=!0)},o(r){te(n.$$.fragment,r),i=!1},d(r){r&&N(t),pe(n)}}}const Ac="name",Cc="bad_air_days";function Tc(e,t,n){let i,r,l;A(e,Je,h=>n(4,l=h));let{data:o}=t,{index_of_selected:a}=t;return e.$$set=h=>{"data"in h&&n(0,o=h.data),"index_of_selected"in h&&n(3,a=h.index_of_selected)},e.$$.update=()=>{e.$$.dirty&25&&(a>o.length/2?n(2,i=[l.label,o[0].name]):n(2,i=[l.label,o[o.length-1].name])),e.$$.dirty&16&&n(1,r=h=>h.code===l.value?"var(--primary)":"var(--secondary)")},n(2,i=[]),[o,r,i,a,l]}class Ic extends Me{constructor(t){super(),Re(this,t,Tc,Pc,Ee,{data:0,index_of_selected:3})}}function Lc(e){let t,n,i='<h2 class="svelte-887ig8">Is this typical?</h2> <p class="subtitle svelte-887ig8">You be the judge.</p>',r,l,o,a="2022",h,u,f=e[0][e[1]].name+"",s,c,d=e[0][e[1]].bad_air_days+"",g,b,y,p,v,w=e[2](e[0][e[1]].bad_air_days)+"",P,k,M,z,B,T,L;return z=new Ic({props:{data:e[0],index_of_selected:e[1]}}),{c(){t=W("section"),n=W("div"),n.innerHTML=i,r=oe(),l=W("div"),o=W("h3"),o.textContent=a,h=oe(),u=W("p"),s=K(f),c=K(" experienced "),g=K(d),b=K(" days with bad air quality in 2022."),y=oe(),p=W("p"),v=K("This is "),P=K(w),k=K(` compared
			to all other cities in our data.`),M=oe(),me(z.$$.fragment),B=oe(),T=W("div"),this.h()},l(R){t=U(R,"SECTION",{class:!0});var q=G(t);n=U(q,"DIV",{class:!0,"data-svelte-h":!0}),ht(n)!=="svelte-1wgwpos"&&(n.innerHTML=i),r=ae(q),l=U(q,"DIV",{class:!0});var D=G(l);o=U(D,"H3",{class:!0,"data-svelte-h":!0}),ht(o)!=="svelte-1rc7x6b"&&(o.textContent=a),h=ae(D),u=U(D,"P",{class:!0});var I=G(u);s=Z(I,f),c=Z(I," experienced "),g=Z(I,d),b=Z(I," days with bad air quality in 2022."),I.forEach(N),y=ae(D),p=U(D,"P",{class:!0});var S=G(p);v=Z(S,"This is "),P=Z(S,w),k=Z(S,` compared
			to all other cities in our data.`),S.forEach(N),M=ae(D),ye(z.$$.fragment,D),D.forEach(N),B=ae(q),T=U(q,"DIV",{class:!0}),G(T).forEach(N),q.forEach(N),this.h()},h(){m(n,"class","contents svelte-887ig8"),m(o,"class","rail svelte-887ig8"),m(u,"class","prose"),m(p,"class","prose"),m(l,"class","latest block svelte-887ig8"),m(T,"class","past block svelte-887ig8"),m(t,"class","svelte-887ig8")},m(R,q){O(R,t,q),C(t,n),C(t,r),C(t,l),C(l,o),C(l,h),C(l,u),C(u,s),C(u,c),C(u,g),C(u,b),C(l,y),C(l,p),C(p,v),C(p,P),C(p,k),C(l,M),be(z,l,null),C(t,B),C(t,T),L=!0},p(R,[q]){(!L||q&3)&&f!==(f=R[0][R[1]].name+"")&&ce(s,f),(!L||q&3)&&d!==(d=R[0][R[1]].bad_air_days+"")&&ce(g,d),(!L||q&3)&&w!==(w=R[2](R[0][R[1]].bad_air_days)+"")&&ce(P,w);const D={};q&1&&(D.data=R[0]),q&2&&(D.index_of_selected=R[1]),z.$set(D)},i(R){L||(Q(z.$$.fragment,R),L=!0)},o(R){te(z.$$.fragment,R),L=!1},d(R){R&&N(t),pe(z)}}}function Bc(e,t,n){let i,r,l,o,{latestData:a}=t,{allData:h}=t,{index_of_selected:u}=t;const f=s=>s<r?"very low":s<l?"moderately low":s<o?"moderately high":"very high";return e.$$set=s=>{"latestData"in s&&n(0,a=s.latestData),"allData"in s&&n(3,h=s.allData),"index_of_selected"in s&&n(1,u=s.index_of_selected)},e.$$.update=()=>{e.$$.dirty&1&&n(4,i=a.map(s=>s.bad_air_days)),e.$$.dirty&16&&(r=kr(i,.25)),e.$$.dirty&16&&(l=kr(i,.5)),e.$$.dirty&16&&(o=kr(i,.75))},[a,u,f,h,i]}class jc extends Me{constructor(t){super(),Re(this,t,Bc,Lc,Ee,{latestData:0,allData:3,index_of_selected:1})}}function qc(e){let t,n,i,r,l,o;return t=new vc({props:{data:e[0]}}),i=new sc({props:{data:e[1],us_states:e[4],cbsa_lookup:e[2],index_of_selected:e[3]}}),l=new jc({props:{latestData:e[0],allData:e[1],index_of_selected:e[3]}}),{c(){me(t.$$.fragment),n=oe(),me(i.$$.fragment),r=oe(),me(l.$$.fragment)},l(a){ye(t.$$.fragment,a),n=ae(a),ye(i.$$.fragment,a),r=ae(a),ye(l.$$.fragment,a)},m(a,h){be(t,a,h),O(a,n,h),be(i,a,h),O(a,r,h),be(l,a,h),o=!0},p(a,[h]){const u={};h&1&&(u.data=a[0]),t.$set(u);const f={};h&2&&(f.data=a[1]),h&16&&(f.us_states=a[4]),h&4&&(f.cbsa_lookup=a[2]),h&8&&(f.index_of_selected=a[3]),i.$set(f);const s={};h&1&&(s.latestData=a[0]),h&2&&(s.allData=a[1]),h&8&&(s.index_of_selected=a[3]),l.$set(s)},i(a){o||(Q(t.$$.fragment,a),Q(i.$$.fragment,a),Q(l.$$.fragment,a),o=!0)},o(a){te(t.$$.fragment,a),te(i.$$.fragment,a),te(l.$$.fragment,a),o=!1},d(a){a&&(N(n),N(r)),pe(t,a),pe(i,a),pe(l,a)}}}function xc(e,t,n){let i,r,l,o,a,h,u,f;A(e,Je,c=>n(8,f=c));let{data:s}=t;return e.$$set=c=>{"data"in c&&n(5,s=c.data)},e.$$.update=()=>{e.$$.dirty&32&&n(6,{city_data:i,cbsa:r,us_states:l}=s,i,(n(7,r),n(5,s)),(n(4,l),n(5,s))),e.$$.dirty&128&&n(2,o=new Map(r.map(c=>[c.GEOID,{name:c.NAME,latitude:+c.latitude,longitude:+c.longitude}]))),e.$$.dirty&68&&n(1,a=i.map(c=>{var d;return{...c,year:+c.year,bad_air_days:+c.n,name:(d=o.get(c["CBSA Code"]))==null?void 0:d.name,code:c["CBSA Code"]}})),e.$$.dirty&2&&n(0,h=a.filter(c=>c.year===2022).sort((c,d)=>Zr(c.bad_air_days,d.bad_air_days))),e.$$.dirty&257&&n(3,u=h.findIndex(c=>c["CBSA Code"]===(f==null?void 0:f.value)))},[h,a,o,u,l,s,i,r,f]}class Hc extends Me{constructor(t){super(),Re(this,t,xc,qc,Ee,{data:5})}}export{Hc as component};
