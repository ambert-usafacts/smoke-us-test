import{A as Tn,s as Ee,e as se,i as G,d as R,o as Vo,z as D,B as X,C as Yo,r as at,f as W,g as U,h as x,j as m,D as Xo,k as q,E as Fa,u as ft,v as ut,w as st,p as ct,F as Qe,G as we,H as ve,x as C,l as Q,m as J,n as de,a as ae,c as fe,I as Se,y as Ie,J as Ha,K as Yr,L as ht,M as tr,N as Wt,O as ml,P as ji,Q as Wa,R as Ua}from"../chunks/scheduler.7f01e268.js";import{a as K,S as Me,i as Re,g as nr,t as te,c as ir,b as me,d as ye,m as be,e as pe,f as Va}from"../chunks/index.2010496a.js";import{w as Z,d as ge}from"../chunks/index.bd54f367.js";function je(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ko(e,t){e.d(1),t.delete(e.key)}function Zo(e,t,n,i,r,l,o,a,h,u,f,c){let s=e.length,d=l.length,g=s;const b={};for(;g--;)b[e[g].key]=g;const y=[],w=new Map,k=new Map,v=[];for(g=d;g--;){const N=c(r,l,g),T=n(N);let I=o.get(T);I?i&&v.push(()=>I.p(N,t)):(I=u(T,N),I.c()),w.set(T,y[g]=I),T in b&&k.set(T,Math.abs(g-b[T]))}const z=new Set,p=new Set;function E(N){K(N,1),N.m(a,f),o.set(N.key,N),f=N.first,d--}for(;s&&d;){const N=y[d-1],T=e[s-1],I=N.key,j=T.key;N===T?(f=N.first,s--,d--):w.has(j)?!o.has(I)||z.has(I)?E(N):p.has(j)?s--:k.get(I)>k.get(j)?(p.add(I),E(N)):(z.add(j),s--):(h(T,o),s--)}for(;s--;){const N=e[s];w.has(N.key)||h(N,o)}for(;d;)E(y[d-1]);return Tn(v),y}function zn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qo(e){let t,n,i;e.length!==2?(t=zn,n=(a,h)=>zn(e(a),h),i=(a,h)=>e(a)-h):(t=e===zn||e===Xr?e:Ya,n=e,i=e);function r(a,h,u=0,f=a.length){if(u<f){if(t(h,h)!==0)return f;do{const c=u+f>>>1;n(a[c],h)<0?u=c+1:f=c}while(u<f)}return u}function l(a,h,u=0,f=a.length){if(u<f){if(t(h,h)!==0)return f;do{const c=u+f>>>1;n(a[c],h)<=0?u=c+1:f=c}while(u<f)}return u}function o(a,h,u=0,f=a.length){const c=r(a,h,u,f-1);return c>u&&i(a[c-1],h)>-i(a[c],h)?c-1:c}return{left:r,center:o,right:l}}function Ya(){return 0}function Xa(e){return e===null?NaN:+e}const Ka=Qo(zn),Za=Ka.right;Qo(Xa).center;const Qa=Za;class bt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],o=t+l,a=Math.abs(t)<Math.abs(l)?t-(o-l):l-(o-t);a&&(n[i++]=a),t=o}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,o=0;if(n>0){for(o=t[--n];n>0&&(i=o,r=t[--n],o=i+r,l=r-(o-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=o+r,r==i-o&&(o=i))}return o}}class yl extends Map{constructor(t,n=ef){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(bl(this,t))}has(t){return super.has(bl(this,t))}set(t,n){return super.set(Ja(this,t),n)}delete(t){return super.delete($a(this,t))}}function bl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Ja({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function $a({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function ef(e){return e!==null&&typeof e=="object"?e.valueOf():e}const tf=Math.sqrt(50),nf=Math.sqrt(10),rf=Math.sqrt(2);function qi(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),o=l>=tf?10:l>=nf?5:l>=rf?2:1;let a,h,u;return r<0?(u=Math.pow(10,-r)/o,a=Math.round(e*u),h=Math.round(t*u),a/u<e&&++a,h/u>t&&--h,u=-u):(u=Math.pow(10,r)*o,a=Math.round(e/u),h=Math.round(t/u),a*u<e&&++a,h*u>t&&--h),h<a&&.5<=n&&n<2?qi(e,t,n*2):[a,h,u]}function lf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,o]=i?qi(t,e,n):qi(e,t,n);if(!(l>=r))return[];const a=l-r+1,h=new Array(a);if(i)if(o<0)for(let u=0;u<a;++u)h[u]=(l-u)/-o;else for(let u=0;u<a;++u)h[u]=(l-u)*o;else if(o<0)for(let u=0;u<a;++u)h[u]=(r+u)/-o;else for(let u=0;u<a;++u)h[u]=(r+u)*o;return h}function zr(e,t,n){return t=+t,e=+e,n=+n,qi(e,t,n)[2]}function of(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?zr(t,e,n):zr(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function*af(e){for(const t of e)yield*t}function Jo(e){return Array.from(af(e))}function ff(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}const Je=Z({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"});function uf(e){return e===0?!0:e}function lt(e){return uf(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function sf(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function vr(e,t={}){return sf(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function cf(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function hf(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),l=r.length;let o,a,h,u,f,c,s;const d=e.length;for(o=0;o<l;o+=1){for(s=new Set,u=r[o],f=t[u],a=0;a<d;a+=1)if(c=f(e[a]),Array.isArray(c)){const b=c.length;for(h=0;h<b;h+=1)s.add(c[h])}else s.add(c);const g=Array.from(s);i[u]=n===!0?g.sort():g}return i}function df(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let l,o,a,h,u,f,c,s;const d=e.length;for(l=0;l<r;l+=1){for(h=i[l],c=t[h],u=null,f=null,o=0;o<d;o+=1)if(s=c(e[o]),Array.isArray(s)){const g=s.length;for(a=0;a<g;a+=1)s[a]!==!1&&s[a]!==void 0&&s[a]!==null&&Number.isNaN(s[a])===!1&&((u===null||s[a]<u)&&(u=s[a]),(f===null||s[a]>f)&&(f=s[a]))}else s!==!1&&s!==void 0&&s!==null&&Number.isNaN(s)===!1&&((u===null||s<u)&&(u=s),(f===null||s>f)&&(f=s));n[h]=[u,f]}return n}function vn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function $o(e){return!!(typeof e.bandwidth=="function"||vn(Object.keys(e),["domain","range","unknown","copy"]))}function gf(e,t,n){const i=Object.keys(n).reduce((l,o)=>{const a=$o(n[o])===!0?"ordinal":"other";return l[a]||(l[a]={}),l[a][o]=t[o],l},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=hf(e,i.ordinal)),i.other&&(r={...r,...df(e,i.other)}),r}function _f(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function ki(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?_f(n[e],i):i}}function rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const pl=Symbol("implicit");function ea(){var e=new yl,t=[],n=[],i=pl;function r(l){let o=e.get(l);if(o===void 0){if(i!==pl)return i;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new yl;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return ea(t,n).unknown(i)},rr.apply(r,arguments),r}function ta(){var e=ea().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,o,a=!1,h=0,u=0,f=.5;delete e.unknown;function c(){var s=t().length,d=r<i,g=d?r:i,b=d?i:r;l=(b-g)/Math.max(1,s-h+u*2),a&&(l=Math.floor(l)),g+=(b-g-l*(s-h))*f,o=l*(1-h),a&&(g=Math.round(g),o=Math.round(o));var y=ff(s).map(function(w){return g+l*w});return n(d?y.reverse():y)}return e.domain=function(s){return arguments.length?(t(s),c()):t()},e.range=function(s){return arguments.length?([i,r]=s,i=+i,r=+r,c()):[i,r]},e.rangeRound=function(s){return[i,r]=s,i=+i,r=+r,a=!0,c()},e.bandwidth=function(){return o},e.step=function(){return l},e.round=function(s){return arguments.length?(a=!!s,c()):a},e.padding=function(s){return arguments.length?(h=Math.min(1,u=+s),c()):h},e.paddingInner=function(s){return arguments.length?(h=Math.min(1,s),c()):h},e.paddingOuter=function(s){return arguments.length?(u=+s,c()):u},e.align=function(s){return arguments.length?(f=Math.max(0,Math.min(1,s)),c()):f},e.copy=function(){return ta(t(),[i,r]).round(a).paddingInner(h).paddingOuter(u).align(f)},rr.apply(c(),arguments)}function Kr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function na(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function In(){}var Dn=.7,xi=1/Dn,Vt="\\s*([+-]?\\d+)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mf=/^#([0-9a-f]{3,8})$/,yf=new RegExp(`^rgb\\(${Vt},${Vt},${Vt}\\)$`),bf=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),pf=new RegExp(`^rgba\\(${Vt},${Vt},${Vt},${Pn}\\)$`),wf=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${Pn}\\)$`),vf=new RegExp(`^hsl\\(${Pn},${Ke},${Ke}\\)$`),kf=new RegExp(`^hsla\\(${Pn},${Ke},${Ke},${Pn}\\)$`),wl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kr(In,An,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vl,formatHex:vl,formatHex8:Sf,formatHsl:Ef,formatRgb:kl,toString:kl});function vl(){return this.rgb().formatHex()}function Sf(){return this.rgb().formatHex8()}function Ef(){return ia(this).formatHsl()}function kl(){return this.rgb().formatRgb()}function An(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sl(t):n===3?new Ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Si(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Si(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yf.exec(e))?new Ae(t[1],t[2],t[3],1):(t=bf.exec(e))?new Ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pf.exec(e))?Si(t[1],t[2],t[3],t[4]):(t=wf.exec(e))?Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vf.exec(e))?Rl(t[1],t[2]/100,t[3]/100,1):(t=kf.exec(e))?Rl(t[1],t[2]/100,t[3]/100,t[4]):wl.hasOwnProperty(e)?Sl(wl[e]):e==="transparent"?new Ae(NaN,NaN,NaN,0):null}function Sl(e){return new Ae(e>>16&255,e>>8&255,e&255,1)}function Si(e,t,n,i){return i<=0&&(e=t=n=NaN),new Ae(e,t,n,i)}function Mf(e){return e instanceof In||(e=An(e)),e?(e=e.rgb(),new Ae(e.r,e.g,e.b,e.opacity)):new Ae}function Gi(e,t,n,i){return arguments.length===1?Mf(e):new Ae(e,t,n,i??1)}function Ae(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Kr(Ae,Gi,na(In,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dn:Math.pow(Dn,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ae(yt(this.r),yt(this.g),yt(this.b),Oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:El,formatHex:El,formatHex8:Rf,formatRgb:Ml,toString:Ml}));function El(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function Rf(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ml(){const e=Oi(this.opacity);return`${e===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${e===1?")":`, ${e})`}`}function Oi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mt(e){return e=yt(e),(e<16?"0":"")+e.toString(16)}function Rl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oe(e,t,n,i)}function ia(e){if(e instanceof Oe)return new Oe(e.h,e.s,e.l,e.opacity);if(e instanceof In||(e=An(e)),!e)return new Oe;if(e instanceof Oe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),o=NaN,a=l-r,h=(l+r)/2;return a?(t===l?o=(n-i)/a+(n<i)*6:n===l?o=(i-t)/a+2:o=(t-n)/a+4,a/=h<.5?l+r:2-l-r,o*=60):a=h>0&&h<1?0:o,new Oe(o,a,h,e.opacity)}function Nf(e,t,n,i){return arguments.length===1?ia(e):new Oe(e,t,n,i??1)}function Oe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Kr(Oe,Nf,na(In,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Oe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dn:Math.pow(Dn,e),new Oe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Ae(kr(e>=240?e-240:e+120,r,i),kr(e,r,i),kr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Oe(Nl(this.h),Ei(this.s),Ei(this.l),Oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Oi(this.opacity);return`${e===1?"hsl(":"hsla("}${Nl(this.h)}, ${Ei(this.s)*100}%, ${Ei(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nl(e){return e=(e||0)%360,e<0?e+360:e}function Ei(e){return Math.max(0,Math.min(1,e||0))}function kr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Zr=e=>()=>e;function zf(e,t){return function(n){return e+n*t}}function Df(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Pf(e){return(e=+e)==1?ra:function(t,n){return n-t?Df(t,n,e):Zr(isNaN(t)?n:t)}}function ra(e,t){var n=t-e;return n?zf(e,n):Zr(isNaN(e)?t:e)}const zl=function e(t){var n=Pf(t);function i(r,l){var o=n((r=Gi(r)).r,(l=Gi(l)).r),a=n(r.g,l.g),h=n(r.b,l.b),u=ra(r.opacity,l.opacity);return function(f){return r.r=o(f),r.g=a(f),r.b=h(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function Af(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function Cf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Tf(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),o;for(o=0;o<i;++o)r[o]=Qr(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(a){for(o=0;o<i;++o)l[o]=r[o](a);return l}}function If(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Fi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Lf(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Qr(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var Dr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sr=new RegExp(Dr.source,"g");function Bf(e){return function(){return e}}function jf(e){return function(t){return e(t)+""}}function qf(e,t){var n=Dr.lastIndex=Sr.lastIndex=0,i,r,l,o=-1,a=[],h=[];for(e=e+"",t=t+"";(i=Dr.exec(e))&&(r=Sr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),a[o]?a[o]+=l:a[++o]=l),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,h.push({i:o,x:Fi(i,r)})),n=Sr.lastIndex;return n<t.length&&(l=t.slice(n),a[o]?a[o]+=l:a[++o]=l),a.length<2?h[0]?jf(h[0].x):Bf(t):(t=h.length,function(u){for(var f=0,c;f<t;++f)a[(c=h[f]).i]=c.x(u);return a.join("")})}function Qr(e,t){var n=typeof t,i;return t==null||n==="boolean"?Zr(t):(n==="number"?Fi:n==="string"?(i=An(t))?(t=i,zl):qf:t instanceof An?zl:t instanceof Date?If:Cf(t)?Af:Array.isArray(t)?Tf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Lf:Fi)(e,t)}function xf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Gf(e){return function(){return e}}function Of(e){return+e}var Dl=[0,1];function Xe(e){return e}function Pr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gf(isNaN(t)?NaN:.5)}function Ff(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function Hf(e,t,n){var i=e[0],r=e[1],l=t[0],o=t[1];return r<i?(i=Pr(r,i),l=n(o,l)):(i=Pr(i,r),l=n(l,o)),function(a){return l(i(a))}}function Wf(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=Pr(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(a){var h=Qa(e,a,1,i)-1;return l[h](r[h](a))}}function la(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oa(){var e=Dl,t=Dl,n=Qr,i,r,l,o=Xe,a,h,u;function f(){var s=Math.min(e.length,t.length);return o!==Xe&&(o=Ff(e[0],e[s-1])),a=s>2?Wf:Hf,h=u=null,c}function c(s){return s==null||isNaN(s=+s)?l:(h||(h=a(e.map(i),t,n)))(i(o(s)))}return c.invert=function(s){return o(r((u||(u=a(t,e.map(i),Fi)))(s)))},c.domain=function(s){return arguments.length?(e=Array.from(s,Of),f()):e.slice()},c.range=function(s){return arguments.length?(t=Array.from(s),f()):t.slice()},c.rangeRound=function(s){return t=Array.from(s),n=xf,f()},c.clamp=function(s){return arguments.length?(o=s?!0:Xe,f()):o!==Xe},c.interpolate=function(s){return arguments.length?(n=s,f()):n},c.unknown=function(s){return arguments.length?(l=s,c):l},function(s,d){return i=s,r=d,f()}}function Uf(){return oa()(Xe,Xe)}function Vf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Hi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Yt(e){return e=Hi(Math.abs(e)),e?e[1]:NaN}function Yf(e,t){return function(n,i){for(var r=n.length,l=[],o=0,a=e[0],h=0;r>0&&a>0&&(h+a+1>i&&(a=Math.max(1,i-h)),l.push(n.substring(r-=a,r+a)),!((h+=a+1)>i));)a=e[o=(o+1)%e.length];return l.reverse().join(t)}}function Xf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Kf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wi(e){if(!(t=Kf.exec(e)))throw new Error("invalid format: "+e);var t;return new Jr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wi.prototype=Jr.prototype;function Jr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zf(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var aa;function Qf(e,t){var n=Hi(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(aa=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return l===o?i:l>o?i+new Array(l-o+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+Hi(e,Math.max(0,t+l-1))[0]}function Pl(e,t){var n=Hi(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Al={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pl(e*100,t),r:Pl,s:Qf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Cl(e){return e}var Tl=Array.prototype.map,Il=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jf(e){var t=e.grouping===void 0||e.thousands===void 0?Cl:Yf(Tl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Cl:Xf(Tl.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function u(c){c=Wi(c);var s=c.fill,d=c.align,g=c.sign,b=c.symbol,y=c.zero,w=c.width,k=c.comma,v=c.precision,z=c.trim,p=c.type;p==="n"?(k=!0,p="g"):Al[p]||(v===void 0&&(v=12),z=!0,p="g"),(y||s==="0"&&d==="=")&&(y=!0,s="0",d="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",N=b==="$"?i:/[%p]/.test(p)?o:"",T=Al[p],I=/[defgprs%]/.test(p);v=v===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function j(P){var V=E,A=N,B,S,M;if(p==="c")A=T(P)+A,P="";else{P=+P;var O=P<0||1/P<0;if(P=isNaN(P)?h:T(Math.abs(P),v),z&&(P=Zf(P)),O&&+P==0&&g!=="+"&&(O=!1),V=(O?g==="("?g:a:g==="-"||g==="("?"":g)+V,A=(p==="s"?Il[8+aa/3]:"")+A+(O&&g==="("?")":""),I){for(B=-1,S=P.length;++B<S;)if(M=P.charCodeAt(B),48>M||M>57){A=(M===46?r+P.slice(B+1):P.slice(B))+A,P=P.slice(0,B);break}}}k&&!y&&(P=t(P,1/0));var F=V.length+P.length+A.length,$=F<w?new Array(w-F+1).join(s):"";switch(k&&y&&(P=t($+P,$.length?w-A.length:1/0),$=""),d){case"<":P=V+P+A+$;break;case"=":P=V+$+P+A;break;case"^":P=$.slice(0,F=$.length>>1)+V+P+A+$.slice(F);break;default:P=$+V+P+A;break}return l(P)}return j.toString=function(){return c+""},j}function f(c,s){var d=u((c=Wi(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Yt(s)/3)))*3,b=Math.pow(10,-g),y=Il[8+g/3];return function(w){return d(b*w)+y}}return{format:u,formatPrefix:f}}var Mi,fa,ua;$f({thousands:",",grouping:[3],currency:["$",""]});function $f(e){return Mi=Jf(e),fa=Mi.format,ua=Mi.formatPrefix,Mi}function eu(e){return Math.max(0,-Yt(Math.abs(e)))}function tu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yt(t)/3)))*3-Yt(Math.abs(e)))}function nu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yt(t)-Yt(e))+1}function iu(e,t,n,i){var r=of(e,t,n),l;switch(i=Wi(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=tu(r,o))&&(i.precision=l),ua(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=nu(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=eu(r))&&(i.precision=l-(i.type==="%")*2);break}}return fa(i)}function sa(e){var t=e.domain;return e.ticks=function(n){var i=t();return lf(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return iu(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,o=i[r],a=i[l],h,u,f=10;for(a<o&&(u=o,o=a,a=u,u=r,r=l,l=u);f-- >0;){if(u=zr(o,a,n),u===h)return i[r]=o,i[l]=a,t(i);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;h=u}return e},e}function Ii(){var e=Uf();return e.copy=function(){return la(e,Ii())},rr.apply(e,arguments),sa(e)}function Ll(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ru(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lu(e){return e<0?-e*e:e*e}function ou(e){var t=e(Xe,Xe),n=1;function i(){return n===1?e(Xe,Xe):n===.5?e(ru,lu):e(Ll(n),Ll(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},sa(t)}function ca(){var e=ou(oa());return e.copy=function(){return la(e,ca()).exponent(e.exponent())},rr.apply(e,arguments),e}function ha(){return ca.apply(null,arguments).exponent(.5)}const kn={x:Ii,y:Ii,z:Ii,r:ha};function au(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Bl(e){return e}function fu(e){return t=>Math.log(e*t)}function uu(e){return t=>e*Math.exp(t)}function su(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function cu(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ri(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function hu(e){const t=au(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:fu(n),ground:uu(n),scaleType:t}}return t==="pow"?{lift:Ri(1),ground:Ri(1/1),scaleType:t}:t==="sqrt"?{lift:Ri(.5),ground:Ri(1/.5),scaleType:t}:t==="symlog"?{lift:su(1),ground:cu(1),scaleType:t}:{lift:Bl,ground:Bl,scaleType:t}}function Ui(e){return e.replace(/^\w/,t=>t.toUpperCase())}function ze(e,t=""){return`scale${Ui(t)}${Ui(e)}`}function da(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?ze("band"):ze("point");if(vn(Object.keys(e),["domain","range","unknown","copy"]))return ze("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return ze("quantile",t);if(e.thresholds)return ze("quantize",t);if(e.constant)return ze("symlog",t);if(e.base)return ze("log",t);if(e.exponent)return e.exponent()===.5?ze("sqrt",t):ze("pow",t);if(vn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return ze("threshold");if(vn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return ze("identity");if(vn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return ze("radial");if(t)return ze(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),ze(i)}return ze("linear")}const du=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function gu(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||du.includes(da(e))||$o(e)===!0)return e.domain();const{lift:n,ground:i}=hu(e),r=e.domain()[0],l=Object.prototype.toString.call(r)==="[object Date]",[o,a]=e.domain().map(d=>n(l?d.getTime():d)),[h,u]=e.range(),f=t[0]||0,c=t[1]||0,s=(a-o)/(Math.abs(u-h)-f-c);return[o-f*s,c*s+a].map(d=>i(l?new Date(d):d))}function _u(e,t,n,i,r){let l,o;return r===!0?(l=0,o=100):(l=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),i===!0?[o,l]:[l,o]}function mu(e,t,n,i,r,l){return r?typeof r=="function"?r({width:t,height:n}):r:_u(e,t,n,i,l)}function Ni(e){return function([n,i,r,l,o,a,h,u,f,c]){if(i===null)return null;const s=mu(e,h,u,a,f,c),d=n===kn[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(s),l&&d.domain(gu(d,l)),(o===!0||typeof o=="number")&&(typeof d.nice=="function"?d.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function zi([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function Di([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ue="    ";function yu(e){const{r:t,g:n,b:i,opacity:r}=Gi(e);return[t,n,i].every(l=>l>=0&&l<=255)?{r:t,g:n,b:i,o:r}:!1}function bu({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function pu(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),wu(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{vu(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function wu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Ue}${t}:`,n)})}function vu(e,t,n){const i=da(t);console.log(`${Ue}${e}:`),console.log(`${Ue}${Ue}Accessor: "${n.toString()}"`),console.log(`${Ue}${Ue}Type: ${i}`),jl(t,"domain"),jl(t,"range"," ")}function jl(e,t,n=""){const i=e[t](),r=Su(i);r?ku(r,t,i):console.log(`${Ue}${Ue}${Ui(t)}:${n}`,i)}function ku(e,t,n){console.log(`${Ue}${Ue}${Ui(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function Su(e){const t=[],n=e.map((i,r)=>{const l=yu(i);if(l!==!1){t.push(l);const o=r===e.length-1?" ":"";return`%c ${i}${o}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${bu(i)};`)]:null}const Eu=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),ql=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function xl(e){let t,n,i;const r=e[153].default,l=at(r,e,e[152],ql);return{c(){t=W("div"),l&&l.c(),this.h()},l(o){t=U(o,"DIV",{class:!0});var a=x(t);l&&l.l(a),a.forEach(R),this.h()},h(){m(t,"class","layercake-container svelte-vhzpsp"),Xo(()=>e[155].call(t)),q(t,"position",e[5]),q(t,"top",e[5]==="absolute"?"0":null),q(t,"right",e[5]==="absolute"?"0":null),q(t,"bottom",e[5]==="absolute"?"0":null),q(t,"left",e[5]==="absolute"?"0":null),q(t,"pointer-events",e[4]===!1?"none":null)},m(o,a){G(o,t,a),l&&l.m(t,null),e[154](t),n=Fa(t,e[155].bind(t)),i=!0},p(o,a){l&&l.p&&(!i||a[0]&2147483588|a[1]&1048575|a[4]&268435456)&&ft(l,r,o,o[152],i?st(r,o[152],a,Eu):ut(o[152]),ql),a[0]&32&&q(t,"position",o[5]),a[0]&32&&q(t,"top",o[5]==="absolute"?"0":null),a[0]&32&&q(t,"right",o[5]==="absolute"?"0":null),a[0]&32&&q(t,"bottom",o[5]==="absolute"?"0":null),a[0]&32&&q(t,"left",o[5]==="absolute"?"0":null),a[0]&16&&q(t,"pointer-events",o[4]===!1?"none":null)},i(o){i||(K(l,o),i=!0)},o(o){te(l,o),i=!1},d(o){o&&R(t),l&&l.d(o),e[154](null),n()}}}function Mu(e){let t,n,i=(e[3]===!0||typeof window<"u")&&xl(e);return{c(){i&&i.c(),t=se()},l(r){i&&i.l(r),t=se()},m(r,l){i&&i.m(r,l),G(r,t,l),n=!0},p(r,l){r[3]===!0||typeof window<"u"?i?(i.p(r,l),l[0]&8&&K(i,1)):(i=xl(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(nr(),te(i,1,1,()=>{i=null}),ir())},i(r){n||(K(i),n=!0)},o(r){te(i),n=!1},d(r){r&&R(t),i&&i.d(r)}}}function Ru(e,t,n){let i,r,l,o,a,h,u,f,c,s,d,g,b,y,w,k,v,z,p,E,N,T,I,j,P,V,A,B,S,M,O,F,$,L,H,oe,Y,Ce,Te,dt,ee,le,Ne,Pe,He,et,he,tt,gt,Qt,vt,nl,il,rl,ll,ol,al,fl,ul,sl,cl,hl,{$$slots:Ia={},$$scope:dl}=t;const La=cf(pu,200);let{ssr:lr=!1}=t,{pointerEvents:gl=!0}=t,{position:_l="relative"}=t,{percentRange:Ln=!1}=t,{width:or=void 0}=t,{height:ar=void 0}=t,{containerWidth:kt=or||100}=t,{containerHeight:St=ar||100}=t,{element:Bn=void 0}=t,{x:Et=void 0}=t,{y:Mt=void 0}=t,{z:Rt=void 0}=t,{r:Nt=void 0}=t,{data:zt=[]}=t,{xDomain:Dt=void 0}=t,{yDomain:Pt=void 0}=t,{zDomain:At=void 0}=t,{rDomain:Ct=void 0}=t,{xNice:jn=!1}=t,{yNice:qn=!1}=t,{zNice:xn=!1}=t,{rNice:Gn=!1}=t,{xPadding:On=void 0}=t,{yPadding:Fn=void 0}=t,{zPadding:Hn=void 0}=t,{rPadding:Wn=void 0}=t,{xScale:Un=kn.x}=t,{yScale:Jt=kn.y}=t,{zScale:Vn=kn.z}=t,{rScale:Yn=kn.r}=t,{xRange:Tt=void 0}=t,{yRange:It=void 0}=t,{zRange:Lt=void 0}=t,{rRange:Bt=void 0}=t,{xReverse:Xn=!1}=t,{yReverse:Kn=void 0}=t,{zReverse:Zn=!1}=t,{rReverse:Qn=!1}=t,{padding:Jn={}}=t,{extents:$n={}}=t,{flatData:ei=void 0}=t,{custom:ti={}}=t,{debug:fr=!1}=t,ur=!1;Vo(()=>{ur=!0});const re={},nt=Z(Ln);D(e,nt,_=>n(33,He=_));const jt=Z(kt);D(e,jt,_=>n(32,Pe=_));const qt=Z(St);D(e,qt,_=>n(31,Ne=_));const ni=Z(vr($n));D(e,ni,_=>n(170,le=_));const ii=Z(zt);D(e,ii,_=>n(30,ee=_));const $t=Z(ei||zt);D(e,$t,_=>n(29,dt=_));const ri=Z(Jn);D(e,ri,_=>n(169,Te=_));const xt=Z(lt(Et));D(e,xt,_=>n(28,Ce=_));const Gt=Z(lt(Mt));D(e,Gt,_=>n(27,Y=_));const Ot=Z(lt(Rt));D(e,Ot,_=>n(26,oe=_));const Ft=Z(lt(Nt));D(e,Ft,_=>n(25,H=_));const li=Z(Dt);D(e,li,_=>n(168,L=_));const oi=Z(Pt);D(e,oi,_=>n(167,$=_));const ai=Z(At);D(e,ai,_=>n(166,F=_));const fi=Z(Ct);D(e,fi,_=>n(165,O=_));const en=Z(jn);D(e,en,_=>n(24,M=_));const tn=Z(qn);D(e,tn,_=>n(23,S=_));const nn=Z(xn);D(e,nn,_=>n(22,B=_));const rn=Z(Gn);D(e,rn,_=>n(21,A=_));const ln=Z(Xn);D(e,ln,_=>n(20,V=_));const on=Z(i);D(e,on,_=>n(19,P=_));const an=Z(Zn);D(e,an,_=>n(18,j=_));const fn=Z(Qn);D(e,fn,_=>n(17,I=_));const un=Z(On);D(e,un,_=>n(16,T=_));const sn=Z(Fn);D(e,sn,_=>n(15,N=_));const cn=Z(Hn);D(e,cn,_=>n(14,E=_));const hn=Z(Wn);D(e,hn,_=>n(13,p=_));const ui=Z(Tt);D(e,ui,_=>n(164,z=_));const si=Z(It);D(e,si,_=>n(163,v=_));const ci=Z(Lt);D(e,ci,_=>n(162,k=_));const hi=Z(Bt);D(e,hi,_=>n(161,w=_));const dn=Z(Un);D(e,dn,_=>n(160,y=_));const gn=Z(Jt);D(e,gn,_=>n(159,b=_));const _n=Z(Vn);D(e,_n,_=>n(158,g=_));const mn=Z(Yn);D(e,mn,_=>n(157,d=_));const di=Z(re);D(e,di,_=>n(11,c=_));const gi=Z(ti);D(e,gi,_=>n(12,s=_));const _i=ge([xt,Gt,Ot,Ft],([_,Ze,We,ke])=>{const _t={};return _&&(_t.x=_),Ze&&(_t.y=Ze),We&&(_t.z=We),ke&&(_t.r=ke),_t});D(e,_i,_=>n(10,u=_));const mi=ge([ri,jt,qt],([_])=>Object.assign({top:0,right:0,bottom:0,left:0},_));D(e,mi,_=>n(37,gt=_));const yi=ge([jt,qt,mi],([_,Ze,We])=>{const ke={};return ke.top=We.top,ke.right=_-We.right,ke.bottom=Ze-We.bottom,ke.left=We.left,ke.width=ke.right-ke.left,ke.height=ke.bottom-ke.top,ke.width<=0&&ur===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),ke.height<=0&&ur===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),ke});D(e,yi,_=>n(151,f=_));const it=ge([yi],([_])=>_.width);D(e,it,_=>n(34,et=_));const rt=ge([yi],([_])=>_.height);D(e,rt,_=>n(35,he=_));const xe=ge([$t,_i,ni,dn,gn,mn,_n],([_,Ze,We,ke,_t,qa,xa])=>{const Ga={x:ke,y:_t,r:qa,z:xa},pr=vr(Ze,We),Oa=Object.fromEntries(Object.keys(pr).map(wr=>[wr,Ga[wr]]));return Object.keys(pr).length>0?{...gf(_,pr,Oa),...We}:{}});D(e,xe,_=>n(38,Qt=_));const bi=ge([xe,li],ki("x"));D(e,bi,_=>n(39,vt=_));const pi=ge([xe,oi],ki("y"));D(e,pi,_=>n(40,nl=_));const wi=ge([xe,ai],ki("z"));D(e,wi,_=>n(41,il=_));const vi=ge([xe,fi],ki("r"));D(e,vi,_=>n(42,rl=_));const yn=ge([dn,xe,bi,un,en,ln,it,rt,ui,nt],Ni("x"));D(e,yn,_=>n(9,h=_));const sr=ge([xt,yn],zi);D(e,sr,_=>n(47,ul=_));const bn=ge([gn,xe,pi,sn,tn,on,it,rt,si,nt],Ni("y"));D(e,bn,_=>n(8,a=_));const cr=ge([Gt,bn],zi);D(e,cr,_=>n(48,sl=_));const pn=ge([_n,xe,wi,cn,nn,an,it,rt,ci,nt],Ni("z"));D(e,pn,_=>n(7,o=_));const hr=ge([Ot,pn],zi);D(e,hr,_=>n(49,cl=_));const wn=ge([mn,xe,vi,hn,rn,fn,it,rt,hi,nt],Ni("r"));D(e,wn,_=>n(6,l=_));const dr=ge([Ft,wn],zi);D(e,dr,_=>n(50,hl=_));const gr=ge([yn],Di);D(e,gr,_=>n(43,ll=_));const _r=ge([bn],Di);D(e,_r,_=>n(44,ol=_));const mr=ge([pn],Di);D(e,mr,_=>n(45,al=_));const yr=ge([wn],Di);D(e,yr,_=>n(46,fl=_));const br=ge([it,rt],([_,Ze])=>_/Ze);D(e,br,_=>n(36,tt=_));function Ba(_){ct[_?"unshift":"push"](()=>{Bn=_,n(2,Bn)})}function ja(){kt=this.clientWidth,St=this.clientHeight,n(0,kt),n(1,St)}return e.$$set=_=>{"ssr"in _&&n(3,lr=_.ssr),"pointerEvents"in _&&n(4,gl=_.pointerEvents),"position"in _&&n(5,_l=_.position),"percentRange"in _&&n(111,Ln=_.percentRange),"width"in _&&n(112,or=_.width),"height"in _&&n(113,ar=_.height),"containerWidth"in _&&n(0,kt=_.containerWidth),"containerHeight"in _&&n(1,St=_.containerHeight),"element"in _&&n(2,Bn=_.element),"x"in _&&n(114,Et=_.x),"y"in _&&n(115,Mt=_.y),"z"in _&&n(116,Rt=_.z),"r"in _&&n(117,Nt=_.r),"data"in _&&n(118,zt=_.data),"xDomain"in _&&n(119,Dt=_.xDomain),"yDomain"in _&&n(120,Pt=_.yDomain),"zDomain"in _&&n(121,At=_.zDomain),"rDomain"in _&&n(122,Ct=_.rDomain),"xNice"in _&&n(123,jn=_.xNice),"yNice"in _&&n(124,qn=_.yNice),"zNice"in _&&n(125,xn=_.zNice),"rNice"in _&&n(126,Gn=_.rNice),"xPadding"in _&&n(127,On=_.xPadding),"yPadding"in _&&n(128,Fn=_.yPadding),"zPadding"in _&&n(129,Hn=_.zPadding),"rPadding"in _&&n(130,Wn=_.rPadding),"xScale"in _&&n(131,Un=_.xScale),"yScale"in _&&n(132,Jt=_.yScale),"zScale"in _&&n(133,Vn=_.zScale),"rScale"in _&&n(134,Yn=_.rScale),"xRange"in _&&n(135,Tt=_.xRange),"yRange"in _&&n(136,It=_.yRange),"zRange"in _&&n(137,Lt=_.zRange),"rRange"in _&&n(138,Bt=_.rRange),"xReverse"in _&&n(139,Xn=_.xReverse),"yReverse"in _&&n(140,Kn=_.yReverse),"zReverse"in _&&n(141,Zn=_.zReverse),"rReverse"in _&&n(142,Qn=_.rReverse),"padding"in _&&n(143,Jn=_.padding),"extents"in _&&n(144,$n=_.extents),"flatData"in _&&n(145,ei=_.flatData),"custom"in _&&n(146,ti=_.custom),"debug"in _&&n(147,fr=_.debug),"$$scope"in _&&n(152,dl=_.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof Kn>"u"?typeof Jt.bandwidth!="function":Kn),e.$$.dirty[3]&2097152&&Et&&n(148,re.x=Et,re),e.$$.dirty[3]&4194304&&Mt&&n(148,re.y=Mt,re),e.$$.dirty[3]&8388608&&Rt&&n(148,re.z=Rt,re),e.$$.dirty[3]&16777216&&Nt&&n(148,re.r=Nt,re),e.$$.dirty[3]&67108864&&Dt&&n(148,re.xDomain=Dt,re),e.$$.dirty[3]&134217728&&Pt&&n(148,re.yDomain=Pt,re),e.$$.dirty[3]&268435456&&At&&n(148,re.zDomain=At,re),e.$$.dirty[3]&536870912&&Ct&&n(148,re.rDomain=Ct,re),e.$$.dirty[4]&2048&&Tt&&n(148,re.xRange=Tt,re),e.$$.dirty[4]&4096&&It&&n(148,re.yRange=It,re),e.$$.dirty[4]&8192&&Lt&&n(148,re.zRange=Lt,re),e.$$.dirty[4]&16384&&Bt&&n(148,re.rRange=Bt,re),e.$$.dirty[3]&262144&&X(nt,He=Ln,He),e.$$.dirty[0]&1&&X(jt,Pe=kt,Pe),e.$$.dirty[0]&2&&X(qt,Ne=St,Ne),e.$$.dirty[4]&1048576&&X(ni,le=vr($n),le),e.$$.dirty[3]&33554432&&X(ii,ee=zt,ee),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&X($t,dt=ei||zt,dt),e.$$.dirty[4]&524288&&X(ri,Te=Jn,Te),e.$$.dirty[3]&2097152&&X(xt,Ce=lt(Et),Ce),e.$$.dirty[3]&4194304&&X(Gt,Y=lt(Mt),Y),e.$$.dirty[3]&8388608&&X(Ot,oe=lt(Rt),oe),e.$$.dirty[3]&16777216&&X(Ft,H=lt(Nt),H),e.$$.dirty[3]&67108864&&X(li,L=Dt,L),e.$$.dirty[3]&134217728&&X(oi,$=Pt,$),e.$$.dirty[3]&268435456&&X(ai,F=At,F),e.$$.dirty[3]&536870912&&X(fi,O=Ct,O),e.$$.dirty[3]&1073741824&&X(en,M=jn,M),e.$$.dirty[4]&1&&X(tn,S=qn,S),e.$$.dirty[4]&2&&X(nn,B=xn,B),e.$$.dirty[4]&4&&X(rn,A=Gn,A),e.$$.dirty[4]&32768&&X(ln,V=Xn,V),e.$$.dirty[4]&67108864&&X(on,P=i,P),e.$$.dirty[4]&131072&&X(an,j=Zn,j),e.$$.dirty[4]&262144&&X(fn,I=Qn,I),e.$$.dirty[4]&8&&X(un,T=On,T),e.$$.dirty[4]&16&&X(sn,N=Fn,N),e.$$.dirty[4]&32&&X(cn,E=Hn,E),e.$$.dirty[4]&64&&X(hn,p=Wn,p),e.$$.dirty[4]&2048&&X(ui,z=Tt,z),e.$$.dirty[4]&4096&&X(si,v=It,v),e.$$.dirty[4]&8192&&X(ci,k=Lt,k),e.$$.dirty[4]&16384&&X(hi,w=Bt,w),e.$$.dirty[4]&128&&X(dn,y=Un,y),e.$$.dirty[4]&256&&X(gn,b=Jt,b),e.$$.dirty[4]&512&&X(_n,g=Vn,g),e.$$.dirty[4]&1024&&X(mn,d=Yn,d),e.$$.dirty[4]&4194304&&X(gi,s=ti,s),e.$$.dirty[4]&16777216&&X(di,c=re,c),e.$$.dirty[4]&33554432&&Yo("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&f&&fr===!0&&(lr===!0||typeof window<"u")&&La({boundingBox:f,activeGetters:u,x:re.x,y:re.y,z:re.z,r:re.r,xScale:h,yScale:a,zScale:o,rScale:l})},n(149,r={activeGetters:_i,width:it,height:rt,percentRange:nt,aspectRatio:br,containerWidth:jt,containerHeight:qt,x:xt,y:Gt,z:Ot,r:Ft,custom:gi,data:ii,xNice:en,yNice:tn,zNice:nn,rNice:rn,xReverse:ln,yReverse:on,zReverse:an,rReverse:fn,xPadding:un,yPadding:sn,zPadding:cn,rPadding:hn,padding:mi,flatData:$t,extents:xe,xDomain:bi,yDomain:pi,zDomain:wi,rDomain:vi,xRange:gr,yRange:_r,zRange:mr,rRange:yr,config:di,xScale:yn,xGet:sr,yScale:bn,yGet:cr,zScale:pn,zGet:hr,rScale:wn,rGet:dr}),[kt,St,Bn,lr,gl,_l,l,o,a,h,u,c,s,p,E,N,T,I,j,P,V,A,B,S,M,H,oe,Y,Ce,dt,ee,Ne,Pe,He,et,he,tt,gt,Qt,vt,nl,il,rl,ll,ol,al,fl,ul,sl,cl,hl,nt,jt,qt,ni,ii,$t,ri,xt,Gt,Ot,Ft,li,oi,ai,fi,en,tn,nn,rn,ln,on,an,fn,un,sn,cn,hn,ui,si,ci,hi,dn,gn,_n,mn,di,gi,_i,mi,yi,it,rt,xe,bi,pi,wi,vi,yn,sr,bn,cr,pn,hr,wn,dr,gr,_r,mr,yr,br,Ln,or,ar,Et,Mt,Rt,Nt,zt,Dt,Pt,At,Ct,jn,qn,xn,Gn,On,Fn,Hn,Wn,Un,Jt,Vn,Yn,Tt,It,Lt,Bt,Xn,Kn,Zn,Qn,Jn,$n,ei,ti,fr,re,r,i,f,dl,Ia,Ba,ja]}class ga extends Me{constructor(t){super(),Re(this,t,Ru,Mu,Ee,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Nu=e=>({element:e&1}),Gl=e=>({element:e[0]});function zu(e){let t,n;const i=e[11].default,r=at(i,e,e[10],Gl);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=U(l,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var o=x(t);r&&r.l(o),o.forEach(R),this.h()},h(){m(t,"class","layercake-layout-html svelte-1bu60uu"),m(t,"role",e[6]),m(t,"aria-label",e[3]),m(t,"aria-labelledby",e[4]),m(t,"aria-describedby",e[5]),q(t,"z-index",e[1]),q(t,"pointer-events",e[2]===!1?"none":null),q(t,"top",e[7].top+"px"),q(t,"right",e[7].right+"px"),q(t,"bottom",e[7].bottom+"px"),q(t,"left",e[7].left+"px")},m(l,o){G(l,t,o),r&&r.m(t,null),e[12](t),n=!0},p(l,[o]){r&&r.p&&(!n||o&1025)&&ft(r,i,l,l[10],n?st(i,l[10],o,Nu):ut(l[10]),Gl),(!n||o&64)&&m(t,"role",l[6]),(!n||o&8)&&m(t,"aria-label",l[3]),(!n||o&16)&&m(t,"aria-labelledby",l[4]),(!n||o&32)&&m(t,"aria-describedby",l[5]),o&2&&q(t,"z-index",l[1]),o&4&&q(t,"pointer-events",l[2]===!1?"none":null),o&128&&q(t,"top",l[7].top+"px"),o&128&&q(t,"right",l[7].right+"px"),o&128&&q(t,"bottom",l[7].bottom+"px"),o&128&&q(t,"left",l[7].left+"px")},i(l){n||(K(r,l),n=!0)},o(l){te(r,l),n=!1},d(l){l&&R(t),r&&r.d(l),e[12](null)}}}function Du(e,t,n){let i,r,{$$slots:l={},$$scope:o}=t;const{padding:a}=Qe("LayerCake");D(e,a,y=>n(7,r=y));let{element:h=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:f=void 0}=t,{role:c=void 0}=t,{label:s=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:g=void 0}=t;function b(y){ct[y?"unshift":"push"](()=>{h=y,n(0,h)})}return e.$$set=y=>{"element"in y&&n(0,h=y.element),"zIndex"in y&&n(1,u=y.zIndex),"pointerEvents"in y&&n(2,f=y.pointerEvents),"role"in y&&n(9,c=y.role),"label"in y&&n(3,s=y.label),"labelledBy"in y&&n(4,d=y.labelledBy),"describedBy"in y&&n(5,g=y.describedBy),"$$scope"in y&&n(10,o=y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=c||(s||d||g?"figure":void 0))},[h,u,f,s,d,g,i,r,a,c,o,l,b]}class Ol extends Me{constructor(t){super(),Re(this,t,Du,zu,Ee,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const Pu=e=>({element:e&1}),Fl=e=>({element:e[0]}),Au=e=>({}),Hl=e=>({}),Cu=e=>({}),Wl=e=>({});function Ul(e){let t,n;return{c(){t=we("title"),n=Q(e[8])},l(i){t=ve(i,"title",{});var r=x(t);n=J(r,e[8]),r.forEach(R)},m(i,r){G(i,t,r),C(t,n)},p(i,r){r&256&&de(n,i[8])},d(i){i&&R(t)}}}function Tu(e){let t,n=e[8]&&Ul(e);return{c(){n&&n.c(),t=se()},l(i){n&&n.l(i),t=se()},m(i,r){n&&n.m(i,r),G(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=Ul(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&R(t),n&&n.d(i)}}}function Iu(e){let t,n,i,r,l;const o=e[16].title,a=at(o,e,e[15],Wl),h=a||Tu(e),u=e[16].defs,f=at(u,e,e[15],Hl),c=e[16].default,s=at(c,e,e[15],Fl);return{c(){t=we("svg"),h&&h.c(),n=we("defs"),f&&f.c(),i=we("g"),s&&s.c(),this.h()},l(d){t=ve(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=x(t);h&&h.l(g),n=ve(g,"defs",{});var b=x(n);f&&f.l(b),b.forEach(R),i=ve(g,"g",{class:!0,transform:!0});var y=x(i);s&&s.l(y),y.forEach(R),g.forEach(R),this.h()},h(){m(i,"class","layercake-layout-svg_g"),m(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),m(t,"class","layercake-layout-svg svelte-u84d8d"),m(t,"viewBox",e[4]),m(t,"width",e[9]),m(t,"height",e[10]),m(t,"aria-label",e[5]),m(t,"aria-labelledby",e[6]),m(t,"aria-describedby",e[7]),q(t,"z-index",e[2]),q(t,"pointer-events",e[3]===!1?"none":null)},m(d,g){G(d,t,g),h&&h.m(t,null),C(t,n),f&&f.m(n,null),C(t,i),s&&s.m(i,null),e[17](i),e[18](t),l=!0},p(d,[g]){a?a.p&&(!l||g&32768)&&ft(a,o,d,d[15],l?st(o,d[15],g,Cu):ut(d[15]),Wl):h&&h.p&&(!l||g&256)&&h.p(d,l?g:-1),f&&f.p&&(!l||g&32768)&&ft(f,u,d,d[15],l?st(u,d[15],g,Au):ut(d[15]),Hl),s&&s.p&&(!l||g&32769)&&ft(s,c,d,d[15],l?st(c,d[15],g,Pu):ut(d[15]),Fl),(!l||g&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&m(i,"transform",r),(!l||g&16)&&m(t,"viewBox",d[4]),(!l||g&512)&&m(t,"width",d[9]),(!l||g&1024)&&m(t,"height",d[10]),(!l||g&32)&&m(t,"aria-label",d[5]),(!l||g&64)&&m(t,"aria-labelledby",d[6]),(!l||g&128)&&m(t,"aria-describedby",d[7]),g&4&&q(t,"z-index",d[2]),g&8&&q(t,"pointer-events",d[3]===!1?"none":null)},i(d){l||(K(h,d),K(f,d),K(s,d),l=!0)},o(d){te(h,d),te(f,d),te(s,d),l=!1},d(d){d&&R(t),h&&h.d(d),f&&f.d(d),s&&s.d(d),e[17](null),e[18](null)}}}function Lu(e,t,n){let i,r,l,{$$slots:o={},$$scope:a}=t,{element:h=void 0}=t,{innerElement:u=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:c=void 0}=t,{viewBox:s=void 0}=t,{label:d=void 0}=t,{labelledBy:g=void 0}=t,{describedBy:b=void 0}=t,{title:y=void 0}=t;const{containerWidth:w,containerHeight:k,padding:v}=Qe("LayerCake");D(e,w,E=>n(9,i=E)),D(e,k,E=>n(10,r=E)),D(e,v,E=>n(11,l=E));function z(E){ct[E?"unshift":"push"](()=>{u=E,n(1,u)})}function p(E){ct[E?"unshift":"push"](()=>{h=E,n(0,h)})}return e.$$set=E=>{"element"in E&&n(0,h=E.element),"innerElement"in E&&n(1,u=E.innerElement),"zIndex"in E&&n(2,f=E.zIndex),"pointerEvents"in E&&n(3,c=E.pointerEvents),"viewBox"in E&&n(4,s=E.viewBox),"label"in E&&n(5,d=E.label),"labelledBy"in E&&n(6,g=E.labelledBy),"describedBy"in E&&n(7,b=E.describedBy),"title"in E&&n(8,y=E.title),"$$scope"in E&&n(15,a=E.$$scope)},[h,u,f,c,s,d,g,b,y,i,r,l,w,k,v,a,o,z,p]}class _a extends Me{constructor(t){super(),Re(this,t,Lu,Iu,Ee,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function ma(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const Bu=e=>({element:e&2,context:e&1}),Vl=e=>({element:e[1],context:e[0]}),ju=e=>({}),Yl=e=>({});function Xl(e){let t;return{c(){t=Q(e[4])},l(n){t=J(n,e[4])},m(n,i){G(n,t,i)},p(n,i){i&16&&de(t,n[4])},d(n){n&&R(t)}}}function qu(e){let t,n=e[4]&&Xl(e);return{c(){n&&n.c(),t=se()},l(i){n&&n.l(i),t=se()},m(i,r){n&&n.m(i,r),G(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=Xl(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&R(t),n&&n.d(i)}}}function xu(e){let t,n,i;const r=e[13].fallback,l=at(r,e,e[12],Yl),o=l||qu(e),a=e[13].default,h=at(a,e,e[12],Vl);return{c(){t=W("canvas"),o&&o.c(),n=ae(),h&&h.c(),this.h()},l(u){t=U(u,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=x(t);o&&o.l(f),f.forEach(R),n=fe(u),h&&h.l(u),this.h()},h(){m(t,"class","layercake-layout-canvas"),q(t,"width","100%"),q(t,"height","100%"),q(t,"position","absolute"),m(t,"aria-label",e[5]),m(t,"aria-labelledby",e[6]),m(t,"aria-describedby",e[7]),q(t,"z-index",e[2]),q(t,"pointer-events",e[3]===!1?"none":null),q(t,"top",e[8].top+"px"),q(t,"right",e[8].right+"px"),q(t,"bottom",e[8].bottom+"px"),q(t,"left",e[8].left+"px")},m(u,f){G(u,t,f),o&&o.m(t,null),e[14](t),G(u,n,f),h&&h.m(u,f),i=!0},p(u,[f]){l?l.p&&(!i||f&4096)&&ft(l,r,u,u[12],i?st(r,u[12],f,ju):ut(u[12]),Yl):o&&o.p&&(!i||f&16)&&o.p(u,i?f:-1),(!i||f&32)&&m(t,"aria-label",u[5]),(!i||f&64)&&m(t,"aria-labelledby",u[6]),(!i||f&128)&&m(t,"aria-describedby",u[7]),f&4&&q(t,"z-index",u[2]),f&8&&q(t,"pointer-events",u[3]===!1?"none":null),f&256&&q(t,"top",u[8].top+"px"),f&256&&q(t,"right",u[8].right+"px"),f&256&&q(t,"bottom",u[8].bottom+"px"),f&256&&q(t,"left",u[8].left+"px"),h&&h.p&&(!i||f&4099)&&ft(h,a,u,u[12],i?st(a,u[12],f,Bu):ut(u[12]),Vl)},i(u){i||(K(o,u),K(h,u),i=!0)},o(u){te(o,u),te(h,u),i=!1},d(u){u&&(R(t),R(n)),o&&o.d(u),e[14](null),h&&h.d(u)}}}function Gu(e,t,n){let i,r,l,{$$slots:o={},$$scope:a}=t;const{width:h,height:u,padding:f}=Qe("LayerCake");D(e,h,p=>n(16,r=p)),D(e,u,p=>n(15,i=p)),D(e,f,p=>n(8,l=p));let{element:c=void 0}=t,{context:s=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:g=void 0}=t,{fallback:b=""}=t,{label:y=void 0}=t,{labelledBy:w=void 0}=t,{describedBy:k=void 0}=t;const v={ctx:Z({})};Vo(()=>{n(0,s=c.getContext("2d")),ma(s,r,i)}),Yo("canvas",v);function z(p){ct[p?"unshift":"push"](()=>{c=p,n(1,c)})}return e.$$set=p=>{"element"in p&&n(1,c=p.element),"context"in p&&n(0,s=p.context),"zIndex"in p&&n(2,d=p.zIndex),"pointerEvents"in p&&n(3,g=p.pointerEvents),"fallback"in p&&n(4,b=p.fallback),"label"in p&&n(5,y=p.label),"labelledBy"in p&&n(6,w=p.labelledBy),"describedBy"in p&&n(7,k=p.describedBy),"$$scope"in p&&n(12,a=p.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&v.ctx.set(s)},[s,c,d,g,b,y,w,k,l,h,u,f,a,o,z]}class Ou extends Me{constructor(t){super(),Re(this,t,Gu,xu,Ee,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function Fu(e){e.nextSibling&&e.parentNode.appendChild(e)}function Hu(e){return e}function Wu(e){if(e==null)return Hu;var t,n,i=e.scale[0],r=e.scale[1],l=e.translate[0],o=e.translate[1];return function(a,h){h||(t=n=0);var u=2,f=a.length,c=new Array(f);for(c[0]=(t+=a[0])*i+l,c[1]=(n+=a[1])*r+o;u<f;)c[u]=a[u],++u;return c}}function Uu(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function Vu(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Kl(e,n)})}:Kl(e,t)}function Kl(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,l=Yu(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function Yu(e,t){var n=Wu(e.transform),i=e.arcs;function r(f,c){c.length&&c.pop();for(var s=i[f<0?~f:f],d=0,g=s.length;d<g;++d)c.push(n(s[d],d));f<0&&Uu(c,g)}function l(f){return n(f)}function o(f){for(var c=[],s=0,d=f.length;s<d;++s)r(f[s],c);return c.length<2&&c.push(c[0]),c}function a(f){for(var c=o(f);c.length<4;)c.push(c[0]);return c}function h(f){return f.map(a)}function u(f){var c=f.type,s;switch(c){case"GeometryCollection":return{type:c,geometries:f.geometries.map(u)};case"Point":s=l(f.coordinates);break;case"MultiPoint":s=f.coordinates.map(l);break;case"LineString":s=o(f.arcs);break;case"MultiLineString":s=f.arcs.map(o);break;case"Polygon":s=h(f.arcs);break;case"MultiPolygon":s=f.arcs.map(h);break;default:return null}return{type:c,coordinates:s}}return u(t)}var ie=1e-6,Xu=1e-12,ne=Math.PI,Le=ne/2,Zl=ne/4,qe=ne*2,Ge=180/ne,De=ne/180,ce=Math.abs,Ku=Math.atan,Xt=Math.atan2,_e=Math.cos,ue=Math.sin,Li=Math.sign||function(e){return e>0?1:e<0?-1:0},$e=Math.sqrt;function Zu(e){return e>1?0:e<-1?ne:Math.acos(e)}function pt(e){return e>1?Le:e<-1?-Le:Math.asin(e)}function Be(){}function Vi(e,t){e&&Jl.hasOwnProperty(e.type)&&Jl[e.type](e,t)}var Ql={Feature:function(e,t){Vi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Vi(n[i].geometry,t)}},Jl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ar(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Ar(n[i],t,0)},Polygon:function(e,t){$l(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)$l(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Vi(n[i],t)}};function Ar(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function $l(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Ar(e[n],t,1);t.polygonEnd()}function Ht(e,t){e&&Ql.hasOwnProperty(e.type)?Ql[e.type](e,t):Vi(e,t)}function Cr(e){return[Xt(e[1],e[0]),pt(e[2])]}function Kt(e){var t=e[0],n=e[1],i=_e(n);return[i*_e(t),i*ue(t),ue(n)]}function Pi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Yi(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Er(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ai(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Tr(e){var t=$e(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ir(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function Lr(e,t){return ce(e)>ne&&(e-=Math.round(e/qe)*qe),[e,t]}Lr.invert=Lr;function Qu(e,t,n){return(e%=qe)?t||n?Ir(to(e),no(t,n)):to(e):t||n?no(t,n):Lr}function eo(e){return function(t,n){return t+=e,ce(t)>ne&&(t-=Math.round(t/qe)*qe),[t,n]}}function to(e){var t=eo(e);return t.invert=eo(-e),t}function no(e,t){var n=_e(e),i=ue(e),r=_e(t),l=ue(t);function o(a,h){var u=_e(h),f=_e(a)*u,c=ue(a)*u,s=ue(h),d=s*n+f*i;return[Xt(c*r-d*l,f*n-s*i),pt(d*r+c*l)]}return o.invert=function(a,h){var u=_e(h),f=_e(a)*u,c=ue(a)*u,s=ue(h),d=s*r-c*l;return[Xt(c*r+s*l,f*n+d*i),pt(d*n-f*i)]},o}function Ju(e,t,n,i,r,l){if(n){var o=_e(t),a=ue(t),h=i*n;r==null?(r=t+i*qe,l=t-h/2):(r=io(o,r),l=io(o,l),(i>0?r<l:r>l)&&(r+=i*qe));for(var u,f=r;i>0?f>l:f<l;f-=h)u=Cr([o,-a*_e(f),-a*ue(f)]),e.point(u[0],u[1])}}function io(e,t){t=Kt(t),t[0]-=e,Tr(t);var n=Zu(-t[1]);return((-t[2]<0?-n:n)+qe-ie)%qe}function ya(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:Be,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Bi(e,t){return ce(e[0]-t[0])<ie&&ce(e[1]-t[1])<ie}function Ci(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ba(e,t,n,i,r){var l=[],o=[],a,h;if(e.forEach(function(g){if(!((b=g.length-1)<=0)){var b,y=g[0],w=g[b],k;if(Bi(y,w)){if(!y[2]&&!w[2]){for(r.lineStart(),a=0;a<b;++a)r.point((y=g[a])[0],y[1]);r.lineEnd();return}w[0]+=2*ie}l.push(k=new Ci(y,g,null,!0)),o.push(k.o=new Ci(y,null,k,!1)),l.push(k=new Ci(w,g,null,!1)),o.push(k.o=new Ci(w,null,k,!0))}}),!!l.length){for(o.sort(t),ro(l),ro(o),a=0,h=o.length;a<h;++a)o[a].e=n=!n;for(var u=l[0],f,c;;){for(var s=u,d=!0;s.v;)if((s=s.n)===u)return;f=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(d)for(a=0,h=f.length;a<h;++a)r.point((c=f[a])[0],c[1]);else i(s.x,s.n.x,1,r);s=s.n}else{if(d)for(f=s.p.z,a=f.length-1;a>=0;--a)r.point((c=f[a])[0],c[1]);else i(s.x,s.p.x,-1,r);s=s.p}s=s.o,f=s.z,d=!d}while(!s.v);r.lineEnd()}}}function ro(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Mr(e){return ce(e[0])<=ne?e[0]:Li(e[0])*((ce(e[0])+ne)%qe-ne)}function $u(e,t){var n=Mr(t),i=t[1],r=ue(i),l=[ue(n),-_e(n),0],o=0,a=0,h=new bt;r===1?i=Le+ie:r===-1&&(i=-Le-ie);for(var u=0,f=e.length;u<f;++u)if(s=(c=e[u]).length)for(var c,s,d=c[s-1],g=Mr(d),b=d[1]/2+Zl,y=ue(b),w=_e(b),k=0;k<s;++k,g=z,y=E,w=N,d=v){var v=c[k],z=Mr(v),p=v[1]/2+Zl,E=ue(p),N=_e(p),T=z-g,I=T>=0?1:-1,j=I*T,P=j>ne,V=y*E;if(h.add(Xt(V*I*ue(j),w*N+V*_e(j))),o+=P?T+I*qe:T,P^g>=n^z>=n){var A=Yi(Kt(d),Kt(v));Tr(A);var B=Yi(l,A);Tr(B);var S=(P^T>=0?-1:1)*pt(B[2]);(i>S||i===S&&(A[0]||A[1]))&&(a+=P^T>=0?1:-1)}}return(o<-ie||o<ie&&h<-Xu)^a&1}function pa(e,t,n,i){return function(r){var l=t(r),o=ya(),a=t(o),h=!1,u,f,c,s={point:d,lineStart:b,lineEnd:y,polygonStart:function(){s.point=w,s.lineStart=k,s.lineEnd=v,f=[],u=[]},polygonEnd:function(){s.point=d,s.lineStart=b,s.lineEnd=y,f=Jo(f);var z=$u(u,i);f.length?(h||(r.polygonStart(),h=!0),ba(f,ts,z,n,r)):z&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(z,p){e(z,p)&&r.point(z,p)}function g(z,p){l.point(z,p)}function b(){s.point=g,l.lineStart()}function y(){s.point=d,l.lineEnd()}function w(z,p){c.push([z,p]),a.point(z,p)}function k(){a.lineStart(),c=[]}function v(){w(c[0][0],c[0][1]),a.lineEnd();var z=a.clean(),p=o.result(),E,N=p.length,T,I,j;if(c.pop(),u.push(c),c=null,!!N){if(z&1){if(I=p[0],(T=I.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),E=0;E<T;++E)r.point((j=I[E])[0],j[1]);r.lineEnd()}return}N>1&&z&2&&p.push(p.pop().concat(p.shift())),f.push(p.filter(es))}}return s}}function es(e){return e.length>1}function ts(e,t){return((e=e.x)[0]<0?e[1]-Le-ie:Le-e[1])-((t=t.x)[0]<0?t[1]-Le-ie:Le-t[1])}const lo=pa(function(){return!0},ns,rs,[-ne,-Le]);function ns(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,o){var a=l>0?ne:-ne,h=ce(l-t);ce(h-ne)<ie?(e.point(t,n=(n+o)/2>0?Le:-Le),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(l,n),r=0):i!==a&&h>=ne&&(ce(t-i)<ie&&(t-=i*ie),ce(l-a)<ie&&(l-=a*ie),n=is(t,n,l,o),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),r=0),e.point(t=l,n=o),i=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function is(e,t,n,i){var r,l,o=ue(e-n);return ce(o)>ie?Ku((ue(t)*(l=_e(i))*ue(n)-ue(i)*(r=_e(t))*ue(e))/(r*l*o)):(t+i)/2}function rs(e,t,n,i){var r;if(e==null)r=n*Le,i.point(-ne,r),i.point(0,r),i.point(ne,r),i.point(ne,0),i.point(ne,-r),i.point(0,-r),i.point(-ne,-r),i.point(-ne,0),i.point(-ne,r);else if(ce(e[0]-t[0])>ie){var l=e[0]<t[0]?ne:-ne;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function ls(e){var t=_e(e),n=6*De,i=t>0,r=ce(t)>ie;function l(f,c,s,d){Ju(d,e,n,s,f,c)}function o(f,c){return _e(f)*_e(c)>t}function a(f){var c,s,d,g,b;return{lineStart:function(){g=d=!1,b=1},point:function(y,w){var k=[y,w],v,z=o(y,w),p=i?z?0:u(y,w):z?u(y+(y<0?ne:-ne),w):0;if(!c&&(g=d=z)&&f.lineStart(),z!==d&&(v=h(c,k),(!v||Bi(c,v)||Bi(k,v))&&(k[2]=1)),z!==d)b=0,z?(f.lineStart(),v=h(k,c),f.point(v[0],v[1])):(v=h(c,k),f.point(v[0],v[1],2),f.lineEnd()),c=v;else if(r&&c&&i^z){var E;!(p&s)&&(E=h(k,c,!0))&&(b=0,i?(f.lineStart(),f.point(E[0][0],E[0][1]),f.point(E[1][0],E[1][1]),f.lineEnd()):(f.point(E[1][0],E[1][1]),f.lineEnd(),f.lineStart(),f.point(E[0][0],E[0][1],3)))}z&&(!c||!Bi(c,k))&&f.point(k[0],k[1]),c=k,d=z,s=p},lineEnd:function(){d&&f.lineEnd(),c=null},clean:function(){return b|(g&&d)<<1}}}function h(f,c,s){var d=Kt(f),g=Kt(c),b=[1,0,0],y=Yi(d,g),w=Pi(y,y),k=y[0],v=w-k*k;if(!v)return!s&&f;var z=t*w/v,p=-t*k/v,E=Yi(b,y),N=Ai(b,z),T=Ai(y,p);Er(N,T);var I=E,j=Pi(N,I),P=Pi(I,I),V=j*j-P*(Pi(N,N)-1);if(!(V<0)){var A=$e(V),B=Ai(I,(-j-A)/P);if(Er(B,N),B=Cr(B),!s)return B;var S=f[0],M=c[0],O=f[1],F=c[1],$;M<S&&($=S,S=M,M=$);var L=M-S,H=ce(L-ne)<ie,oe=H||L<ie;if(!H&&F<O&&($=O,O=F,F=$),oe?H?O+F>0^B[1]<(ce(B[0]-S)<ie?O:F):O<=B[1]&&B[1]<=F:L>ne^(S<=B[0]&&B[0]<=M)){var Y=Ai(I,(-j+A)/P);return Er(Y,N),[B,Cr(Y)]}}}function u(f,c){var s=i?e:ne-e,d=0;return f<-s?d|=1:f>s&&(d|=2),c<-s?d|=4:c>s&&(d|=8),d}return pa(o,a,l,i?[0,-e]:[-ne,e-ne])}function os(e,t,n,i,r,l){var o=e[0],a=e[1],h=t[0],u=t[1],f=0,c=1,s=h-o,d=u-a,g;if(g=n-o,!(!s&&g>0)){if(g/=s,s<0){if(g<f)return;g<c&&(c=g)}else if(s>0){if(g>c)return;g>f&&(f=g)}if(g=r-o,!(!s&&g<0)){if(g/=s,s<0){if(g>c)return;g>f&&(f=g)}else if(s>0){if(g<f)return;g<c&&(c=g)}if(g=i-a,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<c&&(c=g)}else if(d>0){if(g>c)return;g>f&&(f=g)}if(g=l-a,!(!d&&g<0)){if(g/=d,d<0){if(g>c)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<c&&(c=g)}return f>0&&(e[0]=o+f*s,e[1]=a+f*d),c<1&&(t[0]=o+c*s,t[1]=a+c*d),!0}}}}}var Sn=1e9,Ti=-Sn;function as(e,t,n,i){function r(u,f){return e<=u&&u<=n&&t<=f&&f<=i}function l(u,f,c,s){var d=0,g=0;if(u==null||(d=o(u,c))!==(g=o(f,c))||h(u,f)<0^c>0)do s.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+c+4)%4)!==g);else s.point(f[0],f[1])}function o(u,f){return ce(u[0]-e)<ie?f>0?0:3:ce(u[0]-n)<ie?f>0?2:1:ce(u[1]-t)<ie?f>0?1:0:f>0?3:2}function a(u,f){return h(u.x,f.x)}function h(u,f){var c=o(u,1),s=o(f,1);return c!==s?c-s:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=ya(),s,d,g,b,y,w,k,v,z,p,E,N={point:T,lineStart:V,lineEnd:A,polygonStart:j,polygonEnd:P};function T(S,M){r(S,M)&&f.point(S,M)}function I(){for(var S=0,M=0,O=d.length;M<O;++M)for(var F=d[M],$=1,L=F.length,H=F[0],oe,Y,Ce=H[0],Te=H[1];$<L;++$)oe=Ce,Y=Te,H=F[$],Ce=H[0],Te=H[1],Y<=i?Te>i&&(Ce-oe)*(i-Y)>(Te-Y)*(e-oe)&&++S:Te<=i&&(Ce-oe)*(i-Y)<(Te-Y)*(e-oe)&&--S;return S}function j(){f=c,s=[],d=[],E=!0}function P(){var S=I(),M=E&&S,O=(s=Jo(s)).length;(M||O)&&(u.polygonStart(),M&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),O&&ba(s,a,S,l,u),u.polygonEnd()),f=u,s=d=g=null}function V(){N.point=B,d&&d.push(g=[]),p=!0,z=!1,k=v=NaN}function A(){s&&(B(b,y),w&&z&&c.rejoin(),s.push(c.result())),N.point=T,z&&f.lineEnd()}function B(S,M){var O=r(S,M);if(d&&g.push([S,M]),p)b=S,y=M,w=O,p=!1,O&&(f.lineStart(),f.point(S,M));else if(O&&z)f.point(S,M);else{var F=[k=Math.max(Ti,Math.min(Sn,k)),v=Math.max(Ti,Math.min(Sn,v))],$=[S=Math.max(Ti,Math.min(Sn,S)),M=Math.max(Ti,Math.min(Sn,M))];os(F,$,e,t,n,i)?(z||(f.lineStart(),f.point(F[0],F[1])),f.point($[0],$[1]),O||f.lineEnd(),E=!1):O&&(f.lineStart(),f.point(S,M),E=!1)}k=S,v=M,z=O}return N}}const Br=e=>e;var Rr=new bt,jr=new bt,wa,va,qr,xr,ot={point:Be,lineStart:Be,lineEnd:Be,polygonStart:function(){ot.lineStart=fs,ot.lineEnd=ss},polygonEnd:function(){ot.lineStart=ot.lineEnd=ot.point=Be,Rr.add(ce(jr)),jr=new bt},result:function(){var e=Rr/2;return Rr=new bt,e}};function fs(){ot.point=us}function us(e,t){ot.point=ka,wa=qr=e,va=xr=t}function ka(e,t){jr.add(xr*e-qr*t),qr=e,xr=t}function ss(){ka(wa,va)}const oo=ot;var Zt=1/0,Xi=Zt,Cn=-Zt,Ki=Cn,cs={point:hs,lineStart:Be,lineEnd:Be,polygonStart:Be,polygonEnd:Be,result:function(){var e=[[Zt,Xi],[Cn,Ki]];return Cn=Ki=-(Xi=Zt=1/0),e}};function hs(e,t){e<Zt&&(Zt=e),e>Cn&&(Cn=e),t<Xi&&(Xi=t),t>Ki&&(Ki=t)}const Zi=cs;var Gr=0,Or=0,En=0,Qi=0,Ji=0,Ut=0,Fr=0,Hr=0,Mn=0,Sa,Ea,Ve,Ye,Fe={point:wt,lineStart:ao,lineEnd:fo,polygonStart:function(){Fe.lineStart=_s,Fe.lineEnd=ms},polygonEnd:function(){Fe.point=wt,Fe.lineStart=ao,Fe.lineEnd=fo},result:function(){var e=Mn?[Fr/Mn,Hr/Mn]:Ut?[Qi/Ut,Ji/Ut]:En?[Gr/En,Or/En]:[NaN,NaN];return Gr=Or=En=Qi=Ji=Ut=Fr=Hr=Mn=0,e}};function wt(e,t){Gr+=e,Or+=t,++En}function ao(){Fe.point=ds}function ds(e,t){Fe.point=gs,wt(Ve=e,Ye=t)}function gs(e,t){var n=e-Ve,i=t-Ye,r=$e(n*n+i*i);Qi+=r*(Ve+e)/2,Ji+=r*(Ye+t)/2,Ut+=r,wt(Ve=e,Ye=t)}function fo(){Fe.point=wt}function _s(){Fe.point=ys}function ms(){Ma(Sa,Ea)}function ys(e,t){Fe.point=Ma,wt(Sa=Ve=e,Ea=Ye=t)}function Ma(e,t){var n=e-Ve,i=t-Ye,r=$e(n*n+i*i);Qi+=r*(Ve+e)/2,Ji+=r*(Ye+t)/2,Ut+=r,r=Ye*e-Ve*t,Fr+=r*(Ve+e),Hr+=r*(Ye+t),Mn+=r*3,wt(Ve=e,Ye=t)}const uo=Fe;function Ra(e){this._context=e}Ra.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,qe);break}}},result:Be};var Wr=new bt,Nr,Na,za,Rn,Nn,$i={point:Be,lineStart:function(){$i.point=bs},lineEnd:function(){Nr&&Da(Na,za),$i.point=Be},polygonStart:function(){Nr=!0},polygonEnd:function(){Nr=null},result:function(){var e=+Wr;return Wr=new bt,e}};function bs(e,t){$i.point=Da,Na=Rn=e,za=Nn=t}function Da(e,t){Rn-=e,Nn-=t,Wr.add($e(Rn*Rn+Nn*Nn)),Rn=e,Nn=t}const so=$i;let co,er,ho,go;class _o{constructor(t){this._append=t==null?Pa:ps(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ho||this._append!==er){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,ho=i,er=this._append,go=this._,this._=r}this._+=go;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Pa(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ps(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Pa;if(t!==co){const n=10**t;co=t,er=function(r){let l=1;this._+=r[0];for(const o=r.length;l<o;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return er}function mo(e,t){let n=3,i=4.5,r,l;function o(a){return a&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),Ht(a,r(l))),l.result()}return o.area=function(a){return Ht(a,r(oo)),oo.result()},o.measure=function(a){return Ht(a,r(so)),so.result()},o.bounds=function(a){return Ht(a,r(Zi)),Zi.result()},o.centroid=function(a){return Ht(a,r(uo)),uo.result()},o.projection=function(a){return arguments.length?(r=a==null?(e=null,Br):(e=a).stream,o):e},o.context=function(a){return arguments.length?(l=a==null?(t=null,new _o(n)):new Ra(t=a),typeof i!="function"&&l.pointRadius(i),o):t},o.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(l.pointRadius(+a),+a),o):i},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const h=Math.floor(a);if(!(h>=0))throw new RangeError(`invalid digits: ${a}`);n=h}return t===null&&(l=new _o(n)),o},o.projection(e).digits(n).context(t)}function $r(e){return function(t){var n=new Ur;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Ur(){}Ur.prototype={constructor:Ur,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function el(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Ht(n,e.stream(Zi)),t(Zi.result()),i!=null&&e.clipExtent(i),e}function tl(e,t,n){return el(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],o=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),a=+t[0][0]+(r-o*(i[1][0]+i[0][0]))/2,h=+t[0][1]+(l-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([a,h])},n)}function Aa(e,t,n){return tl(e,[[0,0],t],n)}function Ca(e,t,n){return el(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),o=(r-l*(i[1][0]+i[0][0]))/2,a=-l*i[0][1];e.scale(150*l).translate([o,a])},n)}function Ta(e,t,n){return el(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),o=-l*i[0][0],a=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([o,a])},n)}var yo=16,ws=_e(30*De);function bo(e,t){return+t?ks(e,t):vs(e)}function vs(e){return $r({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function ks(e,t){function n(i,r,l,o,a,h,u,f,c,s,d,g,b,y){var w=u-i,k=f-r,v=w*w+k*k;if(v>4*t&&b--){var z=o+s,p=a+d,E=h+g,N=$e(z*z+p*p+E*E),T=pt(E/=N),I=ce(ce(E)-1)<ie||ce(l-c)<ie?(l+c)/2:Xt(p,z),j=e(I,T),P=j[0],V=j[1],A=P-i,B=V-r,S=k*A-w*B;(S*S/v>t||ce((w*A+k*B)/v-.5)>.3||o*s+a*d+h*g<ws)&&(n(i,r,l,o,a,h,P,V,I,z/=N,p/=N,E,b,y),y.point(P,V),n(P,V,I,z,p,E,u,f,c,s,d,g,b,y))}}return function(i){var r,l,o,a,h,u,f,c,s,d,g,b,y={point:w,lineStart:k,lineEnd:z,polygonStart:function(){i.polygonStart(),y.lineStart=p},polygonEnd:function(){i.polygonEnd(),y.lineStart=k}};function w(T,I){T=e(T,I),i.point(T[0],T[1])}function k(){c=NaN,y.point=v,i.lineStart()}function v(T,I){var j=Kt([T,I]),P=e(T,I);n(c,s,f,d,g,b,c=P[0],s=P[1],f=T,d=j[0],g=j[1],b=j[2],yo,i),i.point(c,s)}function z(){y.point=w,i.lineEnd()}function p(){k(),y.point=E,y.lineEnd=N}function E(T,I){v(r=T,I),l=c,o=s,a=d,h=g,u=b,y.point=v}function N(){n(c,s,f,d,g,b,l,o,r,a,h,u,yo,i),y.lineEnd=z,z()}return y}}var Ss=$r({point:function(e,t){this.stream.point(e*De,t*De)}});function Es(e){return $r({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function Ms(e,t,n,i,r){function l(o,a){return o*=i,a*=r,[t+e*o,n-e*a]}return l.invert=function(o,a){return[(o-t)/e*i,(n-a)/e*r]},l}function po(e,t,n,i,r,l){if(!l)return Ms(e,t,n,i,r);var o=_e(l),a=ue(l),h=o*e,u=a*e,f=o/e,c=a/e,s=(a*n-o*t)/e,d=(a*t+o*n)/e;function g(b,y){return b*=i,y*=r,[h*b-u*y+t,n-u*b-h*y]}return g.invert=function(b,y){return[i*(f*b-c*y+s),r*(d-c*b-f*y)]},g}function Rs(e){var t,n=150,i=480,r=250,l=0,o=0,a=0,h=0,u=0,f,c=0,s=1,d=1,g=null,b=lo,y=null,w,k,v,z=Br,p=.5,E,N,T,I,j;function P(S){return T(S[0]*De,S[1]*De)}function V(S){return S=T.invert(S[0],S[1]),S&&[S[0]*Ge,S[1]*Ge]}P.stream=function(S){return I&&j===S?I:I=Ss(Es(f)(b(E(z(j=S)))))},P.preclip=function(S){return arguments.length?(b=S,g=void 0,B()):b},P.postclip=function(S){return arguments.length?(z=S,y=w=k=v=null,B()):z},P.clipAngle=function(S){return arguments.length?(b=+S?ls(g=S*De):(g=null,lo),B()):g*Ge},P.clipExtent=function(S){return arguments.length?(z=S==null?(y=w=k=v=null,Br):as(y=+S[0][0],w=+S[0][1],k=+S[1][0],v=+S[1][1]),B()):y==null?null:[[y,w],[k,v]]},P.scale=function(S){return arguments.length?(n=+S,A()):n},P.translate=function(S){return arguments.length?(i=+S[0],r=+S[1],A()):[i,r]},P.center=function(S){return arguments.length?(l=S[0]%360*De,o=S[1]%360*De,A()):[l*Ge,o*Ge]},P.rotate=function(S){return arguments.length?(a=S[0]%360*De,h=S[1]%360*De,u=S.length>2?S[2]%360*De:0,A()):[a*Ge,h*Ge,u*Ge]},P.angle=function(S){return arguments.length?(c=S%360*De,A()):c*Ge},P.reflectX=function(S){return arguments.length?(s=S?-1:1,A()):s<0},P.reflectY=function(S){return arguments.length?(d=S?-1:1,A()):d<0},P.precision=function(S){return arguments.length?(E=bo(N,p=S*S),B()):$e(p)},P.fitExtent=function(S,M){return tl(P,S,M)},P.fitSize=function(S,M){return Aa(P,S,M)},P.fitWidth=function(S,M){return Ca(P,S,M)},P.fitHeight=function(S,M){return Ta(P,S,M)};function A(){var S=po(n,0,0,s,d,c).apply(null,t(l,o)),M=po(n,i-S[0],r-S[1],s,d,c);return f=Qu(a,h,u),N=Ir(t,M),T=Ir(f,N),E=bo(N,p),B()}function B(){return I=j=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&V,A()}}function Ns(e){var t=0,n=ne/3,i=Rs(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*De,n=l[1]*De):[t*Ge,n*Ge]},r}function zs(e){var t=_e(e);function n(i,r){return[i*t,ue(r)/t]}return n.invert=function(i,r){return[i/t,pt(r*t)]},n}function Ds(e,t){var n=ue(e),i=(n+ue(t))/2;if(ce(i)<ie)return zs(e);var r=1+n*(2*i-n),l=$e(r)/i;function o(a,h){var u=$e(r-2*i*ue(h))/i;return[u*ue(a*=i),l-u*_e(a)]}return o.invert=function(a,h){var u=l-h,f=Xt(a,ce(u))*Li(u);return u*i<0&&(f-=ne*Li(a)*Li(u)),[f/i,pt((r-(a*a+u*u)*i*i)/(2*i))]},o}function Vr(){return Ns(Ds).scale(155.424).center([0,33.6442])}function Ps(){return Vr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function As(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Cs(){var e,t,n=Ps(),i,r=Vr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,o=Vr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,h,u={point:function(s,d){h=[s,d]}};function f(s){var d=s[0],g=s[1];return h=null,i.point(d,g),h||(l.point(d,g),h)||(a.point(d,g),h)}f.invert=function(s){var d=n.scale(),g=n.translate(),b=(s[0]-g[0])/d,y=(s[1]-g[1])/d;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?r:y>=.166&&y<.234&&b>=-.214&&b<-.115?o:n).invert(s)},f.stream=function(s){return e&&t===s?e:e=As([n.stream(t=s),r.stream(s),o.stream(s)])},f.precision=function(s){return arguments.length?(n.precision(s),r.precision(s),o.precision(s),c()):n.precision()},f.scale=function(s){return arguments.length?(n.scale(s),r.scale(s*.35),o.scale(s),f.translate(n.translate())):n.scale()},f.translate=function(s){if(!arguments.length)return n.translate();var d=n.scale(),g=+s[0],b=+s[1];return i=n.translate(s).clipExtent([[g-.455*d,b-.238*d],[g+.455*d,b+.238*d]]).stream(u),l=r.translate([g-.307*d,b+.201*d]).clipExtent([[g-.425*d+ie,b+.12*d+ie],[g-.214*d-ie,b+.234*d-ie]]).stream(u),a=o.translate([g-.205*d,b+.212*d]).clipExtent([[g-.214*d+ie,b+.166*d+ie],[g-.115*d-ie,b+.234*d-ie]]).stream(u),c()},f.fitExtent=function(s,d){return tl(f,s,d)},f.fitSize=function(s,d){return Aa(f,s,d)},f.fitWidth=function(s,d){return Ca(f,s,d)},f.fitHeight=function(s,d){return Ta(f,s,d)};function c(){return e=t=null,f}return f.scale(1070)}function Ts(e,t,n){let i,r,l,o,a,h,u,f;const{data:c,width:s,height:d,zGet:g}=Qe("LayerCake");D(e,c,p=>n(17,f=p)),D(e,s,p=>n(16,u=p)),D(e,d,p=>n(15,h=p)),D(e,g,p=>n(14,a=p));const{ctx:b}=Qe("canvas");D(e,b,p=>n(13,o=p));let{projection:y}=t,{stroke:w="#ccc"}=t,{strokeWidth:k=1}=t,{fill:v=void 0}=t,{features:z=void 0}=t;return e.$$set=p=>{"projection"in p&&n(5,y=p.projection),"stroke"in p&&n(6,w=p.stroke),"strokeWidth"in p&&n(7,k=p.strokeWidth),"fill"in p&&n(8,v=p.fill),"features"in p&&n(9,z=p.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=y().fitSize([u,h],f)),e.$$.dirty&4096&&n(10,r=mo(i)),e.$$.dirty&131584&&n(11,l=z||f.features),e.$$.dirty&126400&&o&&mo&&(ma(o,u,h),o.clearRect(0,0,u,h),l.forEach(p=>{o.beginPath(),r.context(o),r(p),X(b,o.fillStyle=v||a(p.properties),o),o.fill(),X(b,o.lineWidth=k,o),X(b,o.strokeStyle=w,o),o.stroke()}))},[c,s,d,g,b,y,w,k,v,z,r,l,i,o,a,h,u,f]}class Is extends Me{constructor(t){super(),Re(this,t,Ts,null,Ee,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function wo(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function vo(e){let t=[],n=new Map,i,r=je(e[4]);const l=o=>`${o[29].ori}-${o[29].name}`;for(let o=0;o<r.length;o+=1){let a=wo(e,r,o),h=l(a);n.set(h,t[o]=So(h,a))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=se()},l(o){for(let a=0;a<t.length;a+=1)t[a].l(o);i=se()},m(o,a){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(o,a);G(o,i,a)},p(o,a){a[0]&98815&&(r=je(o[4]),t=Zo(t,a,l,1,o,r,n,i.parentNode,Ko,So,i,wo))},d(o){o&&R(i);for(let a=0;a<t.length;a+=1)t[a].d(o)}}}function ko(e){let t,n,i,r,l,o,a;function h(...c){return e[22](e[29],...c)}function u(...c){return e[23](e[29],...c)}function f(...c){return e[24](e[29],...c)}return{c(){t=we("circle"),this.h()},l(c){t=ve(c,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),x(t).forEach(R),this.h()},h(){m(t,"cx",n=e[30][0]),m(t,"cy",i=e[30][1]),m(t,"r",r=e[7](Math.abs(e[8](e[29])))),m(t,"fill",l=e[0](e[29])),m(t,"stroke",e[1]),m(t,"stroke-width",e[2]),m(t,"opacity",e[3])},m(c,s){G(c,t,s),o||(a=[Se(t,"mouseover",h),Se(t,"focus",u),Se(t,"mousemove",function(){Yr(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),Se(t,"click",f)],o=!0)},p(c,s){e=c,s[0]&48&&n!==(n=e[30][0])&&m(t,"cx",n),s[0]&48&&i!==(i=e[30][1])&&m(t,"cy",i),s[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&m(t,"r",r),s[0]&17&&l!==(l=e[0](e[29]))&&m(t,"fill",l),s[0]&2&&m(t,"stroke",e[1]),s[0]&4&&m(t,"stroke-width",e[2]),s[0]&8&&m(t,"opacity",e[3])},d(c){c&&R(t),o=!1,Tn(a)}}}function So(e,t){let n,i=!isNaN(t[6](t[29])),r,l=i&&ko(t);return{key:e,first:null,c(){n=se(),l&&l.c(),r=se(),this.h()},l(o){n=se(),l&&l.l(o),r=se(),this.h()},h(){this.first=n},m(o,a){G(o,n,a),l&&l.m(o,a),G(o,r,a)},p(o,a){t=o,a[0]&80&&(i=!isNaN(t[6](t[29]))),i?l?l.p(t,a):(l=ko(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(o){o&&(R(n),R(r)),l&&l.d(o)}}}function Ls(e){let t,n,i,r=e[4].length&&vo(e);return{c(){t=we("g"),r&&r.c(),this.h()},l(l){t=ve(l,"g",{class:!0});var o=x(t);r&&r.l(o),o.forEach(R),this.h()},h(){m(t,"class","points")},m(l,o){G(l,t,o),r&&r.m(t,null),n||(i=[Se(t,"mouseout",e[25]),Se(t,"blur",e[26])],n=!0)},p(l,o){l[4].length?r?r.p(l,o):(r=vo(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:Ie,o:Ie,d(l){l&&R(t),r&&r.d(),n=!1,Tn(i)}}}function Bs(e,t,n){let i,r,l,o,a,h,u;const{data:f,width:c,height:s,rScale:d,rGet:g,zGet:b,r:y,zScale:w}=Qe("LayerCake");D(e,f,M=>n(19,r=M)),D(e,c,M=>n(21,o=M)),D(e,s,M=>n(20,l=M)),D(e,d,M=>n(7,h=M)),D(e,g,M=>n(6,a=M)),D(e,y,M=>n(8,u=M));let{projection:k}=t;const v=Ha();let{fill:z="yellow"}=t,{fillFunction:p=M=>M}=t,{stroke:E="#000"}=t,{strokeWidth:N=1}=t,{opacity:T=1}=t,{features:I=void 0}=t;function j(M){return function(F){Fu(this),F.layerX!==0&&F.layerY!==0&&v("mousemove",{e:F,props:M})}}const P=(M,O)=>v("mousemove",{e:O,props:M}),V=(M,O)=>v("mousemove",{e:O,props:M}),A=(M,O)=>v("clickedPoint",{e:O,props:M}),B=M=>v("mouseout"),S=M=>v("mouseout");return e.$$set=M=>{"projection"in M&&n(17,k=M.projection),"fill"in M&&n(18,z=M.fill),"fillFunction"in M&&n(0,p=M.fillFunction),"stroke"in M&&n(1,E=M.stroke),"strokeWidth"in M&&n(2,N=M.strokeWidth),"opacity"in M&&n(3,T=M.opacity),"features"in M&&n(4,I=M.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=k().fitSize([o,l],r))},[p,E,N,T,I,i,a,h,u,f,c,s,d,g,y,v,j,k,z,r,l,o,P,V,A,B,S]}class js extends Me{constructor(t){super(),Re(this,t,Bs,Ls,Ee,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const qs=e=>({detail:e&1}),Eo=e=>({detail:e[0].detail});function Mo(e){let t,n;const i=e[3].default,r=at(i,e,e[2],Eo);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=U(l,"DIV",{class:!0,style:!0});var o=x(t);r&&r.l(o),o.forEach(R),this.h()},h(){m(t,"class","tooltip svelte-qjsu2l"),q(t,"top",e[0].detail.e.layerY+e[1]+"px"),q(t,"left",e[0].detail.e.layerX+"px")},m(l,o){G(l,t,o),r&&r.m(t,null),n=!0},p(l,o){r&&r.p&&(!n||o&5)&&ft(r,i,l,l[2],n?st(i,l[2],o,qs):ut(l[2]),Eo),(!n||o&3)&&q(t,"top",l[0].detail.e.layerY+l[1]+"px"),(!n||o&1)&&q(t,"left",l[0].detail.e.layerX+"px")},i(l){n||(K(r,l),n=!0)},o(l){te(r,l),n=!1},d(l){l&&R(t),r&&r.d(l)}}}function xs(e){let t,n,i=e[0].detail&&Mo(e);return{c(){i&&i.c(),t=se()},l(r){i&&i.l(r),t=se()},m(r,l){i&&i.m(r,l),G(r,t,l),n=!0},p(r,[l]){r[0].detail?i?(i.p(r,l),l&1&&K(i,1)):(i=Mo(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(nr(),te(i,1,1,()=>{i=null}),ir())},i(r){n||(K(i),n=!0)},o(r){te(i),n=!1},d(r){r&&R(t),i&&i.d(r)}}}function Gs(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:l={}}=t,{offset:o=-35}=t;return e.$$set=a=>{"evt"in a&&n(0,l=a.evt),"offset"in a&&n(1,o=a.offset),"$$scope"in a&&n(2,r=a.$$scope)},[l,o,r,i]}class Os extends Me{constructor(t){super(),Re(this,t,Gs,xs,Ee,{evt:0,offset:1})}}function Fs(e){let t,n,i="The Worst:",r,l=e[1].name+"",o,a=`${e[3][1]+Ro}px`,h=`${e[3][0]}px`,u,f,c,s="The Best:",d,g=e[0].name+"",b,y=`${e[2][1]}px`,w=`${e[2][0]}px`;return{c(){t=W("p"),n=W("strong"),n.textContent=i,r=ae(),o=Q(l),u=ae(),f=W("p"),c=W("strong"),c.textContent=s,d=ae(),b=Q(g),this.h()},l(k){t=U(k,"P",{class:!0});var v=x(t);n=U(v,"STRONG",{"data-svelte-h":!0}),ht(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=fe(v),o=J(v,l),v.forEach(R),u=fe(k),f=U(k,"P",{class:!0});var z=x(f);c=U(z,"STRONG",{"data-svelte-h":!0}),ht(c)!=="svelte-1u2nyi3"&&(c.textContent=s),d=fe(z),b=J(z,g),z.forEach(R),this.h()},h(){m(t,"class","worst svelte-1vzmzh6"),q(t,"top",a),q(t,"left",h),m(f,"class","best svelte-1vzmzh6"),q(f,"top",y),q(f,"left",w)},m(k,v){G(k,t,v),C(t,n),C(t,r),C(t,o),G(k,u,v),G(k,f,v),C(f,c),C(f,d),C(f,b)},p(k,[v]){v&2&&l!==(l=k[1].name+"")&&de(o,l),v&8&&a!==(a=`${k[3][1]+Ro}px`)&&q(t,"top",a),v&8&&h!==(h=`${k[3][0]}px`)&&q(t,"left",h),v&1&&g!==(g=k[0].name+"")&&de(b,g),v&4&&y!==(y=`${k[2][1]}px`)&&q(f,"top",y),v&4&&w!==(w=`${k[2][0]}px`)&&q(f,"left",w)},i:Ie,o:Ie,d(k){k&&(R(t),R(u),R(f))}}}const Ro=25;function Hs(e,t,n){let i,r,l,o,a,h,u,f;const{data:c,width:s,height:d}=Qe("LayerCake");D(e,c,y=>n(10,h=y)),D(e,s,y=>n(12,f=y)),D(e,d,y=>n(11,u=y));let{features:g}=t,{projection:b}=t;return e.$$set=y=>{"features"in y&&n(7,g=y.features),"projection"in y&&n(8,b=y.projection)},e.$$.update=()=>{e.$$.dirty&7424&&n(9,i=b().fitSize([f,u],h)),e.$$.dirty&128&&n(1,r=g[0]),e.$$.dirty&128&&n(0,l=g[g.length-1]),e.$$.dirty&514&&n(3,o=i([r.longitude,r.latitude])),e.$$.dirty&513&&n(2,a=i([l.longitude,l.latitude]))},[l,r,a,o,c,s,d,g,b,i,h,u,f]}class Ws extends Me{constructor(t){super(),Re(this,t,Hs,Fs,Ee,{features:7,projection:8})}}function No(e){const t={...e[14].props};e[15]=t}function Us(e){let t,n;return t=new Is({props:{projection:e[6],fill:"#fff"}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p:Ie,i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function Vs(e){let t,n;return t=new js({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[11]),t.$on("mouseout",e[12]),t.$on("clickedPoint",e[13]),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),r&8&&(l.fillFunction=i[3]),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function Ys(e){let t,n;return t=new Ws({props:{features:e[4],projection:e[6]}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function zo(e){let t,n;return t=new Os({props:{evt:e[1],$$slots:{default:[Xs,({detail:i})=>({14:i}),({detail:i})=>i?16384:0]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.evt=i[1]),r&81920&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function Xs(e){No(e);let t,n=e[15].name+"",i,r,l,o=e[15].bad_air_days+"",a,h;return{c(){t=W("p"),i=Q(n),r=ae(),l=W("p"),a=Q(o),h=Q(" bad air days"),this.h()},l(u){t=U(u,"P",{class:!0});var f=x(t);i=J(f,n),f.forEach(R),r=fe(u),l=U(u,"P",{class:!0});var c=x(l);a=J(c,o),h=J(c," bad air days"),c.forEach(R),this.h()},h(){m(t,"class","name svelte-1q0sbj5"),m(l,"class","days")},m(u,f){G(u,t,f),C(t,i),G(u,r,f),G(u,l,f),C(l,a),C(l,h)},p(u,f){No(u),f&16384&&n!==(n=u[15].name+"")&&de(i,n),f&16384&&o!==(o=u[15].bad_air_days+"")&&de(a,o)},d(u){u&&(R(t),R(r),R(l))}}}function Ks(e){let t,n,i=e[2]!==!0&&zo(e);return{c(){i&&i.c(),t=se()},l(r){i&&i.l(r),t=se()},m(r,l){i&&i.m(r,l),G(r,t,l),n=!0},p(r,l){r[2]!==!0?i?(i.p(r,l),l&4&&K(i,1)):(i=zo(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(nr(),te(i,1,1,()=>{i=null}),ir())},i(r){n||(K(i),n=!0)},o(r){te(i),n=!1},d(r){r&&R(t),i&&i.d(r)}}}function Zs(e){let t,n,i,r,l,o,a,h;return t=new Ou({props:{$$slots:{default:[Us]},$$scope:{ctx:e}}}),i=new _a({props:{$$slots:{default:[Vs]},$$scope:{ctx:e}}}),l=new Ol({props:{pointerEvents:!1,$$slots:{default:[Ys]},$$scope:{ctx:e}}}),a=new Ol({props:{pointerEvents:!1,$$slots:{default:[Ks]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment),n=ae(),me(i.$$.fragment),r=ae(),me(l.$$.fragment),o=ae(),me(a.$$.fragment)},l(u){ye(t.$$.fragment,u),n=fe(u),ye(i.$$.fragment,u),r=fe(u),ye(l.$$.fragment,u),o=fe(u),ye(a.$$.fragment,u)},m(u,f){be(t,u,f),G(u,n,f),be(i,u,f),G(u,r,f),be(l,u,f),G(u,o,f),be(a,u,f),h=!0},p(u,f){const c={};f&65536&&(c.$$scope={dirty:f,ctx:u}),t.$set(c);const s={};f&65567&&(s.$$scope={dirty:f,ctx:u}),i.$set(s);const d={};f&65552&&(d.$$scope={dirty:f,ctx:u}),l.$set(d);const g={};f&65542&&(g.$$scope={dirty:f,ctx:u}),a.$set(g)},i(u){h||(K(t.$$.fragment,u),K(i.$$.fragment,u),K(l.$$.fragment,u),K(a.$$.fragment,u),h=!0)},o(u){te(t.$$.fragment,u),te(i.$$.fragment,u),te(l.$$.fragment,u),te(a.$$.fragment,u),h=!1},d(u){u&&(R(n),R(r),R(o)),pe(t,u),pe(i,u),pe(l,u),pe(a,u)}}}function Qs(e){let t,n,i;return n=new ga({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:ha().clamp(!0),rRange:[1,15],rDomain:[0,365],$$slots:{default:[Zs]},$$scope:{ctx:e}}}),{c(){t=W("div"),me(n.$$.fragment),this.h()},l(r){t=U(r,"DIV",{class:!0});var l=x(t);ye(n.$$.fragment,l),l.forEach(R),this.h()},h(){m(t,"class","container svelte-1q0sbj5")},m(r,l){G(r,t,l),be(n,t,null),i=!0},p(r,[l]){const o={};l&65567&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){te(n.$$.fragment,r),i=!1},d(r){r&&R(t),pe(n)}}}function Js(e,t,n){let i,r,l;D(e,Je,w=>n(0,l=w));let{data:o}=t,{us_states:a}=t,{cbsa_lookup:h}=t,u,f=!0;const c=Vu(a,a.objects.collection),s=Cs,d=c.features.map(w=>w.properties),g=w=>n(1,u=n(2,f=w)),b=()=>n(2,f=!0),y=w=>{const{detail:k}=w,{props:v}=k;X(Je,l={value:v==null?void 0:v.code,label:v==null?void 0:v.name},l)};return e.$$set=w=>{"data"in w&&n(8,o=w.data),"us_states"in w&&n(9,a=w.us_states),"cbsa_lookup"in w&&n(10,h=w.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=o.map(w=>{var k,v;return{...w,latitude:(k=h.get(w.code))==null?void 0:k.latitude,longitude:(v=h.get(w.code))==null?void 0:v.longitude}}).filter(w=>w.latitude).filter(w=>w.longitude)),e.$$.dirty&1&&n(3,r=w=>w.code===l.value?"var(--primary)":"var(--secondary)")},[l,u,f,r,i,c,s,d,o,a,h,g,b,y]}class $s extends Me{constructor(t){super(),Re(this,t,Js,Qs,Ee,{data:8,us_states:9,cbsa_lookup:10})}}function Do(e,t,n){const i=e.slice();return i[8]=t[n].name,i[9]=t[n].code,i[10]=t[n].bad_air_days,i}function Po(e){let t,n,i=e[8]+"",r,l,o=e[10]+"",a,h,u,f;return{c(){t=W("li"),n=W("span"),r=Q(i),l=Q(`
				- `),a=Q(o),h=Q(` days
			`),this.h()},l(c){t=U(c,"LI",{class:!0});var s=x(t);n=U(s,"SPAN",{role:!0,class:!0});var d=x(n);r=J(d,i),d.forEach(R),l=J(s,`
				- `),a=J(s,o),h=J(s,` days
			`),s.forEach(R),this.h()},h(){m(n,"role","button"),m(n,"class","svelte-fe00af"),m(t,"class","svelte-fe00af")},m(c,s){G(c,t,s),C(t,n),C(n,r),C(t,l),C(t,a),C(t,h),u||(f=Se(n,"click",function(){Yr(e[6](e[8],e[9]))&&e[6](e[8],e[9]).apply(this,arguments)}),u=!0)},p(c,s){e=c,s&32&&i!==(i=e[8]+"")&&de(r,i),s&32&&o!==(o=e[10]+"")&&de(a,o)},d(c){c&&R(t),u=!1,f()}}}function ec(e){var Ce,Te,dt;let t,n,i="The 10 Smokiest Places in 2022",r,l,o,a,h,u,f=((Ce=e[2][0])==null?void 0:Ce.name)+"",c,s,d,g=((Te=e[2][0])==null?void 0:Te.bad_air_days)+"",b,y,w,k,v,z,p=((dt=e[3])==null?void 0:dt.label)+"",E,N,T,I=e[4]+1+"",j,P,V=e[2].length+"",A,B,S,M=e[2][e[4]].bad_air_days+"",O,F,$,L,H,oe=je(e[5]),Y=[];for(let ee=0;ee<oe.length;ee+=1)Y[ee]=Po(Do(e,oe,ee));return L=new $s({props:{data:e[2],us_states:e[0],cbsa_lookup:e[1]}}),{c(){t=W("section"),n=W("h2"),n.textContent=i,r=ae(),l=W("ol");for(let ee=0;ee<Y.length;ee+=1)Y[ee].c();o=ae(),a=W("p"),h=Q("In 2022 (our most recent year of data), "),u=W("strong"),c=Q(f),s=Q(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=W("strong"),b=Q(g),y=Q(` days of haze and
		low air quality.`),w=ae(),k=W("p"),v=Q("For comparison, "),z=W("strong"),E=Q(p),N=Q(` ranked number
		`),T=W("strong"),j=Q(I),P=Q(`
			out of `),A=Q(V),B=Q(`
		locations with `),S=W("strong"),O=Q(M),F=Q(`
		low air quality days in 2022.`),$=ae(),me(L.$$.fragment),this.h()},l(ee){t=U(ee,"SECTION",{});var le=x(t);n=U(le,"H2",{"data-svelte-h":!0}),ht(n)!=="svelte-15n9idw"&&(n.textContent=i),r=fe(le),l=U(le,"OL",{class:!0});var Ne=x(l);for(let vt=0;vt<Y.length;vt+=1)Y[vt].l(Ne);Ne.forEach(R),o=fe(le),a=U(le,"P",{class:!0});var Pe=x(a);h=J(Pe,"In 2022 (our most recent year of data), "),u=U(Pe,"STRONG",{});var He=x(u);c=J(He,f),He.forEach(R),s=J(Pe,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=U(Pe,"STRONG",{});var et=x(d);b=J(et,g),et.forEach(R),y=J(Pe,` days of haze and
		low air quality.`),Pe.forEach(R),w=fe(le),k=U(le,"P",{class:!0});var he=x(k);v=J(he,"For comparison, "),z=U(he,"STRONG",{});var tt=x(z);E=J(tt,p),tt.forEach(R),N=J(he,` ranked number
		`),T=U(he,"STRONG",{});var gt=x(T);j=J(gt,I),P=J(gt,`
			out of `),A=J(gt,V),gt.forEach(R),B=J(he,`
		locations with `),S=U(he,"STRONG",{});var Qt=x(S);O=J(Qt,M),Qt.forEach(R),F=J(he,`
		low air quality days in 2022.`),he.forEach(R),$=fe(le),ye(L.$$.fragment,le),le.forEach(R),this.h()},h(){m(l,"class","svelte-fe00af"),m(a,"class","prose"),m(k,"class","prose")},m(ee,le){G(ee,t,le),C(t,n),C(t,r),C(t,l);for(let Ne=0;Ne<Y.length;Ne+=1)Y[Ne]&&Y[Ne].m(l,null);C(t,o),C(t,a),C(a,h),C(a,u),C(u,c),C(a,s),C(a,d),C(d,b),C(a,y),C(t,w),C(t,k),C(k,v),C(k,z),C(z,E),C(k,N),C(k,T),C(T,j),C(T,P),C(T,A),C(k,B),C(k,S),C(S,O),C(k,F),C(t,$),be(L,t,null),H=!0},p(ee,[le]){var Pe,He,et;if(le&96){oe=je(ee[5]);let he;for(he=0;he<oe.length;he+=1){const tt=Do(ee,oe,he);Y[he]?Y[he].p(tt,le):(Y[he]=Po(tt),Y[he].c(),Y[he].m(l,null))}for(;he<Y.length;he+=1)Y[he].d(1);Y.length=oe.length}(!H||le&4)&&f!==(f=((Pe=ee[2][0])==null?void 0:Pe.name)+"")&&de(c,f),(!H||le&4)&&g!==(g=((He=ee[2][0])==null?void 0:He.bad_air_days)+"")&&de(b,g),(!H||le&8)&&p!==(p=((et=ee[3])==null?void 0:et.label)+"")&&de(E,p),(!H||le&16)&&I!==(I=ee[4]+1+"")&&de(j,I),(!H||le&4)&&V!==(V=ee[2].length+"")&&de(A,V),(!H||le&20)&&M!==(M=ee[2][ee[4]].bad_air_days+"")&&de(O,M);const Ne={};le&4&&(Ne.data=ee[2]),le&1&&(Ne.us_states=ee[0]),le&2&&(Ne.cbsa_lookup=ee[1]),L.$set(Ne)},i(ee){H||(K(L.$$.fragment,ee),H=!0)},o(ee){te(L.$$.fragment,ee),H=!1},d(ee){ee&&R(t),tr(Y,ee),pe(L)}}}function tc(e,t,n){let i,r,l,o;D(e,Je,c=>n(3,o=c));let{data:a}=t,{us_states:h}=t,{cbsa_lookup:u}=t;const f=(c,s)=>{X(Je,o={value:s,label:c},o)};return e.$$set=c=>{"data"in c&&n(7,a=c.data),"us_states"in c&&n(0,h=c.us_states),"cbsa_lookup"in c&&n(1,u=c.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&128&&n(2,i=a.filter(c=>c.year===2022).sort((c,s)=>Xr(c.bad_air_days,s.bad_air_days))),e.$$.dirty&4&&n(5,r=i.slice(0,10)),e.$$.dirty&12&&n(4,l=i.findIndex(c=>c["CBSA Code"]===(o==null?void 0:o.value)))},[h,u,i,o,l,r,f,a]}class nc extends Me{constructor(t){super(),Re(this,t,tc,ec,Ee,{data:7,us_states:0,cbsa_lookup:1})}}function Ao(e){let t,n;return{c(){t=we("desc"),n=Q(e[7])},l(i){t=ve(i,"desc",{});var r=x(t);n=J(r,e[7]),r.forEach(R)},m(i,r){G(i,t,r),C(t,n)},p(i,r){r&128&&de(n,i[7])},d(i){i&&R(t)}}}function Co(e){let t,n;return{c(){t=we("title"),n=Q(e[6])},l(i){t=ve(i,"title",{});var r=x(t);n=J(r,e[6]),r.forEach(R)},m(i,r){G(i,t,r),C(t,n)},p(i,r){r&64&&de(n,i[6])},d(i){i&&R(t)}}}function ic(e){let t,n,i,r=e[7]&&Ao(e),l=e[6]&&Co(e);return{c(){t=we("svg"),r&&r.c(),n=se(),l&&l.c(),i=we("path"),this.h()},l(o){t=ve(o,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var a=x(t);r&&r.l(a),n=se(),l&&l.l(a),i=ve(a,"path",{d:!0,fill:!0}),x(i).forEach(R),a.forEach(R),this.h()},h(){m(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),m(i,"fill",e[2]),m(t,"viewBox",e[3]),m(t,"width",e[0]),m(t,"height",e[1]),m(t,"class",e[8]),m(t,"aria-label",e[4]),m(t,"aria-hidden",e[5])},m(o,a){G(o,t,a),r&&r.m(t,null),C(t,n),l&&l.m(t,null),C(t,i)},p(o,[a]){o[7]?r?r.p(o,a):(r=Ao(o),r.c(),r.m(t,n)):r&&(r.d(1),r=null),o[6]?l?l.p(o,a):(l=Co(o),l.c(),l.m(t,i)):l&&(l.d(1),l=null),a&4&&m(i,"fill",o[2]),a&8&&m(t,"viewBox",o[3]),a&1&&m(t,"width",o[0]),a&2&&m(t,"height",o[1]),a&256&&m(t,"class",o[8]),a&16&&m(t,"aria-label",o[4]),a&32&&m(t,"aria-hidden",o[5])},i:Ie,o:Ie,d(o){o&&R(t),r&&r.d(),l&&l.d()}}}function rc(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:l=i}=t,{color:o="currentColor"}=t,{viewBox:a="0 0 24 24"}=t,{ariaLabel:h=void 0}=t,{ariaHidden:u=void 0}=t,{title:f=void 0}=t,{desc:c=void 0}=t,{class:s=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,l=d.height),"color"in d&&n(2,o=d.color),"viewBox"in d&&n(3,a=d.viewBox),"ariaLabel"in d&&n(4,h=d.ariaLabel),"ariaHidden"in d&&n(5,u=d.ariaHidden),"title"in d&&n(6,f=d.title),"desc"in d&&n(7,c=d.desc),"class"in d&&n(8,s=d.class)},[r,l,o,a,h,u,f,c,s,i]}class lc extends Me{constructor(t){super(),Re(this,t,rc,ic,Ee,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function To(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i[35]=t,i[36]=n,i}function Io(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i}function Lo(e){let t,n=e[33]+"",i,r;return{c(){t=W("option"),i=Q(n),this.h()},l(l){t=U(l,"OPTION",{});var o=x(t);i=J(o,n),o.forEach(R),this.h()},h(){t.__value=r=e[34],ji(t,t.__value)},m(l,o){G(l,t,o),C(t,i)},p(l,o){o[0]&2&&n!==(n=l[33]+"")&&de(i,n),o[0]&2&&r!==(r=l[34])&&(t.__value=r,ji(t,t.__value))},d(l){l&&R(t)}}}function oc(e){let t,n="Sorry, no options match";return{c(){t=W("li"),t.textContent=n,this.h()},l(i){t=U(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),ht(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){m(t,"class","disabled svelte-13q4pje"),m(t,"tabindex","-1")},m(i,r){G(i,t,r)},p:Ie,d(i){i&&R(t)}}}function ac(e){let t,n=je(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Bo(To(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=se()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=se()},m(r,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,l);G(r,t,l)},p(r,l){if(l[0]&798784){n=je(r[6]);let o;for(o=0;o<n.length;o+=1){const a=To(r,n,o);i[o]?i[o].p(a,l):(i[o]=Bo(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(r){r&&R(t),tr(i,r)}}}function Bo(e){let t,n=e[33]+"",i,r,l,o,a=e[36],h,u;const f=()=>e[27](t,a),c=()=>e[27](null,a);function s(){return e[28](e[34],e[33])}function d(...g){return e[29](e[34],e[33],...g)}return{c(){t=W("li"),i=Q(n),r=ae(),this.h()},l(g){t=U(g,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var b=x(t);i=J(b,n),r=fe(b),b.forEach(R),this.h()},h(){m(t,"role","option"),m(t,"tabindex","-1"),m(t,"aria-selected",l=e[36]===e[13]),m(t,"data-option-value",o=e[34]),m(t,"id",`autocomplete_${e[36]}`),m(t,"class","svelte-13q4pje")},m(g,b){G(g,t,b),C(t,i),C(t,r),f(),h||(u=[Se(t,"click",s),Se(t,"keydown",d)],h=!0)},p(g,b){e=g,b[0]&64&&n!==(n=e[33]+"")&&de(i,n),b[0]&8192&&l!==(l=e[36]===e[13])&&m(t,"aria-selected",l),b[0]&64&&o!==(o=e[34])&&m(t,"data-option-value",o),a!==e[36]&&(c(),a=e[36],f())},d(g){g&&R(t),c(),h=!1,Tn(u)}}}function jo(e){let t,n,i,r,l;return n=new lc({props:{width:"16px",height:"16px"}}),{c(){t=W("button"),me(n.$$.fragment),this.h()},l(o){t=U(o,"BUTTON",{"aria-label":!0,class:!0});var a=x(t);ye(n.$$.fragment,a),a.forEach(R),this.h()},h(){m(t,"aria-label","clear autocomplete search"),m(t,"class","svelte-13q4pje")},m(o,a){G(o,t,a),be(n,t,null),i=!0,r||(l=Se(t,"click",e[22]),r=!0)},p:Ie,i(o){i||(K(n.$$.fragment,o),i=!0)},o(o){te(n.$$.fragment,o),i=!1},d(o){o&&R(t),pe(n),r=!1,l()}}}function fc(e){let t,n,i,r,l,o,a,h,u,f,c,s,d,g,b,y,w,k,v,z,p,E,N,T,I=je(e[1]),j=[];for(let S=0;S<I.length;S+=1)j[S]=Lo(Io(e,I,S));function P(S,M){return S[6].length?ac:oc}let V=P(e),A=V(e),B=e[4]===!0&&e[8]&&e[8].length&&jo(e);return{c(){t=W("div"),n=W("label"),i=W("span"),r=Q(e[2]),o=ae(),a=W("select");for(let S=0;S<j.length;S+=1)j[S].c();h=ae(),u=W("div"),f=W("input"),d=ae(),g=W("ul"),A.c(),y=ae(),w=W("div"),k=Q(e[7]),v=Q(" results available"),z=ae(),B&&B.c(),this.h()},l(S){t=U(S,"DIV",{class:!0,style:!0,id:!0});var M=x(t);n=U(M,"LABEL",{for:!0,class:!0});var O=x(n);i=U(O,"SPAN",{class:!0});var F=x(i);r=J(F,e[2]),F.forEach(R),O.forEach(R),o=fe(M),a=U(M,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var $=x(a);for(let Y=0;Y<j.length;Y+=1)j[Y].l($);$.forEach(R),h=fe(M),u=U(M,"DIV",{class:!0});var L=x(u);f=U(L,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=fe(L),g=U(L,"UL",{id:!0,role:!0,class:!0});var H=x(g);A.l(H),H.forEach(R),y=fe(L),w=U(L,"DIV",{"aria-live":!0,role:!0,class:!0});var oe=x(w);k=J(oe,e[7]),v=J(oe," results available"),oe.forEach(R),z=fe(L),B&&B.l(L),L.forEach(R),M.forEach(R),this.h()},h(){m(i,"class","field-label"),m(n,"for",l=`${e[14]}-${e[2]}`),m(n,"class","svelte-13q4pje"),Wt(n,"offset",e[9]||e[0]&&e[0].length||e[10]),m(a,"name",e[2]),m(a,"aria-hidden","true"),m(a,"tabindex","-1"),m(a,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&Xo(()=>e[24].call(a)),m(f,"aria-controls",c=`autocomplete-options--${e[14]}-${e[2]}`),m(f,"autocapitalize","none"),m(f,"type","text"),m(f,"autocomplete","off"),m(f,"aria-autocomplete","list"),m(f,"role","combobox"),m(f,"id",s=`${e[14]}-${e[2]}`),m(f,"aria-expanded","false"),m(f,"name",`autocomplete-${e[14]}`),m(f,"class","svelte-13q4pje"),m(g,"id",b=`autocomplete-options--${e[14]}-${e[2]}`),m(g,"role","listbox"),m(g,"class","svelte-13q4pje"),Wt(g,"hidden",!e[9]),m(w,"aria-live","polite"),m(w,"role","status"),m(w,"class","visually-hidden svelte-13q4pje"),m(u,"class","autocomplete svelte-13q4pje"),m(t,"class","field svelte-13q4pje"),q(t,"font-size",e[3]+"px"),m(t,"id",p=`field-${e[14]}-${e[2]}`),q(t,"flex",e[5]?"1 1 auto":"auto")},m(S,M){G(S,t,M),C(t,n),C(n,i),C(i,r),C(t,o),C(t,a);for(let O=0;O<j.length;O+=1)j[O]&&j[O].m(a,null);ml(a,e[0],!0),C(t,h),C(t,u),C(u,f),ji(f,e[8]),e[26](f),C(u,d),C(u,g),A.m(g,null),C(u,y),C(u,w),C(w,k),C(w,v),C(u,z),B&&B.m(u,null),E=!0,N||(T=[Se(window,"click",e[21]),Se(a,"change",e[24]),Se(f,"keyup",e[15]),Se(f,"keydown",e[16]),Se(f,"focus",e[17]),Se(f,"blur",function(){Yr(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),Se(f,"input",e[25]),Se(f,"click",e[20])],N=!0)},p(S,M){if(e=S,(!E||M[0]&4)&&de(r,e[2]),(!E||M[0]&4&&l!==(l=`${e[14]}-${e[2]}`))&&m(n,"for",l),(!E||M[0]&1537)&&Wt(n,"offset",e[9]||e[0]&&e[0].length||e[10]),M[0]&2){I=je(e[1]);let F;for(F=0;F<I.length;F+=1){const $=Io(e,I,F);j[F]?j[F].p($,M):(j[F]=Lo($),j[F].c(),j[F].m(a,null))}for(;F<j.length;F+=1)j[F].d(1);j.length=I.length}(!E||M[0]&4)&&m(a,"name",e[2]),M[0]&3&&ml(a,e[0]),(!E||M[0]&4&&c!==(c=`autocomplete-options--${e[14]}-${e[2]}`))&&m(f,"aria-controls",c),(!E||M[0]&4&&s!==(s=`${e[14]}-${e[2]}`))&&m(f,"id",s),M[0]&256&&f.value!==e[8]&&ji(f,e[8]),V===(V=P(e))&&A?A.p(e,M):(A.d(1),A=V(e),A&&(A.c(),A.m(g,null))),(!E||M[0]&4&&b!==(b=`autocomplete-options--${e[14]}-${e[2]}`))&&m(g,"id",b),(!E||M[0]&512)&&Wt(g,"hidden",!e[9]),(!E||M[0]&128)&&de(k,e[7]),e[4]===!0&&e[8]&&e[8].length?B?(B.p(e,M),M[0]&272&&K(B,1)):(B=jo(e),B.c(),K(B,1),B.m(u,null)):B&&(nr(),te(B,1,1,()=>{B=null}),ir()),(!E||M[0]&8)&&q(t,"font-size",e[3]+"px"),(!E||M[0]&4&&p!==(p=`field-${e[14]}-${e[2]}`))&&m(t,"id",p),(M[0]&8||M[0]&40)&&q(t,"flex",e[5]?"1 1 auto":"auto")},i(S){E||(K(B),E=!0)},o(S){te(B),E=!1},d(S){S&&R(t),tr(j,S),e[26](null),A.d(),B&&B.d(),N=!1,Tn(T)}}}function uc(e,t,n){let i;D(e,Je,L=>n(31,i=L));let{data:r}=t,{name:l}=t,{fontSize:o=16}=t,{selected:a=""}=t,{clearButton:h=!0}=t,{manualSelection:u={}}=t,{inline:f=!1}=t,c=r.sort((L,H)=>zn(L.label,H.label)),s=Math.floor(Math.random()*100),d=c.length,g=a,b=!1,y=!1,w,k=[],v,z=!0;const p=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function E(L){!p.includes(L.key)&&g&&g.length&&(n(6,c=r.filter(H=>(console.log({label:H.label}),H.label.toLowerCase().includes(g.toLowerCase())))),n(9,b=!0),n(7,d=c.length)),L.key==="Tab"&&n(9,b=!1),L.key==="ArrowDown"&&c&&c.length&&(n(9,b=!0),n(13,v=0),k[0].focus())}function N(L){L.key==="Tab"&&n(9,b=!1),g&&g.length===1&&L.key==="Backspace"&&(n(6,c=r),n(0,a="")),L.key==="Escape"&&n(9,b=!1)}function T(){n(10,y=!0)}function I(L,H){n(0,a=L),n(8,g=H),n(9,b=!1),w.focus(),X(Je,i={value:L,label:H},i)}function j(L,H,oe){const Y=L.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(Y)?(Y==="Enter"&&(I(H,oe),z=!1),Y==="ArrowDown"&&c&&c.length&&(n(13,v=v<c.length-1?v+1:c.length-1),k[v].focus(),z=!0),Y==="Escape"&&(n(9,b=!1),w.focus()),Y==="ArrowUp"&&v===0?(w.focus(),n(13,v=null),z=!0):Y==="ArrowUp"&&v!=0&&(n(13,v-=1),k[v].focus(),z=!0)):z=!1,z===!0&&L.preventDefault()}function P(){n(8,g=""),n(23,u={}),n(9,b=!0),n(6,c=r),n(13,v=null)}function V(L){const H=L.target;H!=w&&!k.includes(H)&&n(9,b=!1)}function A(){n(8,g=""),n(0,a=""),n(23,u={})}function B(){a=Wa(this),n(0,a),n(23,u),n(1,r)}function S(){g=this.value,n(8,g),n(23,u),n(0,a)}function M(L){ct[L?"unshift":"push"](()=>{w=L,n(11,w)})}function O(L,H){ct[L?"unshift":"push"](()=>{k[H]=L,n(12,k)})}const F=(L,H)=>{I(L,H)},$=(L,H,oe)=>j(oe,L,H);return e.$$set=L=>{"data"in L&&n(1,r=L.data),"name"in L&&n(2,l=L.name),"fontSize"in L&&n(3,o=L.fontSize),"selected"in L&&n(0,a=L.selected),"clearButton"in L&&n(4,h=L.clearButton),"manualSelection"in L&&n(23,u=L.manualSelection),"inline"in L&&n(5,f=L.inline)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(n(0,a=u.value),n(8,g=u.label)),e.$$.dirty[0]&1&&a===""&&n(8,g="")},[a,r,l,o,h,f,c,d,g,b,y,w,k,v,s,E,N,T,I,j,P,V,A,u,B,S,M,O,F,$]}class sc extends Me{constructor(t){super(),Re(this,t,uc,fc,Ee,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5},null,[-1,-1])}}function cc(e){let t,n,i,r,l,o,a,h,u=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,f,c,s=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function g(y){e[4](y)}let b={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35"};return e[1]!==void 0&&(b.selected=e[1]),l=new sc({props:b}),ct.push(()=>Va(l,"selected",g)),{c(){t=W("section"),n=W("div"),i=W("h1"),r=Q("Smoke in "),me(l.$$.fragment),a=ae(),h=W("p"),h.textContent=u,f=ae(),c=W("p"),c.textContent=s,this.h()},l(y){t=U(y,"SECTION",{});var w=x(t);n=U(w,"DIV",{class:!0});var k=x(n);i=U(k,"H1",{class:!0});var v=x(i);r=J(v,"Smoke in "),ye(l.$$.fragment,v),v.forEach(R),k.forEach(R),a=fe(w),h=U(w,"P",{class:!0,"data-svelte-h":!0}),ht(h)!=="svelte-1ieckh9"&&(h.textContent=u),f=fe(w),c=U(w,"P",{class:!0,"data-svelte-h":!0}),ht(c)!=="svelte-18rohxi"&&(c.textContent=s),w.forEach(R),this.h()},h(){m(i,"class","svelte-1acsj2x"),m(n,"class","inline svelte-1acsj2x"),m(h,"class","prose"),m(c,"class","prose")},m(y,w){G(y,t,w),C(t,n),C(n,i),C(i,r),be(l,i,null),C(t,a),C(t,h),C(t,f),C(t,c),d=!0},p(y,[w]){const k={};w&1&&(k.data=y[0]),w&4&&(k.manualSelection=y[2]),!o&&w&2&&(o=!0,k.selected=y[1],Ua(()=>o=!1)),l.$set(k)},i(y){d||(K(l.$$.fragment,y),d=!0)},o(y){te(l.$$.fragment,y),d=!1},d(y){y&&R(t),pe(l)}}}function hc(e,t,n){let i,r;D(e,Je,h=>n(2,r=h));let{data:l}=t,o;function a(h){o=h,n(1,o)}return e.$$set=h=>{"data"in h&&n(3,l=h.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(l.map(h=>JSON.stringify([h.name,h.code])))).map(h=>JSON.parse(h)).map(h=>({value:h[1],label:h[0]})).filter(h=>h.label)),e.$$.dirty&1&&new Map(i)},[i,o,r,l,a]}class dc extends Me{constructor(t){super(),Re(this,t,hc,cc,Ee,{data:3})}}function qo(e,t,n){const i=e.slice();i[26]=t[n],i[33]=n;const r=i[6](i[26]);i[27]=r;const l=i[5](i[26]);i[28]=l;const o=Array.isArray(i[28])?i[28][0]:i[28];i[29]=o;const a=i[9].bandwidth?i[9].bandwidth():i[7](i[26]);i[30]=a;const h=i[10](i[26]);return i[31]=h,i}function xo(e){let t,n=e[31]+"",i,r,l;return{c(){t=we("text"),i=Q(n),this.h()},l(o){t=ve(o,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var a=x(t);i=J(a,n),a.forEach(R),this.h()},h(){m(t,"x",r=e[29]+e[30]/2),m(t,"y",l=e[12]-e[27]-5),m(t,"text-anchor","middle"),m(t,"class","svelte-gs7zwh")},m(o,a){G(o,t,a),C(t,i)},p(o,a){a[0]&1280&&n!==(n=o[31]+"")&&de(i,n),a[0]&928&&r!==(r=o[29]+o[30]/2)&&m(t,"x",r),a[0]&4416&&l!==(l=o[12]-o[27]-5)&&m(t,"y",l)},d(o){o&&R(t)}}}function Go(e){let t,n,i,r,l,o,a,h,u,f=e[3]&&e[31]&&xo(e);return{c(){t=we("rect"),f&&f.c(),u=se(),this.h()},l(c){t=ve(c,"rect",{class:!0,"data-id":!0,"data-range":!0,"data-count":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),x(t).forEach(R),f&&f.l(c),u=se(),this.h()},h(){m(t,"class","group-rect"),m(t,"data-id",e[33]),m(t,"data-range",n=e[11](e[26])),m(t,"data-count",i=e[31]),m(t,"x",r=e[29]),m(t,"y",l=e[4](e[26])),m(t,"width",o=e[30]),m(t,"height",a=e[27]),m(t,"fill",h=e[0](e[26])),m(t,"stroke",e[1]),m(t,"stroke-width",e[2])},m(c,s){G(c,t,s),f&&f.m(c,s),G(c,u,s)},p(c,s){s[0]&2304&&n!==(n=c[11](c[26]))&&m(t,"data-range",n),s[0]&1280&&i!==(i=c[31])&&m(t,"data-count",i),s[0]&288&&r!==(r=c[29])&&m(t,"x",r),s[0]&272&&l!==(l=c[4](c[26]))&&m(t,"y",l),s[0]&896&&o!==(o=c[30])&&m(t,"width",o),s[0]&320&&a!==(a=c[27])&&m(t,"height",a),s[0]&257&&h!==(h=c[0](c[26]))&&m(t,"fill",h),s[0]&2&&m(t,"stroke",c[1]),s[0]&4&&m(t,"stroke-width",c[2]),c[3]&&c[31]?f?f.p(c,s):(f=xo(c),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(c){c&&(R(t),R(u)),f&&f.d(c)}}}function gc(e){let t,n=je(e[8]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Go(qo(e,n,r));return{c(){t=we("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=ve(r,"g",{class:!0});var l=x(t);for(let o=0;o<i.length;o+=1)i[o].l(l);l.forEach(R),this.h()},h(){m(t,"class","column-group")},m(r,l){G(r,t,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(r,l){if(l[0]&8191){n=je(r[8]);let o;for(o=0;o<n.length;o+=1){const a=qo(r,n,o);i[o]?i[o].p(a,l):(i[o]=Go(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:Ie,o:Ie,d(r){r&&R(t),tr(i,r)}}}function _c(e,t,n){let i,r,l,o,a,h,u,f,c,s;const{data:d,xGet:g,yGet:b,x:y,yRange:w,xScale:k,y:v,height:z,zGet:p,zScale:E,z:N}=Qe("LayerCake");D(e,d,A=>n(8,h=A)),D(e,g,A=>n(5,a=A)),D(e,b,A=>n(4,l=A)),D(e,y,A=>n(11,c=A)),D(e,w,A=>n(22,o=A)),D(e,k,A=>n(9,u=A)),D(e,v,A=>n(10,f=A)),D(e,z,A=>n(12,s=A));let{fill:T="#00e047"}=t,{fillFunction:I=A=>A}=t,{stroke:j="#000"}=t,{strokeWidth:P=0}=t,{showLabels:V=!1}=t;return e.$$set=A=>{"fill"in A&&n(21,T=A.fill),"fillFunction"in A&&n(0,I=A.fillFunction),"stroke"in A&&n(1,j=A.stroke),"strokeWidth"in A&&n(2,P=A.strokeWidth),"showLabels"in A&&n(3,V=A.showLabels)},e.$$.update=()=>{e.$$.dirty[0]&32&&n(7,i=A=>{const B=a(A);return Math.abs(B[1]-B[0])}),e.$$.dirty[0]&4194320&&n(6,r=A=>o[0]-l(A))},[I,j,P,V,l,a,r,i,h,u,f,c,s,d,g,b,y,w,k,v,z,T,o]}class mc extends Me{constructor(t){super(),Re(this,t,_c,gc,Ee,{fill:21,fillFunction:0,stroke:1,strokeWidth:2,showLabels:3},null,[-1,-1])}}function Oo(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function Fo(e){let t,n;return{c(){t=we("line"),this.h()},l(i){t=ve(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(t).forEach(R),this.h()},h(){m(t,"class","gridline svelte-1g0eosv"),m(t,"y1",n=e[11]*-1),m(t,"y2","0"),m(t,"x1","0"),m(t,"x2","0")},m(i,r){G(i,t,r)},p(i,r){r&2048&&n!==(n=i[11]*-1)&&m(t,"y1",n)},d(i){i&&R(t)}}}function Ho(e){let t,n,i;return{c(){t=we("line"),this.h()},l(r){t=ve(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(t).forEach(R),this.h()},h(){m(t,"class","tick-mark svelte-1g0eosv"),m(t,"y1",0),m(t,"y2",6),m(t,"x1",n=e[7]?e[8].bandwidth()/2:0),m(t,"x2",i=e[7]?e[8].bandwidth()/2:0)},m(r,l){G(r,t,l)},p(r,l){l&384&&n!==(n=r[7]?r[8].bandwidth()/2:0)&&m(t,"x1",n),l&384&&i!==(i=r[7]?r[8].bandwidth()/2:0)&&m(t,"x2",i)},d(r){r&&R(t)}}}function Wo(e,t){let n,i,r,l=t[4](t[20])+"",o,a,h,u,f,c=t[0]!==!1&&Fo(t),s=t[1]===!0&&Ho(t);return{key:e,first:null,c(){n=we("g"),c&&c.c(),i=se(),s&&s.c(),r=we("text"),o=Q(l),this.h()},l(d){n=ve(d,"g",{class:!0,transform:!0});var g=x(n);c&&c.l(g),i=se(),s&&s.l(g),r=ve(g,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var b=x(r);o=J(b,l),b.forEach(R),g.forEach(R),this.h()},h(){m(r,"x",a=t[7]?t[8].bandwidth()/2+t[5]:t[5]),m(r,"y",t[6]),m(r,"dx",""),m(r,"dy",""),m(r,"text-anchor",h=t[17](t[22])),m(r,"class","svelte-1g0eosv"),m(n,"class",u="tick tick-"+t[22]+" svelte-1g0eosv"),m(n,"transform",f="translate("+t[8](t[20])+","+Math.max(...t[10])+")"),this.first=n},m(d,g){G(d,n,g),c&&c.m(n,null),C(n,i),s&&s.m(n,null),C(n,r),C(r,o)},p(d,g){t=d,t[0]!==!1?c?c.p(t,g):(c=Fo(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),t[1]===!0?s?s.p(t,g):(s=Ho(t),s.c(),s.m(n,r)):s&&(s.d(1),s=null),g&528&&l!==(l=t[4](t[20])+"")&&de(o,l),g&416&&a!==(a=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&m(r,"x",a),g&64&&m(r,"y",t[6]),g&512&&h!==(h=t[17](t[22]))&&m(r,"text-anchor",h),g&512&&u!==(u="tick tick-"+t[22]+" svelte-1g0eosv")&&m(n,"class",u),g&1792&&f!==(f="translate("+t[8](t[20])+","+Math.max(...t[10])+")")&&m(n,"transform",f)},d(d){d&&R(n),c&&c.d(),s&&s.d()}}}function Uo(e){let t,n,i;return{c(){t=we("line"),this.h()},l(r){t=ve(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),x(t).forEach(R),this.h()},h(){m(t,"class","baseline svelte-1g0eosv"),m(t,"y1",n=e[11]+.5),m(t,"y2",i=e[11]+.5),m(t,"x1","0"),m(t,"x2",e[12])},m(r,l){G(r,t,l)},p(r,l){l&2048&&n!==(n=r[11]+.5)&&m(t,"y1",n),l&2048&&i!==(i=r[11]+.5)&&m(t,"y2",i),l&4096&&m(t,"x2",r[12])},d(r){r&&R(t)}}}function yc(e){let t,n=[],i=new Map,r,l=je(e[9]);const o=h=>h[20];for(let h=0;h<l.length;h+=1){let u=Oo(e,l,h),f=o(u);i.set(f,n[h]=Wo(f,u))}let a=e[2]===!0&&Uo(e);return{c(){t=we("g");for(let h=0;h<n.length;h+=1)n[h].c();r=se(),a&&a.c(),this.h()},l(h){t=ve(h,"g",{class:!0});var u=x(t);for(let f=0;f<n.length;f+=1)n[f].l(u);r=se(),a&&a.l(u),u.forEach(R),this.h()},h(){m(t,"class","axis x-axis svelte-1g0eosv"),Wt(t,"snapTicks",e[3])},m(h,u){G(h,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);C(t,r),a&&a.m(t,null)},p(h,[u]){u&135155&&(l=je(h[9]),n=Zo(n,u,o,1,h,l,i,t,Ko,Wo,r,Oo)),h[2]===!0?a?a.p(h,u):(a=Uo(h),a.c(),a.m(t,null)):a&&(a.d(1),a=null),u&8&&Wt(t,"snapTicks",h[3])},i:Ie,o:Ie,d(h){h&&R(t);for(let u=0;u<n.length;u+=1)n[u].d();a&&a.d()}}}function bc(e,t,n){let i,r,l,o,a,h;const{width:u,height:f,xScale:c,yRange:s,xReverse:d}=Qe("LayerCake");D(e,u,N=>n(12,h=N)),D(e,f,N=>n(11,a=N)),D(e,c,N=>n(8,l=N)),D(e,s,N=>n(10,o=N));let{gridlines:g=!0}=t,{tickMarks:b=!1}=t,{baseline:y=!1}=t,{snapTicks:w=!1}=t,{formatTick:k=N=>N}=t,{ticks:v=void 0}=t,{xTick:z=0}=t,{yTick:p=16}=t;function E(N){if(w===!0)if(d===!1){if(N===0)return"start";if(N===r.length-1)return"end"}else{if(N===0)return"end";if(N===r.length-1)return"start"}return"middle"}return e.$$set=N=>{"gridlines"in N&&n(0,g=N.gridlines),"tickMarks"in N&&n(1,b=N.tickMarks),"baseline"in N&&n(2,y=N.baseline),"snapTicks"in N&&n(3,w=N.snapTicks),"formatTick"in N&&n(4,k=N.formatTick),"ticks"in N&&n(18,v=N.ticks),"xTick"in N&&n(5,z=N.xTick),"yTick"in N&&n(6,p=N.yTick)},e.$$.update=()=>{e.$$.dirty&256&&n(7,i=typeof l.bandwidth=="function"),e.$$.dirty&262528&&n(9,r=Array.isArray(v)?v:i?l.domain():typeof v=="function"?v(l.ticks()):l.ticks(v))},[g,b,y,w,k,z,p,i,l,r,o,a,h,u,f,c,s,E,v]}class pc extends Me{constructor(t){super(),Re(this,t,bc,yc,Ee,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function wc(e){let t,n,i,r;return t=new mc({props:{fillFunction:e[1]}}),i=new pc({props:{gridlines:!1,ticks:e[2],tickMarks:!0}}),{c(){me(t.$$.fragment),n=ae(),me(i.$$.fragment)},l(l){ye(t.$$.fragment,l),n=fe(l),ye(i.$$.fragment,l)},m(l,o){be(t,l,o),G(l,n,o),be(i,l,o),r=!0},p(l,o){const a={};o&2&&(a.fillFunction=l[1]),t.$set(a);const h={};o&4&&(h.ticks=l[2]),i.$set(h)},i(l){r||(K(t.$$.fragment,l),K(i.$$.fragment,l),r=!0)},o(l){te(t.$$.fragment,l),te(i.$$.fragment,l),r=!1},d(l){l&&R(n),pe(t,l),pe(i,l)}}}function vc(e){let t,n;return t=new _a({props:{$$slots:{default:[wc]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&38&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function kc(e){let t,n,i;return n=new ga({props:{padding:{top:0,right:40,bottom:20,left:70},x:Sc,y:Ec,xScale:ta().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xReverse:!0,$$slots:{default:[vc]},$$scope:{ctx:e}}}),{c(){t=W("div"),me(n.$$.fragment),this.h()},l(r){t=U(r,"DIV",{class:!0});var l=x(t);ye(n.$$.fragment,l),l.forEach(R),this.h()},h(){m(t,"class","chart-container svelte-1s4q9ue")},m(r,l){G(r,t,l),be(n,t,null),i=!0},p(r,[l]){const o={};l&1&&(o.data=r[0]),l&38&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){te(n.$$.fragment,r),i=!1},d(r){r&&R(t),pe(n)}}}const Sc="name",Ec="bad_air_days";function Mc(e,t,n){let i,r,l;D(e,Je,h=>n(4,l=h));let{data:o}=t,{index_of_selected:a}=t;return e.$$set=h=>{"data"in h&&n(0,o=h.data),"index_of_selected"in h&&n(3,a=h.index_of_selected)},e.$$.update=()=>{e.$$.dirty&25&&(a>o.length/2?n(2,i=[l.label,o[0].name]):n(2,i=[l.label,o[o.length-1].name])),e.$$.dirty&16&&n(1,r=h=>h.code===l.value?"var(--primary)":"var(--secondary)")},n(2,i=[]),[o,r,i,a,l]}class Rc extends Me{constructor(t){super(),Re(this,t,Mc,kc,Ee,{data:0,index_of_selected:3})}}function Nc(e){let t,n,i='<h2 class="svelte-887ig8">Is this typical?</h2> <p class="subtitle svelte-887ig8">You be the judge.</p>',r,l,o,a="2022",h,u,f=e[0][e[1]].name+"",c,s,d=e[0][e[1]].bad_air_days+"",g,b,y,w,k,v,z;return w=new Rc({props:{data:e[0],index_of_selected:e[1]}}),{c(){t=W("section"),n=W("div"),n.innerHTML=i,r=ae(),l=W("div"),o=W("h3"),o.textContent=a,h=ae(),u=W("p"),c=Q(f),s=Q(" experienced "),g=Q(d),b=Q(" with bad air quality."),y=ae(),me(w.$$.fragment),k=ae(),v=W("div"),this.h()},l(p){t=U(p,"SECTION",{class:!0});var E=x(t);n=U(E,"DIV",{class:!0,"data-svelte-h":!0}),ht(n)!=="svelte-1wgwpos"&&(n.innerHTML=i),r=fe(E),l=U(E,"DIV",{class:!0});var N=x(l);o=U(N,"H3",{class:!0,"data-svelte-h":!0}),ht(o)!=="svelte-1rc7x6b"&&(o.textContent=a),h=fe(N),u=U(N,"P",{class:!0});var T=x(u);c=J(T,f),s=J(T," experienced "),g=J(T,d),b=J(T," with bad air quality."),T.forEach(R),y=fe(N),ye(w.$$.fragment,N),N.forEach(R),k=fe(E),v=U(E,"DIV",{class:!0}),x(v).forEach(R),E.forEach(R),this.h()},h(){m(n,"class","contents svelte-887ig8"),m(o,"class","rail svelte-887ig8"),m(u,"class","prose"),m(l,"class","latest block svelte-887ig8"),m(v,"class","past block svelte-887ig8"),m(t,"class","svelte-887ig8")},m(p,E){G(p,t,E),C(t,n),C(t,r),C(t,l),C(l,o),C(l,h),C(l,u),C(u,c),C(u,s),C(u,g),C(u,b),C(l,y),be(w,l,null),C(t,k),C(t,v),z=!0},p(p,[E]){(!z||E&3)&&f!==(f=p[0][p[1]].name+"")&&de(c,f),(!z||E&3)&&d!==(d=p[0][p[1]].bad_air_days+"")&&de(g,d);const N={};E&1&&(N.data=p[0]),E&2&&(N.index_of_selected=p[1]),w.$set(N)},i(p){z||(K(w.$$.fragment,p),z=!0)},o(p){te(w.$$.fragment,p),z=!1},d(p){p&&R(t),pe(w)}}}function zc(e,t,n){let{latestData:i}=t,{allData:r}=t,{index_of_selected:l}=t;return e.$$set=o=>{"latestData"in o&&n(0,i=o.latestData),"allData"in o&&n(2,r=o.allData),"index_of_selected"in o&&n(1,l=o.index_of_selected)},[i,l,r]}class Dc extends Me{constructor(t){super(),Re(this,t,zc,Nc,Ee,{latestData:0,allData:2,index_of_selected:1})}}function Pc(e){let t,n,i,r,l,o;return t=new dc({props:{data:e[0]}}),i=new nc({props:{data:e[1],us_states:e[4],cbsa_lookup:e[2],index_of_selected:e[3]}}),l=new Dc({props:{latestData:e[0],allData:e[1],index_of_selected:e[3]}}),{c(){me(t.$$.fragment),n=ae(),me(i.$$.fragment),r=ae(),me(l.$$.fragment)},l(a){ye(t.$$.fragment,a),n=fe(a),ye(i.$$.fragment,a),r=fe(a),ye(l.$$.fragment,a)},m(a,h){be(t,a,h),G(a,n,h),be(i,a,h),G(a,r,h),be(l,a,h),o=!0},p(a,[h]){const u={};h&1&&(u.data=a[0]),t.$set(u);const f={};h&2&&(f.data=a[1]),h&16&&(f.us_states=a[4]),h&4&&(f.cbsa_lookup=a[2]),h&8&&(f.index_of_selected=a[3]),i.$set(f);const c={};h&1&&(c.latestData=a[0]),h&2&&(c.allData=a[1]),h&8&&(c.index_of_selected=a[3]),l.$set(c)},i(a){o||(K(t.$$.fragment,a),K(i.$$.fragment,a),K(l.$$.fragment,a),o=!0)},o(a){te(t.$$.fragment,a),te(i.$$.fragment,a),te(l.$$.fragment,a),o=!1},d(a){a&&(R(n),R(r)),pe(t,a),pe(i,a),pe(l,a)}}}function Ac(e,t,n){let i,r,l,o,a,h,u,f;D(e,Je,s=>n(8,f=s));let{data:c}=t;return e.$$set=s=>{"data"in s&&n(5,c=s.data)},e.$$.update=()=>{e.$$.dirty&32&&n(6,{city_data:i,cbsa:r,us_states:l}=c,i,(n(7,r),n(5,c)),(n(4,l),n(5,c))),e.$$.dirty&128&&n(2,o=new Map(r.map(s=>[s.GEOID,{name:s.NAME,latitude:+s.latitude,longitude:+s.longitude}]))),e.$$.dirty&68&&n(1,a=i.map(s=>{var d;return{...s,year:+s.year,bad_air_days:+s.n,name:(d=o.get(s["CBSA Code"]))==null?void 0:d.name,code:s["CBSA Code"]}})),e.$$.dirty&2&&n(0,h=a.filter(s=>s.year===2022).sort((s,d)=>Xr(s.bad_air_days,d.bad_air_days))),e.$$.dirty&257&&n(3,u=h.findIndex(s=>s["CBSA Code"]===(f==null?void 0:f.value)))},[h,a,o,u,l,c,i,r,f]}class Lc extends Me{constructor(t){super(),Re(this,t,Ac,Pc,Ee,{data:5})}}export{Lc as component};
