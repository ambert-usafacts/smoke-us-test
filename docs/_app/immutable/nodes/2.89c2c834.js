import{A as Cn,s as ze,e as me,i as V,d as P,o as Il,z as M,B as F,C as jl,r as rt,f as Y,g as X,h as W,j as E,D as Ll,k as q,E as Ra,u as ot,v as lt,w as at,p as ft,F as mt,G as Ue,H as Ve,x as D,l as te,m as ne,n as ge,a as he,c as de,I as ye,y as Ke,J as Na,K as Ur,L as Ut,M as Vr,N as vi,O as mo,P as Ti,Q as za,R as Ma}from"../chunks/scheduler.7f01e268.js";import{a as ee,S as Me,i as Pe,g as tr,t as re,c as nr,b as Se,d as ke,m as Ee,e as Re,f as Pa}from"../chunks/index.2010496a.js";import{w as K,d as se}from"../chunks/index.bd54f367.js";function ut(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Da(e,t){e.d(1),t.delete(e.key)}function Aa(e,t,n,i,r,o,l,a,h,u,f,s){let c=e.length,d=o.length,g=c;const y={};for(;g--;)y[e[g].key]=g;const _=[],v=new Map,w=new Map,S=[];for(g=d;g--;){const j=s(r,o,g),L=n(j);let C=l.get(L);C?i&&S.push(()=>C.p(j,t)):(C=u(L,j),C.c()),v.set(L,_[g]=C),L in y&&w.set(L,Math.abs(g-y[L]))}const N=new Set,b=new Set;function R(j){ee(j,1),j.m(a,f),l.set(j.key,j),f=j.first,d--}for(;c&&d;){const j=_[d-1],L=e[c-1],C=j.key,B=L.key;j===L?(f=j.first,c--,d--):v.has(B)?!l.has(C)||N.has(C)?R(j):b.has(B)?c--:w.get(C)>w.get(B)?(b.add(C),R(j)):(N.add(B),c--):(h(L,l),c--)}for(;c--;){const j=e[c];v.has(j.key)||h(j,l)}for(;d;)R(_[d-1]);return Cn(S),_}function zn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bl(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tl(e){let t,n,i;e.length!==2?(t=zn,n=(a,h)=>zn(e(a),h),i=(a,h)=>e(a)-h):(t=e===zn||e===Bl?e:Ca,n=e,i=e);function r(a,h,u=0,f=a.length){if(u<f){if(t(h,h)!==0)return f;do{const s=u+f>>>1;n(a[s],h)<0?u=s+1:f=s}while(u<f)}return u}function o(a,h,u=0,f=a.length){if(u<f){if(t(h,h)!==0)return f;do{const s=u+f>>>1;n(a[s],h)<=0?u=s+1:f=s}while(u<f)}return u}function l(a,h,u=0,f=a.length){const s=r(a,h,u,f-1);return s>u&&i(a[s-1],h)>-i(a[s],h)?s-1:s}return{left:r,center:l,right:o}}function Ca(){return 0}function Ia(e){return e===null?NaN:+e}const ja=Tl(zn),La=ja.right;Tl(Ia).center;const Ba=La;class _t{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=n[r],l=t+o,a=Math.abs(t)<Math.abs(o)?t-(l-o):o-(l-t);a&&(n[i++]=a),t=l}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,o,l=0;if(n>0){for(l=t[--n];n>0&&(i=l,r=t[--n],l=i+r,o=r-(l-i),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(r=o*2,i=l+r,r==i-l&&(l=i))}return l}}const Ta=Math.sqrt(50),qa=Math.sqrt(10),xa=Math.sqrt(2);function qi(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),l=o>=Ta?10:o>=qa?5:o>=xa?2:1;let a,h,u;return r<0?(u=Math.pow(10,-r)/l,a=Math.round(e*u),h=Math.round(t*u),a/u<e&&++a,h/u>t&&--h,u=-u):(u=Math.pow(10,r)*l,a=Math.round(e/u),h=Math.round(t/u),a*u<e&&++a,h*u>t&&--h),h<a&&.5<=n&&n<2?qi(e,t,n*2):[a,h,u]}function Ga(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,o,l]=i?qi(t,e,n):qi(e,t,n);if(!(o>=r))return[];const a=o-r+1,h=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)h[u]=(o-u)/-l;else for(let u=0;u<a;++u)h[u]=(o-u)*l;else if(l<0)for(let u=0;u<a;++u)h[u]=(r+u)/-l;else for(let u=0;u<a;++u)h[u]=(r+u)*l;return h}function Nr(e,t,n){return t=+t,e=+e,n=+n,qi(e,t,n)[2]}function Oa(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?Nr(t,e,n):Nr(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function*Ha(e){for(const t of e)yield*t}function ql(e){return Array.from(Ha(e))}const yt=K({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"});function Fa(e){return e===0?!0:e}function nt(e){return Fa(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function Wa(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function br(e,t={}){return Wa(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function Ua(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function Va(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),o=r.length;let l,a,h,u,f,s,c;const d=e.length;for(l=0;l<o;l+=1){for(c=new Set,u=r[l],f=t[u],a=0;a<d;a+=1)if(s=f(e[a]),Array.isArray(s)){const y=s.length;for(h=0;h<y;h+=1)c.add(s[h])}else c.add(s);const g=Array.from(c);i[u]=n===!0?g.sort():g}return i}function Ya(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let o,l,a,h,u,f,s,c;const d=e.length;for(o=0;o<r;o+=1){for(h=i[o],s=t[h],u=null,f=null,l=0;l<d;l+=1)if(c=s(e[l]),Array.isArray(c)){const g=c.length;for(a=0;a<g;a+=1)c[a]!==!1&&c[a]!==void 0&&c[a]!==null&&Number.isNaN(c[a])===!1&&((u===null||c[a]<u)&&(u=c[a]),(f===null||c[a]>f)&&(f=c[a]))}else c!==!1&&c!==void 0&&c!==null&&Number.isNaN(c)===!1&&((u===null||c<u)&&(u=c),(f===null||c>f)&&(f=c));n[h]=[u,f]}return n}function wn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function xl(e){return!!(typeof e.bandwidth=="function"||wn(Object.keys(e),["domain","range","unknown","copy"]))}function Xa(e,t,n){const i=Object.keys(n).reduce((o,l)=>{const a=xl(n[l])===!0?"ordinal":"other";return o[a]||(o[a]={}),o[a][l]=t[l],o},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=Va(e,i.ordinal)),i.other&&(r={...r,...Ya(e,i.other)}),r}function Ka(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function Si(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?Ka(n[e],i):i}}function Gl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ol(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function In(){}var Mn=.7,xi=1/Mn,Wt="\\s*([+-]?\\d+)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Za=/^#([0-9a-f]{3,8})$/,Qa=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Ja=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),$a=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${Pn}\\)$`),ef=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${Pn}\\)$`),tf=new RegExp(`^hsl\\(${Pn},${Ye},${Ye}\\)$`),nf=new RegExp(`^hsla\\(${Pn},${Ye},${Ye},${Pn}\\)$`),_o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yr(In,Dn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yo,formatHex:yo,formatHex8:rf,formatHsl:of,formatRgb:po,toString:po});function yo(){return this.rgb().formatHex()}function rf(){return this.rgb().formatHex8()}function of(){return Hl(this).formatHsl()}function po(){return this.rgb().formatRgb()}function Dn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Za.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bo(t):n===3?new Ne(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ki(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ki(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qa.exec(e))?new Ne(t[1],t[2],t[3],1):(t=Ja.exec(e))?new Ne(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$a.exec(e))?ki(t[1],t[2],t[3],t[4]):(t=ef.exec(e))?ki(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tf.exec(e))?So(t[1],t[2]/100,t[3]/100,1):(t=nf.exec(e))?So(t[1],t[2]/100,t[3]/100,t[4]):_o.hasOwnProperty(e)?bo(_o[e]):e==="transparent"?new Ne(NaN,NaN,NaN,0):null}function bo(e){return new Ne(e>>16&255,e>>8&255,e&255,1)}function ki(e,t,n,i){return i<=0&&(e=t=n=NaN),new Ne(e,t,n,i)}function lf(e){return e instanceof In||(e=Dn(e)),e?(e=e.rgb(),new Ne(e.r,e.g,e.b,e.opacity)):new Ne}function Gi(e,t,n,i){return arguments.length===1?lf(e):new Ne(e,t,n,i??1)}function Ne(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Yr(Ne,Gi,Ol(In,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new Ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ne(gt(this.r),gt(this.g),gt(this.b),Oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wo,formatHex:wo,formatHex8:af,formatRgb:vo,toString:vo}));function wo(){return`#${dt(this.r)}${dt(this.g)}${dt(this.b)}`}function af(){return`#${dt(this.r)}${dt(this.g)}${dt(this.b)}${dt((isNaN(this.opacity)?1:this.opacity)*255)}`}function vo(){const e=Oi(this.opacity);return`${e===1?"rgb(":"rgba("}${gt(this.r)}, ${gt(this.g)}, ${gt(this.b)}${e===1?")":`, ${e})`}`}function Oi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dt(e){return e=gt(e),(e<16?"0":"")+e.toString(16)}function So(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Te(e,t,n,i)}function Hl(e){if(e instanceof Te)return new Te(e.h,e.s,e.l,e.opacity);if(e instanceof In||(e=Dn(e)),!e)return new Te;if(e instanceof Te)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),l=NaN,a=o-r,h=(o+r)/2;return a?(t===o?l=(n-i)/a+(n<i)*6:n===o?l=(i-t)/a+2:l=(t-n)/a+4,a/=h<.5?o+r:2-o-r,l*=60):a=h>0&&h<1?0:l,new Te(l,a,h,e.opacity)}function ff(e,t,n,i){return arguments.length===1?Hl(e):new Te(e,t,n,i??1)}function Te(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Yr(Te,ff,Ol(In,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Te(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new Te(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Ne(wr(e>=240?e-240:e+120,r,i),wr(e,r,i),wr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Te(ko(this.h),Ei(this.s),Ei(this.l),Oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Oi(this.opacity);return`${e===1?"hsl(":"hsla("}${ko(this.h)}, ${Ei(this.s)*100}%, ${Ei(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ko(e){return e=(e||0)%360,e<0?e+360:e}function Ei(e){return Math.max(0,Math.min(1,e||0))}function wr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Xr=e=>()=>e;function uf(e,t){return function(n){return e+n*t}}function sf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function cf(e){return(e=+e)==1?Fl:function(t,n){return n-t?sf(t,n,e):Xr(isNaN(t)?n:t)}}function Fl(e,t){var n=t-e;return n?uf(e,n):Xr(isNaN(e)?t:e)}const Eo=function e(t){var n=cf(t);function i(r,o){var l=n((r=Gi(r)).r,(o=Gi(o)).r),a=n(r.g,o.g),h=n(r.b,o.b),u=Fl(r.opacity,o.opacity);return function(f){return r.r=l(f),r.g=a(f),r.b=h(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function hf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(o){for(r=0;r<n;++r)i[r]=e[r]*(1-o)+t[r]*o;return i}}function df(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gf(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),o=new Array(n),l;for(l=0;l<i;++l)r[l]=Kr(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(a){for(l=0;l<i;++l)o[l]=r[l](a);return o}}function mf(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Hi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _f(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Kr(e[r],t[r]):i[r]=t[r];return function(o){for(r in n)i[r]=n[r](o);return i}}var zr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vr=new RegExp(zr.source,"g");function yf(e){return function(){return e}}function pf(e){return function(t){return e(t)+""}}function bf(e,t){var n=zr.lastIndex=vr.lastIndex=0,i,r,o,l=-1,a=[],h=[];for(e=e+"",t=t+"";(i=zr.exec(e))&&(r=vr.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),a[l]?a[l]+=o:a[++l]=o),(i=i[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,h.push({i:l,x:Hi(i,r)})),n=vr.lastIndex;return n<t.length&&(o=t.slice(n),a[l]?a[l]+=o:a[++l]=o),a.length<2?h[0]?pf(h[0].x):yf(t):(t=h.length,function(u){for(var f=0,s;f<t;++f)a[(s=h[f]).i]=s.x(u);return a.join("")})}function Kr(e,t){var n=typeof t,i;return t==null||n==="boolean"?Xr(t):(n==="number"?Hi:n==="string"?(i=Dn(t))?(t=i,Eo):bf:t instanceof Dn?Eo:t instanceof Date?mf:df(t)?hf:Array.isArray(t)?gf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_f:Hi)(e,t)}function wf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vf(e){return function(){return e}}function Sf(e){return+e}var Ro=[0,1];function We(e){return e}function Mr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:vf(isNaN(t)?NaN:.5)}function kf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function Ef(e,t,n){var i=e[0],r=e[1],o=t[0],l=t[1];return r<i?(i=Mr(r,i),o=n(l,o)):(i=Mr(i,r),o=n(o,l)),function(a){return o(i(a))}}function Rf(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=Mr(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(a){var h=Ba(e,a,1,i)-1;return o[h](r[h](a))}}function Wl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ul(){var e=Ro,t=Ro,n=Kr,i,r,o,l=We,a,h,u;function f(){var c=Math.min(e.length,t.length);return l!==We&&(l=kf(e[0],e[c-1])),a=c>2?Rf:Ef,h=u=null,s}function s(c){return c==null||isNaN(c=+c)?o:(h||(h=a(e.map(i),t,n)))(i(l(c)))}return s.invert=function(c){return l(r((u||(u=a(t,e.map(i),Hi)))(c)))},s.domain=function(c){return arguments.length?(e=Array.from(c,Sf),f()):e.slice()},s.range=function(c){return arguments.length?(t=Array.from(c),f()):t.slice()},s.rangeRound=function(c){return t=Array.from(c),n=wf,f()},s.clamp=function(c){return arguments.length?(l=c?!0:We,f()):l!==We},s.interpolate=function(c){return arguments.length?(n=c,f()):n},s.unknown=function(c){return arguments.length?(o=c,s):o},function(c,d){return i=c,r=d,f()}}function Nf(){return Ul()(We,We)}function zf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Vt(e){return e=Fi(Math.abs(e)),e?e[1]:NaN}function Mf(e,t){return function(n,i){for(var r=n.length,o=[],l=0,a=e[0],h=0;r>0&&a>0&&(h+a+1>i&&(a=Math.max(1,i-h)),o.push(n.substring(r-=a,r+a)),!((h+=a+1)>i));)a=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Pf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Df=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wi(e){if(!(t=Df.exec(e)))throw new Error("invalid format: "+e);var t;return new Zr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wi.prototype=Zr.prototype;function Zr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Af(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Vl;function Cf(e,t){var n=Fi(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(Vl=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Fi(e,Math.max(0,t+o-1))[0]}function No(e,t){var n=Fi(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const zo={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>No(e*100,t),r:No,s:Cf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mo(e){return e}var Po=Array.prototype.map,Do=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function If(e){var t=e.grouping===void 0||e.thousands===void 0?Mo:Mf(Po.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Mo:Pf(Po.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function u(s){s=Wi(s);var c=s.fill,d=s.align,g=s.sign,y=s.symbol,_=s.zero,v=s.width,w=s.comma,S=s.precision,N=s.trim,b=s.type;b==="n"?(w=!0,b="g"):zo[b]||(S===void 0&&(S=12),N=!0,b="g"),(_||c==="0"&&d==="=")&&(_=!0,c="0",d="=");var R=y==="$"?n:y==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",j=y==="$"?i:/[%p]/.test(b)?l:"",L=zo[b],C=/[defgprs%]/.test(b);S=S===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(z){var U=R,T=j,I,p,k;if(b==="c")T=L(z)+T,z="";else{z=+z;var x=z<0||1/z<0;if(z=isNaN(z)?h:L(Math.abs(z),S),N&&(z=Af(z)),x&&+z==0&&g!=="+"&&(x=!1),U=(x?g==="("?g:a:g==="-"||g==="("?"":g)+U,T=(b==="s"?Do[8+Vl/3]:"")+T+(x&&g==="("?")":""),C){for(I=-1,p=z.length;++I<p;)if(k=z.charCodeAt(I),48>k||k>57){T=(k===46?r+z.slice(I+1):z.slice(I))+T,z=z.slice(0,I);break}}}w&&!_&&(z=t(z,1/0));var G=U.length+z.length+T.length,Z=G<v?new Array(v-G+1).join(c):"";switch(w&&_&&(z=t(Z+z,Z.length?v-T.length:1/0),Z=""),d){case"<":z=U+z+T+Z;break;case"=":z=U+Z+z+T;break;case"^":z=Z.slice(0,G=Z.length>>1)+U+z+T+Z.slice(G);break;default:z=Z+U+z+T;break}return o(z)}return B.toString=function(){return s+""},B}function f(s,c){var d=u((s=Wi(s),s.type="f",s)),g=Math.max(-8,Math.min(8,Math.floor(Vt(c)/3)))*3,y=Math.pow(10,-g),_=Do[8+g/3];return function(v){return d(y*v)+_}}return{format:u,formatPrefix:f}}var Ri,Yl,Xl;jf({thousands:",",grouping:[3],currency:["$",""]});function jf(e){return Ri=If(e),Yl=Ri.format,Xl=Ri.formatPrefix,Ri}function Lf(e){return Math.max(0,-Vt(Math.abs(e)))}function Bf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vt(t)/3)))*3-Vt(Math.abs(e)))}function Tf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vt(t)-Vt(e))+1}function qf(e,t,n,i){var r=Oa(e,t,n),o;switch(i=Wi(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(o=Bf(r,l))&&(i.precision=o),Xl(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Tf(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=Lf(r))&&(i.precision=o-(i.type==="%")*2);break}}return Yl(i)}function Kl(e){var t=e.domain;return e.ticks=function(n){var i=t();return Ga(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return qf(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,o=i.length-1,l=i[r],a=i[o],h,u,f=10;for(a<l&&(u=l,l=a,a=u,u=r,r=o,o=u);f-- >0;){if(u=Nr(l,a,n),u===h)return i[r]=l,i[o]=a,t(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;h=u}return e},e}function ji(){var e=Nf();return e.copy=function(){return Wl(e,ji())},Gl.apply(e,arguments),Kl(e)}function Ao(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gf(e){return e<0?-e*e:e*e}function Of(e){var t=e(We,We),n=1;function i(){return n===1?e(We,We):n===.5?e(xf,Gf):e(Ao(n),Ao(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Kl(t)}function Zl(){var e=Of(Ul());return e.copy=function(){return Wl(e,Zl()).exponent(e.exponent())},Gl.apply(e,arguments),e}function Ql(){return Zl.apply(null,arguments).exponent(.5)}const vn={x:ji,y:ji,z:ji,r:Ql};function Hf(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Co(e){return e}function Ff(e){return t=>Math.log(e*t)}function Wf(e){return t=>e*Math.exp(t)}function Uf(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Vf(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ni(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Yf(e){const t=Hf(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Ff(n),ground:Wf(n),scaleType:t}}return t==="pow"?{lift:Ni(1),ground:Ni(1/1),scaleType:t}:t==="sqrt"?{lift:Ni(.5),ground:Ni(1/.5),scaleType:t}:t==="symlog"?{lift:Uf(1),ground:Vf(1),scaleType:t}:{lift:Co,ground:Co,scaleType:t}}function Ui(e){return e.replace(/^\w/,t=>t.toUpperCase())}function be(e,t=""){return`scale${Ui(t)}${Ui(e)}`}function Jl(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?be("band"):be("point");if(wn(Object.keys(e),["domain","range","unknown","copy"]))return be("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return be("quantile",t);if(e.thresholds)return be("quantize",t);if(e.constant)return be("symlog",t);if(e.base)return be("log",t);if(e.exponent)return e.exponent()===.5?be("sqrt",t):be("pow",t);if(wn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return be("threshold");if(wn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return be("identity");if(wn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return be("radial");if(t)return be(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),be(i)}return be("linear")}const Xf=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Kf(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Xf.includes(Jl(e))||xl(e)===!0)return e.domain();const{lift:n,ground:i}=Yf(e),r=e.domain()[0],o=Object.prototype.toString.call(r)==="[object Date]",[l,a]=e.domain().map(d=>n(o?d.getTime():d)),[h,u]=e.range(),f=t[0]||0,s=t[1]||0,c=(a-l)/(Math.abs(u-h)-f-s);return[l-f*c,s*c+a].map(d=>i(o?new Date(d):d))}function Zf(e,t,n,i,r){let o,l;return r===!0?(o=0,l=100):(o=e==="r"?1:0,l=e==="y"?n:e==="r"?25:t),i===!0?[l,o]:[o,l]}function Qf(e,t,n,i,r,o){return r?typeof r=="function"?r({width:t,height:n}):r:Zf(e,t,n,i,o)}function zi(e){return function([n,i,r,o,l,a,h,u,f,s]){if(i===null)return null;const c=Qf(e,h,u,a,f,s),d=n===vn[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(c),o&&d.domain(Kf(d,o)),(l===!0||typeof l=="number")&&(typeof d.nice=="function"?d.nice(typeof l=="number"?l:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Mi([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function Pi([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Oe="    ";function Jf(e){const{r:t,g:n,b:i,opacity:r}=Gi(e);return[t,n,i].every(o=>o>=0&&o<=255)?{r:t,g:n,b:i,o:r}:!1}function $f({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function eu(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),tu(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{nu(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function tu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Oe}${t}:`,n)})}function nu(e,t,n){const i=Jl(t);console.log(`${Oe}${e}:`),console.log(`${Oe}${Oe}Accessor: "${n.toString()}"`),console.log(`${Oe}${Oe}Type: ${i}`),Io(t,"domain"),Io(t,"range"," ")}function Io(e,t,n=""){const i=e[t](),r=ru(i);r?iu(r,t,i):console.log(`${Oe}${Oe}${Ui(t)}:${n}`,i)}function iu(e,t,n){console.log(`${Oe}${Oe}${Ui(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function ru(e){const t=[],n=e.map((i,r)=>{const o=Jf(i);if(o!==!1){t.push(o);const l=r===e.length-1?" ":"";return`%c ${i}${l}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${$f(i)};`)]:null}const ou=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),jo=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function Lo(e){let t,n,i;const r=e[153].default,o=rt(r,e,e[152],jo);return{c(){t=Y("div"),o&&o.c(),this.h()},l(l){t=X(l,"DIV",{class:!0});var a=W(t);o&&o.l(a),a.forEach(P),this.h()},h(){E(t,"class","layercake-container svelte-vhzpsp"),Ll(()=>e[155].call(t)),q(t,"position",e[5]),q(t,"top",e[5]==="absolute"?"0":null),q(t,"right",e[5]==="absolute"?"0":null),q(t,"bottom",e[5]==="absolute"?"0":null),q(t,"left",e[5]==="absolute"?"0":null),q(t,"pointer-events",e[4]===!1?"none":null)},m(l,a){V(l,t,a),o&&o.m(t,null),e[154](t),n=Ra(t,e[155].bind(t)),i=!0},p(l,a){o&&o.p&&(!i||a[0]&2147483588|a[1]&1048575|a[4]&268435456)&&ot(o,r,l,l[152],i?at(r,l[152],a,ou):lt(l[152]),jo),a[0]&32&&q(t,"position",l[5]),a[0]&32&&q(t,"top",l[5]==="absolute"?"0":null),a[0]&32&&q(t,"right",l[5]==="absolute"?"0":null),a[0]&32&&q(t,"bottom",l[5]==="absolute"?"0":null),a[0]&32&&q(t,"left",l[5]==="absolute"?"0":null),a[0]&16&&q(t,"pointer-events",l[4]===!1?"none":null)},i(l){i||(ee(o,l),i=!0)},o(l){re(o,l),i=!1},d(l){l&&P(t),o&&o.d(l),e[154](null),n()}}}function lu(e){let t,n,i=(e[3]===!0||typeof window<"u")&&Lo(e);return{c(){i&&i.c(),t=me()},l(r){i&&i.l(r),t=me()},m(r,o){i&&i.m(r,o),V(r,t,o),n=!0},p(r,o){r[3]===!0||typeof window<"u"?i?(i.p(r,o),o[0]&8&&ee(i,1)):(i=Lo(r),i.c(),ee(i,1),i.m(t.parentNode,t)):i&&(tr(),re(i,1,1,()=>{i=null}),nr())},i(r){n||(ee(i),n=!0)},o(r){re(i),n=!1},d(r){r&&P(t),i&&i.d(r)}}}function au(e,t,n){let i,r,o,l,a,h,u,f,s,c,d,g,y,_,v,w,S,N,b,R,j,L,C,B,z,U,T,I,p,k,x,G,Z,A,O,le,H,De,Ae,st,Q,oe,pe,ve,xe,Qe,ue,Je,ct,Zt,wt,eo,to,no,io,ro,oo,lo,ao,fo,uo,so,{$$slots:ya={},$$scope:co}=t;const pa=Ua(eu,200);let{ssr:ir=!1}=t,{pointerEvents:ho=!0}=t,{position:go="relative"}=t,{percentRange:jn=!1}=t,{width:rr=void 0}=t,{height:or=void 0}=t,{containerWidth:vt=rr||100}=t,{containerHeight:St=or||100}=t,{element:Ln=void 0}=t,{x:kt=void 0}=t,{y:Et=void 0}=t,{z:Rt=void 0}=t,{r:Nt=void 0}=t,{data:zt=[]}=t,{xDomain:Mt=void 0}=t,{yDomain:Pt=void 0}=t,{zDomain:Dt=void 0}=t,{rDomain:At=void 0}=t,{xNice:Bn=!1}=t,{yNice:Tn=!1}=t,{zNice:qn=!1}=t,{rNice:xn=!1}=t,{xPadding:Gn=void 0}=t,{yPadding:On=void 0}=t,{zPadding:Hn=void 0}=t,{rPadding:Fn=void 0}=t,{xScale:Wn=vn.x}=t,{yScale:Qt=vn.y}=t,{zScale:Un=vn.z}=t,{rScale:Vn=vn.r}=t,{xRange:Ct=void 0}=t,{yRange:It=void 0}=t,{zRange:jt=void 0}=t,{rRange:Lt=void 0}=t,{xReverse:Yn=!1}=t,{yReverse:Xn=void 0}=t,{zReverse:Kn=!1}=t,{rReverse:Zn=!1}=t,{padding:Qn={}}=t,{extents:Jn={}}=t,{flatData:$n=void 0}=t,{custom:ei={}}=t,{debug:lr=!1}=t,ar=!1;Il(()=>{ar=!0});const ie={},$e=K(jn);M(e,$e,m=>n(33,xe=m));const Bt=K(vt);M(e,Bt,m=>n(32,ve=m));const Tt=K(St);M(e,Tt,m=>n(31,pe=m));const ti=K(br(Jn));M(e,ti,m=>n(170,oe=m));const ni=K(zt);M(e,ni,m=>n(30,Q=m));const Jt=K($n||zt);M(e,Jt,m=>n(29,st=m));const ii=K(Qn);M(e,ii,m=>n(169,Ae=m));const qt=K(nt(kt));M(e,qt,m=>n(28,De=m));const xt=K(nt(Et));M(e,xt,m=>n(27,H=m));const Gt=K(nt(Rt));M(e,Gt,m=>n(26,le=m));const Ot=K(nt(Nt));M(e,Ot,m=>n(25,O=m));const ri=K(Mt);M(e,ri,m=>n(168,A=m));const oi=K(Pt);M(e,oi,m=>n(167,Z=m));const li=K(Dt);M(e,li,m=>n(166,G=m));const ai=K(At);M(e,ai,m=>n(165,x=m));const $t=K(Bn);M(e,$t,m=>n(24,k=m));const en=K(Tn);M(e,en,m=>n(23,p=m));const tn=K(qn);M(e,tn,m=>n(22,I=m));const nn=K(xn);M(e,nn,m=>n(21,T=m));const rn=K(Yn);M(e,rn,m=>n(20,U=m));const on=K(i);M(e,on,m=>n(19,z=m));const ln=K(Kn);M(e,ln,m=>n(18,B=m));const an=K(Zn);M(e,an,m=>n(17,C=m));const fn=K(Gn);M(e,fn,m=>n(16,L=m));const un=K(On);M(e,un,m=>n(15,j=m));const sn=K(Hn);M(e,sn,m=>n(14,R=m));const cn=K(Fn);M(e,cn,m=>n(13,b=m));const fi=K(Ct);M(e,fi,m=>n(164,N=m));const ui=K(It);M(e,ui,m=>n(163,S=m));const si=K(jt);M(e,si,m=>n(162,w=m));const ci=K(Lt);M(e,ci,m=>n(161,v=m));const hn=K(Wn);M(e,hn,m=>n(160,_=m));const dn=K(Qt);M(e,dn,m=>n(159,y=m));const gn=K(Un);M(e,gn,m=>n(158,g=m));const mn=K(Vn);M(e,mn,m=>n(157,d=m));const hi=K(ie);M(e,hi,m=>n(11,s=m));const di=K(ei);M(e,di,m=>n(12,c=m));const gi=se([qt,xt,Gt,Ot],([m,Xe,Ge,_e])=>{const ht={};return m&&(ht.x=m),Xe&&(ht.y=Xe),Ge&&(ht.z=Ge),_e&&(ht.r=_e),ht});M(e,gi,m=>n(10,u=m));const mi=se([ii,Bt,Tt],([m])=>Object.assign({top:0,right:0,bottom:0,left:0},m));M(e,mi,m=>n(37,ct=m));const _i=se([Bt,Tt,mi],([m,Xe,Ge])=>{const _e={};return _e.top=Ge.top,_e.right=m-Ge.right,_e.bottom=Xe-Ge.bottom,_e.left=Ge.left,_e.width=_e.right-_e.left,_e.height=_e.bottom-_e.top,_e.width<=0&&ar===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),_e.height<=0&&ar===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),_e});M(e,_i,m=>n(151,f=m));const et=se([_i],([m])=>m.width);M(e,et,m=>n(34,Qe=m));const tt=se([_i],([m])=>m.height);M(e,tt,m=>n(35,ue=m));const Le=se([Jt,gi,ti,hn,dn,mn,gn],([m,Xe,Ge,_e,ht,va,Sa])=>{const ka={x:_e,y:ht,r:va,z:Sa},yr=br(Xe,Ge),Ea=Object.fromEntries(Object.keys(yr).map(pr=>[pr,ka[pr]]));return Object.keys(yr).length>0?{...Xa(m,yr,Ea),...Ge}:{}});M(e,Le,m=>n(38,Zt=m));const yi=se([Le,ri],Si("x"));M(e,yi,m=>n(39,wt=m));const pi=se([Le,oi],Si("y"));M(e,pi,m=>n(40,eo=m));const bi=se([Le,li],Si("z"));M(e,bi,m=>n(41,to=m));const wi=se([Le,ai],Si("r"));M(e,wi,m=>n(42,no=m));const _n=se([hn,Le,yi,fn,$t,rn,et,tt,fi,$e],zi("x"));M(e,_n,m=>n(9,h=m));const fr=se([qt,_n],Mi);M(e,fr,m=>n(47,ao=m));const yn=se([dn,Le,pi,un,en,on,et,tt,ui,$e],zi("y"));M(e,yn,m=>n(8,a=m));const ur=se([xt,yn],Mi);M(e,ur,m=>n(48,fo=m));const pn=se([gn,Le,bi,sn,tn,ln,et,tt,si,$e],zi("z"));M(e,pn,m=>n(7,l=m));const sr=se([Gt,pn],Mi);M(e,sr,m=>n(49,uo=m));const bn=se([mn,Le,wi,cn,nn,an,et,tt,ci,$e],zi("r"));M(e,bn,m=>n(6,o=m));const cr=se([Ot,bn],Mi);M(e,cr,m=>n(50,so=m));const hr=se([_n],Pi);M(e,hr,m=>n(43,io=m));const dr=se([yn],Pi);M(e,dr,m=>n(44,ro=m));const gr=se([pn],Pi);M(e,gr,m=>n(45,oo=m));const mr=se([bn],Pi);M(e,mr,m=>n(46,lo=m));const _r=se([et,tt],([m,Xe])=>m/Xe);M(e,_r,m=>n(36,Je=m));function ba(m){ft[m?"unshift":"push"](()=>{Ln=m,n(2,Ln)})}function wa(){vt=this.clientWidth,St=this.clientHeight,n(0,vt),n(1,St)}return e.$$set=m=>{"ssr"in m&&n(3,ir=m.ssr),"pointerEvents"in m&&n(4,ho=m.pointerEvents),"position"in m&&n(5,go=m.position),"percentRange"in m&&n(111,jn=m.percentRange),"width"in m&&n(112,rr=m.width),"height"in m&&n(113,or=m.height),"containerWidth"in m&&n(0,vt=m.containerWidth),"containerHeight"in m&&n(1,St=m.containerHeight),"element"in m&&n(2,Ln=m.element),"x"in m&&n(114,kt=m.x),"y"in m&&n(115,Et=m.y),"z"in m&&n(116,Rt=m.z),"r"in m&&n(117,Nt=m.r),"data"in m&&n(118,zt=m.data),"xDomain"in m&&n(119,Mt=m.xDomain),"yDomain"in m&&n(120,Pt=m.yDomain),"zDomain"in m&&n(121,Dt=m.zDomain),"rDomain"in m&&n(122,At=m.rDomain),"xNice"in m&&n(123,Bn=m.xNice),"yNice"in m&&n(124,Tn=m.yNice),"zNice"in m&&n(125,qn=m.zNice),"rNice"in m&&n(126,xn=m.rNice),"xPadding"in m&&n(127,Gn=m.xPadding),"yPadding"in m&&n(128,On=m.yPadding),"zPadding"in m&&n(129,Hn=m.zPadding),"rPadding"in m&&n(130,Fn=m.rPadding),"xScale"in m&&n(131,Wn=m.xScale),"yScale"in m&&n(132,Qt=m.yScale),"zScale"in m&&n(133,Un=m.zScale),"rScale"in m&&n(134,Vn=m.rScale),"xRange"in m&&n(135,Ct=m.xRange),"yRange"in m&&n(136,It=m.yRange),"zRange"in m&&n(137,jt=m.zRange),"rRange"in m&&n(138,Lt=m.rRange),"xReverse"in m&&n(139,Yn=m.xReverse),"yReverse"in m&&n(140,Xn=m.yReverse),"zReverse"in m&&n(141,Kn=m.zReverse),"rReverse"in m&&n(142,Zn=m.rReverse),"padding"in m&&n(143,Qn=m.padding),"extents"in m&&n(144,Jn=m.extents),"flatData"in m&&n(145,$n=m.flatData),"custom"in m&&n(146,ei=m.custom),"debug"in m&&n(147,lr=m.debug),"$$scope"in m&&n(152,co=m.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof Xn>"u"?typeof Qt.bandwidth!="function":Xn),e.$$.dirty[3]&2097152&&kt&&n(148,ie.x=kt,ie),e.$$.dirty[3]&4194304&&Et&&n(148,ie.y=Et,ie),e.$$.dirty[3]&8388608&&Rt&&n(148,ie.z=Rt,ie),e.$$.dirty[3]&16777216&&Nt&&n(148,ie.r=Nt,ie),e.$$.dirty[3]&67108864&&Mt&&n(148,ie.xDomain=Mt,ie),e.$$.dirty[3]&134217728&&Pt&&n(148,ie.yDomain=Pt,ie),e.$$.dirty[3]&268435456&&Dt&&n(148,ie.zDomain=Dt,ie),e.$$.dirty[3]&536870912&&At&&n(148,ie.rDomain=At,ie),e.$$.dirty[4]&2048&&Ct&&n(148,ie.xRange=Ct,ie),e.$$.dirty[4]&4096&&It&&n(148,ie.yRange=It,ie),e.$$.dirty[4]&8192&&jt&&n(148,ie.zRange=jt,ie),e.$$.dirty[4]&16384&&Lt&&n(148,ie.rRange=Lt,ie),e.$$.dirty[3]&262144&&F($e,xe=jn,xe),e.$$.dirty[0]&1&&F(Bt,ve=vt,ve),e.$$.dirty[0]&2&&F(Tt,pe=St,pe),e.$$.dirty[4]&1048576&&F(ti,oe=br(Jn),oe),e.$$.dirty[3]&33554432&&F(ni,Q=zt,Q),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&F(Jt,st=$n||zt,st),e.$$.dirty[4]&524288&&F(ii,Ae=Qn,Ae),e.$$.dirty[3]&2097152&&F(qt,De=nt(kt),De),e.$$.dirty[3]&4194304&&F(xt,H=nt(Et),H),e.$$.dirty[3]&8388608&&F(Gt,le=nt(Rt),le),e.$$.dirty[3]&16777216&&F(Ot,O=nt(Nt),O),e.$$.dirty[3]&67108864&&F(ri,A=Mt,A),e.$$.dirty[3]&134217728&&F(oi,Z=Pt,Z),e.$$.dirty[3]&268435456&&F(li,G=Dt,G),e.$$.dirty[3]&536870912&&F(ai,x=At,x),e.$$.dirty[3]&1073741824&&F($t,k=Bn,k),e.$$.dirty[4]&1&&F(en,p=Tn,p),e.$$.dirty[4]&2&&F(tn,I=qn,I),e.$$.dirty[4]&4&&F(nn,T=xn,T),e.$$.dirty[4]&32768&&F(rn,U=Yn,U),e.$$.dirty[4]&67108864&&F(on,z=i,z),e.$$.dirty[4]&131072&&F(ln,B=Kn,B),e.$$.dirty[4]&262144&&F(an,C=Zn,C),e.$$.dirty[4]&8&&F(fn,L=Gn,L),e.$$.dirty[4]&16&&F(un,j=On,j),e.$$.dirty[4]&32&&F(sn,R=Hn,R),e.$$.dirty[4]&64&&F(cn,b=Fn,b),e.$$.dirty[4]&2048&&F(fi,N=Ct,N),e.$$.dirty[4]&4096&&F(ui,S=It,S),e.$$.dirty[4]&8192&&F(si,w=jt,w),e.$$.dirty[4]&16384&&F(ci,v=Lt,v),e.$$.dirty[4]&128&&F(hn,_=Wn,_),e.$$.dirty[4]&256&&F(dn,y=Qt,y),e.$$.dirty[4]&512&&F(gn,g=Un,g),e.$$.dirty[4]&1024&&F(mn,d=Vn,d),e.$$.dirty[4]&4194304&&F(di,c=ei,c),e.$$.dirty[4]&16777216&&F(hi,s=ie,s),e.$$.dirty[4]&33554432&&jl("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&f&&lr===!0&&(ir===!0||typeof window<"u")&&pa({boundingBox:f,activeGetters:u,x:ie.x,y:ie.y,z:ie.z,r:ie.r,xScale:h,yScale:a,zScale:l,rScale:o})},n(149,r={activeGetters:gi,width:et,height:tt,percentRange:$e,aspectRatio:_r,containerWidth:Bt,containerHeight:Tt,x:qt,y:xt,z:Gt,r:Ot,custom:di,data:ni,xNice:$t,yNice:en,zNice:tn,rNice:nn,xReverse:rn,yReverse:on,zReverse:ln,rReverse:an,xPadding:fn,yPadding:un,zPadding:sn,rPadding:cn,padding:mi,flatData:Jt,extents:Le,xDomain:yi,yDomain:pi,zDomain:bi,rDomain:wi,xRange:hr,yRange:dr,zRange:gr,rRange:mr,config:hi,xScale:_n,xGet:fr,yScale:yn,yGet:ur,zScale:pn,zGet:sr,rScale:bn,rGet:cr}),[vt,St,Ln,ir,ho,go,o,l,a,h,u,s,c,b,R,j,L,C,B,z,U,T,I,p,k,O,le,H,De,st,Q,pe,ve,xe,Qe,ue,Je,ct,Zt,wt,eo,to,no,io,ro,oo,lo,ao,fo,uo,so,$e,Bt,Tt,ti,ni,Jt,ii,qt,xt,Gt,Ot,ri,oi,li,ai,$t,en,tn,nn,rn,on,ln,an,fn,un,sn,cn,fi,ui,si,ci,hn,dn,gn,mn,hi,di,gi,mi,_i,et,tt,Le,yi,pi,bi,wi,_n,fr,yn,ur,pn,sr,bn,cr,hr,dr,gr,mr,_r,jn,rr,or,kt,Et,Rt,Nt,zt,Mt,Pt,Dt,At,Bn,Tn,qn,xn,Gn,On,Hn,Fn,Wn,Qt,Un,Vn,Ct,It,jt,Lt,Yn,Xn,Kn,Zn,Qn,Jn,$n,ei,lr,ie,r,i,f,co,ya,ba,wa]}class fu extends Me{constructor(t){super(),Pe(this,t,au,lu,ze,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const uu=e=>({element:e&1}),Bo=e=>({element:e[0]});function su(e){let t,n;const i=e[11].default,r=rt(i,e,e[10],Bo);return{c(){t=Y("div"),r&&r.c(),this.h()},l(o){t=X(o,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var l=W(t);r&&r.l(l),l.forEach(P),this.h()},h(){E(t,"class","layercake-layout-html svelte-1bu60uu"),E(t,"role",e[6]),E(t,"aria-label",e[3]),E(t,"aria-labelledby",e[4]),E(t,"aria-describedby",e[5]),q(t,"z-index",e[1]),q(t,"pointer-events",e[2]===!1?"none":null),q(t,"top",e[7].top+"px"),q(t,"right",e[7].right+"px"),q(t,"bottom",e[7].bottom+"px"),q(t,"left",e[7].left+"px")},m(o,l){V(o,t,l),r&&r.m(t,null),e[12](t),n=!0},p(o,[l]){r&&r.p&&(!n||l&1025)&&ot(r,i,o,o[10],n?at(i,o[10],l,uu):lt(o[10]),Bo),(!n||l&64)&&E(t,"role",o[6]),(!n||l&8)&&E(t,"aria-label",o[3]),(!n||l&16)&&E(t,"aria-labelledby",o[4]),(!n||l&32)&&E(t,"aria-describedby",o[5]),l&2&&q(t,"z-index",o[1]),l&4&&q(t,"pointer-events",o[2]===!1?"none":null),l&128&&q(t,"top",o[7].top+"px"),l&128&&q(t,"right",o[7].right+"px"),l&128&&q(t,"bottom",o[7].bottom+"px"),l&128&&q(t,"left",o[7].left+"px")},i(o){n||(ee(r,o),n=!0)},o(o){re(r,o),n=!1},d(o){o&&P(t),r&&r.d(o),e[12](null)}}}function cu(e,t,n){let i,r,{$$slots:o={},$$scope:l}=t;const{padding:a}=mt("LayerCake");M(e,a,_=>n(7,r=_));let{element:h=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:f=void 0}=t,{role:s=void 0}=t,{label:c=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:g=void 0}=t;function y(_){ft[_?"unshift":"push"](()=>{h=_,n(0,h)})}return e.$$set=_=>{"element"in _&&n(0,h=_.element),"zIndex"in _&&n(1,u=_.zIndex),"pointerEvents"in _&&n(2,f=_.pointerEvents),"role"in _&&n(9,s=_.role),"label"in _&&n(3,c=_.label),"labelledBy"in _&&n(4,d=_.labelledBy),"describedBy"in _&&n(5,g=_.describedBy),"$$scope"in _&&n(10,l=_.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=s||(c||d||g?"figure":void 0))},[h,u,f,c,d,g,i,r,a,s,l,o,y]}class To extends Me{constructor(t){super(),Pe(this,t,cu,su,ze,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const hu=e=>({element:e&1}),qo=e=>({element:e[0]}),du=e=>({}),xo=e=>({}),gu=e=>({}),Go=e=>({});function Oo(e){let t,n;return{c(){t=Ue("title"),n=te(e[8])},l(i){t=Ve(i,"title",{});var r=W(t);n=ne(r,e[8]),r.forEach(P)},m(i,r){V(i,t,r),D(t,n)},p(i,r){r&256&&ge(n,i[8])},d(i){i&&P(t)}}}function mu(e){let t,n=e[8]&&Oo(e);return{c(){n&&n.c(),t=me()},l(i){n&&n.l(i),t=me()},m(i,r){n&&n.m(i,r),V(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=Oo(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&P(t),n&&n.d(i)}}}function _u(e){let t,n,i,r,o;const l=e[16].title,a=rt(l,e,e[15],Go),h=a||mu(e),u=e[16].defs,f=rt(u,e,e[15],xo),s=e[16].default,c=rt(s,e,e[15],qo);return{c(){t=Ue("svg"),h&&h.c(),n=Ue("defs"),f&&f.c(),i=Ue("g"),c&&c.c(),this.h()},l(d){t=Ve(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=W(t);h&&h.l(g),n=Ve(g,"defs",{});var y=W(n);f&&f.l(y),y.forEach(P),i=Ve(g,"g",{class:!0,transform:!0});var _=W(i);c&&c.l(_),_.forEach(P),g.forEach(P),this.h()},h(){E(i,"class","layercake-layout-svg_g"),E(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),E(t,"class","layercake-layout-svg svelte-u84d8d"),E(t,"viewBox",e[4]),E(t,"width",e[9]),E(t,"height",e[10]),E(t,"aria-label",e[5]),E(t,"aria-labelledby",e[6]),E(t,"aria-describedby",e[7]),q(t,"z-index",e[2]),q(t,"pointer-events",e[3]===!1?"none":null)},m(d,g){V(d,t,g),h&&h.m(t,null),D(t,n),f&&f.m(n,null),D(t,i),c&&c.m(i,null),e[17](i),e[18](t),o=!0},p(d,[g]){a?a.p&&(!o||g&32768)&&ot(a,l,d,d[15],o?at(l,d[15],g,gu):lt(d[15]),Go):h&&h.p&&(!o||g&256)&&h.p(d,o?g:-1),f&&f.p&&(!o||g&32768)&&ot(f,u,d,d[15],o?at(u,d[15],g,du):lt(d[15]),xo),c&&c.p&&(!o||g&32769)&&ot(c,s,d,d[15],o?at(s,d[15],g,hu):lt(d[15]),qo),(!o||g&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&E(i,"transform",r),(!o||g&16)&&E(t,"viewBox",d[4]),(!o||g&512)&&E(t,"width",d[9]),(!o||g&1024)&&E(t,"height",d[10]),(!o||g&32)&&E(t,"aria-label",d[5]),(!o||g&64)&&E(t,"aria-labelledby",d[6]),(!o||g&128)&&E(t,"aria-describedby",d[7]),g&4&&q(t,"z-index",d[2]),g&8&&q(t,"pointer-events",d[3]===!1?"none":null)},i(d){o||(ee(h,d),ee(f,d),ee(c,d),o=!0)},o(d){re(h,d),re(f,d),re(c,d),o=!1},d(d){d&&P(t),h&&h.d(d),f&&f.d(d),c&&c.d(d),e[17](null),e[18](null)}}}function yu(e,t,n){let i,r,o,{$$slots:l={},$$scope:a}=t,{element:h=void 0}=t,{innerElement:u=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:s=void 0}=t,{viewBox:c=void 0}=t,{label:d=void 0}=t,{labelledBy:g=void 0}=t,{describedBy:y=void 0}=t,{title:_=void 0}=t;const{containerWidth:v,containerHeight:w,padding:S}=mt("LayerCake");M(e,v,R=>n(9,i=R)),M(e,w,R=>n(10,r=R)),M(e,S,R=>n(11,o=R));function N(R){ft[R?"unshift":"push"](()=>{u=R,n(1,u)})}function b(R){ft[R?"unshift":"push"](()=>{h=R,n(0,h)})}return e.$$set=R=>{"element"in R&&n(0,h=R.element),"innerElement"in R&&n(1,u=R.innerElement),"zIndex"in R&&n(2,f=R.zIndex),"pointerEvents"in R&&n(3,s=R.pointerEvents),"viewBox"in R&&n(4,c=R.viewBox),"label"in R&&n(5,d=R.label),"labelledBy"in R&&n(6,g=R.labelledBy),"describedBy"in R&&n(7,y=R.describedBy),"title"in R&&n(8,_=R.title),"$$scope"in R&&n(15,a=R.$$scope)},[h,u,f,s,c,d,g,y,_,i,r,o,v,w,S,a,l,N,b]}class pu extends Me{constructor(t){super(),Pe(this,t,yu,_u,ze,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function $l(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const bu=e=>({element:e&2,context:e&1}),Ho=e=>({element:e[1],context:e[0]}),wu=e=>({}),Fo=e=>({});function Wo(e){let t;return{c(){t=te(e[4])},l(n){t=ne(n,e[4])},m(n,i){V(n,t,i)},p(n,i){i&16&&ge(t,n[4])},d(n){n&&P(t)}}}function vu(e){let t,n=e[4]&&Wo(e);return{c(){n&&n.c(),t=me()},l(i){n&&n.l(i),t=me()},m(i,r){n&&n.m(i,r),V(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=Wo(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&P(t),n&&n.d(i)}}}function Su(e){let t,n,i;const r=e[13].fallback,o=rt(r,e,e[12],Fo),l=o||vu(e),a=e[13].default,h=rt(a,e,e[12],Ho);return{c(){t=Y("canvas"),l&&l.c(),n=he(),h&&h.c(),this.h()},l(u){t=X(u,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=W(t);l&&l.l(f),f.forEach(P),n=de(u),h&&h.l(u),this.h()},h(){E(t,"class","layercake-layout-canvas"),q(t,"width","100%"),q(t,"height","100%"),q(t,"position","absolute"),E(t,"aria-label",e[5]),E(t,"aria-labelledby",e[6]),E(t,"aria-describedby",e[7]),q(t,"z-index",e[2]),q(t,"pointer-events",e[3]===!1?"none":null),q(t,"top",e[8].top+"px"),q(t,"right",e[8].right+"px"),q(t,"bottom",e[8].bottom+"px"),q(t,"left",e[8].left+"px")},m(u,f){V(u,t,f),l&&l.m(t,null),e[14](t),V(u,n,f),h&&h.m(u,f),i=!0},p(u,[f]){o?o.p&&(!i||f&4096)&&ot(o,r,u,u[12],i?at(r,u[12],f,wu):lt(u[12]),Fo):l&&l.p&&(!i||f&16)&&l.p(u,i?f:-1),(!i||f&32)&&E(t,"aria-label",u[5]),(!i||f&64)&&E(t,"aria-labelledby",u[6]),(!i||f&128)&&E(t,"aria-describedby",u[7]),f&4&&q(t,"z-index",u[2]),f&8&&q(t,"pointer-events",u[3]===!1?"none":null),f&256&&q(t,"top",u[8].top+"px"),f&256&&q(t,"right",u[8].right+"px"),f&256&&q(t,"bottom",u[8].bottom+"px"),f&256&&q(t,"left",u[8].left+"px"),h&&h.p&&(!i||f&4099)&&ot(h,a,u,u[12],i?at(a,u[12],f,bu):lt(u[12]),Ho)},i(u){i||(ee(l,u),ee(h,u),i=!0)},o(u){re(l,u),re(h,u),i=!1},d(u){u&&(P(t),P(n)),l&&l.d(u),e[14](null),h&&h.d(u)}}}function ku(e,t,n){let i,r,o,{$$slots:l={},$$scope:a}=t;const{width:h,height:u,padding:f}=mt("LayerCake");M(e,h,b=>n(16,r=b)),M(e,u,b=>n(15,i=b)),M(e,f,b=>n(8,o=b));let{element:s=void 0}=t,{context:c=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:g=void 0}=t,{fallback:y=""}=t,{label:_=void 0}=t,{labelledBy:v=void 0}=t,{describedBy:w=void 0}=t;const S={ctx:K({})};Il(()=>{n(0,c=s.getContext("2d")),$l(c,r,i)}),jl("canvas",S);function N(b){ft[b?"unshift":"push"](()=>{s=b,n(1,s)})}return e.$$set=b=>{"element"in b&&n(1,s=b.element),"context"in b&&n(0,c=b.context),"zIndex"in b&&n(2,d=b.zIndex),"pointerEvents"in b&&n(3,g=b.pointerEvents),"fallback"in b&&n(4,y=b.fallback),"label"in b&&n(5,_=b.label),"labelledBy"in b&&n(6,v=b.labelledBy),"describedBy"in b&&n(7,w=b.describedBy),"$$scope"in b&&n(12,a=b.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&S.ctx.set(c)},[c,s,d,g,y,_,v,w,o,h,u,f,a,l,N]}class Eu extends Me{constructor(t){super(),Pe(this,t,ku,Su,ze,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function Ru(e){e.nextSibling&&e.parentNode.appendChild(e)}function Nu(e){return e}function zu(e){if(e==null)return Nu;var t,n,i=e.scale[0],r=e.scale[1],o=e.translate[0],l=e.translate[1];return function(a,h){h||(t=n=0);var u=2,f=a.length,s=new Array(f);for(s[0]=(t+=a[0])*i+o,s[1]=(n+=a[1])*r+l;u<f;)s[u]=a[u],++u;return s}}function Mu(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function Pu(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Uo(e,n)})}:Uo(e,t)}function Uo(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,o=Du(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:o}:i==null?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:i,properties:r,geometry:o}}function Du(e,t){var n=zu(e.transform),i=e.arcs;function r(f,s){s.length&&s.pop();for(var c=i[f<0?~f:f],d=0,g=c.length;d<g;++d)s.push(n(c[d],d));f<0&&Mu(s,g)}function o(f){return n(f)}function l(f){for(var s=[],c=0,d=f.length;c<d;++c)r(f[c],s);return s.length<2&&s.push(s[0]),s}function a(f){for(var s=l(f);s.length<4;)s.push(s[0]);return s}function h(f){return f.map(a)}function u(f){var s=f.type,c;switch(s){case"GeometryCollection":return{type:s,geometries:f.geometries.map(u)};case"Point":c=o(f.coordinates);break;case"MultiPoint":c=f.coordinates.map(o);break;case"LineString":c=l(f.arcs);break;case"MultiLineString":c=f.arcs.map(l);break;case"Polygon":c=h(f.arcs);break;case"MultiPolygon":c=f.arcs.map(h);break;default:return null}return{type:s,coordinates:c}}return u(t)}var $=1e-6,Au=1e-12,J=Math.PI,Ce=J/2,Vo=J/4,je=J*2,Be=180/J,we=J/180,fe=Math.abs,Cu=Math.atan,Yt=Math.atan2,ce=Math.cos,ae=Math.sin,Li=Math.sign||function(e){return e>0?1:e<0?-1:0},Ze=Math.sqrt;function Iu(e){return e>1?0:e<-1?J:Math.acos(e)}function pt(e){return e>1?Ce:e<-1?-Ce:Math.asin(e)}function Ie(){}function Vi(e,t){e&&Xo.hasOwnProperty(e.type)&&Xo[e.type](e,t)}var Yo={Feature:function(e,t){Vi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Vi(n[i].geometry,t)}},Xo={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Pr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Pr(n[i],t,0)},Polygon:function(e,t){Ko(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Ko(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Vi(n[i],t)}};function Pr(e,t,n){var i=-1,r=e.length-n,o;for(t.lineStart();++i<r;)o=e[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function Ko(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Pr(e[n],t,1);t.polygonEnd()}function Ht(e,t){e&&Yo.hasOwnProperty(e.type)?Yo[e.type](e,t):Vi(e,t)}function Dr(e){return[Yt(e[1],e[0]),pt(e[2])]}function Xt(e){var t=e[0],n=e[1],i=ce(n);return[i*ce(t),i*ae(t),ae(n)]}function Di(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Yi(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Sr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ai(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ar(e){var t=Ze(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Cr(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function Ir(e,t){return fe(e)>J&&(e-=Math.round(e/je)*je),[e,t]}Ir.invert=Ir;function ju(e,t,n){return(e%=je)?t||n?Cr(Qo(e),Jo(t,n)):Qo(e):t||n?Jo(t,n):Ir}function Zo(e){return function(t,n){return t+=e,fe(t)>J&&(t-=Math.round(t/je)*je),[t,n]}}function Qo(e){var t=Zo(e);return t.invert=Zo(-e),t}function Jo(e,t){var n=ce(e),i=ae(e),r=ce(t),o=ae(t);function l(a,h){var u=ce(h),f=ce(a)*u,s=ae(a)*u,c=ae(h),d=c*n+f*i;return[Yt(s*r-d*o,f*n-c*i),pt(d*r+s*o)]}return l.invert=function(a,h){var u=ce(h),f=ce(a)*u,s=ae(a)*u,c=ae(h),d=c*r-s*o;return[Yt(s*r+c*o,f*n+d*i),pt(d*n-f*i)]},l}function Lu(e,t,n,i,r,o){if(n){var l=ce(t),a=ae(t),h=i*n;r==null?(r=t+i*je,o=t-h/2):(r=$o(l,r),o=$o(l,o),(i>0?r<o:r>o)&&(r+=i*je));for(var u,f=r;i>0?f>o:f<o;f-=h)u=Dr([l,-a*ce(f),-a*ae(f)]),e.point(u[0],u[1])}}function $o(e,t){t=Xt(t),t[0]-=e,Ar(t);var n=Iu(-t[1]);return((-t[2]<0?-n:n)+je-$)%je}function ea(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:Ie,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Bi(e,t){return fe(e[0]-t[0])<$&&fe(e[1]-t[1])<$}function Ci(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ta(e,t,n,i,r){var o=[],l=[],a,h;if(e.forEach(function(g){if(!((y=g.length-1)<=0)){var y,_=g[0],v=g[y],w;if(Bi(_,v)){if(!_[2]&&!v[2]){for(r.lineStart(),a=0;a<y;++a)r.point((_=g[a])[0],_[1]);r.lineEnd();return}v[0]+=2*$}o.push(w=new Ci(_,g,null,!0)),l.push(w.o=new Ci(_,null,w,!1)),o.push(w=new Ci(v,g,null,!1)),l.push(w.o=new Ci(v,null,w,!0))}}),!!o.length){for(l.sort(t),el(o),el(l),a=0,h=l.length;a<h;++a)l[a].e=n=!n;for(var u=o[0],f,s;;){for(var c=u,d=!0;c.v;)if((c=c.n)===u)return;f=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(a=0,h=f.length;a<h;++a)r.point((s=f[a])[0],s[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(d)for(f=c.p.z,a=f.length-1;a>=0;--a)r.point((s=f[a])[0],s[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,f=c.z,d=!d}while(!c.v);r.lineEnd()}}}function el(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function kr(e){return fe(e[0])<=J?e[0]:Li(e[0])*((fe(e[0])+J)%je-J)}function Bu(e,t){var n=kr(t),i=t[1],r=ae(i),o=[ae(n),-ce(n),0],l=0,a=0,h=new _t;r===1?i=Ce+$:r===-1&&(i=-Ce-$);for(var u=0,f=e.length;u<f;++u)if(c=(s=e[u]).length)for(var s,c,d=s[c-1],g=kr(d),y=d[1]/2+Vo,_=ae(y),v=ce(y),w=0;w<c;++w,g=N,_=R,v=j,d=S){var S=s[w],N=kr(S),b=S[1]/2+Vo,R=ae(b),j=ce(b),L=N-g,C=L>=0?1:-1,B=C*L,z=B>J,U=_*R;if(h.add(Yt(U*C*ae(B),v*j+U*ce(B))),l+=z?L+C*je:L,z^g>=n^N>=n){var T=Yi(Xt(d),Xt(S));Ar(T);var I=Yi(o,T);Ar(I);var p=(z^L>=0?-1:1)*pt(I[2]);(i>p||i===p&&(T[0]||T[1]))&&(a+=z^L>=0?1:-1)}}return(l<-$||l<$&&h<-Au)^a&1}function na(e,t,n,i){return function(r){var o=t(r),l=ea(),a=t(l),h=!1,u,f,s,c={point:d,lineStart:y,lineEnd:_,polygonStart:function(){c.point=v,c.lineStart=w,c.lineEnd=S,f=[],u=[]},polygonEnd:function(){c.point=d,c.lineStart=y,c.lineEnd=_,f=ql(f);var N=Bu(u,i);f.length?(h||(r.polygonStart(),h=!0),ta(f,qu,N,n,r)):N&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(N,b){e(N,b)&&r.point(N,b)}function g(N,b){o.point(N,b)}function y(){c.point=g,o.lineStart()}function _(){c.point=d,o.lineEnd()}function v(N,b){s.push([N,b]),a.point(N,b)}function w(){a.lineStart(),s=[]}function S(){v(s[0][0],s[0][1]),a.lineEnd();var N=a.clean(),b=l.result(),R,j=b.length,L,C,B;if(s.pop(),u.push(s),s=null,!!j){if(N&1){if(C=b[0],(L=C.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),R=0;R<L;++R)r.point((B=C[R])[0],B[1]);r.lineEnd()}return}j>1&&N&2&&b.push(b.pop().concat(b.shift())),f.push(b.filter(Tu))}}return c}}function Tu(e){return e.length>1}function qu(e,t){return((e=e.x)[0]<0?e[1]-Ce-$:Ce-e[1])-((t=t.x)[0]<0?t[1]-Ce-$:Ce-t[1])}const tl=na(function(){return!0},xu,Ou,[-J,-Ce]);function xu(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(o,l){var a=o>0?J:-J,h=fe(o-t);fe(h-J)<$?(e.point(t,n=(n+l)/2>0?Ce:-Ce),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),r=0):i!==a&&h>=J&&(fe(t-i)<$&&(t-=i*$),fe(o-a)<$&&(o-=a*$),n=Gu(t,n,o,l),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),r=0),e.point(t=o,n=l),i=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function Gu(e,t,n,i){var r,o,l=ae(e-n);return fe(l)>$?Cu((ae(t)*(o=ce(i))*ae(n)-ae(i)*(r=ce(t))*ae(e))/(r*o*l)):(t+i)/2}function Ou(e,t,n,i){var r;if(e==null)r=n*Ce,i.point(-J,r),i.point(0,r),i.point(J,r),i.point(J,0),i.point(J,-r),i.point(0,-r),i.point(-J,-r),i.point(-J,0),i.point(-J,r);else if(fe(e[0]-t[0])>$){var o=e[0]<t[0]?J:-J;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function Hu(e){var t=ce(e),n=6*we,i=t>0,r=fe(t)>$;function o(f,s,c,d){Lu(d,e,n,c,f,s)}function l(f,s){return ce(f)*ce(s)>t}function a(f){var s,c,d,g,y;return{lineStart:function(){g=d=!1,y=1},point:function(_,v){var w=[_,v],S,N=l(_,v),b=i?N?0:u(_,v):N?u(_+(_<0?J:-J),v):0;if(!s&&(g=d=N)&&f.lineStart(),N!==d&&(S=h(s,w),(!S||Bi(s,S)||Bi(w,S))&&(w[2]=1)),N!==d)y=0,N?(f.lineStart(),S=h(w,s),f.point(S[0],S[1])):(S=h(s,w),f.point(S[0],S[1],2),f.lineEnd()),s=S;else if(r&&s&&i^N){var R;!(b&c)&&(R=h(w,s,!0))&&(y=0,i?(f.lineStart(),f.point(R[0][0],R[0][1]),f.point(R[1][0],R[1][1]),f.lineEnd()):(f.point(R[1][0],R[1][1]),f.lineEnd(),f.lineStart(),f.point(R[0][0],R[0][1],3)))}N&&(!s||!Bi(s,w))&&f.point(w[0],w[1]),s=w,d=N,c=b},lineEnd:function(){d&&f.lineEnd(),s=null},clean:function(){return y|(g&&d)<<1}}}function h(f,s,c){var d=Xt(f),g=Xt(s),y=[1,0,0],_=Yi(d,g),v=Di(_,_),w=_[0],S=v-w*w;if(!S)return!c&&f;var N=t*v/S,b=-t*w/S,R=Yi(y,_),j=Ai(y,N),L=Ai(_,b);Sr(j,L);var C=R,B=Di(j,C),z=Di(C,C),U=B*B-z*(Di(j,j)-1);if(!(U<0)){var T=Ze(U),I=Ai(C,(-B-T)/z);if(Sr(I,j),I=Dr(I),!c)return I;var p=f[0],k=s[0],x=f[1],G=s[1],Z;k<p&&(Z=p,p=k,k=Z);var A=k-p,O=fe(A-J)<$,le=O||A<$;if(!O&&G<x&&(Z=x,x=G,G=Z),le?O?x+G>0^I[1]<(fe(I[0]-p)<$?x:G):x<=I[1]&&I[1]<=G:A>J^(p<=I[0]&&I[0]<=k)){var H=Ai(C,(-B+T)/z);return Sr(H,j),[I,Dr(H)]}}}function u(f,s){var c=i?e:J-e,d=0;return f<-c?d|=1:f>c&&(d|=2),s<-c?d|=4:s>c&&(d|=8),d}return na(l,a,o,i?[0,-e]:[-J,e-J])}function Fu(e,t,n,i,r,o){var l=e[0],a=e[1],h=t[0],u=t[1],f=0,s=1,c=h-l,d=u-a,g;if(g=n-l,!(!c&&g>0)){if(g/=c,c<0){if(g<f)return;g<s&&(s=g)}else if(c>0){if(g>s)return;g>f&&(f=g)}if(g=r-l,!(!c&&g<0)){if(g/=c,c<0){if(g>s)return;g>f&&(f=g)}else if(c>0){if(g<f)return;g<s&&(s=g)}if(g=i-a,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<s&&(s=g)}else if(d>0){if(g>s)return;g>f&&(f=g)}if(g=o-a,!(!d&&g<0)){if(g/=d,d<0){if(g>s)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<s&&(s=g)}return f>0&&(e[0]=l+f*c,e[1]=a+f*d),s<1&&(t[0]=l+s*c,t[1]=a+s*d),!0}}}}}var Sn=1e9,Ii=-Sn;function Wu(e,t,n,i){function r(u,f){return e<=u&&u<=n&&t<=f&&f<=i}function o(u,f,s,c){var d=0,g=0;if(u==null||(d=l(u,s))!==(g=l(f,s))||h(u,f)<0^s>0)do c.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+s+4)%4)!==g);else c.point(f[0],f[1])}function l(u,f){return fe(u[0]-e)<$?f>0?0:3:fe(u[0]-n)<$?f>0?2:1:fe(u[1]-t)<$?f>0?1:0:f>0?3:2}function a(u,f){return h(u.x,f.x)}function h(u,f){var s=l(u,1),c=l(f,1);return s!==c?s-c:s===0?f[1]-u[1]:s===1?u[0]-f[0]:s===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,s=ea(),c,d,g,y,_,v,w,S,N,b,R,j={point:L,lineStart:U,lineEnd:T,polygonStart:B,polygonEnd:z};function L(p,k){r(p,k)&&f.point(p,k)}function C(){for(var p=0,k=0,x=d.length;k<x;++k)for(var G=d[k],Z=1,A=G.length,O=G[0],le,H,De=O[0],Ae=O[1];Z<A;++Z)le=De,H=Ae,O=G[Z],De=O[0],Ae=O[1],H<=i?Ae>i&&(De-le)*(i-H)>(Ae-H)*(e-le)&&++p:Ae<=i&&(De-le)*(i-H)<(Ae-H)*(e-le)&&--p;return p}function B(){f=s,c=[],d=[],R=!0}function z(){var p=C(),k=R&&p,x=(c=ql(c)).length;(k||x)&&(u.polygonStart(),k&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),x&&ta(c,a,p,o,u),u.polygonEnd()),f=u,c=d=g=null}function U(){j.point=I,d&&d.push(g=[]),b=!0,N=!1,w=S=NaN}function T(){c&&(I(y,_),v&&N&&s.rejoin(),c.push(s.result())),j.point=L,N&&f.lineEnd()}function I(p,k){var x=r(p,k);if(d&&g.push([p,k]),b)y=p,_=k,v=x,b=!1,x&&(f.lineStart(),f.point(p,k));else if(x&&N)f.point(p,k);else{var G=[w=Math.max(Ii,Math.min(Sn,w)),S=Math.max(Ii,Math.min(Sn,S))],Z=[p=Math.max(Ii,Math.min(Sn,p)),k=Math.max(Ii,Math.min(Sn,k))];Fu(G,Z,e,t,n,i)?(N||(f.lineStart(),f.point(G[0],G[1])),f.point(Z[0],Z[1]),x||f.lineEnd(),R=!1):x&&(f.lineStart(),f.point(p,k),R=!1)}w=p,S=k,N=x}return j}}const jr=e=>e;var Er=new _t,Lr=new _t,ia,ra,Br,Tr,it={point:Ie,lineStart:Ie,lineEnd:Ie,polygonStart:function(){it.lineStart=Uu,it.lineEnd=Yu},polygonEnd:function(){it.lineStart=it.lineEnd=it.point=Ie,Er.add(fe(Lr)),Lr=new _t},result:function(){var e=Er/2;return Er=new _t,e}};function Uu(){it.point=Vu}function Vu(e,t){it.point=oa,ia=Br=e,ra=Tr=t}function oa(e,t){Lr.add(Tr*e-Br*t),Br=e,Tr=t}function Yu(){oa(ia,ra)}const nl=it;var Kt=1/0,Xi=Kt,An=-Kt,Ki=An,Xu={point:Ku,lineStart:Ie,lineEnd:Ie,polygonStart:Ie,polygonEnd:Ie,result:function(){var e=[[Kt,Xi],[An,Ki]];return An=Ki=-(Xi=Kt=1/0),e}};function Ku(e,t){e<Kt&&(Kt=e),e>An&&(An=e),t<Xi&&(Xi=t),t>Ki&&(Ki=t)}const Zi=Xu;var qr=0,xr=0,kn=0,Qi=0,Ji=0,Ft=0,Gr=0,Or=0,En=0,la,aa,He,Fe,qe={point:bt,lineStart:il,lineEnd:rl,polygonStart:function(){qe.lineStart=Ju,qe.lineEnd=$u},polygonEnd:function(){qe.point=bt,qe.lineStart=il,qe.lineEnd=rl},result:function(){var e=En?[Gr/En,Or/En]:Ft?[Qi/Ft,Ji/Ft]:kn?[qr/kn,xr/kn]:[NaN,NaN];return qr=xr=kn=Qi=Ji=Ft=Gr=Or=En=0,e}};function bt(e,t){qr+=e,xr+=t,++kn}function il(){qe.point=Zu}function Zu(e,t){qe.point=Qu,bt(He=e,Fe=t)}function Qu(e,t){var n=e-He,i=t-Fe,r=Ze(n*n+i*i);Qi+=r*(He+e)/2,Ji+=r*(Fe+t)/2,Ft+=r,bt(He=e,Fe=t)}function rl(){qe.point=bt}function Ju(){qe.point=es}function $u(){fa(la,aa)}function es(e,t){qe.point=fa,bt(la=He=e,aa=Fe=t)}function fa(e,t){var n=e-He,i=t-Fe,r=Ze(n*n+i*i);Qi+=r*(He+e)/2,Ji+=r*(Fe+t)/2,Ft+=r,r=Fe*e-He*t,Gr+=r*(He+e),Or+=r*(Fe+t),En+=r*3,bt(He=e,Fe=t)}const ol=qe;function ua(e){this._context=e}ua.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,je);break}}},result:Ie};var Hr=new _t,Rr,sa,ca,Rn,Nn,$i={point:Ie,lineStart:function(){$i.point=ts},lineEnd:function(){Rr&&ha(sa,ca),$i.point=Ie},polygonStart:function(){Rr=!0},polygonEnd:function(){Rr=null},result:function(){var e=+Hr;return Hr=new _t,e}};function ts(e,t){$i.point=ha,sa=Rn=e,ca=Nn=t}function ha(e,t){Rn-=e,Nn-=t,Hr.add(Ze(Rn*Rn+Nn*Nn)),Rn=e,Nn=t}const ll=$i;let al,er,fl,ul;class sl{constructor(t){this._append=t==null?da:ns(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==fl||this._append!==er){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,fl=i,er=this._append,ul=this._,this._=r}this._+=ul;break}}}result(){const t=this._;return this._="",t.length?t:null}}function da(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ns(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return da;if(t!==al){const n=10**t;al=t,er=function(r){let o=1;this._+=r[0];for(const l=r.length;o<l;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}return er}function cl(e,t){let n=3,i=4.5,r,o;function l(a){return a&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Ht(a,r(o))),o.result()}return l.area=function(a){return Ht(a,r(nl)),nl.result()},l.measure=function(a){return Ht(a,r(ll)),ll.result()},l.bounds=function(a){return Ht(a,r(Zi)),Zi.result()},l.centroid=function(a){return Ht(a,r(ol)),ol.result()},l.projection=function(a){return arguments.length?(r=a==null?(e=null,jr):(e=a).stream,l):e},l.context=function(a){return arguments.length?(o=a==null?(t=null,new sl(n)):new ua(t=a),typeof i!="function"&&o.pointRadius(i),l):t},l.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(o.pointRadius(+a),+a),l):i},l.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const h=Math.floor(a);if(!(h>=0))throw new RangeError(`invalid digits: ${a}`);n=h}return t===null&&(o=new sl(n)),l},l.projection(e).digits(n).context(t)}function Qr(e){return function(t){var n=new Fr;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Fr(){}Fr.prototype={constructor:Fr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jr(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Ht(n,e.stream(Zi)),t(Zi.result()),i!=null&&e.clipExtent(i),e}function $r(e,t,n){return Jr(e,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],l=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+t[0][0]+(r-l*(i[1][0]+i[0][0]))/2,h=+t[0][1]+(o-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([a,h])},n)}function ga(e,t,n){return $r(e,[[0,0],t],n)}function ma(e,t,n){return Jr(e,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),l=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];e.scale(150*o).translate([l,a])},n)}function _a(e,t,n){return Jr(e,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),l=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([l,a])},n)}var hl=16,is=ce(30*we);function dl(e,t){return+t?os(e,t):rs(e)}function rs(e){return Qr({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function os(e,t){function n(i,r,o,l,a,h,u,f,s,c,d,g,y,_){var v=u-i,w=f-r,S=v*v+w*w;if(S>4*t&&y--){var N=l+c,b=a+d,R=h+g,j=Ze(N*N+b*b+R*R),L=pt(R/=j),C=fe(fe(R)-1)<$||fe(o-s)<$?(o+s)/2:Yt(b,N),B=e(C,L),z=B[0],U=B[1],T=z-i,I=U-r,p=w*T-v*I;(p*p/S>t||fe((v*T+w*I)/S-.5)>.3||l*c+a*d+h*g<is)&&(n(i,r,o,l,a,h,z,U,C,N/=j,b/=j,R,y,_),_.point(z,U),n(z,U,C,N,b,R,u,f,s,c,d,g,y,_))}}return function(i){var r,o,l,a,h,u,f,s,c,d,g,y,_={point:v,lineStart:w,lineEnd:N,polygonStart:function(){i.polygonStart(),_.lineStart=b},polygonEnd:function(){i.polygonEnd(),_.lineStart=w}};function v(L,C){L=e(L,C),i.point(L[0],L[1])}function w(){s=NaN,_.point=S,i.lineStart()}function S(L,C){var B=Xt([L,C]),z=e(L,C);n(s,c,f,d,g,y,s=z[0],c=z[1],f=L,d=B[0],g=B[1],y=B[2],hl,i),i.point(s,c)}function N(){_.point=v,i.lineEnd()}function b(){w(),_.point=R,_.lineEnd=j}function R(L,C){S(r=L,C),o=s,l=c,a=d,h=g,u=y,_.point=S}function j(){n(s,c,f,d,g,y,o,l,r,a,h,u,hl,i),_.lineEnd=N,N()}return _}}var ls=Qr({point:function(e,t){this.stream.point(e*we,t*we)}});function as(e){return Qr({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function fs(e,t,n,i,r){function o(l,a){return l*=i,a*=r,[t+e*l,n-e*a]}return o.invert=function(l,a){return[(l-t)/e*i,(n-a)/e*r]},o}function gl(e,t,n,i,r,o){if(!o)return fs(e,t,n,i,r);var l=ce(o),a=ae(o),h=l*e,u=a*e,f=l/e,s=a/e,c=(a*n-l*t)/e,d=(a*t+l*n)/e;function g(y,_){return y*=i,_*=r,[h*y-u*_+t,n-u*y-h*_]}return g.invert=function(y,_){return[i*(f*y-s*_+c),r*(d-s*y-f*_)]},g}function us(e){var t,n=150,i=480,r=250,o=0,l=0,a=0,h=0,u=0,f,s=0,c=1,d=1,g=null,y=tl,_=null,v,w,S,N=jr,b=.5,R,j,L,C,B;function z(p){return L(p[0]*we,p[1]*we)}function U(p){return p=L.invert(p[0],p[1]),p&&[p[0]*Be,p[1]*Be]}z.stream=function(p){return C&&B===p?C:C=ls(as(f)(y(R(N(B=p)))))},z.preclip=function(p){return arguments.length?(y=p,g=void 0,I()):y},z.postclip=function(p){return arguments.length?(N=p,_=v=w=S=null,I()):N},z.clipAngle=function(p){return arguments.length?(y=+p?Hu(g=p*we):(g=null,tl),I()):g*Be},z.clipExtent=function(p){return arguments.length?(N=p==null?(_=v=w=S=null,jr):Wu(_=+p[0][0],v=+p[0][1],w=+p[1][0],S=+p[1][1]),I()):_==null?null:[[_,v],[w,S]]},z.scale=function(p){return arguments.length?(n=+p,T()):n},z.translate=function(p){return arguments.length?(i=+p[0],r=+p[1],T()):[i,r]},z.center=function(p){return arguments.length?(o=p[0]%360*we,l=p[1]%360*we,T()):[o*Be,l*Be]},z.rotate=function(p){return arguments.length?(a=p[0]%360*we,h=p[1]%360*we,u=p.length>2?p[2]%360*we:0,T()):[a*Be,h*Be,u*Be]},z.angle=function(p){return arguments.length?(s=p%360*we,T()):s*Be},z.reflectX=function(p){return arguments.length?(c=p?-1:1,T()):c<0},z.reflectY=function(p){return arguments.length?(d=p?-1:1,T()):d<0},z.precision=function(p){return arguments.length?(R=dl(j,b=p*p),I()):Ze(b)},z.fitExtent=function(p,k){return $r(z,p,k)},z.fitSize=function(p,k){return ga(z,p,k)},z.fitWidth=function(p,k){return ma(z,p,k)},z.fitHeight=function(p,k){return _a(z,p,k)};function T(){var p=gl(n,0,0,c,d,s).apply(null,t(o,l)),k=gl(n,i-p[0],r-p[1],c,d,s);return f=ju(a,h,u),j=Cr(t,k),L=Cr(f,j),R=dl(j,b),I()}function I(){return C=B=null,z}return function(){return t=e.apply(this,arguments),z.invert=t.invert&&U,T()}}function ss(e){var t=0,n=J/3,i=us(e),r=i(t,n);return r.parallels=function(o){return arguments.length?i(t=o[0]*we,n=o[1]*we):[t*Be,n*Be]},r}function cs(e){var t=ce(e);function n(i,r){return[i*t,ae(r)/t]}return n.invert=function(i,r){return[i/t,pt(r*t)]},n}function hs(e,t){var n=ae(e),i=(n+ae(t))/2;if(fe(i)<$)return cs(e);var r=1+n*(2*i-n),o=Ze(r)/i;function l(a,h){var u=Ze(r-2*i*ae(h))/i;return[u*ae(a*=i),o-u*ce(a)]}return l.invert=function(a,h){var u=o-h,f=Yt(a,fe(u))*Li(u);return u*i<0&&(f-=J*Li(a)*Li(u)),[f/i,pt((r-(a*a+u*u)*i*i)/(2*i))]},l}function Wr(){return ss(hs).scale(155.424).center([0,33.6442])}function ds(){return Wr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function gs(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function ms(){var e,t,n=ds(),i,r=Wr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,l=Wr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,h,u={point:function(c,d){h=[c,d]}};function f(c){var d=c[0],g=c[1];return h=null,i.point(d,g),h||(o.point(d,g),h)||(a.point(d,g),h)}f.invert=function(c){var d=n.scale(),g=n.translate(),y=(c[0]-g[0])/d,_=(c[1]-g[1])/d;return(_>=.12&&_<.234&&y>=-.425&&y<-.214?r:_>=.166&&_<.234&&y>=-.214&&y<-.115?l:n).invert(c)},f.stream=function(c){return e&&t===c?e:e=gs([n.stream(t=c),r.stream(c),l.stream(c)])},f.precision=function(c){return arguments.length?(n.precision(c),r.precision(c),l.precision(c),s()):n.precision()},f.scale=function(c){return arguments.length?(n.scale(c),r.scale(c*.35),l.scale(c),f.translate(n.translate())):n.scale()},f.translate=function(c){if(!arguments.length)return n.translate();var d=n.scale(),g=+c[0],y=+c[1];return i=n.translate(c).clipExtent([[g-.455*d,y-.238*d],[g+.455*d,y+.238*d]]).stream(u),o=r.translate([g-.307*d,y+.201*d]).clipExtent([[g-.425*d+$,y+.12*d+$],[g-.214*d-$,y+.234*d-$]]).stream(u),a=l.translate([g-.205*d,y+.212*d]).clipExtent([[g-.214*d+$,y+.166*d+$],[g-.115*d-$,y+.234*d-$]]).stream(u),s()},f.fitExtent=function(c,d){return $r(f,c,d)},f.fitSize=function(c,d){return ga(f,c,d)},f.fitWidth=function(c,d){return ma(f,c,d)},f.fitHeight=function(c,d){return _a(f,c,d)};function s(){return e=t=null,f}return f.scale(1070)}function _s(e,t,n){let i,r,o,l,a,h,u,f;const{data:s,width:c,height:d,zGet:g}=mt("LayerCake");M(e,s,b=>n(17,f=b)),M(e,c,b=>n(16,u=b)),M(e,d,b=>n(15,h=b)),M(e,g,b=>n(14,a=b));const{ctx:y}=mt("canvas");M(e,y,b=>n(13,l=b));let{projection:_}=t,{stroke:v="#ccc"}=t,{strokeWidth:w=1}=t,{fill:S=void 0}=t,{features:N=void 0}=t;return e.$$set=b=>{"projection"in b&&n(5,_=b.projection),"stroke"in b&&n(6,v=b.stroke),"strokeWidth"in b&&n(7,w=b.strokeWidth),"fill"in b&&n(8,S=b.fill),"features"in b&&n(9,N=b.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=_().fitSize([u,h],f)),e.$$.dirty&4096&&n(10,r=cl(i)),e.$$.dirty&131584&&n(11,o=N||f.features),e.$$.dirty&126400&&l&&cl&&($l(l,u,h),l.clearRect(0,0,u,h),o.forEach(b=>{l.beginPath(),r.context(l),r(b),F(y,l.fillStyle=S||a(b.properties),l),l.fill(),F(y,l.lineWidth=w,l),F(y,l.strokeStyle=v,l),l.stroke()}))},[s,c,d,g,y,_,v,w,S,N,r,o,i,l,a,h,u,f]}class ys extends Me{constructor(t){super(),Pe(this,t,_s,null,ze,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function ml(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function _l(e){let t=[],n=new Map,i,r=ut(e[4]);const o=l=>`${l[29].ori}-${l[29].name}`;for(let l=0;l<r.length;l+=1){let a=ml(e,r,l),h=o(a);n.set(h,t[l]=pl(h,a))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();i=me()},l(l){for(let a=0;a<t.length;a+=1)t[a].l(l);i=me()},m(l,a){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(l,a);V(l,i,a)},p(l,a){a[0]&98815&&(r=ut(l[4]),t=Aa(t,a,o,1,l,r,n,i.parentNode,Da,pl,i,ml))},d(l){l&&P(i);for(let a=0;a<t.length;a+=1)t[a].d(l)}}}function yl(e){let t,n,i,r,o,l,a;function h(...s){return e[22](e[29],...s)}function u(...s){return e[23](e[29],...s)}function f(...s){return e[24](e[29],...s)}return{c(){t=Ue("circle"),this.h()},l(s){t=Ve(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),W(t).forEach(P),this.h()},h(){E(t,"cx",n=e[30][0]),E(t,"cy",i=e[30][1]),E(t,"r",r=e[7](Math.abs(e[8](e[29])))),E(t,"fill",o=e[0](e[29])),E(t,"stroke",e[1]),E(t,"stroke-width",e[2]),E(t,"opacity",e[3])},m(s,c){V(s,t,c),l||(a=[ye(t,"mouseover",h),ye(t,"focus",u),ye(t,"mousemove",function(){Ur(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),ye(t,"click",f)],l=!0)},p(s,c){e=s,c[0]&48&&n!==(n=e[30][0])&&E(t,"cx",n),c[0]&48&&i!==(i=e[30][1])&&E(t,"cy",i),c[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&E(t,"r",r),c[0]&17&&o!==(o=e[0](e[29]))&&E(t,"fill",o),c[0]&2&&E(t,"stroke",e[1]),c[0]&4&&E(t,"stroke-width",e[2]),c[0]&8&&E(t,"opacity",e[3])},d(s){s&&P(t),l=!1,Cn(a)}}}function pl(e,t){let n,i=!isNaN(t[6](t[29])),r,o=i&&yl(t);return{key:e,first:null,c(){n=me(),o&&o.c(),r=me(),this.h()},l(l){n=me(),o&&o.l(l),r=me(),this.h()},h(){this.first=n},m(l,a){V(l,n,a),o&&o.m(l,a),V(l,r,a)},p(l,a){t=l,a[0]&80&&(i=!isNaN(t[6](t[29]))),i?o?o.p(t,a):(o=yl(t),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(l){l&&(P(n),P(r)),o&&o.d(l)}}}function ps(e){let t,n,i,r=e[4].length&&_l(e);return{c(){t=Ue("g"),r&&r.c(),this.h()},l(o){t=Ve(o,"g",{class:!0});var l=W(t);r&&r.l(l),l.forEach(P),this.h()},h(){E(t,"class","points")},m(o,l){V(o,t,l),r&&r.m(t,null),n||(i=[ye(t,"mouseout",e[25]),ye(t,"blur",e[26])],n=!0)},p(o,l){o[4].length?r?r.p(o,l):(r=_l(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:Ke,o:Ke,d(o){o&&P(t),r&&r.d(),n=!1,Cn(i)}}}function bs(e,t,n){let i,r,o,l,a,h,u;const{data:f,width:s,height:c,rScale:d,rGet:g,zGet:y,r:_,zScale:v}=mt("LayerCake");M(e,f,k=>n(19,r=k)),M(e,s,k=>n(21,l=k)),M(e,c,k=>n(20,o=k)),M(e,d,k=>n(7,h=k)),M(e,g,k=>n(6,a=k)),M(e,_,k=>n(8,u=k));let{projection:w}=t;const S=Na();let{fill:N="yellow"}=t,{fillFunction:b=k=>k}=t,{stroke:R="#000"}=t,{strokeWidth:j=1}=t,{opacity:L=1}=t,{features:C=void 0}=t;function B(k){return function(G){Ru(this),G.layerX!==0&&G.layerY!==0&&S("mousemove",{e:G,props:k})}}const z=(k,x)=>S("mousemove",{e:x,props:k}),U=(k,x)=>S("mousemove",{e:x,props:k}),T=(k,x)=>S("clickedPoint",{e:x,props:k}),I=k=>S("mouseout"),p=k=>S("mouseout");return e.$$set=k=>{"projection"in k&&n(17,w=k.projection),"fill"in k&&n(18,N=k.fill),"fillFunction"in k&&n(0,b=k.fillFunction),"stroke"in k&&n(1,R=k.stroke),"strokeWidth"in k&&n(2,j=k.strokeWidth),"opacity"in k&&n(3,L=k.opacity),"features"in k&&n(4,C=k.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=w().fitSize([l,o],r))},[b,R,j,L,C,i,a,h,u,f,s,c,d,g,_,S,B,w,N,r,o,l,z,U,T,I,p]}class ws extends Me{constructor(t){super(),Pe(this,t,bs,ps,ze,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const vs=e=>({detail:e&1}),bl=e=>({detail:e[0].detail});function wl(e){let t,n;const i=e[3].default,r=rt(i,e,e[2],bl);return{c(){t=Y("div"),r&&r.c(),this.h()},l(o){t=X(o,"DIV",{class:!0,style:!0});var l=W(t);r&&r.l(l),l.forEach(P),this.h()},h(){E(t,"class","tooltip svelte-qjsu2l"),q(t,"top",e[0].detail.e.layerY+e[1]+"px"),q(t,"left",e[0].detail.e.layerX+"px")},m(o,l){V(o,t,l),r&&r.m(t,null),n=!0},p(o,l){r&&r.p&&(!n||l&5)&&ot(r,i,o,o[2],n?at(i,o[2],l,vs):lt(o[2]),bl),(!n||l&3)&&q(t,"top",o[0].detail.e.layerY+o[1]+"px"),(!n||l&1)&&q(t,"left",o[0].detail.e.layerX+"px")},i(o){n||(ee(r,o),n=!0)},o(o){re(r,o),n=!1},d(o){o&&P(t),r&&r.d(o)}}}function Ss(e){let t,n,i=e[0].detail&&wl(e);return{c(){i&&i.c(),t=me()},l(r){i&&i.l(r),t=me()},m(r,o){i&&i.m(r,o),V(r,t,o),n=!0},p(r,[o]){r[0].detail?i?(i.p(r,o),o&1&&ee(i,1)):(i=wl(r),i.c(),ee(i,1),i.m(t.parentNode,t)):i&&(tr(),re(i,1,1,()=>{i=null}),nr())},i(r){n||(ee(i),n=!0)},o(r){re(i),n=!1},d(r){r&&P(t),i&&i.d(r)}}}function ks(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:o={}}=t,{offset:l=-35}=t;return e.$$set=a=>{"evt"in a&&n(0,o=a.evt),"offset"in a&&n(1,l=a.offset),"$$scope"in a&&n(2,r=a.$$scope)},[o,l,r,i]}class Es extends Me{constructor(t){super(),Pe(this,t,ks,Ss,ze,{evt:0,offset:1})}}function Rs(e){let t,n,i="The Worst:",r,o=e[1].name+"",l,a=`${e[3][1]+vl}px`,h=`${e[3][0]}px`,u,f,s,c="The Best:",d,g=e[0].name+"",y,_=`${e[2][1]}px`,v=`${e[2][0]}px`;return{c(){t=Y("p"),n=Y("strong"),n.textContent=i,r=he(),l=te(o),u=he(),f=Y("p"),s=Y("strong"),s.textContent=c,d=he(),y=te(g),this.h()},l(w){t=X(w,"P",{class:!0});var S=W(t);n=X(S,"STRONG",{"data-svelte-h":!0}),Ut(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=de(S),l=ne(S,o),S.forEach(P),u=de(w),f=X(w,"P",{class:!0});var N=W(f);s=X(N,"STRONG",{"data-svelte-h":!0}),Ut(s)!=="svelte-1u2nyi3"&&(s.textContent=c),d=de(N),y=ne(N,g),N.forEach(P),this.h()},h(){E(t,"class","worst svelte-1vzmzh6"),q(t,"top",a),q(t,"left",h),E(f,"class","best svelte-1vzmzh6"),q(f,"top",_),q(f,"left",v)},m(w,S){V(w,t,S),D(t,n),D(t,r),D(t,l),V(w,u,S),V(w,f,S),D(f,s),D(f,d),D(f,y)},p(w,[S]){S&2&&o!==(o=w[1].name+"")&&ge(l,o),S&8&&a!==(a=`${w[3][1]+vl}px`)&&q(t,"top",a),S&8&&h!==(h=`${w[3][0]}px`)&&q(t,"left",h),S&1&&g!==(g=w[0].name+"")&&ge(y,g),S&4&&_!==(_=`${w[2][1]}px`)&&q(f,"top",_),S&4&&v!==(v=`${w[2][0]}px`)&&q(f,"left",v)},i:Ke,o:Ke,d(w){w&&(P(t),P(u),P(f))}}}const vl=25;function Ns(e,t,n){let i,r,o,l,a,h,u,f;const{data:s,width:c,height:d}=mt("LayerCake");M(e,s,_=>n(10,h=_)),M(e,c,_=>n(12,f=_)),M(e,d,_=>n(11,u=_));let{features:g}=t,{projection:y}=t;return e.$$set=_=>{"features"in _&&n(7,g=_.features),"projection"in _&&n(8,y=_.projection)},e.$$.update=()=>{e.$$.dirty&7424&&n(9,i=y().fitSize([f,u],h)),e.$$.dirty&128&&n(1,r=g[0]),e.$$.dirty&128&&n(0,o=g[g.length-1]),e.$$.dirty&514&&n(3,l=i([r.longitude,r.latitude])),e.$$.dirty&513&&n(2,a=i([o.longitude,o.latitude]))},[o,r,a,l,s,c,d,g,y,i,h,u,f]}class zs extends Me{constructor(t){super(),Pe(this,t,Ns,Rs,ze,{features:7,projection:8})}}function Sl(e){const t={...e[14].props};e[15]=t}function Ms(e){let t,n;return t=new ys({props:{projection:e[6],fill:"#fff"}}),{c(){Se(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,r){Ee(t,i,r),n=!0},p:Ke,i(i){n||(ee(t.$$.fragment,i),n=!0)},o(i){re(t.$$.fragment,i),n=!1},d(i){Re(t,i)}}}function Ps(e){let t,n;return t=new ws({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[11]),t.$on("mouseout",e[12]),t.$on("clickedPoint",e[13]),{c(){Se(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,r){Ee(t,i,r),n=!0},p(i,r){const o={};r&16&&(o.features=i[4]),r&8&&(o.fillFunction=i[3]),t.$set(o)},i(i){n||(ee(t.$$.fragment,i),n=!0)},o(i){re(t.$$.fragment,i),n=!1},d(i){Re(t,i)}}}function Ds(e){let t,n;return t=new zs({props:{features:e[4],projection:e[6]}}),{c(){Se(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,r){Ee(t,i,r),n=!0},p(i,r){const o={};r&16&&(o.features=i[4]),t.$set(o)},i(i){n||(ee(t.$$.fragment,i),n=!0)},o(i){re(t.$$.fragment,i),n=!1},d(i){Re(t,i)}}}function kl(e){let t,n;return t=new Es({props:{evt:e[1],$$slots:{default:[As,({detail:i})=>({14:i}),({detail:i})=>i?16384:0]},$$scope:{ctx:e}}}),{c(){Se(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,r){Ee(t,i,r),n=!0},p(i,r){const o={};r&2&&(o.evt=i[1]),r&81920&&(o.$$scope={dirty:r,ctx:i}),t.$set(o)},i(i){n||(ee(t.$$.fragment,i),n=!0)},o(i){re(t.$$.fragment,i),n=!1},d(i){Re(t,i)}}}function As(e){Sl(e);let t,n=e[15].name+"",i,r,o,l=e[15].bad_air_days+"",a,h;return{c(){t=Y("p"),i=te(n),r=he(),o=Y("p"),a=te(l),h=te(" bad air days"),this.h()},l(u){t=X(u,"P",{class:!0});var f=W(t);i=ne(f,n),f.forEach(P),r=de(u),o=X(u,"P",{class:!0});var s=W(o);a=ne(s,l),h=ne(s," bad air days"),s.forEach(P),this.h()},h(){E(t,"class","name svelte-1q0sbj5"),E(o,"class","days")},m(u,f){V(u,t,f),D(t,i),V(u,r,f),V(u,o,f),D(o,a),D(o,h)},p(u,f){Sl(u),f&16384&&n!==(n=u[15].name+"")&&ge(i,n),f&16384&&l!==(l=u[15].bad_air_days+"")&&ge(a,l)},d(u){u&&(P(t),P(r),P(o))}}}function Cs(e){let t,n,i=e[2]!==!0&&kl(e);return{c(){i&&i.c(),t=me()},l(r){i&&i.l(r),t=me()},m(r,o){i&&i.m(r,o),V(r,t,o),n=!0},p(r,o){r[2]!==!0?i?(i.p(r,o),o&4&&ee(i,1)):(i=kl(r),i.c(),ee(i,1),i.m(t.parentNode,t)):i&&(tr(),re(i,1,1,()=>{i=null}),nr())},i(r){n||(ee(i),n=!0)},o(r){re(i),n=!1},d(r){r&&P(t),i&&i.d(r)}}}function Is(e){let t,n,i,r,o,l,a,h;return t=new Eu({props:{$$slots:{default:[Ms]},$$scope:{ctx:e}}}),i=new pu({props:{$$slots:{default:[Ps]},$$scope:{ctx:e}}}),o=new To({props:{pointerEvents:!1,$$slots:{default:[Ds]},$$scope:{ctx:e}}}),a=new To({props:{pointerEvents:!1,$$slots:{default:[Cs]},$$scope:{ctx:e}}}),{c(){Se(t.$$.fragment),n=he(),Se(i.$$.fragment),r=he(),Se(o.$$.fragment),l=he(),Se(a.$$.fragment)},l(u){ke(t.$$.fragment,u),n=de(u),ke(i.$$.fragment,u),r=de(u),ke(o.$$.fragment,u),l=de(u),ke(a.$$.fragment,u)},m(u,f){Ee(t,u,f),V(u,n,f),Ee(i,u,f),V(u,r,f),Ee(o,u,f),V(u,l,f),Ee(a,u,f),h=!0},p(u,f){const s={};f&65536&&(s.$$scope={dirty:f,ctx:u}),t.$set(s);const c={};f&65567&&(c.$$scope={dirty:f,ctx:u}),i.$set(c);const d={};f&65552&&(d.$$scope={dirty:f,ctx:u}),o.$set(d);const g={};f&65542&&(g.$$scope={dirty:f,ctx:u}),a.$set(g)},i(u){h||(ee(t.$$.fragment,u),ee(i.$$.fragment,u),ee(o.$$.fragment,u),ee(a.$$.fragment,u),h=!0)},o(u){re(t.$$.fragment,u),re(i.$$.fragment,u),re(o.$$.fragment,u),re(a.$$.fragment,u),h=!1},d(u){u&&(P(n),P(r),P(l)),Re(t,u),Re(i,u),Re(o,u),Re(a,u)}}}function js(e){let t,n,i;return n=new fu({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:Ql().clamp(!0),rRange:[1,15],rDomain:[0,365],$$slots:{default:[Is]},$$scope:{ctx:e}}}),{c(){t=Y("div"),Se(n.$$.fragment),this.h()},l(r){t=X(r,"DIV",{class:!0});var o=W(t);ke(n.$$.fragment,o),o.forEach(P),this.h()},h(){E(t,"class","container svelte-1q0sbj5")},m(r,o){V(r,t,o),Ee(n,t,null),i=!0},p(r,[o]){const l={};o&65567&&(l.$$scope={dirty:o,ctx:r}),n.$set(l)},i(r){i||(ee(n.$$.fragment,r),i=!0)},o(r){re(n.$$.fragment,r),i=!1},d(r){r&&P(t),Re(n)}}}function Ls(e,t,n){let i,r,o;M(e,yt,v=>n(0,o=v));let{data:l}=t,{us_states:a}=t,{cbsa_lookup:h}=t,u,f=!0;const s=Pu(a,a.objects.collection),c=ms,d=s.features.map(v=>v.properties),g=v=>n(1,u=n(2,f=v)),y=()=>n(2,f=!0),_=v=>{const{detail:w}=v,{props:S}=w;F(yt,o={value:S==null?void 0:S.code,label:S==null?void 0:S.name},o)};return e.$$set=v=>{"data"in v&&n(8,l=v.data),"us_states"in v&&n(9,a=v.us_states),"cbsa_lookup"in v&&n(10,h=v.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=l.map(v=>{var w,S;return{...v,latitude:(w=h.get(v.code))==null?void 0:w.latitude,longitude:(S=h.get(v.code))==null?void 0:S.longitude}}).filter(v=>v.latitude).filter(v=>v.longitude)),e.$$.dirty&1&&n(3,r=v=>v.code===o.value?"var(--primary)":"var(--secondary)")},[o,u,f,r,i,s,c,d,l,a,h,g,y,_]}class Bs extends Me{constructor(t){super(),Pe(this,t,Ls,js,ze,{data:8,us_states:9,cbsa_lookup:10})}}function El(e,t,n){const i=e.slice();return i[8]=t[n].name,i[9]=t[n].code,i[10]=t[n].bad_air_days,i}function Rl(e){let t,n,i=e[8]+"",r,o,l=e[10]+"",a,h,u,f;return{c(){t=Y("li"),n=Y("span"),r=te(i),o=te(`
				- `),a=te(l),h=te(` days
			`),this.h()},l(s){t=X(s,"LI",{class:!0});var c=W(t);n=X(c,"SPAN",{role:!0,class:!0});var d=W(n);r=ne(d,i),d.forEach(P),o=ne(c,`
				- `),a=ne(c,l),h=ne(c,` days
			`),c.forEach(P),this.h()},h(){E(n,"role","button"),E(n,"class","svelte-fe00af"),E(t,"class","svelte-fe00af")},m(s,c){V(s,t,c),D(t,n),D(n,r),D(t,o),D(t,a),D(t,h),u||(f=ye(n,"click",function(){Ur(e[6](e[8],e[9]))&&e[6](e[8],e[9]).apply(this,arguments)}),u=!0)},p(s,c){e=s,c&32&&i!==(i=e[8]+"")&&ge(r,i),c&32&&l!==(l=e[10]+"")&&ge(a,l)},d(s){s&&P(t),u=!1,f()}}}function Ts(e){var De,Ae,st;let t,n,i="The 10 Smokiest Places in 2022",r,o,l,a,h,u,f=((De=e[2][0])==null?void 0:De.name)+"",s,c,d,g=((Ae=e[2][0])==null?void 0:Ae.bad_air_days)+"",y,_,v,w,S,N,b=((st=e[3])==null?void 0:st.label)+"",R,j,L,C=e[4]+1+"",B,z,U=e[2].length+"",T,I,p,k=e[2][e[4]].bad_air_days+"",x,G,Z,A,O,le=ut(e[5]),H=[];for(let Q=0;Q<le.length;Q+=1)H[Q]=Rl(El(e,le,Q));return A=new Bs({props:{data:e[2],us_states:e[0],cbsa_lookup:e[1]}}),{c(){t=Y("section"),n=Y("h2"),n.textContent=i,r=he(),o=Y("ol");for(let Q=0;Q<H.length;Q+=1)H[Q].c();l=he(),a=Y("p"),h=te("In 2022 (our most recent year of data), "),u=Y("strong"),s=te(f),c=te(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=Y("strong"),y=te(g),_=te(` days of haze and
		low air quality.`),v=he(),w=Y("p"),S=te("For comparison, "),N=Y("strong"),R=te(b),j=te(` ranked number
		`),L=Y("strong"),B=te(C),z=te(`
			out of `),T=te(U),I=te(`
		locations with `),p=Y("strong"),x=te(k),G=te(`
		low air quality days in 2022.`),Z=he(),Se(A.$$.fragment),this.h()},l(Q){t=X(Q,"SECTION",{});var oe=W(t);n=X(oe,"H2",{"data-svelte-h":!0}),Ut(n)!=="svelte-15n9idw"&&(n.textContent=i),r=de(oe),o=X(oe,"OL",{class:!0});var pe=W(o);for(let wt=0;wt<H.length;wt+=1)H[wt].l(pe);pe.forEach(P),l=de(oe),a=X(oe,"P",{class:!0});var ve=W(a);h=ne(ve,"In 2022 (our most recent year of data), "),u=X(ve,"STRONG",{});var xe=W(u);s=ne(xe,f),xe.forEach(P),c=ne(ve,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=X(ve,"STRONG",{});var Qe=W(d);y=ne(Qe,g),Qe.forEach(P),_=ne(ve,` days of haze and
		low air quality.`),ve.forEach(P),v=de(oe),w=X(oe,"P",{class:!0});var ue=W(w);S=ne(ue,"For comparison, "),N=X(ue,"STRONG",{});var Je=W(N);R=ne(Je,b),Je.forEach(P),j=ne(ue,` ranked number
		`),L=X(ue,"STRONG",{});var ct=W(L);B=ne(ct,C),z=ne(ct,`
			out of `),T=ne(ct,U),ct.forEach(P),I=ne(ue,`
		locations with `),p=X(ue,"STRONG",{});var Zt=W(p);x=ne(Zt,k),Zt.forEach(P),G=ne(ue,`
		low air quality days in 2022.`),ue.forEach(P),Z=de(oe),ke(A.$$.fragment,oe),oe.forEach(P),this.h()},h(){E(o,"class","svelte-fe00af"),E(a,"class","prose"),E(w,"class","prose")},m(Q,oe){V(Q,t,oe),D(t,n),D(t,r),D(t,o);for(let pe=0;pe<H.length;pe+=1)H[pe]&&H[pe].m(o,null);D(t,l),D(t,a),D(a,h),D(a,u),D(u,s),D(a,c),D(a,d),D(d,y),D(a,_),D(t,v),D(t,w),D(w,S),D(w,N),D(N,R),D(w,j),D(w,L),D(L,B),D(L,z),D(L,T),D(w,I),D(w,p),D(p,x),D(w,G),D(t,Z),Ee(A,t,null),O=!0},p(Q,[oe]){var ve,xe,Qe;if(oe&96){le=ut(Q[5]);let ue;for(ue=0;ue<le.length;ue+=1){const Je=El(Q,le,ue);H[ue]?H[ue].p(Je,oe):(H[ue]=Rl(Je),H[ue].c(),H[ue].m(o,null))}for(;ue<H.length;ue+=1)H[ue].d(1);H.length=le.length}(!O||oe&4)&&f!==(f=((ve=Q[2][0])==null?void 0:ve.name)+"")&&ge(s,f),(!O||oe&4)&&g!==(g=((xe=Q[2][0])==null?void 0:xe.bad_air_days)+"")&&ge(y,g),(!O||oe&8)&&b!==(b=((Qe=Q[3])==null?void 0:Qe.label)+"")&&ge(R,b),(!O||oe&16)&&C!==(C=Q[4]+1+"")&&ge(B,C),(!O||oe&4)&&U!==(U=Q[2].length+"")&&ge(T,U),(!O||oe&20)&&k!==(k=Q[2][Q[4]].bad_air_days+"")&&ge(x,k);const pe={};oe&4&&(pe.data=Q[2]),oe&1&&(pe.us_states=Q[0]),oe&2&&(pe.cbsa_lookup=Q[1]),A.$set(pe)},i(Q){O||(ee(A.$$.fragment,Q),O=!0)},o(Q){re(A.$$.fragment,Q),O=!1},d(Q){Q&&P(t),Vr(H,Q),Re(A)}}}function qs(e,t,n){let i,r,o,l;M(e,yt,s=>n(3,l=s));let{data:a}=t,{us_states:h}=t,{cbsa_lookup:u}=t;const f=(s,c)=>{F(yt,l={value:c,label:s},l)};return e.$$set=s=>{"data"in s&&n(7,a=s.data),"us_states"in s&&n(0,h=s.us_states),"cbsa_lookup"in s&&n(1,u=s.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&128&&n(2,i=a.filter(s=>s.year===2022).sort((s,c)=>Bl(s.bad_air_days,c.bad_air_days))),e.$$.dirty&4&&n(5,r=i.slice(0,10)),e.$$.dirty&12&&n(4,o=i.findIndex(s=>s["CBSA Code"]===(l==null?void 0:l.value)))},[h,u,i,l,o,r,f,a]}class xs extends Me{constructor(t){super(),Pe(this,t,qs,Ts,ze,{data:7,us_states:0,cbsa_lookup:1})}}function Nl(e){let t,n;return{c(){t=Ue("desc"),n=te(e[7])},l(i){t=Ve(i,"desc",{});var r=W(t);n=ne(r,e[7]),r.forEach(P)},m(i,r){V(i,t,r),D(t,n)},p(i,r){r&128&&ge(n,i[7])},d(i){i&&P(t)}}}function zl(e){let t,n;return{c(){t=Ue("title"),n=te(e[6])},l(i){t=Ve(i,"title",{});var r=W(t);n=ne(r,e[6]),r.forEach(P)},m(i,r){V(i,t,r),D(t,n)},p(i,r){r&64&&ge(n,i[6])},d(i){i&&P(t)}}}function Gs(e){let t,n,i,r=e[7]&&Nl(e),o=e[6]&&zl(e);return{c(){t=Ue("svg"),r&&r.c(),n=me(),o&&o.c(),i=Ue("path"),this.h()},l(l){t=Ve(l,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var a=W(t);r&&r.l(a),n=me(),o&&o.l(a),i=Ve(a,"path",{d:!0,fill:!0}),W(i).forEach(P),a.forEach(P),this.h()},h(){E(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),E(i,"fill",e[2]),E(t,"viewBox",e[3]),E(t,"width",e[0]),E(t,"height",e[1]),E(t,"class",e[8]),E(t,"aria-label",e[4]),E(t,"aria-hidden",e[5])},m(l,a){V(l,t,a),r&&r.m(t,null),D(t,n),o&&o.m(t,null),D(t,i)},p(l,[a]){l[7]?r?r.p(l,a):(r=Nl(l),r.c(),r.m(t,n)):r&&(r.d(1),r=null),l[6]?o?o.p(l,a):(o=zl(l),o.c(),o.m(t,i)):o&&(o.d(1),o=null),a&4&&E(i,"fill",l[2]),a&8&&E(t,"viewBox",l[3]),a&1&&E(t,"width",l[0]),a&2&&E(t,"height",l[1]),a&256&&E(t,"class",l[8]),a&16&&E(t,"aria-label",l[4]),a&32&&E(t,"aria-hidden",l[5])},i:Ke,o:Ke,d(l){l&&P(t),r&&r.d(),o&&o.d()}}}function Os(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:o=i}=t,{color:l="currentColor"}=t,{viewBox:a="0 0 24 24"}=t,{ariaLabel:h=void 0}=t,{ariaHidden:u=void 0}=t,{title:f=void 0}=t,{desc:s=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,o=d.height),"color"in d&&n(2,l=d.color),"viewBox"in d&&n(3,a=d.viewBox),"ariaLabel"in d&&n(4,h=d.ariaLabel),"ariaHidden"in d&&n(5,u=d.ariaHidden),"title"in d&&n(6,f=d.title),"desc"in d&&n(7,s=d.desc),"class"in d&&n(8,c=d.class)},[r,o,l,a,h,u,f,s,c,i]}class Hs extends Me{constructor(t){super(),Pe(this,t,Os,Gs,ze,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Ml(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i[35]=t,i[36]=n,i}function Pl(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i}function Dl(e){let t,n=e[33]+"",i,r;return{c(){t=Y("option"),i=te(n),this.h()},l(o){t=X(o,"OPTION",{});var l=W(t);i=ne(l,n),l.forEach(P),this.h()},h(){t.__value=r=e[34],Ti(t,t.__value)},m(o,l){V(o,t,l),D(t,i)},p(o,l){l[0]&2&&n!==(n=o[33]+"")&&ge(i,n),l[0]&2&&r!==(r=o[34])&&(t.__value=r,Ti(t,t.__value))},d(o){o&&P(t)}}}function Fs(e){let t,n="Sorry, no options match";return{c(){t=Y("li"),t.textContent=n,this.h()},l(i){t=X(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),Ut(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){E(t,"class","disabled svelte-13q4pje"),E(t,"tabindex","-1")},m(i,r){V(i,t,r)},p:Ke,d(i){i&&P(t)}}}function Ws(e){let t,n=ut(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Al(Ml(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=me()},l(r){for(let o=0;o<i.length;o+=1)i[o].l(r);t=me()},m(r,o){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,o);V(r,t,o)},p(r,o){if(o[0]&798784){n=ut(r[6]);let l;for(l=0;l<n.length;l+=1){const a=Ml(r,n,l);i[l]?i[l].p(a,o):(i[l]=Al(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){r&&P(t),Vr(i,r)}}}function Al(e){let t,n=e[33]+"",i,r,o,l,a=e[36],h,u;const f=()=>e[27](t,a),s=()=>e[27](null,a);function c(){return e[28](e[34],e[33])}function d(...g){return e[29](e[34],e[33],...g)}return{c(){t=Y("li"),i=te(n),r=he(),this.h()},l(g){t=X(g,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var y=W(t);i=ne(y,n),r=de(y),y.forEach(P),this.h()},h(){E(t,"role","option"),E(t,"tabindex","-1"),E(t,"aria-selected",o=e[36]===e[13]),E(t,"data-option-value",l=e[34]),E(t,"id",`autocomplete_${e[36]}`),E(t,"class","svelte-13q4pje")},m(g,y){V(g,t,y),D(t,i),D(t,r),f(),h||(u=[ye(t,"click",c),ye(t,"keydown",d)],h=!0)},p(g,y){e=g,y[0]&64&&n!==(n=e[33]+"")&&ge(i,n),y[0]&8192&&o!==(o=e[36]===e[13])&&E(t,"aria-selected",o),y[0]&64&&l!==(l=e[34])&&E(t,"data-option-value",l),a!==e[36]&&(s(),a=e[36],f())},d(g){g&&P(t),s(),h=!1,Cn(u)}}}function Cl(e){let t,n,i,r,o;return n=new Hs({props:{width:"16px",height:"16px"}}),{c(){t=Y("button"),Se(n.$$.fragment),this.h()},l(l){t=X(l,"BUTTON",{"aria-label":!0,class:!0});var a=W(t);ke(n.$$.fragment,a),a.forEach(P),this.h()},h(){E(t,"aria-label","clear autocomplete search"),E(t,"class","svelte-13q4pje")},m(l,a){V(l,t,a),Ee(n,t,null),i=!0,r||(o=ye(t,"click",e[22]),r=!0)},p:Ke,i(l){i||(ee(n.$$.fragment,l),i=!0)},o(l){re(n.$$.fragment,l),i=!1},d(l){l&&P(t),Re(n),r=!1,o()}}}function Us(e){let t,n,i,r,o,l,a,h,u,f,s,c,d,g,y,_,v,w,S,N,b,R,j,L,C=ut(e[1]),B=[];for(let p=0;p<C.length;p+=1)B[p]=Dl(Pl(e,C,p));function z(p,k){return p[6].length?Ws:Fs}let U=z(e),T=U(e),I=e[4]===!0&&e[8]&&e[8].length&&Cl(e);return{c(){t=Y("div"),n=Y("label"),i=Y("span"),r=te(e[2]),l=he(),a=Y("select");for(let p=0;p<B.length;p+=1)B[p].c();h=he(),u=Y("div"),f=Y("input"),d=he(),g=Y("ul"),T.c(),_=he(),v=Y("div"),w=te(e[7]),S=te(" results available"),N=he(),I&&I.c(),this.h()},l(p){t=X(p,"DIV",{class:!0,style:!0,id:!0});var k=W(t);n=X(k,"LABEL",{for:!0,class:!0});var x=W(n);i=X(x,"SPAN",{class:!0});var G=W(i);r=ne(G,e[2]),G.forEach(P),x.forEach(P),l=de(k),a=X(k,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var Z=W(a);for(let H=0;H<B.length;H+=1)B[H].l(Z);Z.forEach(P),h=de(k),u=X(k,"DIV",{class:!0});var A=W(u);f=X(A,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=de(A),g=X(A,"UL",{id:!0,role:!0,class:!0});var O=W(g);T.l(O),O.forEach(P),_=de(A),v=X(A,"DIV",{"aria-live":!0,role:!0,class:!0});var le=W(v);w=ne(le,e[7]),S=ne(le," results available"),le.forEach(P),N=de(A),I&&I.l(A),A.forEach(P),k.forEach(P),this.h()},h(){E(i,"class","field-label"),E(n,"for",o=`${e[14]}-${e[2]}`),E(n,"class","svelte-13q4pje"),vi(n,"offset",e[9]||e[0]&&e[0].length||e[10]),E(a,"name",e[2]),E(a,"aria-hidden","true"),E(a,"tabindex","-1"),E(a,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&Ll(()=>e[24].call(a)),E(f,"aria-controls",s=`autocomplete-options--${e[14]}-${e[2]}`),E(f,"autocapitalize","none"),E(f,"type","text"),E(f,"autocomplete","off"),E(f,"aria-autocomplete","list"),E(f,"role","combobox"),E(f,"id",c=`${e[14]}-${e[2]}`),E(f,"aria-expanded","false"),E(f,"name",`autocomplete-${e[14]}`),E(f,"class","svelte-13q4pje"),E(g,"id",y=`autocomplete-options--${e[14]}-${e[2]}`),E(g,"role","listbox"),E(g,"class","svelte-13q4pje"),vi(g,"hidden",!e[9]),E(v,"aria-live","polite"),E(v,"role","status"),E(v,"class","visually-hidden svelte-13q4pje"),E(u,"class","autocomplete svelte-13q4pje"),E(t,"class","field svelte-13q4pje"),q(t,"font-size",e[3]+"px"),E(t,"id",b=`field-${e[14]}-${e[2]}`),q(t,"flex",e[5]?"1 1 auto":"auto")},m(p,k){V(p,t,k),D(t,n),D(n,i),D(i,r),D(t,l),D(t,a);for(let x=0;x<B.length;x+=1)B[x]&&B[x].m(a,null);mo(a,e[0],!0),D(t,h),D(t,u),D(u,f),Ti(f,e[8]),e[26](f),D(u,d),D(u,g),T.m(g,null),D(u,_),D(u,v),D(v,w),D(v,S),D(u,N),I&&I.m(u,null),R=!0,j||(L=[ye(window,"click",e[21]),ye(a,"change",e[24]),ye(f,"keyup",e[15]),ye(f,"keydown",e[16]),ye(f,"focus",e[17]),ye(f,"blur",function(){Ur(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),ye(f,"input",e[25]),ye(f,"click",e[20])],j=!0)},p(p,k){if(e=p,(!R||k[0]&4)&&ge(r,e[2]),(!R||k[0]&4&&o!==(o=`${e[14]}-${e[2]}`))&&E(n,"for",o),(!R||k[0]&1537)&&vi(n,"offset",e[9]||e[0]&&e[0].length||e[10]),k[0]&2){C=ut(e[1]);let G;for(G=0;G<C.length;G+=1){const Z=Pl(e,C,G);B[G]?B[G].p(Z,k):(B[G]=Dl(Z),B[G].c(),B[G].m(a,null))}for(;G<B.length;G+=1)B[G].d(1);B.length=C.length}(!R||k[0]&4)&&E(a,"name",e[2]),k[0]&3&&mo(a,e[0]),(!R||k[0]&4&&s!==(s=`autocomplete-options--${e[14]}-${e[2]}`))&&E(f,"aria-controls",s),(!R||k[0]&4&&c!==(c=`${e[14]}-${e[2]}`))&&E(f,"id",c),k[0]&256&&f.value!==e[8]&&Ti(f,e[8]),U===(U=z(e))&&T?T.p(e,k):(T.d(1),T=U(e),T&&(T.c(),T.m(g,null))),(!R||k[0]&4&&y!==(y=`autocomplete-options--${e[14]}-${e[2]}`))&&E(g,"id",y),(!R||k[0]&512)&&vi(g,"hidden",!e[9]),(!R||k[0]&128)&&ge(w,e[7]),e[4]===!0&&e[8]&&e[8].length?I?(I.p(e,k),k[0]&272&&ee(I,1)):(I=Cl(e),I.c(),ee(I,1),I.m(u,null)):I&&(tr(),re(I,1,1,()=>{I=null}),nr()),(!R||k[0]&8)&&q(t,"font-size",e[3]+"px"),(!R||k[0]&4&&b!==(b=`field-${e[14]}-${e[2]}`))&&E(t,"id",b),(k[0]&8||k[0]&40)&&q(t,"flex",e[5]?"1 1 auto":"auto")},i(p){R||(ee(I),R=!0)},o(p){re(I),R=!1},d(p){p&&P(t),Vr(B,p),e[26](null),T.d(),I&&I.d(),j=!1,Cn(L)}}}function Vs(e,t,n){let i;M(e,yt,A=>n(31,i=A));let{data:r}=t,{name:o}=t,{fontSize:l=16}=t,{selected:a=""}=t,{clearButton:h=!0}=t,{manualSelection:u={}}=t,{inline:f=!1}=t,s=r.sort((A,O)=>zn(A.label,O.label)),c=Math.floor(Math.random()*100),d=s.length,g=a,y=!1,_=!1,v,w=[],S,N=!0;const b=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function R(A){!b.includes(A.key)&&g&&g.length&&(n(6,s=r.filter(O=>(console.log({label:O.label}),O.label.toLowerCase().includes(g.toLowerCase())))),n(9,y=!0),n(7,d=s.length)),A.key==="Tab"&&n(9,y=!1),A.key==="ArrowDown"&&s&&s.length&&(n(9,y=!0),n(13,S=0),w[0].focus())}function j(A){A.key==="Tab"&&n(9,y=!1),g&&g.length===1&&A.key==="Backspace"&&(n(6,s=r),n(0,a="")),A.key==="Escape"&&n(9,y=!1)}function L(){n(10,_=!0)}function C(A,O){n(0,a=A),n(8,g=O),n(9,y=!1),v.focus(),F(yt,i={value:A,label:O},i)}function B(A,O,le){const H=A.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(H)?(H==="Enter"&&(C(O,le),N=!1),H==="ArrowDown"&&s&&s.length&&(n(13,S=S<s.length-1?S+1:s.length-1),w[S].focus(),N=!0),H==="Escape"&&(n(9,y=!1),v.focus()),H==="ArrowUp"&&S===0?(v.focus(),n(13,S=null),N=!0):H==="ArrowUp"&&S!=0&&(n(13,S-=1),w[S].focus(),N=!0)):N=!1,N===!0&&A.preventDefault()}function z(){n(8,g=""),n(23,u={}),n(9,y=!0),n(6,s=r),n(13,S=null)}function U(A){const O=A.target;O!=v&&!w.includes(O)&&n(9,y=!1)}function T(){n(8,g=""),n(0,a=""),n(23,u={})}function I(){a=za(this),n(0,a),n(23,u),n(1,r)}function p(){g=this.value,n(8,g),n(23,u),n(0,a)}function k(A){ft[A?"unshift":"push"](()=>{v=A,n(11,v)})}function x(A,O){ft[A?"unshift":"push"](()=>{w[O]=A,n(12,w)})}const G=(A,O)=>{C(A,O)},Z=(A,O,le)=>B(le,A,O);return e.$$set=A=>{"data"in A&&n(1,r=A.data),"name"in A&&n(2,o=A.name),"fontSize"in A&&n(3,l=A.fontSize),"selected"in A&&n(0,a=A.selected),"clearButton"in A&&n(4,h=A.clearButton),"manualSelection"in A&&n(23,u=A.manualSelection),"inline"in A&&n(5,f=A.inline)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(n(0,a=u.value),n(8,g=u.label)),e.$$.dirty[0]&1&&a===""&&n(8,g="")},[a,r,o,l,h,f,s,d,g,y,_,v,w,S,c,R,j,L,C,B,z,U,T,u,I,p,k,x,G,Z]}class Ys extends Me{constructor(t){super(),Pe(this,t,Vs,Us,ze,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5},null,[-1,-1])}}function Xs(e){let t,n,i,r,o,l,a,h,u=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,f,s,c=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function g(_){e[4](_)}let y={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35"};return e[1]!==void 0&&(y.selected=e[1]),o=new Ys({props:y}),ft.push(()=>Pa(o,"selected",g)),{c(){t=Y("section"),n=Y("div"),i=Y("h1"),r=te("Smoke in "),Se(o.$$.fragment),a=he(),h=Y("p"),h.textContent=u,f=he(),s=Y("p"),s.textContent=c,this.h()},l(_){t=X(_,"SECTION",{});var v=W(t);n=X(v,"DIV",{class:!0});var w=W(n);i=X(w,"H1",{class:!0});var S=W(i);r=ne(S,"Smoke in "),ke(o.$$.fragment,S),S.forEach(P),w.forEach(P),a=de(v),h=X(v,"P",{class:!0,"data-svelte-h":!0}),Ut(h)!=="svelte-1ieckh9"&&(h.textContent=u),f=de(v),s=X(v,"P",{class:!0,"data-svelte-h":!0}),Ut(s)!=="svelte-18rohxi"&&(s.textContent=c),v.forEach(P),this.h()},h(){E(i,"class","svelte-1acsj2x"),E(n,"class","inline svelte-1acsj2x"),E(h,"class","prose"),E(s,"class","prose")},m(_,v){V(_,t,v),D(t,n),D(n,i),D(i,r),Ee(o,i,null),D(t,a),D(t,h),D(t,f),D(t,s),d=!0},p(_,[v]){const w={};v&1&&(w.data=_[0]),v&4&&(w.manualSelection=_[2]),!l&&v&2&&(l=!0,w.selected=_[1],Ma(()=>l=!1)),o.$set(w)},i(_){d||(ee(o.$$.fragment,_),d=!0)},o(_){re(o.$$.fragment,_),d=!1},d(_){_&&P(t),Re(o)}}}function Ks(e,t,n){let i,r;M(e,yt,h=>n(2,r=h));let{data:o}=t,l;function a(h){l=h,n(1,l)}return e.$$set=h=>{"data"in h&&n(3,o=h.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(o.map(h=>JSON.stringify([h.name,h.code])))).map(h=>JSON.parse(h)).map(h=>({value:h[1],label:h[0]})).filter(h=>h.label)),e.$$.dirty&1&&new Map(i)},[i,l,r,o,a]}class Zs extends Me{constructor(t){super(),Pe(this,t,Ks,Xs,ze,{data:3})}}function Qs(e){let t,n,i,r;return t=new Zs({props:{data:e[1]}}),i=new xs({props:{data:e[1],us_states:e[2],cbsa_lookup:e[0]}}),{c(){Se(t.$$.fragment),n=he(),Se(i.$$.fragment)},l(o){ke(t.$$.fragment,o),n=de(o),ke(i.$$.fragment,o)},m(o,l){Ee(t,o,l),V(o,n,l),Ee(i,o,l),r=!0},p(o,[l]){const a={};l&2&&(a.data=o[1]),t.$set(a);const h={};l&2&&(h.data=o[1]),l&4&&(h.us_states=o[2]),l&1&&(h.cbsa_lookup=o[0]),i.$set(h)},i(o){r||(ee(t.$$.fragment,o),ee(i.$$.fragment,o),r=!0)},o(o){re(t.$$.fragment,o),re(i.$$.fragment,o),r=!1},d(o){o&&P(n),Re(t,o),Re(i,o)}}}function Js(e,t,n){let i,r,o,l,a,{data:h}=t;return e.$$set=u=>{"data"in u&&n(3,h=u.data)},e.$$.update=()=>{e.$$.dirty&8&&n(4,{city_data:i,cbsa:r,us_states:o}=h,i,(n(5,r),n(3,h)),(n(2,o),n(3,h))),e.$$.dirty&32&&n(0,l=new Map(r.map(u=>[u.GEOID,{name:u.NAME,latitude:+u.latitude,longitude:+u.longitude}]))),e.$$.dirty&17&&n(1,a=i.map(u=>{var f;return{...u,year:+u.year,bad_air_days:+u.n,name:(f=l.get(u["CBSA Code"]))==null?void 0:f.name,code:u["CBSA Code"]}}))},[l,a,o,h,i,r]}class nc extends Me{constructor(t){super(),Pe(this,t,Js,Qs,ze,{data:3})}}export{nc as component};
