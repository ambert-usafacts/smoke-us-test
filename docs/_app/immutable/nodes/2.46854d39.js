import{A as At,s as ke,e as he,i as X,d as P,o as Al,z as M,B as F,C as Cl,r as rn,f as Z,g as Q,h as U,j as w,D as Il,k as q,E as ka,u as on,v as ln,w as an,p as fn,F as mn,G as Ue,H as Ve,x as I,l as te,m as ie,n as me,a as _e,c as ye,I as ge,y as _n,J as Ea,K as Ur,L as ji,M as Vr,N as wi,O as mo,P as Ti,Q as Ra,R as Na}from"../chunks/scheduler.7f01e268.js";import{a as ee,S as Ee,i as Re,g as nr,t as re,c as tr,b as Me,d as Pe,m as De,e as Ae,f as za}from"../chunks/index.2010496a.js";import{w as V,d as se}from"../chunks/index.bd54f367.js";function un(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ma(e,n){e.d(1),n.delete(e.key)}function Pa(e,n,t,i,r,o,l,a,h,u,f,s){let c=e.length,d=o.length,m=c;const b={};for(;m--;)b[e[m].key]=m;const y=[],k=new Map,v=new Map,E=[];for(m=d;m--;){const L=s(r,o,m),B=t(L);let A=l.get(B);A?i&&E.push(()=>A.p(L,n)):(A=u(B,L),A.c()),k.set(B,y[m]=A),B in b&&v.set(B,Math.abs(m-b[B]))}const z=new Set,p=new Set;function S(L){ee(L,1),L.m(a,f),l.set(L.key,L),f=L.first,d--}for(;c&&d;){const L=y[d-1],B=e[c-1],A=L.key,j=B.key;L===B?(f=L.first,c--,d--):k.has(j)?!l.has(A)||z.has(A)?S(L):p.has(j)?c--:v.get(A)>v.get(j)?(p.add(A),S(L)):(z.add(j),c--):(h(B,l),c--)}for(;c--;){const L=e[c];k.has(L.key)||h(L,l)}for(;d;)S(y[d-1]);return At(E),y}function Nt(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Ll(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Bl(e){let n,t,i;e.length!==2?(n=Nt,t=(a,h)=>Nt(e(a),h),i=(a,h)=>e(a)-h):(n=e===Nt||e===Ll?e:Da,t=e,i=e);function r(a,h,u=0,f=a.length){if(u<f){if(n(h,h)!==0)return f;do{const s=u+f>>>1;t(a[s],h)<0?u=s+1:f=s}while(u<f)}return u}function o(a,h,u=0,f=a.length){if(u<f){if(n(h,h)!==0)return f;do{const s=u+f>>>1;t(a[s],h)<=0?u=s+1:f=s}while(u<f)}return u}function l(a,h,u=0,f=a.length){const s=r(a,h,u,f-1);return s>u&&i(a[s-1],h)>-i(a[s],h)?s-1:s}return{left:r,center:l,right:o}}function Da(){return 0}function Aa(e){return e===null?NaN:+e}const Ca=Bl(Nt),Ia=Ca.right;Bl(Aa).center;const La=Ia;class yn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=t[r],l=n+o,a=Math.abs(n)<Math.abs(o)?n-(l-o):o-(l-n);a&&(t[i++]=a),n=l}return t[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let t=this._n,i,r,o,l=0;if(t>0){for(l=n[--t];t>0&&(i=l,r=n[--t],l=i+r,o=r-(l-i),!o););t>0&&(o<0&&n[t-1]<0||o>0&&n[t-1]>0)&&(r=o*2,i=l+r,r==i-l&&(l=i))}return l}}const Ba=Math.sqrt(50),ja=Math.sqrt(10),Ta=Math.sqrt(2);function qi(e,n,t){const i=(n-e)/Math.max(0,t),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),l=o>=Ba?10:o>=ja?5:o>=Ta?2:1;let a,h,u;return r<0?(u=Math.pow(10,-r)/l,a=Math.round(e*u),h=Math.round(n*u),a/u<e&&++a,h/u>n&&--h,u=-u):(u=Math.pow(10,r)*l,a=Math.round(e/u),h=Math.round(n/u),a*u<e&&++a,h*u>n&&--h),h<a&&.5<=t&&t<2?qi(e,n,t*2):[a,h,u]}function qa(e,n,t){if(n=+n,e=+e,t=+t,!(t>0))return[];if(e===n)return[e];const i=n<e,[r,o,l]=i?qi(n,e,t):qi(e,n,t);if(!(o>=r))return[];const a=o-r+1,h=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)h[u]=(o-u)/-l;else for(let u=0;u<a;++u)h[u]=(o-u)*l;else if(l<0)for(let u=0;u<a;++u)h[u]=(r+u)/-l;else for(let u=0;u<a;++u)h[u]=(r+u)*l;return h}function Nr(e,n,t){return n=+n,e=+e,t=+t,qi(e,n,t)[2]}function xa(e,n,t){n=+n,e=+e,t=+t;const i=n<e,r=i?Nr(n,e,t):Nr(e,n,t);return(i?-1:1)*(r<0?1/-r:r)}function*Ga(e){for(const n of e)yield*n}function jl(e){return Array.from(Ga(e))}const pn=V({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"});function Oa(e){return e===0?!0:e}function nn(e){return Oa(e)?Array.isArray(e)?n=>e.map(t=>typeof t!="function"?n[t]:t(n)):typeof e!="function"?n=>n[e]:e:null}function Ha(e){const n={};for(const t of e){if(Object(t)!==t)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=t;Object.defineProperty(n,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return n}function br(e,n={}){return Ha(Object.entries(e).filter(([t,i])=>i!==void 0&&n[t]===void 0))}function Fa(e,n=300){let t;return(...i)=>{clearTimeout(t),t=setTimeout(()=>{e.apply(this,i)},n)}}function Wa(e,n,{sort:t=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(n)||n===void 0||n===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(n),o=r.length;let l,a,h,u,f,s,c;const d=e.length;for(l=0;l<o;l+=1){for(c=new Set,u=r[l],f=n[u],a=0;a<d;a+=1)if(s=f(e[a]),Array.isArray(s)){const b=s.length;for(h=0;h<b;h+=1)c.add(s[h])}else c.add(s);const m=Array.from(c);i[u]=t===!0?m.sort():m}return i}function Ua(e,n){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(n)||n===void 0||n===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const t={},i=Object.keys(n),r=i.length;let o,l,a,h,u,f,s,c;const d=e.length;for(o=0;o<r;o+=1){for(h=i[o],s=n[h],u=null,f=null,l=0;l<d;l+=1)if(c=s(e[l]),Array.isArray(c)){const m=c.length;for(a=0;a<m;a+=1)c[a]!==!1&&c[a]!==void 0&&c[a]!==null&&Number.isNaN(c[a])===!1&&((u===null||c[a]<u)&&(u=c[a]),(f===null||c[a]>f)&&(f=c[a]))}else c!==!1&&c!==void 0&&c!==null&&Number.isNaN(c)===!1&&((u===null||c<u)&&(u=c),(f===null||c>f)&&(f=c));t[h]=[u,f]}return t}function bt(e,n){return e.length!==n.length?!1:e.every(t=>n.includes(t))}function Tl(e){return!!(typeof e.bandwidth=="function"||bt(Object.keys(e),["domain","range","unknown","copy"]))}function Va(e,n,t){const i=Object.keys(t).reduce((o,l)=>{const a=Tl(t[l])===!0?"ordinal":"other";return o[a]||(o[a]={}),o[a][l]=n[l],o},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=Wa(e,i.ordinal)),i.other&&(r={...r,...Ua(e,i.other)}),r}function Ya(e=[],n){return Array.isArray(n)===!0?n.map((t,i)=>t===null?e[i]:t):e}function vi(e){return function([t,i]){return typeof i=="function"&&(i=i(t[e])),t?Ya(t[e],i):i}}function ql(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}function Yr(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function xl(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function Ct(){}var zt=.7,xi=1/zt,Un="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xa=/^#([0-9a-f]{3,8})$/,Ka=new RegExp(`^rgb\\(${Un},${Un},${Un}\\)$`),Za=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),Qa=new RegExp(`^rgba\\(${Un},${Un},${Un},${Mt}\\)$`),Ja=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${Mt}\\)$`),$a=new RegExp(`^hsl\\(${Mt},${Ye},${Ye}\\)$`),ef=new RegExp(`^hsla\\(${Mt},${Ye},${Ye},${Mt}\\)$`),_o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yr(Ct,Pt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yo,formatHex:yo,formatHex8:nf,formatHsl:tf,formatRgb:po,toString:po});function yo(){return this.rgb().formatHex()}function nf(){return this.rgb().formatHex8()}function tf(){return Gl(this).formatHsl()}function po(){return this.rgb().formatRgb()}function Pt(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=Xa.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?bo(n):t===3?new Se(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Si(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Si(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ka.exec(e))?new Se(n[1],n[2],n[3],1):(n=Za.exec(e))?new Se(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Qa.exec(e))?Si(n[1],n[2],n[3],n[4]):(n=Ja.exec(e))?Si(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=$a.exec(e))?So(n[1],n[2]/100,n[3]/100,1):(n=ef.exec(e))?So(n[1],n[2]/100,n[3]/100,n[4]):_o.hasOwnProperty(e)?bo(_o[e]):e==="transparent"?new Se(NaN,NaN,NaN,0):null}function bo(e){return new Se(e>>16&255,e>>8&255,e&255,1)}function Si(e,n,t,i){return i<=0&&(e=n=t=NaN),new Se(e,n,t,i)}function rf(e){return e instanceof Ct||(e=Pt(e)),e?(e=e.rgb(),new Se(e.r,e.g,e.b,e.opacity)):new Se}function Gi(e,n,t,i){return arguments.length===1?rf(e):new Se(e,n,t,i??1)}function Se(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}Yr(Se,Gi,xl(Ct,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Se(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zt:Math.pow(zt,e),new Se(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Se(gn(this.r),gn(this.g),gn(this.b),Oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wo,formatHex:wo,formatHex8:of,formatRgb:vo,toString:vo}));function wo(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}`}function of(){return`#${dn(this.r)}${dn(this.g)}${dn(this.b)}${dn((isNaN(this.opacity)?1:this.opacity)*255)}`}function vo(){const e=Oi(this.opacity);return`${e===1?"rgb(":"rgba("}${gn(this.r)}, ${gn(this.g)}, ${gn(this.b)}${e===1?")":`, ${e})`}`}function Oi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dn(e){return e=gn(e),(e<16?"0":"")+e.toString(16)}function So(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Te(e,n,t,i)}function Gl(e){if(e instanceof Te)return new Te(e.h,e.s,e.l,e.opacity);if(e instanceof Ct||(e=Pt(e)),!e)return new Te;if(e instanceof Te)return e;e=e.rgb();var n=e.r/255,t=e.g/255,i=e.b/255,r=Math.min(n,t,i),o=Math.max(n,t,i),l=NaN,a=o-r,h=(o+r)/2;return a?(n===o?l=(t-i)/a+(t<i)*6:t===o?l=(i-n)/a+2:l=(n-t)/a+4,a/=h<.5?o+r:2-o-r,l*=60):a=h>0&&h<1?0:l,new Te(l,a,h,e.opacity)}function lf(e,n,t,i){return arguments.length===1?Gl(e):new Te(e,n,t,i??1)}function Te(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}Yr(Te,lf,xl(Ct,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Te(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zt:Math.pow(zt,e),new Te(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,r=2*t-i;return new Se(wr(e>=240?e-240:e+120,r,i),wr(e,r,i),wr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Te(ko(this.h),ki(this.s),ki(this.l),Oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Oi(this.opacity);return`${e===1?"hsl(":"hsla("}${ko(this.h)}, ${ki(this.s)*100}%, ${ki(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ko(e){return e=(e||0)%360,e<0?e+360:e}function ki(e){return Math.max(0,Math.min(1,e||0))}function wr(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}const Xr=e=>()=>e;function af(e,n){return function(t){return e+t*n}}function ff(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}function uf(e){return(e=+e)==1?Ol:function(n,t){return t-n?ff(n,t,e):Xr(isNaN(n)?t:n)}}function Ol(e,n){var t=n-e;return t?af(e,t):Xr(isNaN(e)?n:e)}const Eo=function e(n){var t=uf(n);function i(r,o){var l=t((r=Gi(r)).r,(o=Gi(o)).r),a=t(r.g,o.g),h=t(r.b,o.b),u=Ol(r.opacity,o.opacity);return function(f){return r.r=l(f),r.g=a(f),r.b=h(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function sf(e,n){n||(n=[]);var t=e?Math.min(n.length,e.length):0,i=n.slice(),r;return function(o){for(r=0;r<t;++r)i[r]=e[r]*(1-o)+n[r]*o;return i}}function cf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hf(e,n){var t=n?n.length:0,i=e?Math.min(t,e.length):0,r=new Array(i),o=new Array(t),l;for(l=0;l<i;++l)r[l]=Kr(e[l],n[l]);for(;l<t;++l)o[l]=n[l];return function(a){for(l=0;l<i;++l)o[l]=r[l](a);return o}}function df(e,n){var t=new Date;return e=+e,n=+n,function(i){return t.setTime(e*(1-i)+n*i),t}}function Hi(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function gf(e,n){var t={},i={},r;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(r in n)r in e?t[r]=Kr(e[r],n[r]):i[r]=n[r];return function(o){for(r in t)i[r]=t[r](o);return i}}var zr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vr=new RegExp(zr.source,"g");function mf(e){return function(){return e}}function _f(e){return function(n){return e(n)+""}}function yf(e,n){var t=zr.lastIndex=vr.lastIndex=0,i,r,o,l=-1,a=[],h=[];for(e=e+"",n=n+"";(i=zr.exec(e))&&(r=vr.exec(n));)(o=r.index)>t&&(o=n.slice(t,o),a[l]?a[l]+=o:a[++l]=o),(i=i[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,h.push({i:l,x:Hi(i,r)})),t=vr.lastIndex;return t<n.length&&(o=n.slice(t),a[l]?a[l]+=o:a[++l]=o),a.length<2?h[0]?_f(h[0].x):mf(n):(n=h.length,function(u){for(var f=0,s;f<n;++f)a[(s=h[f]).i]=s.x(u);return a.join("")})}function Kr(e,n){var t=typeof n,i;return n==null||t==="boolean"?Xr(n):(t==="number"?Hi:t==="string"?(i=Pt(n))?(n=i,Eo):yf:n instanceof Pt?Eo:n instanceof Date?df:cf(n)?sf:Array.isArray(n)?hf:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?gf:Hi)(e,n)}function pf(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}function bf(e){return function(){return e}}function wf(e){return+e}var Ro=[0,1];function We(e){return e}function Mr(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:bf(isNaN(n)?NaN:.5)}function vf(e,n){var t;return e>n&&(t=e,e=n,n=t),function(i){return Math.max(e,Math.min(n,i))}}function Sf(e,n,t){var i=e[0],r=e[1],o=n[0],l=n[1];return r<i?(i=Mr(r,i),o=t(l,o)):(i=Mr(i,r),o=t(o,l)),function(a){return o(i(a))}}function kf(e,n,t){var i=Math.min(e.length,n.length)-1,r=new Array(i),o=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++l<i;)r[l]=Mr(e[l],e[l+1]),o[l]=t(n[l],n[l+1]);return function(a){var h=La(e,a,1,i)-1;return o[h](r[h](a))}}function Hl(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fl(){var e=Ro,n=Ro,t=Kr,i,r,o,l=We,a,h,u;function f(){var c=Math.min(e.length,n.length);return l!==We&&(l=vf(e[0],e[c-1])),a=c>2?kf:Sf,h=u=null,s}function s(c){return c==null||isNaN(c=+c)?o:(h||(h=a(e.map(i),n,t)))(i(l(c)))}return s.invert=function(c){return l(r((u||(u=a(n,e.map(i),Hi)))(c)))},s.domain=function(c){return arguments.length?(e=Array.from(c,wf),f()):e.slice()},s.range=function(c){return arguments.length?(n=Array.from(c),f()):n.slice()},s.rangeRound=function(c){return n=Array.from(c),t=pf,f()},s.clamp=function(c){return arguments.length?(l=c?!0:We,f()):l!==We},s.interpolate=function(c){return arguments.length?(t=c,f()):t},s.unknown=function(c){return arguments.length?(o=c,s):o},function(c,d){return i=c,r=d,f()}}function Ef(){return Fl()(We,We)}function Rf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fi(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function Vn(e){return e=Fi(Math.abs(e)),e?e[1]:NaN}function Nf(e,n){return function(t,i){for(var r=t.length,o=[],l=0,a=e[0],h=0;r>0&&a>0&&(h+a+1>i&&(a=Math.max(1,i-h)),o.push(t.substring(r-=a,r+a)),!((h+=a+1)>i));)a=e[l=(l+1)%e.length];return o.reverse().join(n)}}function zf(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}var Mf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wi(e){if(!(n=Mf.exec(e)))throw new Error("invalid format: "+e);var n;return new Zr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Wi.prototype=Zr.prototype;function Zr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pf(e){e:for(var n=e.length,t=1,i=-1,r;t<n;++t)switch(e[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+e[t])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Wl;function Df(e,n){var t=Fi(e,n);if(!t)return e+"";var i=t[0],r=t[1],o=r-(Wl=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Fi(e,Math.max(0,n+o-1))[0]}function No(e,n){var t=Fi(e,n);if(!t)return e+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const zo={"%":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rf,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>No(e*100,n),r:No,s:Df,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mo(e){return e}var Po=Array.prototype.map,Do=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Af(e){var n=e.grouping===void 0||e.thousands===void 0?Mo:Nf(Po.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Mo:zf(Po.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function u(s){s=Wi(s);var c=s.fill,d=s.align,m=s.sign,b=s.symbol,y=s.zero,k=s.width,v=s.comma,E=s.precision,z=s.trim,p=s.type;p==="n"?(v=!0,p="g"):zo[p]||(E===void 0&&(E=12),z=!0,p="g"),(y||c==="0"&&d==="=")&&(y=!0,c="0",d="=");var S=b==="$"?t:b==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",L=b==="$"?i:/[%p]/.test(p)?l:"",B=zo[p],A=/[defgprs%]/.test(p);E=E===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function j(R){var W=S,T=L,C,_,N;if(p==="c")T=B(R)+T,R="";else{R=+R;var x=R<0||1/R<0;if(R=isNaN(R)?h:B(Math.abs(R),E),z&&(R=Pf(R)),x&&+R==0&&m!=="+"&&(x=!1),W=(x?m==="("?m:a:m==="-"||m==="("?"":m)+W,T=(p==="s"?Do[8+Wl/3]:"")+T+(x&&m==="("?")":""),A){for(C=-1,_=R.length;++C<_;)if(N=R.charCodeAt(C),48>N||N>57){T=(N===46?r+R.slice(C+1):R.slice(C))+T,R=R.slice(0,C);break}}}v&&!y&&(R=n(R,1/0));var O=W.length+R.length+T.length,Y=O<k?new Array(k-O+1).join(c):"";switch(v&&y&&(R=n(Y+R,Y.length?k-T.length:1/0),Y=""),d){case"<":R=W+R+T+Y;break;case"=":R=W+Y+R+T;break;case"^":R=Y.slice(0,O=Y.length>>1)+W+R+T+Y.slice(O);break;default:R=Y+W+R+T;break}return o(R)}return j.toString=function(){return s+""},j}function f(s,c){var d=u((s=Wi(s),s.type="f",s)),m=Math.max(-8,Math.min(8,Math.floor(Vn(c)/3)))*3,b=Math.pow(10,-m),y=Do[8+m/3];return function(k){return d(b*k)+y}}return{format:u,formatPrefix:f}}var Ei,Ul,Vl;Cf({thousands:",",grouping:[3],currency:["$",""]});function Cf(e){return Ei=Af(e),Ul=Ei.format,Vl=Ei.formatPrefix,Ei}function If(e){return Math.max(0,-Vn(Math.abs(e)))}function Lf(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vn(n)/3)))*3-Vn(Math.abs(e)))}function Bf(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Vn(n)-Vn(e))+1}function jf(e,n,t,i){var r=xa(e,n,t),o;switch(i=Wi(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(n));return i.precision==null&&!isNaN(o=Lf(r,l))&&(i.precision=o),Vl(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Bf(r,Math.max(Math.abs(e),Math.abs(n))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=If(r))&&(i.precision=o-(i.type==="%")*2);break}}return Ul(i)}function Yl(e){var n=e.domain;return e.ticks=function(t){var i=n();return qa(i[0],i[i.length-1],t??10)},e.tickFormat=function(t,i){var r=n();return jf(r[0],r[r.length-1],t??10,i)},e.nice=function(t){t==null&&(t=10);var i=n(),r=0,o=i.length-1,l=i[r],a=i[o],h,u,f=10;for(a<l&&(u=l,l=a,a=u,u=r,r=o,o=u);f-- >0;){if(u=Nr(l,a,t),u===h)return i[r]=l,i[o]=a,n(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;h=u}return e},e}function Ii(){var e=Ef();return e.copy=function(){return Hl(e,Ii())},ql.apply(e,arguments),Yl(e)}function Ao(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Tf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qf(e){return e<0?-e*e:e*e}function xf(e){var n=e(We,We),t=1;function i(){return t===1?e(We,We):t===.5?e(Tf,qf):e(Ao(t),Ao(1/t))}return n.exponent=function(r){return arguments.length?(t=+r,i()):t},Yl(n)}function Xl(){var e=xf(Fl());return e.copy=function(){return Hl(e,Xl()).exponent(e.exponent())},ql.apply(e,arguments),e}function Kl(){return Xl.apply(null,arguments).exponent(.5)}const wt={x:Ii,y:Ii,z:Ii,r:Kl};function Gf(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Co(e){return e}function Of(e){return n=>Math.log(e*n)}function Hf(e){return n=>e*Math.exp(n)}function Ff(e){return n=>Math.sign(n)*Math.log1p(Math.abs(n/e))}function Wf(e){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*e}function Ri(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uf(e){const n=Gf(e);if(n==="log"){const t=Math.sign(e.domain()[0]);return{lift:Of(t),ground:Hf(t),scaleType:n}}return n==="pow"?{lift:Ri(1),ground:Ri(1/1),scaleType:n}:n==="sqrt"?{lift:Ri(.5),ground:Ri(1/.5),scaleType:n}:n==="symlog"?{lift:Ff(1),ground:Wf(1),scaleType:n}:{lift:Co,ground:Co,scaleType:n}}function Ui(e){return e.replace(/^\w/,n=>n.toUpperCase())}function be(e,n=""){return`scale${Ui(n)}${Ui(e)}`}function Zl(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?be("band"):be("point");if(bt(Object.keys(e),["domain","range","unknown","copy"]))return be("ordinal");let n="";if(e.interpolator&&(e.domain().length===3?n="diverging":n="sequential"),e.quantiles)return be("quantile",n);if(e.thresholds)return be("quantize",n);if(e.constant)return be("symlog",n);if(e.base)return be("log",n);if(e.exponent)return e.exponent()===.5?be("sqrt",n):be("pow",n);if(bt(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return be("threshold");if(bt(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return be("identity");if(bt(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return be("radial");if(n)return be(n);if(e.domain()[0]instanceof Date){const t=new Date;let i;return t.getDay=()=>i="time",t.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(t),be(i)}return be("linear")}const Vf=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Yf(e,n){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n)||Vf.includes(Zl(e))||Tl(e)===!0)return e.domain();const{lift:t,ground:i}=Uf(e),r=e.domain()[0],o=Object.prototype.toString.call(r)==="[object Date]",[l,a]=e.domain().map(d=>t(o?d.getTime():d)),[h,u]=e.range(),f=n[0]||0,s=n[1]||0,c=(a-l)/(Math.abs(u-h)-f-s);return[l-f*c,s*c+a].map(d=>i(o?new Date(d):d))}function Xf(e,n,t,i,r){let o,l;return r===!0?(o=0,l=100):(o=e==="r"?1:0,l=e==="y"?t:e==="r"?25:n),i===!0?[l,o]:[o,l]}function Kf(e,n,t,i,r,o){return r?typeof r=="function"?r({width:n,height:t}):r:Xf(e,n,t,i,o)}function Ni(e){return function([t,i,r,o,l,a,h,u,f,s]){if(i===null)return null;const c=Kf(e,h,u,a,f,s),d=t===wt[e]?t():t.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(c),o&&d.domain(Yf(d,o)),(l===!0||typeof l=="number")&&(typeof d.nice=="function"?d.nice(typeof l=="number"?l:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function zi([e,n]){return t=>{const i=e(t);return Array.isArray(i)?i.map(r=>n(r)):n(i)}}function Mi([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Oe="    ";function Zf(e){const{r:n,g:t,b:i,opacity:r}=Gi(e);return[n,t,i].every(o=>o>=0&&o<=255)?{r:n,g:t,b:i,o:r}:!1}function Qf({r:e,g:n,b:t}){return(.2126*e+.7152*n+.0722*t)/255>.6?"black":"white"}function Jf(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),$f(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(n=>{eu(n,e[`${n}Scale`],e[n])}),console.log(`/************ End LayerCake Debug ***************/
`)}function $f(e){Object.entries(e).forEach(([n,t])=>{console.log(`${Oe}${n}:`,t)})}function eu(e,n,t){const i=Zl(n);console.log(`${Oe}${e}:`),console.log(`${Oe}${Oe}Accessor: "${t.toString()}"`),console.log(`${Oe}${Oe}Type: ${i}`),Io(n,"domain"),Io(n,"range"," ")}function Io(e,n,t=""){const i=e[n](),r=tu(i);r?nu(r,n,i):console.log(`${Oe}${Oe}${Ui(n)}:${t}`,i)}function nu(e,n,t){console.log(`${Oe}${Oe}${Ui(n)}:    %cArray%c(${t.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function tu(e){const n=[],t=e.map((i,r)=>{const o=Zf(i);if(o!==!1){n.push(o);const l=r===e.length-1?" ":"";return`%c ${i}${l}`}return i});return n.length?[`%c[ ${t.join(", ")}`,n.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${Qf(i)};`)]:null}const iu=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),Lo=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function Bo(e){let n,t,i;const r=e[153].default,o=rn(r,e,e[152],Lo);return{c(){n=Z("div"),o&&o.c(),this.h()},l(l){n=Q(l,"DIV",{class:!0});var a=U(n);o&&o.l(a),a.forEach(P),this.h()},h(){w(n,"class","layercake-container svelte-vhzpsp"),Il(()=>e[155].call(n)),q(n,"position",e[5]),q(n,"top",e[5]==="absolute"?"0":null),q(n,"right",e[5]==="absolute"?"0":null),q(n,"bottom",e[5]==="absolute"?"0":null),q(n,"left",e[5]==="absolute"?"0":null),q(n,"pointer-events",e[4]===!1?"none":null)},m(l,a){X(l,n,a),o&&o.m(n,null),e[154](n),t=ka(n,e[155].bind(n)),i=!0},p(l,a){o&&o.p&&(!i||a[0]&2147483588|a[1]&1048575|a[4]&268435456)&&on(o,r,l,l[152],i?an(r,l[152],a,iu):ln(l[152]),Lo),a[0]&32&&q(n,"position",l[5]),a[0]&32&&q(n,"top",l[5]==="absolute"?"0":null),a[0]&32&&q(n,"right",l[5]==="absolute"?"0":null),a[0]&32&&q(n,"bottom",l[5]==="absolute"?"0":null),a[0]&32&&q(n,"left",l[5]==="absolute"?"0":null),a[0]&16&&q(n,"pointer-events",l[4]===!1?"none":null)},i(l){i||(ee(o,l),i=!0)},o(l){re(o,l),i=!1},d(l){l&&P(n),o&&o.d(l),e[154](null),t()}}}function ru(e){let n,t,i=(e[3]===!0||typeof window<"u")&&Bo(e);return{c(){i&&i.c(),n=he()},l(r){i&&i.l(r),n=he()},m(r,o){i&&i.m(r,o),X(r,n,o),t=!0},p(r,o){r[3]===!0||typeof window<"u"?i?(i.p(r,o),o[0]&8&&ee(i,1)):(i=Bo(r),i.c(),ee(i,1),i.m(n.parentNode,n)):i&&(nr(),re(i,1,1,()=>{i=null}),tr())},i(r){t||(ee(i),t=!0)},o(r){re(i),t=!1},d(r){r&&P(n),i&&i.d(r)}}}function ou(e,n,t){let i,r,o,l,a,h,u,f,s,c,d,m,b,y,k,v,E,z,p,S,L,B,A,j,R,W,T,C,_,N,x,O,Y,D,G,le,H,Ne,ze,sn,K,oe,pe,ve,xe,Ze,ue,Qe,cn,Zn,vn,eo,no,to,io,ro,oo,lo,ao,fo,uo,so,{$$slots:ma={},$$scope:co}=n;const _a=Fa(Jf,200);let{ssr:ir=!1}=n,{pointerEvents:ho=!0}=n,{position:go="relative"}=n,{percentRange:It=!1}=n,{width:rr=void 0}=n,{height:or=void 0}=n,{containerWidth:Sn=rr||100}=n,{containerHeight:kn=or||100}=n,{element:Lt=void 0}=n,{x:En=void 0}=n,{y:Rn=void 0}=n,{z:Nn=void 0}=n,{r:zn=void 0}=n,{data:Mn=[]}=n,{xDomain:Pn=void 0}=n,{yDomain:Dn=void 0}=n,{zDomain:An=void 0}=n,{rDomain:Cn=void 0}=n,{xNice:Bt=!1}=n,{yNice:jt=!1}=n,{zNice:Tt=!1}=n,{rNice:qt=!1}=n,{xPadding:xt=void 0}=n,{yPadding:Gt=void 0}=n,{zPadding:Ot=void 0}=n,{rPadding:Ht=void 0}=n,{xScale:Ft=wt.x}=n,{yScale:Qn=wt.y}=n,{zScale:Wt=wt.z}=n,{rScale:Ut=wt.r}=n,{xRange:In=void 0}=n,{yRange:Ln=void 0}=n,{zRange:Bn=void 0}=n,{rRange:jn=void 0}=n,{xReverse:Vt=!1}=n,{yReverse:Yt=void 0}=n,{zReverse:Xt=!1}=n,{rReverse:Kt=!1}=n,{padding:Zt={}}=n,{extents:Qt={}}=n,{flatData:Jt=void 0}=n,{custom:$t={}}=n,{debug:lr=!1}=n,ar=!1;Al(()=>{ar=!0});const ne={},Je=V(It);M(e,Je,g=>t(33,xe=g));const Tn=V(Sn);M(e,Tn,g=>t(32,ve=g));const qn=V(kn);M(e,qn,g=>t(31,pe=g));const ei=V(br(Qt));M(e,ei,g=>t(170,oe=g));const ni=V(Mn);M(e,ni,g=>t(30,K=g));const Jn=V(Jt||Mn);M(e,Jn,g=>t(29,sn=g));const ti=V(Zt);M(e,ti,g=>t(169,ze=g));const xn=V(nn(En));M(e,xn,g=>t(28,Ne=g));const Gn=V(nn(Rn));M(e,Gn,g=>t(27,H=g));const On=V(nn(Nn));M(e,On,g=>t(26,le=g));const Hn=V(nn(zn));M(e,Hn,g=>t(25,G=g));const ii=V(Pn);M(e,ii,g=>t(168,D=g));const ri=V(Dn);M(e,ri,g=>t(167,Y=g));const oi=V(An);M(e,oi,g=>t(166,O=g));const li=V(Cn);M(e,li,g=>t(165,x=g));const $n=V(Bt);M(e,$n,g=>t(24,N=g));const et=V(jt);M(e,et,g=>t(23,_=g));const nt=V(Tt);M(e,nt,g=>t(22,C=g));const tt=V(qt);M(e,tt,g=>t(21,T=g));const it=V(Vt);M(e,it,g=>t(20,W=g));const rt=V(i);M(e,rt,g=>t(19,R=g));const ot=V(Xt);M(e,ot,g=>t(18,j=g));const lt=V(Kt);M(e,lt,g=>t(17,A=g));const at=V(xt);M(e,at,g=>t(16,B=g));const ft=V(Gt);M(e,ft,g=>t(15,L=g));const ut=V(Ot);M(e,ut,g=>t(14,S=g));const st=V(Ht);M(e,st,g=>t(13,p=g));const ai=V(In);M(e,ai,g=>t(164,z=g));const fi=V(Ln);M(e,fi,g=>t(163,E=g));const ui=V(Bn);M(e,ui,g=>t(162,v=g));const si=V(jn);M(e,si,g=>t(161,k=g));const ct=V(Ft);M(e,ct,g=>t(160,y=g));const ht=V(Qn);M(e,ht,g=>t(159,b=g));const dt=V(Wt);M(e,dt,g=>t(158,m=g));const gt=V(Ut);M(e,gt,g=>t(157,d=g));const ci=V(ne);M(e,ci,g=>t(11,s=g));const hi=V($t);M(e,hi,g=>t(12,c=g));const di=se([xn,Gn,On,Hn],([g,Xe,Ge,de])=>{const hn={};return g&&(hn.x=g),Xe&&(hn.y=Xe),Ge&&(hn.z=Ge),de&&(hn.r=de),hn});M(e,di,g=>t(10,u=g));const gi=se([ti,Tn,qn],([g])=>Object.assign({top:0,right:0,bottom:0,left:0},g));M(e,gi,g=>t(37,cn=g));const mi=se([Tn,qn,gi],([g,Xe,Ge])=>{const de={};return de.top=Ge.top,de.right=g-Ge.right,de.bottom=Xe-Ge.bottom,de.left=Ge.left,de.width=de.right-de.left,de.height=de.bottom-de.top,de.width<=0&&ar===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),de.height<=0&&ar===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),de});M(e,mi,g=>t(151,f=g));const $e=se([mi],([g])=>g.width);M(e,$e,g=>t(34,Ze=g));const en=se([mi],([g])=>g.height);M(e,en,g=>t(35,ue=g));const Be=se([Jn,di,ei,ct,ht,gt,dt],([g,Xe,Ge,de,hn,ba,wa])=>{const va={x:de,y:hn,r:ba,z:wa},yr=br(Xe,Ge),Sa=Object.fromEntries(Object.keys(yr).map(pr=>[pr,va[pr]]));return Object.keys(yr).length>0?{...Va(g,yr,Sa),...Ge}:{}});M(e,Be,g=>t(38,Zn=g));const _i=se([Be,ii],vi("x"));M(e,_i,g=>t(39,vn=g));const yi=se([Be,ri],vi("y"));M(e,yi,g=>t(40,eo=g));const pi=se([Be,oi],vi("z"));M(e,pi,g=>t(41,no=g));const bi=se([Be,li],vi("r"));M(e,bi,g=>t(42,to=g));const mt=se([ct,Be,_i,at,$n,it,$e,en,ai,Je],Ni("x"));M(e,mt,g=>t(9,h=g));const fr=se([xn,mt],zi);M(e,fr,g=>t(47,ao=g));const _t=se([ht,Be,yi,ft,et,rt,$e,en,fi,Je],Ni("y"));M(e,_t,g=>t(8,a=g));const ur=se([Gn,_t],zi);M(e,ur,g=>t(48,fo=g));const yt=se([dt,Be,pi,ut,nt,ot,$e,en,ui,Je],Ni("z"));M(e,yt,g=>t(7,l=g));const sr=se([On,yt],zi);M(e,sr,g=>t(49,uo=g));const pt=se([gt,Be,bi,st,tt,lt,$e,en,si,Je],Ni("r"));M(e,pt,g=>t(6,o=g));const cr=se([Hn,pt],zi);M(e,cr,g=>t(50,so=g));const hr=se([mt],Mi);M(e,hr,g=>t(43,io=g));const dr=se([_t],Mi);M(e,dr,g=>t(44,ro=g));const gr=se([yt],Mi);M(e,gr,g=>t(45,oo=g));const mr=se([pt],Mi);M(e,mr,g=>t(46,lo=g));const _r=se([$e,en],([g,Xe])=>g/Xe);M(e,_r,g=>t(36,Qe=g));function ya(g){fn[g?"unshift":"push"](()=>{Lt=g,t(2,Lt)})}function pa(){Sn=this.clientWidth,kn=this.clientHeight,t(0,Sn),t(1,kn)}return e.$$set=g=>{"ssr"in g&&t(3,ir=g.ssr),"pointerEvents"in g&&t(4,ho=g.pointerEvents),"position"in g&&t(5,go=g.position),"percentRange"in g&&t(111,It=g.percentRange),"width"in g&&t(112,rr=g.width),"height"in g&&t(113,or=g.height),"containerWidth"in g&&t(0,Sn=g.containerWidth),"containerHeight"in g&&t(1,kn=g.containerHeight),"element"in g&&t(2,Lt=g.element),"x"in g&&t(114,En=g.x),"y"in g&&t(115,Rn=g.y),"z"in g&&t(116,Nn=g.z),"r"in g&&t(117,zn=g.r),"data"in g&&t(118,Mn=g.data),"xDomain"in g&&t(119,Pn=g.xDomain),"yDomain"in g&&t(120,Dn=g.yDomain),"zDomain"in g&&t(121,An=g.zDomain),"rDomain"in g&&t(122,Cn=g.rDomain),"xNice"in g&&t(123,Bt=g.xNice),"yNice"in g&&t(124,jt=g.yNice),"zNice"in g&&t(125,Tt=g.zNice),"rNice"in g&&t(126,qt=g.rNice),"xPadding"in g&&t(127,xt=g.xPadding),"yPadding"in g&&t(128,Gt=g.yPadding),"zPadding"in g&&t(129,Ot=g.zPadding),"rPadding"in g&&t(130,Ht=g.rPadding),"xScale"in g&&t(131,Ft=g.xScale),"yScale"in g&&t(132,Qn=g.yScale),"zScale"in g&&t(133,Wt=g.zScale),"rScale"in g&&t(134,Ut=g.rScale),"xRange"in g&&t(135,In=g.xRange),"yRange"in g&&t(136,Ln=g.yRange),"zRange"in g&&t(137,Bn=g.zRange),"rRange"in g&&t(138,jn=g.rRange),"xReverse"in g&&t(139,Vt=g.xReverse),"yReverse"in g&&t(140,Yt=g.yReverse),"zReverse"in g&&t(141,Xt=g.zReverse),"rReverse"in g&&t(142,Kt=g.rReverse),"padding"in g&&t(143,Zt=g.padding),"extents"in g&&t(144,Qt=g.extents),"flatData"in g&&t(145,Jt=g.flatData),"custom"in g&&t(146,$t=g.custom),"debug"in g&&t(147,lr=g.debug),"$$scope"in g&&t(152,co=g.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&t(150,i=typeof Yt>"u"?typeof Qn.bandwidth!="function":Yt),e.$$.dirty[3]&2097152&&En&&t(148,ne.x=En,ne),e.$$.dirty[3]&4194304&&Rn&&t(148,ne.y=Rn,ne),e.$$.dirty[3]&8388608&&Nn&&t(148,ne.z=Nn,ne),e.$$.dirty[3]&16777216&&zn&&t(148,ne.r=zn,ne),e.$$.dirty[3]&67108864&&Pn&&t(148,ne.xDomain=Pn,ne),e.$$.dirty[3]&134217728&&Dn&&t(148,ne.yDomain=Dn,ne),e.$$.dirty[3]&268435456&&An&&t(148,ne.zDomain=An,ne),e.$$.dirty[3]&536870912&&Cn&&t(148,ne.rDomain=Cn,ne),e.$$.dirty[4]&2048&&In&&t(148,ne.xRange=In,ne),e.$$.dirty[4]&4096&&Ln&&t(148,ne.yRange=Ln,ne),e.$$.dirty[4]&8192&&Bn&&t(148,ne.zRange=Bn,ne),e.$$.dirty[4]&16384&&jn&&t(148,ne.rRange=jn,ne),e.$$.dirty[3]&262144&&F(Je,xe=It,xe),e.$$.dirty[0]&1&&F(Tn,ve=Sn,ve),e.$$.dirty[0]&2&&F(qn,pe=kn,pe),e.$$.dirty[4]&1048576&&F(ei,oe=br(Qt),oe),e.$$.dirty[3]&33554432&&F(ni,K=Mn,K),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&F(Jn,sn=Jt||Mn,sn),e.$$.dirty[4]&524288&&F(ti,ze=Zt,ze),e.$$.dirty[3]&2097152&&F(xn,Ne=nn(En),Ne),e.$$.dirty[3]&4194304&&F(Gn,H=nn(Rn),H),e.$$.dirty[3]&8388608&&F(On,le=nn(Nn),le),e.$$.dirty[3]&16777216&&F(Hn,G=nn(zn),G),e.$$.dirty[3]&67108864&&F(ii,D=Pn,D),e.$$.dirty[3]&134217728&&F(ri,Y=Dn,Y),e.$$.dirty[3]&268435456&&F(oi,O=An,O),e.$$.dirty[3]&536870912&&F(li,x=Cn,x),e.$$.dirty[3]&1073741824&&F($n,N=Bt,N),e.$$.dirty[4]&1&&F(et,_=jt,_),e.$$.dirty[4]&2&&F(nt,C=Tt,C),e.$$.dirty[4]&4&&F(tt,T=qt,T),e.$$.dirty[4]&32768&&F(it,W=Vt,W),e.$$.dirty[4]&67108864&&F(rt,R=i,R),e.$$.dirty[4]&131072&&F(ot,j=Xt,j),e.$$.dirty[4]&262144&&F(lt,A=Kt,A),e.$$.dirty[4]&8&&F(at,B=xt,B),e.$$.dirty[4]&16&&F(ft,L=Gt,L),e.$$.dirty[4]&32&&F(ut,S=Ot,S),e.$$.dirty[4]&64&&F(st,p=Ht,p),e.$$.dirty[4]&2048&&F(ai,z=In,z),e.$$.dirty[4]&4096&&F(fi,E=Ln,E),e.$$.dirty[4]&8192&&F(ui,v=Bn,v),e.$$.dirty[4]&16384&&F(si,k=jn,k),e.$$.dirty[4]&128&&F(ct,y=Ft,y),e.$$.dirty[4]&256&&F(ht,b=Qn,b),e.$$.dirty[4]&512&&F(dt,m=Wt,m),e.$$.dirty[4]&1024&&F(gt,d=Ut,d),e.$$.dirty[4]&4194304&&F(hi,c=$t,c),e.$$.dirty[4]&16777216&&F(ci,s=ne,s),e.$$.dirty[4]&33554432&&Cl("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&f&&lr===!0&&(ir===!0||typeof window<"u")&&_a({boundingBox:f,activeGetters:u,x:ne.x,y:ne.y,z:ne.z,r:ne.r,xScale:h,yScale:a,zScale:l,rScale:o})},t(149,r={activeGetters:di,width:$e,height:en,percentRange:Je,aspectRatio:_r,containerWidth:Tn,containerHeight:qn,x:xn,y:Gn,z:On,r:Hn,custom:hi,data:ni,xNice:$n,yNice:et,zNice:nt,rNice:tt,xReverse:it,yReverse:rt,zReverse:ot,rReverse:lt,xPadding:at,yPadding:ft,zPadding:ut,rPadding:st,padding:gi,flatData:Jn,extents:Be,xDomain:_i,yDomain:yi,zDomain:pi,rDomain:bi,xRange:hr,yRange:dr,zRange:gr,rRange:mr,config:ci,xScale:mt,xGet:fr,yScale:_t,yGet:ur,zScale:yt,zGet:sr,rScale:pt,rGet:cr}),[Sn,kn,Lt,ir,ho,go,o,l,a,h,u,s,c,p,S,L,B,A,j,R,W,T,C,_,N,G,le,H,Ne,sn,K,pe,ve,xe,Ze,ue,Qe,cn,Zn,vn,eo,no,to,io,ro,oo,lo,ao,fo,uo,so,Je,Tn,qn,ei,ni,Jn,ti,xn,Gn,On,Hn,ii,ri,oi,li,$n,et,nt,tt,it,rt,ot,lt,at,ft,ut,st,ai,fi,ui,si,ct,ht,dt,gt,ci,hi,di,gi,mi,$e,en,Be,_i,yi,pi,bi,mt,fr,_t,ur,yt,sr,pt,cr,hr,dr,gr,mr,_r,It,rr,or,En,Rn,Nn,zn,Mn,Pn,Dn,An,Cn,Bt,jt,Tt,qt,xt,Gt,Ot,Ht,Ft,Qn,Wt,Ut,In,Ln,Bn,jn,Vt,Yt,Xt,Kt,Zt,Qt,Jt,$t,lr,ne,r,i,f,co,ma,ya,pa]}class lu extends Ee{constructor(n){super(),Re(this,n,ou,ru,ke,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const au=e=>({element:e&1}),jo=e=>({element:e[0]});function fu(e){let n,t;const i=e[11].default,r=rn(i,e,e[10],jo);return{c(){n=Z("div"),r&&r.c(),this.h()},l(o){n=Q(o,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var l=U(n);r&&r.l(l),l.forEach(P),this.h()},h(){w(n,"class","layercake-layout-html svelte-1bu60uu"),w(n,"role",e[6]),w(n,"aria-label",e[3]),w(n,"aria-labelledby",e[4]),w(n,"aria-describedby",e[5]),q(n,"z-index",e[1]),q(n,"pointer-events",e[2]===!1?"none":null),q(n,"top",e[7].top+"px"),q(n,"right",e[7].right+"px"),q(n,"bottom",e[7].bottom+"px"),q(n,"left",e[7].left+"px")},m(o,l){X(o,n,l),r&&r.m(n,null),e[12](n),t=!0},p(o,[l]){r&&r.p&&(!t||l&1025)&&on(r,i,o,o[10],t?an(i,o[10],l,au):ln(o[10]),jo),(!t||l&64)&&w(n,"role",o[6]),(!t||l&8)&&w(n,"aria-label",o[3]),(!t||l&16)&&w(n,"aria-labelledby",o[4]),(!t||l&32)&&w(n,"aria-describedby",o[5]),l&2&&q(n,"z-index",o[1]),l&4&&q(n,"pointer-events",o[2]===!1?"none":null),l&128&&q(n,"top",o[7].top+"px"),l&128&&q(n,"right",o[7].right+"px"),l&128&&q(n,"bottom",o[7].bottom+"px"),l&128&&q(n,"left",o[7].left+"px")},i(o){t||(ee(r,o),t=!0)},o(o){re(r,o),t=!1},d(o){o&&P(n),r&&r.d(o),e[12](null)}}}function uu(e,n,t){let i,r,{$$slots:o={},$$scope:l}=n;const{padding:a}=mn("LayerCake");M(e,a,y=>t(7,r=y));let{element:h=void 0}=n,{zIndex:u=void 0}=n,{pointerEvents:f=void 0}=n,{role:s=void 0}=n,{label:c=void 0}=n,{labelledBy:d=void 0}=n,{describedBy:m=void 0}=n;function b(y){fn[y?"unshift":"push"](()=>{h=y,t(0,h)})}return e.$$set=y=>{"element"in y&&t(0,h=y.element),"zIndex"in y&&t(1,u=y.zIndex),"pointerEvents"in y&&t(2,f=y.pointerEvents),"role"in y&&t(9,s=y.role),"label"in y&&t(3,c=y.label),"labelledBy"in y&&t(4,d=y.labelledBy),"describedBy"in y&&t(5,m=y.describedBy),"$$scope"in y&&t(10,l=y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&t(6,i=s||(c||d||m?"figure":void 0))},[h,u,f,c,d,m,i,r,a,s,l,o,b]}class su extends Ee{constructor(n){super(),Re(this,n,uu,fu,ke,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const cu=e=>({element:e&1}),To=e=>({element:e[0]}),hu=e=>({}),qo=e=>({}),du=e=>({}),xo=e=>({});function Go(e){let n,t;return{c(){n=Ue("title"),t=te(e[8])},l(i){n=Ve(i,"title",{});var r=U(n);t=ie(r,e[8]),r.forEach(P)},m(i,r){X(i,n,r),I(n,t)},p(i,r){r&256&&me(t,i[8])},d(i){i&&P(n)}}}function gu(e){let n,t=e[8]&&Go(e);return{c(){t&&t.c(),n=he()},l(i){t&&t.l(i),n=he()},m(i,r){t&&t.m(i,r),X(i,n,r)},p(i,r){i[8]?t?t.p(i,r):(t=Go(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){i&&P(n),t&&t.d(i)}}}function mu(e){let n,t,i,r,o;const l=e[16].title,a=rn(l,e,e[15],xo),h=a||gu(e),u=e[16].defs,f=rn(u,e,e[15],qo),s=e[16].default,c=rn(s,e,e[15],To);return{c(){n=Ue("svg"),h&&h.c(),t=Ue("defs"),f&&f.c(),i=Ue("g"),c&&c.c(),this.h()},l(d){n=Ve(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var m=U(n);h&&h.l(m),t=Ve(m,"defs",{});var b=U(t);f&&f.l(b),b.forEach(P),i=Ve(m,"g",{class:!0,transform:!0});var y=U(i);c&&c.l(y),y.forEach(P),m.forEach(P),this.h()},h(){w(i,"class","layercake-layout-svg_g"),w(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),w(n,"class","layercake-layout-svg svelte-u84d8d"),w(n,"viewBox",e[4]),w(n,"width",e[9]),w(n,"height",e[10]),w(n,"aria-label",e[5]),w(n,"aria-labelledby",e[6]),w(n,"aria-describedby",e[7]),q(n,"z-index",e[2]),q(n,"pointer-events",e[3]===!1?"none":null)},m(d,m){X(d,n,m),h&&h.m(n,null),I(n,t),f&&f.m(t,null),I(n,i),c&&c.m(i,null),e[17](i),e[18](n),o=!0},p(d,[m]){a?a.p&&(!o||m&32768)&&on(a,l,d,d[15],o?an(l,d[15],m,du):ln(d[15]),xo):h&&h.p&&(!o||m&256)&&h.p(d,o?m:-1),f&&f.p&&(!o||m&32768)&&on(f,u,d,d[15],o?an(u,d[15],m,hu):ln(d[15]),qo),c&&c.p&&(!o||m&32769)&&on(c,s,d,d[15],o?an(s,d[15],m,cu):ln(d[15]),To),(!o||m&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&w(i,"transform",r),(!o||m&16)&&w(n,"viewBox",d[4]),(!o||m&512)&&w(n,"width",d[9]),(!o||m&1024)&&w(n,"height",d[10]),(!o||m&32)&&w(n,"aria-label",d[5]),(!o||m&64)&&w(n,"aria-labelledby",d[6]),(!o||m&128)&&w(n,"aria-describedby",d[7]),m&4&&q(n,"z-index",d[2]),m&8&&q(n,"pointer-events",d[3]===!1?"none":null)},i(d){o||(ee(h,d),ee(f,d),ee(c,d),o=!0)},o(d){re(h,d),re(f,d),re(c,d),o=!1},d(d){d&&P(n),h&&h.d(d),f&&f.d(d),c&&c.d(d),e[17](null),e[18](null)}}}function _u(e,n,t){let i,r,o,{$$slots:l={},$$scope:a}=n,{element:h=void 0}=n,{innerElement:u=void 0}=n,{zIndex:f=void 0}=n,{pointerEvents:s=void 0}=n,{viewBox:c=void 0}=n,{label:d=void 0}=n,{labelledBy:m=void 0}=n,{describedBy:b=void 0}=n,{title:y=void 0}=n;const{containerWidth:k,containerHeight:v,padding:E}=mn("LayerCake");M(e,k,S=>t(9,i=S)),M(e,v,S=>t(10,r=S)),M(e,E,S=>t(11,o=S));function z(S){fn[S?"unshift":"push"](()=>{u=S,t(1,u)})}function p(S){fn[S?"unshift":"push"](()=>{h=S,t(0,h)})}return e.$$set=S=>{"element"in S&&t(0,h=S.element),"innerElement"in S&&t(1,u=S.innerElement),"zIndex"in S&&t(2,f=S.zIndex),"pointerEvents"in S&&t(3,s=S.pointerEvents),"viewBox"in S&&t(4,c=S.viewBox),"label"in S&&t(5,d=S.label),"labelledBy"in S&&t(6,m=S.labelledBy),"describedBy"in S&&t(7,b=S.describedBy),"title"in S&&t(8,y=S.title),"$$scope"in S&&t(15,a=S.$$scope)},[h,u,f,s,c,d,m,b,y,i,r,o,k,v,E,a,l,z,p]}class yu extends Ee{constructor(n){super(),Re(this,n,_u,mu,ke,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Ql(e,n,t){const i=window.devicePixelRatio||1;return e.canvas.width=n*i,e.canvas.height=t*i,e.canvas.style.width=`${n}px`,e.canvas.style.height=`${t}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const pu=e=>({element:e&2,context:e&1}),Oo=e=>({element:e[1],context:e[0]}),bu=e=>({}),Ho=e=>({});function Fo(e){let n;return{c(){n=te(e[4])},l(t){n=ie(t,e[4])},m(t,i){X(t,n,i)},p(t,i){i&16&&me(n,t[4])},d(t){t&&P(n)}}}function wu(e){let n,t=e[4]&&Fo(e);return{c(){t&&t.c(),n=he()},l(i){t&&t.l(i),n=he()},m(i,r){t&&t.m(i,r),X(i,n,r)},p(i,r){i[4]?t?t.p(i,r):(t=Fo(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){i&&P(n),t&&t.d(i)}}}function vu(e){let n,t,i;const r=e[13].fallback,o=rn(r,e,e[12],Ho),l=o||wu(e),a=e[13].default,h=rn(a,e,e[12],Oo);return{c(){n=Z("canvas"),l&&l.c(),t=_e(),h&&h.c(),this.h()},l(u){n=Q(u,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=U(n);l&&l.l(f),f.forEach(P),t=ye(u),h&&h.l(u),this.h()},h(){w(n,"class","layercake-layout-canvas"),q(n,"width","100%"),q(n,"height","100%"),q(n,"position","absolute"),w(n,"aria-label",e[5]),w(n,"aria-labelledby",e[6]),w(n,"aria-describedby",e[7]),q(n,"z-index",e[2]),q(n,"pointer-events",e[3]===!1?"none":null),q(n,"top",e[8].top+"px"),q(n,"right",e[8].right+"px"),q(n,"bottom",e[8].bottom+"px"),q(n,"left",e[8].left+"px")},m(u,f){X(u,n,f),l&&l.m(n,null),e[14](n),X(u,t,f),h&&h.m(u,f),i=!0},p(u,[f]){o?o.p&&(!i||f&4096)&&on(o,r,u,u[12],i?an(r,u[12],f,bu):ln(u[12]),Ho):l&&l.p&&(!i||f&16)&&l.p(u,i?f:-1),(!i||f&32)&&w(n,"aria-label",u[5]),(!i||f&64)&&w(n,"aria-labelledby",u[6]),(!i||f&128)&&w(n,"aria-describedby",u[7]),f&4&&q(n,"z-index",u[2]),f&8&&q(n,"pointer-events",u[3]===!1?"none":null),f&256&&q(n,"top",u[8].top+"px"),f&256&&q(n,"right",u[8].right+"px"),f&256&&q(n,"bottom",u[8].bottom+"px"),f&256&&q(n,"left",u[8].left+"px"),h&&h.p&&(!i||f&4099)&&on(h,a,u,u[12],i?an(a,u[12],f,pu):ln(u[12]),Oo)},i(u){i||(ee(l,u),ee(h,u),i=!0)},o(u){re(l,u),re(h,u),i=!1},d(u){u&&(P(n),P(t)),l&&l.d(u),e[14](null),h&&h.d(u)}}}function Su(e,n,t){let i,r,o,{$$slots:l={},$$scope:a}=n;const{width:h,height:u,padding:f}=mn("LayerCake");M(e,h,p=>t(16,r=p)),M(e,u,p=>t(15,i=p)),M(e,f,p=>t(8,o=p));let{element:s=void 0}=n,{context:c=void 0}=n,{zIndex:d=void 0}=n,{pointerEvents:m=void 0}=n,{fallback:b=""}=n,{label:y=void 0}=n,{labelledBy:k=void 0}=n,{describedBy:v=void 0}=n;const E={ctx:V({})};Al(()=>{t(0,c=s.getContext("2d")),Ql(c,r,i)}),Cl("canvas",E);function z(p){fn[p?"unshift":"push"](()=>{s=p,t(1,s)})}return e.$$set=p=>{"element"in p&&t(1,s=p.element),"context"in p&&t(0,c=p.context),"zIndex"in p&&t(2,d=p.zIndex),"pointerEvents"in p&&t(3,m=p.pointerEvents),"fallback"in p&&t(4,b=p.fallback),"label"in p&&t(5,y=p.label),"labelledBy"in p&&t(6,k=p.labelledBy),"describedBy"in p&&t(7,v=p.describedBy),"$$scope"in p&&t(12,a=p.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&E.ctx.set(c)},[c,s,d,m,b,y,k,v,o,h,u,f,a,l,z]}class ku extends Ee{constructor(n){super(),Re(this,n,Su,vu,ke,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function Eu(e){e.nextSibling&&e.parentNode.appendChild(e)}function Ru(e){return e}function Nu(e){if(e==null)return Ru;var n,t,i=e.scale[0],r=e.scale[1],o=e.translate[0],l=e.translate[1];return function(a,h){h||(n=t=0);var u=2,f=a.length,s=new Array(f);for(s[0]=(n+=a[0])*i+o,s[1]=(t+=a[1])*r+l;u<f;)s[u]=a[u],++u;return s}}function zu(e,n){for(var t,i=e.length,r=i-n;r<--i;)t=e[r],e[r++]=e[i],e[i]=t}function Mu(e,n){return typeof n=="string"&&(n=e.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(t){return Wo(e,t)})}:Wo(e,n)}function Wo(e,n){var t=n.id,i=n.bbox,r=n.properties==null?{}:n.properties,o=Pu(e,n);return t==null&&i==null?{type:"Feature",properties:r,geometry:o}:i==null?{type:"Feature",id:t,properties:r,geometry:o}:{type:"Feature",id:t,bbox:i,properties:r,geometry:o}}function Pu(e,n){var t=Nu(e.transform),i=e.arcs;function r(f,s){s.length&&s.pop();for(var c=i[f<0?~f:f],d=0,m=c.length;d<m;++d)s.push(t(c[d],d));f<0&&zu(s,m)}function o(f){return t(f)}function l(f){for(var s=[],c=0,d=f.length;c<d;++c)r(f[c],s);return s.length<2&&s.push(s[0]),s}function a(f){for(var s=l(f);s.length<4;)s.push(s[0]);return s}function h(f){return f.map(a)}function u(f){var s=f.type,c;switch(s){case"GeometryCollection":return{type:s,geometries:f.geometries.map(u)};case"Point":c=o(f.coordinates);break;case"MultiPoint":c=f.coordinates.map(o);break;case"LineString":c=l(f.arcs);break;case"MultiLineString":c=f.arcs.map(l);break;case"Polygon":c=h(f.arcs);break;case"MultiPolygon":c=f.arcs.map(h);break;default:return null}return{type:s,coordinates:c}}return u(n)}var $=1e-6,Du=1e-12,J=Math.PI,Ce=J/2,Uo=J/4,Le=J*2,je=180/J,we=J/180,fe=Math.abs,Au=Math.atan,Yn=Math.atan2,ce=Math.cos,ae=Math.sin,Li=Math.sign||function(e){return e>0?1:e<0?-1:0},Ke=Math.sqrt;function Cu(e){return e>1?0:e<-1?J:Math.acos(e)}function bn(e){return e>1?Ce:e<-1?-Ce:Math.asin(e)}function Ie(){}function Vi(e,n){e&&Yo.hasOwnProperty(e.type)&&Yo[e.type](e,n)}var Vo={Feature:function(e,n){Vi(e.geometry,n)},FeatureCollection:function(e,n){for(var t=e.features,i=-1,r=t.length;++i<r;)Vi(t[i].geometry,n)}},Yo={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)e=t[i],n.point(e[0],e[1],e[2])},LineString:function(e,n){Pr(e.coordinates,n,0)},MultiLineString:function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)Pr(t[i],n,0)},Polygon:function(e,n){Xo(e.coordinates,n)},MultiPolygon:function(e,n){for(var t=e.coordinates,i=-1,r=t.length;++i<r;)Xo(t[i],n)},GeometryCollection:function(e,n){for(var t=e.geometries,i=-1,r=t.length;++i<r;)Vi(t[i],n)}};function Pr(e,n,t){var i=-1,r=e.length-t,o;for(n.lineStart();++i<r;)o=e[i],n.point(o[0],o[1],o[2]);n.lineEnd()}function Xo(e,n){var t=-1,i=e.length;for(n.polygonStart();++t<i;)Pr(e[t],n,1);n.polygonEnd()}function Fn(e,n){e&&Vo.hasOwnProperty(e.type)?Vo[e.type](e,n):Vi(e,n)}function Dr(e){return[Yn(e[1],e[0]),bn(e[2])]}function Xn(e){var n=e[0],t=e[1],i=ce(t);return[i*ce(n),i*ae(n),ae(t)]}function Pi(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function Yi(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function Sr(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function Di(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function Ar(e){var n=Ke(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}function Cr(e,n){function t(i,r){return i=e(i,r),n(i[0],i[1])}return e.invert&&n.invert&&(t.invert=function(i,r){return i=n.invert(i,r),i&&e.invert(i[0],i[1])}),t}function Ir(e,n){return fe(e)>J&&(e-=Math.round(e/Le)*Le),[e,n]}Ir.invert=Ir;function Iu(e,n,t){return(e%=Le)?n||t?Cr(Zo(e),Qo(n,t)):Zo(e):n||t?Qo(n,t):Ir}function Ko(e){return function(n,t){return n+=e,fe(n)>J&&(n-=Math.round(n/Le)*Le),[n,t]}}function Zo(e){var n=Ko(e);return n.invert=Ko(-e),n}function Qo(e,n){var t=ce(e),i=ae(e),r=ce(n),o=ae(n);function l(a,h){var u=ce(h),f=ce(a)*u,s=ae(a)*u,c=ae(h),d=c*t+f*i;return[Yn(s*r-d*o,f*t-c*i),bn(d*r+s*o)]}return l.invert=function(a,h){var u=ce(h),f=ce(a)*u,s=ae(a)*u,c=ae(h),d=c*r-s*o;return[Yn(s*r+c*o,f*t+d*i),bn(d*t-f*i)]},l}function Lu(e,n,t,i,r,o){if(t){var l=ce(n),a=ae(n),h=i*t;r==null?(r=n+i*Le,o=n-h/2):(r=Jo(l,r),o=Jo(l,o),(i>0?r<o:r>o)&&(r+=i*Le));for(var u,f=r;i>0?f>o:f<o;f-=h)u=Dr([l,-a*ce(f),-a*ae(f)]),e.point(u[0],u[1])}}function Jo(e,n){n=Xn(n),n[0]-=e,Ar(n);var t=Cu(-n[1]);return((-n[2]<0?-t:t)+Le-$)%Le}function Jl(){var e=[],n;return{point:function(t,i,r){n.push([t,i,r])},lineStart:function(){e.push(n=[])},lineEnd:Ie,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function Bi(e,n){return fe(e[0]-n[0])<$&&fe(e[1]-n[1])<$}function Ai(e,n,t,i){this.x=e,this.z=n,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function $l(e,n,t,i,r){var o=[],l=[],a,h;if(e.forEach(function(m){if(!((b=m.length-1)<=0)){var b,y=m[0],k=m[b],v;if(Bi(y,k)){if(!y[2]&&!k[2]){for(r.lineStart(),a=0;a<b;++a)r.point((y=m[a])[0],y[1]);r.lineEnd();return}k[0]+=2*$}o.push(v=new Ai(y,m,null,!0)),l.push(v.o=new Ai(y,null,v,!1)),o.push(v=new Ai(k,m,null,!1)),l.push(v.o=new Ai(k,null,v,!0))}}),!!o.length){for(l.sort(n),$o(o),$o(l),a=0,h=l.length;a<h;++a)l[a].e=t=!t;for(var u=o[0],f,s;;){for(var c=u,d=!0;c.v;)if((c=c.n)===u)return;f=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(a=0,h=f.length;a<h;++a)r.point((s=f[a])[0],s[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(d)for(f=c.p.z,a=f.length-1;a>=0;--a)r.point((s=f[a])[0],s[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,f=c.z,d=!d}while(!c.v);r.lineEnd()}}}function $o(e){if(n=e.length){for(var n,t=0,i=e[0],r;++t<n;)i.n=r=e[t],r.p=i,i=r;i.n=r=e[0],r.p=i}}function kr(e){return fe(e[0])<=J?e[0]:Li(e[0])*((fe(e[0])+J)%Le-J)}function Bu(e,n){var t=kr(n),i=n[1],r=ae(i),o=[ae(t),-ce(t),0],l=0,a=0,h=new yn;r===1?i=Ce+$:r===-1&&(i=-Ce-$);for(var u=0,f=e.length;u<f;++u)if(c=(s=e[u]).length)for(var s,c,d=s[c-1],m=kr(d),b=d[1]/2+Uo,y=ae(b),k=ce(b),v=0;v<c;++v,m=z,y=S,k=L,d=E){var E=s[v],z=kr(E),p=E[1]/2+Uo,S=ae(p),L=ce(p),B=z-m,A=B>=0?1:-1,j=A*B,R=j>J,W=y*S;if(h.add(Yn(W*A*ae(j),k*L+W*ce(j))),l+=R?B+A*Le:B,R^m>=t^z>=t){var T=Yi(Xn(d),Xn(E));Ar(T);var C=Yi(o,T);Ar(C);var _=(R^B>=0?-1:1)*bn(C[2]);(i>_||i===_&&(T[0]||T[1]))&&(a+=R^B>=0?1:-1)}}return(l<-$||l<$&&h<-Du)^a&1}function ea(e,n,t,i){return function(r){var o=n(r),l=Jl(),a=n(l),h=!1,u,f,s,c={point:d,lineStart:b,lineEnd:y,polygonStart:function(){c.point=k,c.lineStart=v,c.lineEnd=E,f=[],u=[]},polygonEnd:function(){c.point=d,c.lineStart=b,c.lineEnd=y,f=jl(f);var z=Bu(u,i);f.length?(h||(r.polygonStart(),h=!0),$l(f,Tu,z,t,r)):z&&(h||(r.polygonStart(),h=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(z,p){e(z,p)&&r.point(z,p)}function m(z,p){o.point(z,p)}function b(){c.point=m,o.lineStart()}function y(){c.point=d,o.lineEnd()}function k(z,p){s.push([z,p]),a.point(z,p)}function v(){a.lineStart(),s=[]}function E(){k(s[0][0],s[0][1]),a.lineEnd();var z=a.clean(),p=l.result(),S,L=p.length,B,A,j;if(s.pop(),u.push(s),s=null,!!L){if(z&1){if(A=p[0],(B=A.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),S=0;S<B;++S)r.point((j=A[S])[0],j[1]);r.lineEnd()}return}L>1&&z&2&&p.push(p.pop().concat(p.shift())),f.push(p.filter(ju))}}return c}}function ju(e){return e.length>1}function Tu(e,n){return((e=e.x)[0]<0?e[1]-Ce-$:Ce-e[1])-((n=n.x)[0]<0?n[1]-Ce-$:Ce-n[1])}const el=ea(function(){return!0},qu,Gu,[-J,-Ce]);function qu(e){var n=NaN,t=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(o,l){var a=o>0?J:-J,h=fe(o-n);fe(h-J)<$?(e.point(n,t=(t+l)/2>0?Ce:-Ce),e.point(i,t),e.lineEnd(),e.lineStart(),e.point(a,t),e.point(o,t),r=0):i!==a&&h>=J&&(fe(n-i)<$&&(n-=i*$),fe(o-a)<$&&(o-=a*$),t=xu(n,t,o,l),e.point(i,t),e.lineEnd(),e.lineStart(),e.point(a,t),r=0),e.point(n=o,t=l),i=a},lineEnd:function(){e.lineEnd(),n=t=NaN},clean:function(){return 2-r}}}function xu(e,n,t,i){var r,o,l=ae(e-t);return fe(l)>$?Au((ae(n)*(o=ce(i))*ae(t)-ae(i)*(r=ce(n))*ae(e))/(r*o*l)):(n+i)/2}function Gu(e,n,t,i){var r;if(e==null)r=t*Ce,i.point(-J,r),i.point(0,r),i.point(J,r),i.point(J,0),i.point(J,-r),i.point(0,-r),i.point(-J,-r),i.point(-J,0),i.point(-J,r);else if(fe(e[0]-n[0])>$){var o=e[0]<n[0]?J:-J;r=t*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}function Ou(e){var n=ce(e),t=6*we,i=n>0,r=fe(n)>$;function o(f,s,c,d){Lu(d,e,t,c,f,s)}function l(f,s){return ce(f)*ce(s)>n}function a(f){var s,c,d,m,b;return{lineStart:function(){m=d=!1,b=1},point:function(y,k){var v=[y,k],E,z=l(y,k),p=i?z?0:u(y,k):z?u(y+(y<0?J:-J),k):0;if(!s&&(m=d=z)&&f.lineStart(),z!==d&&(E=h(s,v),(!E||Bi(s,E)||Bi(v,E))&&(v[2]=1)),z!==d)b=0,z?(f.lineStart(),E=h(v,s),f.point(E[0],E[1])):(E=h(s,v),f.point(E[0],E[1],2),f.lineEnd()),s=E;else if(r&&s&&i^z){var S;!(p&c)&&(S=h(v,s,!0))&&(b=0,i?(f.lineStart(),f.point(S[0][0],S[0][1]),f.point(S[1][0],S[1][1]),f.lineEnd()):(f.point(S[1][0],S[1][1]),f.lineEnd(),f.lineStart(),f.point(S[0][0],S[0][1],3)))}z&&(!s||!Bi(s,v))&&f.point(v[0],v[1]),s=v,d=z,c=p},lineEnd:function(){d&&f.lineEnd(),s=null},clean:function(){return b|(m&&d)<<1}}}function h(f,s,c){var d=Xn(f),m=Xn(s),b=[1,0,0],y=Yi(d,m),k=Pi(y,y),v=y[0],E=k-v*v;if(!E)return!c&&f;var z=n*k/E,p=-n*v/E,S=Yi(b,y),L=Di(b,z),B=Di(y,p);Sr(L,B);var A=S,j=Pi(L,A),R=Pi(A,A),W=j*j-R*(Pi(L,L)-1);if(!(W<0)){var T=Ke(W),C=Di(A,(-j-T)/R);if(Sr(C,L),C=Dr(C),!c)return C;var _=f[0],N=s[0],x=f[1],O=s[1],Y;N<_&&(Y=_,_=N,N=Y);var D=N-_,G=fe(D-J)<$,le=G||D<$;if(!G&&O<x&&(Y=x,x=O,O=Y),le?G?x+O>0^C[1]<(fe(C[0]-_)<$?x:O):x<=C[1]&&C[1]<=O:D>J^(_<=C[0]&&C[0]<=N)){var H=Di(A,(-j+T)/R);return Sr(H,L),[C,Dr(H)]}}}function u(f,s){var c=i?e:J-e,d=0;return f<-c?d|=1:f>c&&(d|=2),s<-c?d|=4:s>c&&(d|=8),d}return ea(l,a,o,i?[0,-e]:[-J,e-J])}function Hu(e,n,t,i,r,o){var l=e[0],a=e[1],h=n[0],u=n[1],f=0,s=1,c=h-l,d=u-a,m;if(m=t-l,!(!c&&m>0)){if(m/=c,c<0){if(m<f)return;m<s&&(s=m)}else if(c>0){if(m>s)return;m>f&&(f=m)}if(m=r-l,!(!c&&m<0)){if(m/=c,c<0){if(m>s)return;m>f&&(f=m)}else if(c>0){if(m<f)return;m<s&&(s=m)}if(m=i-a,!(!d&&m>0)){if(m/=d,d<0){if(m<f)return;m<s&&(s=m)}else if(d>0){if(m>s)return;m>f&&(f=m)}if(m=o-a,!(!d&&m<0)){if(m/=d,d<0){if(m>s)return;m>f&&(f=m)}else if(d>0){if(m<f)return;m<s&&(s=m)}return f>0&&(e[0]=l+f*c,e[1]=a+f*d),s<1&&(n[0]=l+s*c,n[1]=a+s*d),!0}}}}}var vt=1e9,Ci=-vt;function Fu(e,n,t,i){function r(u,f){return e<=u&&u<=t&&n<=f&&f<=i}function o(u,f,s,c){var d=0,m=0;if(u==null||(d=l(u,s))!==(m=l(f,s))||h(u,f)<0^s>0)do c.point(d===0||d===3?e:t,d>1?i:n);while((d=(d+s+4)%4)!==m);else c.point(f[0],f[1])}function l(u,f){return fe(u[0]-e)<$?f>0?0:3:fe(u[0]-t)<$?f>0?2:1:fe(u[1]-n)<$?f>0?1:0:f>0?3:2}function a(u,f){return h(u.x,f.x)}function h(u,f){var s=l(u,1),c=l(f,1);return s!==c?s-c:s===0?f[1]-u[1]:s===1?u[0]-f[0]:s===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,s=Jl(),c,d,m,b,y,k,v,E,z,p,S,L={point:B,lineStart:W,lineEnd:T,polygonStart:j,polygonEnd:R};function B(_,N){r(_,N)&&f.point(_,N)}function A(){for(var _=0,N=0,x=d.length;N<x;++N)for(var O=d[N],Y=1,D=O.length,G=O[0],le,H,Ne=G[0],ze=G[1];Y<D;++Y)le=Ne,H=ze,G=O[Y],Ne=G[0],ze=G[1],H<=i?ze>i&&(Ne-le)*(i-H)>(ze-H)*(e-le)&&++_:ze<=i&&(Ne-le)*(i-H)<(ze-H)*(e-le)&&--_;return _}function j(){f=s,c=[],d=[],S=!0}function R(){var _=A(),N=S&&_,x=(c=jl(c)).length;(N||x)&&(u.polygonStart(),N&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),x&&$l(c,a,_,o,u),u.polygonEnd()),f=u,c=d=m=null}function W(){L.point=C,d&&d.push(m=[]),p=!0,z=!1,v=E=NaN}function T(){c&&(C(b,y),k&&z&&s.rejoin(),c.push(s.result())),L.point=B,z&&f.lineEnd()}function C(_,N){var x=r(_,N);if(d&&m.push([_,N]),p)b=_,y=N,k=x,p=!1,x&&(f.lineStart(),f.point(_,N));else if(x&&z)f.point(_,N);else{var O=[v=Math.max(Ci,Math.min(vt,v)),E=Math.max(Ci,Math.min(vt,E))],Y=[_=Math.max(Ci,Math.min(vt,_)),N=Math.max(Ci,Math.min(vt,N))];Hu(O,Y,e,n,t,i)?(z||(f.lineStart(),f.point(O[0],O[1])),f.point(Y[0],Y[1]),x||f.lineEnd(),S=!1):x&&(f.lineStart(),f.point(_,N),S=!1)}v=_,E=N,z=x}return L}}const Lr=e=>e;var Er=new yn,Br=new yn,na,ta,jr,Tr,tn={point:Ie,lineStart:Ie,lineEnd:Ie,polygonStart:function(){tn.lineStart=Wu,tn.lineEnd=Vu},polygonEnd:function(){tn.lineStart=tn.lineEnd=tn.point=Ie,Er.add(fe(Br)),Br=new yn},result:function(){var e=Er/2;return Er=new yn,e}};function Wu(){tn.point=Uu}function Uu(e,n){tn.point=ia,na=jr=e,ta=Tr=n}function ia(e,n){Br.add(Tr*e-jr*n),jr=e,Tr=n}function Vu(){ia(na,ta)}const nl=tn;var Kn=1/0,Xi=Kn,Dt=-Kn,Ki=Dt,Yu={point:Xu,lineStart:Ie,lineEnd:Ie,polygonStart:Ie,polygonEnd:Ie,result:function(){var e=[[Kn,Xi],[Dt,Ki]];return Dt=Ki=-(Xi=Kn=1/0),e}};function Xu(e,n){e<Kn&&(Kn=e),e>Dt&&(Dt=e),n<Xi&&(Xi=n),n>Ki&&(Ki=n)}const Zi=Yu;var qr=0,xr=0,St=0,Qi=0,Ji=0,Wn=0,Gr=0,Or=0,kt=0,ra,oa,He,Fe,qe={point:wn,lineStart:tl,lineEnd:il,polygonStart:function(){qe.lineStart=Qu,qe.lineEnd=Ju},polygonEnd:function(){qe.point=wn,qe.lineStart=tl,qe.lineEnd=il},result:function(){var e=kt?[Gr/kt,Or/kt]:Wn?[Qi/Wn,Ji/Wn]:St?[qr/St,xr/St]:[NaN,NaN];return qr=xr=St=Qi=Ji=Wn=Gr=Or=kt=0,e}};function wn(e,n){qr+=e,xr+=n,++St}function tl(){qe.point=Ku}function Ku(e,n){qe.point=Zu,wn(He=e,Fe=n)}function Zu(e,n){var t=e-He,i=n-Fe,r=Ke(t*t+i*i);Qi+=r*(He+e)/2,Ji+=r*(Fe+n)/2,Wn+=r,wn(He=e,Fe=n)}function il(){qe.point=wn}function Qu(){qe.point=$u}function Ju(){la(ra,oa)}function $u(e,n){qe.point=la,wn(ra=He=e,oa=Fe=n)}function la(e,n){var t=e-He,i=n-Fe,r=Ke(t*t+i*i);Qi+=r*(He+e)/2,Ji+=r*(Fe+n)/2,Wn+=r,r=Fe*e-He*n,Gr+=r*(He+e),Or+=r*(Fe+n),kt+=r*3,wn(He=e,Fe=n)}const rl=qe;function aa(e){this._context=e}aa.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,n){switch(this._point){case 0:{this._context.moveTo(e,n),this._point=1;break}case 1:{this._context.lineTo(e,n);break}default:{this._context.moveTo(e+this._radius,n),this._context.arc(e,n,this._radius,0,Le);break}}},result:Ie};var Hr=new yn,Rr,fa,ua,Et,Rt,$i={point:Ie,lineStart:function(){$i.point=es},lineEnd:function(){Rr&&sa(fa,ua),$i.point=Ie},polygonStart:function(){Rr=!0},polygonEnd:function(){Rr=null},result:function(){var e=+Hr;return Hr=new yn,e}};function es(e,n){$i.point=sa,fa=Et=e,ua=Rt=n}function sa(e,n){Et-=e,Rt-=n,Hr.add(Ke(Et*Et+Rt*Rt)),Et=e,Rt=n}const ol=$i;let ll,er,al,fl;class ul{constructor(n){this._append=n==null?ca:ns(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:{this._append`M${n},${t}`,this._point=1;break}case 1:{this._append`L${n},${t}`;break}default:{if(this._append`M${n},${t}`,this._radius!==al||this._append!==er){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,al=i,er=this._append,fl=this._,this._=r}this._+=fl;break}}}result(){const n=this._;return this._="",n.length?n:null}}function ca(e){let n=1;this._+=e[0];for(const t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function ns(e){const n=Math.floor(e);if(!(n>=0))throw new RangeError(`invalid digits: ${e}`);if(n>15)return ca;if(n!==ll){const t=10**n;ll=n,er=function(r){let o=1;this._+=r[0];for(const l=r.length;o<l;++o)this._+=Math.round(arguments[o]*t)/t+r[o]}}return er}function sl(e,n){let t=3,i=4.5,r,o;function l(a){return a&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Fn(a,r(o))),o.result()}return l.area=function(a){return Fn(a,r(nl)),nl.result()},l.measure=function(a){return Fn(a,r(ol)),ol.result()},l.bounds=function(a){return Fn(a,r(Zi)),Zi.result()},l.centroid=function(a){return Fn(a,r(rl)),rl.result()},l.projection=function(a){return arguments.length?(r=a==null?(e=null,Lr):(e=a).stream,l):e},l.context=function(a){return arguments.length?(o=a==null?(n=null,new ul(t)):new aa(n=a),typeof i!="function"&&o.pointRadius(i),l):n},l.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(o.pointRadius(+a),+a),l):i},l.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const h=Math.floor(a);if(!(h>=0))throw new RangeError(`invalid digits: ${a}`);t=h}return n===null&&(o=new ul(t)),l},l.projection(e).digits(t).context(n)}function Qr(e){return function(n){var t=new Fr;for(var i in e)t[i]=e[i];return t.stream=n,t}}function Fr(){}Fr.prototype={constructor:Fr,point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jr(e,n,t){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Fn(t,e.stream(Zi)),n(Zi.result()),i!=null&&e.clipExtent(i),e}function $r(e,n,t){return Jr(e,function(i){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],l=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+n[0][0]+(r-l*(i[1][0]+i[0][0]))/2,h=+n[0][1]+(o-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([a,h])},t)}function ha(e,n,t){return $r(e,[[0,0],n],t)}function da(e,n,t){return Jr(e,function(i){var r=+n,o=r/(i[1][0]-i[0][0]),l=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];e.scale(150*o).translate([l,a])},t)}function ga(e,n,t){return Jr(e,function(i){var r=+n,o=r/(i[1][1]-i[0][1]),l=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([l,a])},t)}var cl=16,ts=ce(30*we);function hl(e,n){return+n?rs(e,n):is(e)}function is(e){return Qr({point:function(n,t){n=e(n,t),this.stream.point(n[0],n[1])}})}function rs(e,n){function t(i,r,o,l,a,h,u,f,s,c,d,m,b,y){var k=u-i,v=f-r,E=k*k+v*v;if(E>4*n&&b--){var z=l+c,p=a+d,S=h+m,L=Ke(z*z+p*p+S*S),B=bn(S/=L),A=fe(fe(S)-1)<$||fe(o-s)<$?(o+s)/2:Yn(p,z),j=e(A,B),R=j[0],W=j[1],T=R-i,C=W-r,_=v*T-k*C;(_*_/E>n||fe((k*T+v*C)/E-.5)>.3||l*c+a*d+h*m<ts)&&(t(i,r,o,l,a,h,R,W,A,z/=L,p/=L,S,b,y),y.point(R,W),t(R,W,A,z,p,S,u,f,s,c,d,m,b,y))}}return function(i){var r,o,l,a,h,u,f,s,c,d,m,b,y={point:k,lineStart:v,lineEnd:z,polygonStart:function(){i.polygonStart(),y.lineStart=p},polygonEnd:function(){i.polygonEnd(),y.lineStart=v}};function k(B,A){B=e(B,A),i.point(B[0],B[1])}function v(){s=NaN,y.point=E,i.lineStart()}function E(B,A){var j=Xn([B,A]),R=e(B,A);t(s,c,f,d,m,b,s=R[0],c=R[1],f=B,d=j[0],m=j[1],b=j[2],cl,i),i.point(s,c)}function z(){y.point=k,i.lineEnd()}function p(){v(),y.point=S,y.lineEnd=L}function S(B,A){E(r=B,A),o=s,l=c,a=d,h=m,u=b,y.point=E}function L(){t(s,c,f,d,m,b,o,l,r,a,h,u,cl,i),y.lineEnd=z,z()}return y}}var os=Qr({point:function(e,n){this.stream.point(e*we,n*we)}});function ls(e){return Qr({point:function(n,t){var i=e(n,t);return this.stream.point(i[0],i[1])}})}function as(e,n,t,i,r){function o(l,a){return l*=i,a*=r,[n+e*l,t-e*a]}return o.invert=function(l,a){return[(l-n)/e*i,(t-a)/e*r]},o}function dl(e,n,t,i,r,o){if(!o)return as(e,n,t,i,r);var l=ce(o),a=ae(o),h=l*e,u=a*e,f=l/e,s=a/e,c=(a*t-l*n)/e,d=(a*n+l*t)/e;function m(b,y){return b*=i,y*=r,[h*b-u*y+n,t-u*b-h*y]}return m.invert=function(b,y){return[i*(f*b-s*y+c),r*(d-s*b-f*y)]},m}function fs(e){var n,t=150,i=480,r=250,o=0,l=0,a=0,h=0,u=0,f,s=0,c=1,d=1,m=null,b=el,y=null,k,v,E,z=Lr,p=.5,S,L,B,A,j;function R(_){return B(_[0]*we,_[1]*we)}function W(_){return _=B.invert(_[0],_[1]),_&&[_[0]*je,_[1]*je]}R.stream=function(_){return A&&j===_?A:A=os(ls(f)(b(S(z(j=_)))))},R.preclip=function(_){return arguments.length?(b=_,m=void 0,C()):b},R.postclip=function(_){return arguments.length?(z=_,y=k=v=E=null,C()):z},R.clipAngle=function(_){return arguments.length?(b=+_?Ou(m=_*we):(m=null,el),C()):m*je},R.clipExtent=function(_){return arguments.length?(z=_==null?(y=k=v=E=null,Lr):Fu(y=+_[0][0],k=+_[0][1],v=+_[1][0],E=+_[1][1]),C()):y==null?null:[[y,k],[v,E]]},R.scale=function(_){return arguments.length?(t=+_,T()):t},R.translate=function(_){return arguments.length?(i=+_[0],r=+_[1],T()):[i,r]},R.center=function(_){return arguments.length?(o=_[0]%360*we,l=_[1]%360*we,T()):[o*je,l*je]},R.rotate=function(_){return arguments.length?(a=_[0]%360*we,h=_[1]%360*we,u=_.length>2?_[2]%360*we:0,T()):[a*je,h*je,u*je]},R.angle=function(_){return arguments.length?(s=_%360*we,T()):s*je},R.reflectX=function(_){return arguments.length?(c=_?-1:1,T()):c<0},R.reflectY=function(_){return arguments.length?(d=_?-1:1,T()):d<0},R.precision=function(_){return arguments.length?(S=hl(L,p=_*_),C()):Ke(p)},R.fitExtent=function(_,N){return $r(R,_,N)},R.fitSize=function(_,N){return ha(R,_,N)},R.fitWidth=function(_,N){return da(R,_,N)},R.fitHeight=function(_,N){return ga(R,_,N)};function T(){var _=dl(t,0,0,c,d,s).apply(null,n(o,l)),N=dl(t,i-_[0],r-_[1],c,d,s);return f=Iu(a,h,u),L=Cr(n,N),B=Cr(f,L),S=hl(L,p),C()}function C(){return A=j=null,R}return function(){return n=e.apply(this,arguments),R.invert=n.invert&&W,T()}}function us(e){var n=0,t=J/3,i=fs(e),r=i(n,t);return r.parallels=function(o){return arguments.length?i(n=o[0]*we,t=o[1]*we):[n*je,t*je]},r}function ss(e){var n=ce(e);function t(i,r){return[i*n,ae(r)/n]}return t.invert=function(i,r){return[i/n,bn(r*n)]},t}function cs(e,n){var t=ae(e),i=(t+ae(n))/2;if(fe(i)<$)return ss(e);var r=1+t*(2*i-t),o=Ke(r)/i;function l(a,h){var u=Ke(r-2*i*ae(h))/i;return[u*ae(a*=i),o-u*ce(a)]}return l.invert=function(a,h){var u=o-h,f=Yn(a,fe(u))*Li(u);return u*i<0&&(f-=J*Li(a)*Li(u)),[f/i,bn((r-(a*a+u*u)*i*i)/(2*i))]},l}function Wr(){return us(cs).scale(155.424).center([0,33.6442])}function hs(){return Wr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ds(e){var n=e.length;return{point:function(t,i){for(var r=-1;++r<n;)e[r].point(t,i)},sphere:function(){for(var t=-1;++t<n;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<n;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<n;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<n;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<n;)e[t].polygonEnd()}}}function gs(){var e,n,t=hs(),i,r=Wr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,l=Wr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,h,u={point:function(c,d){h=[c,d]}};function f(c){var d=c[0],m=c[1];return h=null,i.point(d,m),h||(o.point(d,m),h)||(a.point(d,m),h)}f.invert=function(c){var d=t.scale(),m=t.translate(),b=(c[0]-m[0])/d,y=(c[1]-m[1])/d;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?r:y>=.166&&y<.234&&b>=-.214&&b<-.115?l:t).invert(c)},f.stream=function(c){return e&&n===c?e:e=ds([t.stream(n=c),r.stream(c),l.stream(c)])},f.precision=function(c){return arguments.length?(t.precision(c),r.precision(c),l.precision(c),s()):t.precision()},f.scale=function(c){return arguments.length?(t.scale(c),r.scale(c*.35),l.scale(c),f.translate(t.translate())):t.scale()},f.translate=function(c){if(!arguments.length)return t.translate();var d=t.scale(),m=+c[0],b=+c[1];return i=t.translate(c).clipExtent([[m-.455*d,b-.238*d],[m+.455*d,b+.238*d]]).stream(u),o=r.translate([m-.307*d,b+.201*d]).clipExtent([[m-.425*d+$,b+.12*d+$],[m-.214*d-$,b+.234*d-$]]).stream(u),a=l.translate([m-.205*d,b+.212*d]).clipExtent([[m-.214*d+$,b+.166*d+$],[m-.115*d-$,b+.234*d-$]]).stream(u),s()},f.fitExtent=function(c,d){return $r(f,c,d)},f.fitSize=function(c,d){return ha(f,c,d)},f.fitWidth=function(c,d){return da(f,c,d)},f.fitHeight=function(c,d){return ga(f,c,d)};function s(){return e=n=null,f}return f.scale(1070)}function ms(e,n,t){let i,r,o,l,a,h,u,f;const{data:s,width:c,height:d,zGet:m}=mn("LayerCake");M(e,s,p=>t(17,f=p)),M(e,c,p=>t(16,u=p)),M(e,d,p=>t(15,h=p)),M(e,m,p=>t(14,a=p));const{ctx:b}=mn("canvas");M(e,b,p=>t(13,l=p));let{projection:y}=n,{stroke:k="#ccc"}=n,{strokeWidth:v=1}=n,{fill:E=void 0}=n,{features:z=void 0}=n;return e.$$set=p=>{"projection"in p&&t(5,y=p.projection),"stroke"in p&&t(6,k=p.stroke),"strokeWidth"in p&&t(7,v=p.strokeWidth),"fill"in p&&t(8,E=p.fill),"features"in p&&t(9,z=p.features)},e.$$.update=()=>{e.$$.dirty&229408&&t(12,i=y().fitSize([u,h],f)),e.$$.dirty&4096&&t(10,r=sl(i)),e.$$.dirty&131584&&t(11,o=z||f.features),e.$$.dirty&126400&&l&&sl&&(Ql(l,u,h),l.clearRect(0,0,u,h),o.forEach(p=>{l.beginPath(),r.context(l),r(p),F(b,l.fillStyle=E||a(p.properties),l),l.fill(),F(b,l.lineWidth=v,l),F(b,l.strokeStyle=k,l),l.stroke()}))},[s,c,d,m,b,y,k,v,E,z,r,o,i,l,a,h,u,f]}class _s extends Ee{constructor(n){super(),Re(this,n,ms,null,ke,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function gl(e,n,t){const i=e.slice();i[28]=n[t];const r=i[5]([i[28].longitude,i[28].latitude]);return i[29]=r,i}function ml(e){let n=[],t=new Map,i,r=un(e[4]);const o=l=>`${l[28].ori}-${l[28].name}`;for(let l=0;l<r.length;l+=1){let a=gl(e,r,l),h=o(a);t.set(h,n[l]=yl(h,a))}return{c(){for(let l=0;l<n.length;l+=1)n[l].c();i=he()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);i=he()},m(l,a){for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(l,a);X(l,i,a)},p(l,a){a[0]&394239&&(r=un(l[4]),n=Pa(n,a,o,1,l,r,t,i.parentNode,Ma,yl,i,gl))},d(l){l&&P(i);for(let a=0;a<n.length;a+=1)n[a].d(l)}}}function _l(e){let n,t,i,r,o,l,a;function h(...s){return e[23](e[28],...s)}function u(...s){return e[24](e[28],...s)}function f(...s){return e[25](e[28],...s)}return{c(){n=Ue("circle"),this.h()},l(s){n=Ve(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),U(n).forEach(P),this.h()},h(){w(n,"cx",t=e[29][0]),w(n,"cy",i=e[29][1]),w(n,"r",r=e[7](Math.abs(e[8](e[28])))),w(n,"fill",o=e[0]||e[9](e[28])),w(n,"stroke",e[1]),w(n,"stroke-width",e[2]),w(n,"opacity",e[3])},m(s,c){X(s,n,c),l||(a=[ge(n,"mouseover",h),ge(n,"focus",u),ge(n,"mousemove",function(){Ur(e[18](e[28]))&&e[18](e[28]).apply(this,arguments)}),ge(n,"click",f)],l=!0)},p(s,c){e=s,c[0]&48&&t!==(t=e[29][0])&&w(n,"cx",t),c[0]&48&&i!==(i=e[29][1])&&w(n,"cy",i),c[0]&400&&r!==(r=e[7](Math.abs(e[8](e[28]))))&&w(n,"r",r),c[0]&529&&o!==(o=e[0]||e[9](e[28]))&&w(n,"fill",o),c[0]&2&&w(n,"stroke",e[1]),c[0]&4&&w(n,"stroke-width",e[2]),c[0]&8&&w(n,"opacity",e[3])},d(s){s&&P(n),l=!1,At(a)}}}function yl(e,n){let t,i=!isNaN(n[6](n[28])),r,o=i&&_l(n);return{key:e,first:null,c(){t=he(),o&&o.c(),r=he(),this.h()},l(l){t=he(),o&&o.l(l),r=he(),this.h()},h(){this.first=t},m(l,a){X(l,t,a),o&&o.m(l,a),X(l,r,a)},p(l,a){n=l,a[0]&80&&(i=!isNaN(n[6](n[28]))),i?o?o.p(n,a):(o=_l(n),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(l){l&&(P(t),P(r)),o&&o.d(l)}}}function ys(e){let n,t,i,r=e[4].length&&ml(e);return{c(){n=Ue("g"),r&&r.c(),this.h()},l(o){n=Ve(o,"g",{class:!0});var l=U(n);r&&r.l(l),l.forEach(P),this.h()},h(){w(n,"class","points")},m(o,l){X(o,n,l),r&&r.m(n,null),t||(i=[ge(n,"mouseout",e[26]),ge(n,"blur",e[27])],t=!0)},p(o,l){o[4].length?r?r.p(o,l):(r=ml(o),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:_n,o:_n,d(o){o&&P(n),r&&r.d(),t=!1,At(i)}}}function ps(e,n,t){let i,r,o,l,a,h,u,f;const{data:s,width:c,height:d,rScale:m,rGet:b,zGet:y,r:k}=mn("LayerCake");M(e,s,_=>t(20,r=_)),M(e,c,_=>t(22,l=_)),M(e,d,_=>t(21,o=_)),M(e,m,_=>t(7,h=_)),M(e,b,_=>t(6,a=_)),M(e,y,_=>t(9,f=_)),M(e,k,_=>t(8,u=_));let{projection:v}=n;const E=Ea();let{fill:z="yellow"}=n,{stroke:p="#000"}=n,{strokeWidth:S=1}=n,{opacity:L=1}=n,{features:B=void 0}=n;function A(_){return function(x){Eu(this),x.layerX!==0&&x.layerY!==0&&E("mousemove",{e:x,props:_})}}const j=(_,N)=>E("mousemove",{e:N,props:_}),R=(_,N)=>E("mousemove",{e:N,props:_}),W=(_,N)=>E("clickedPoint",{e:N,props:_}),T=_=>E("mouseout"),C=_=>E("mouseout");return e.$$set=_=>{"projection"in _&&t(19,v=_.projection),"fill"in _&&t(0,z=_.fill),"stroke"in _&&t(1,p=_.stroke),"strokeWidth"in _&&t(2,S=_.strokeWidth),"opacity"in _&&t(3,L=_.opacity),"features"in _&&t(4,B=_.features)},e.$$.update=()=>{e.$$.dirty[0]&7864320&&t(5,i=v().fitSize([l,o],r))},[z,p,S,L,B,i,a,h,u,f,s,c,d,m,b,y,k,E,A,v,r,o,l,j,R,W,T,C]}class bs extends Ee{constructor(n){super(),Re(this,n,ps,ys,ke,{projection:19,fill:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const ws=e=>({detail:e&1}),pl=e=>({detail:e[0].detail});function bl(e){let n,t;const i=e[3].default,r=rn(i,e,e[2],pl);return{c(){n=Z("div"),r&&r.c(),this.h()},l(o){n=Q(o,"DIV",{class:!0,style:!0});var l=U(n);r&&r.l(l),l.forEach(P),this.h()},h(){w(n,"class","tooltip svelte-qjsu2l"),q(n,"top",e[0].detail.e.layerY+e[1]+"px"),q(n,"left",e[0].detail.e.layerX+"px")},m(o,l){X(o,n,l),r&&r.m(n,null),t=!0},p(o,l){r&&r.p&&(!t||l&5)&&on(r,i,o,o[2],t?an(i,o[2],l,ws):ln(o[2]),pl),(!t||l&3)&&q(n,"top",o[0].detail.e.layerY+o[1]+"px"),(!t||l&1)&&q(n,"left",o[0].detail.e.layerX+"px")},i(o){t||(ee(r,o),t=!0)},o(o){re(r,o),t=!1},d(o){o&&P(n),r&&r.d(o)}}}function vs(e){let n,t,i=e[0].detail&&bl(e);return{c(){i&&i.c(),n=he()},l(r){i&&i.l(r),n=he()},m(r,o){i&&i.m(r,o),X(r,n,o),t=!0},p(r,[o]){r[0].detail?i?(i.p(r,o),o&1&&ee(i,1)):(i=bl(r),i.c(),ee(i,1),i.m(n.parentNode,n)):i&&(nr(),re(i,1,1,()=>{i=null}),tr())},i(r){t||(ee(i),t=!0)},o(r){re(i),t=!1},d(r){r&&P(n),i&&i.d(r)}}}function Ss(e,n,t){let{$$slots:i={},$$scope:r}=n,{evt:o={}}=n,{offset:l=-35}=n;return e.$$set=a=>{"evt"in a&&t(0,o=a.evt),"offset"in a&&t(1,l=a.offset),"$$scope"in a&&t(2,r=a.$$scope)},[o,l,r,i]}class ks extends Ee{constructor(n){super(),Re(this,n,Ss,vs,ke,{evt:0,offset:1})}}function Es(e,n,t){mn("LayerCake");let{features:i}=n;return e.$$set=r=>{"features"in r&&t(0,i=r.features)},e.$$.update=()=>{e.$$.dirty&1&&i[0],e.$$.dirty&1&&i[i.length-1]},[i]}class Rs extends Ee{constructor(n){super(),Re(this,n,Es,null,ke,{features:0})}}function wl(e){const n={...e[13].props};e[14]=n}function Ns(e){let n,t;return n=new _s({props:{projection:e[5],fill:"#fff"}}),{c(){Me(n.$$.fragment)},l(i){Pe(n.$$.fragment,i)},m(i,r){De(n,i,r),t=!0},p:_n,i(i){t||(ee(n.$$.fragment,i),t=!0)},o(i){re(n.$$.fragment,i),t=!1},d(i){Ae(n,i)}}}function zs(e){let n,t,i,r;return n=new bs({props:{projection:e[5],features:e[2],fill:"var(--secondary)",stroke:"var(--color-bg)"}}),n.$on("mousemove",e[10]),n.$on("mouseout",e[11]),n.$on("clickedPoint",e[12]),i=new Rs({props:{features:e[2]}}),{c(){Me(n.$$.fragment),t=_e(),Me(i.$$.fragment)},l(o){Pe(n.$$.fragment,o),t=ye(o),Pe(i.$$.fragment,o)},m(o,l){De(n,o,l),X(o,t,l),De(i,o,l),r=!0},p(o,l){const a={};l&4&&(a.features=o[2]),n.$set(a);const h={};l&4&&(h.features=o[2]),i.$set(h)},i(o){r||(ee(n.$$.fragment,o),ee(i.$$.fragment,o),r=!0)},o(o){re(n.$$.fragment,o),re(i.$$.fragment,o),r=!1},d(o){o&&P(t),Ae(n,o),Ae(i,o)}}}function vl(e){let n,t;return n=new ks({props:{evt:e[0],$$slots:{default:[Ms,({detail:i})=>({13:i}),({detail:i})=>i?8192:0]},$$scope:{ctx:e}}}),{c(){Me(n.$$.fragment)},l(i){Pe(n.$$.fragment,i)},m(i,r){De(n,i,r),t=!0},p(i,r){const o={};r&1&&(o.evt=i[0]),r&40960&&(o.$$scope={dirty:r,ctx:i}),n.$set(o)},i(i){t||(ee(n.$$.fragment,i),t=!0)},o(i){re(n.$$.fragment,i),t=!1},d(i){Ae(n,i)}}}function Ms(e){wl(e);let n,t=e[14].name+"",i,r,o,l=e[14].bad_air_days+"",a,h;return{c(){n=Z("p"),i=te(t),r=_e(),o=Z("p"),a=te(l),h=te(" bad air days"),this.h()},l(u){n=Q(u,"P",{class:!0});var f=U(n);i=ie(f,t),f.forEach(P),r=ye(u),o=Q(u,"P",{class:!0});var s=U(o);a=ie(s,l),h=ie(s," bad air days"),s.forEach(P),this.h()},h(){w(n,"class","name svelte-1q0sbj5"),w(o,"class","days")},m(u,f){X(u,n,f),I(n,i),X(u,r,f),X(u,o,f),I(o,a),I(o,h)},p(u,f){wl(u),f&8192&&t!==(t=u[14].name+"")&&me(i,t),f&8192&&l!==(l=u[14].bad_air_days+"")&&me(a,l)},d(u){u&&(P(n),P(r),P(o))}}}function Ps(e){let n,t,i=e[1]!==!0&&vl(e);return{c(){i&&i.c(),n=he()},l(r){i&&i.l(r),n=he()},m(r,o){i&&i.m(r,o),X(r,n,o),t=!0},p(r,o){r[1]!==!0?i?(i.p(r,o),o&2&&ee(i,1)):(i=vl(r),i.c(),ee(i,1),i.m(n.parentNode,n)):i&&(nr(),re(i,1,1,()=>{i=null}),tr())},i(r){t||(ee(i),t=!0)},o(r){re(i),t=!1},d(r){r&&P(n),i&&i.d(r)}}}function Ds(e){let n,t,i,r,o,l;return n=new ku({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}}),i=new yu({props:{$$slots:{default:[zs]},$$scope:{ctx:e}}}),o=new su({props:{pointerEvents:!1,$$slots:{default:[Ps]},$$scope:{ctx:e}}}),{c(){Me(n.$$.fragment),t=_e(),Me(i.$$.fragment),r=_e(),Me(o.$$.fragment)},l(a){Pe(n.$$.fragment,a),t=ye(a),Pe(i.$$.fragment,a),r=ye(a),Pe(o.$$.fragment,a)},m(a,h){De(n,a,h),X(a,t,h),De(i,a,h),X(a,r,h),De(o,a,h),l=!0},p(a,h){const u={};h&32768&&(u.$$scope={dirty:h,ctx:a}),n.$set(u);const f={};h&32783&&(f.$$scope={dirty:h,ctx:a}),i.$set(f);const s={};h&32771&&(s.$$scope={dirty:h,ctx:a}),o.$set(s)},i(a){l||(ee(n.$$.fragment,a),ee(i.$$.fragment,a),ee(o.$$.fragment,a),l=!0)},o(a){re(n.$$.fragment,a),re(i.$$.fragment,a),re(o.$$.fragment,a),l=!1},d(a){a&&(P(t),P(r)),Ae(n,a),Ae(i,a),Ae(o,a)}}}function As(e){let n,t,i;return t=new lu({props:{data:e[4],flatData:e[6],r:"bad_air_days",rScale:Kl().clamp(!0),rRange:[1,15],rDomain:[0,365],$$slots:{default:[Ds]},$$scope:{ctx:e}}}),{c(){n=Z("div"),Me(t.$$.fragment),this.h()},l(r){n=Q(r,"DIV",{class:!0});var o=U(n);Pe(t.$$.fragment,o),o.forEach(P),this.h()},h(){w(n,"class","container svelte-1q0sbj5")},m(r,o){X(r,n,o),De(t,n,null),i=!0},p(r,[o]){const l={};o&32783&&(l.$$scope={dirty:o,ctx:r}),t.$set(l)},i(r){i||(ee(t.$$.fragment,r),i=!0)},o(r){re(t.$$.fragment,r),i=!1},d(r){r&&P(n),Ae(t)}}}function Cs(e,n,t){let i,r;M(e,pn,y=>t(3,r=y));let{data:o}=n,{us_states:l}=n,{cbsa_lookup:a}=n,h,u=!0;const f=Mu(l,l.objects.collection),s=gs,c=f.features.map(y=>y.properties),d=y=>t(0,h=t(1,u=y)),m=()=>t(1,u=!0),b=y=>{const{detail:k}=y,{props:v}=k;F(pn,r={value:v==null?void 0:v.code,label:v==null?void 0:v.name},r)};return e.$$set=y=>{"data"in y&&t(7,o=y.data),"us_states"in y&&t(8,l=y.us_states),"cbsa_lookup"in y&&t(9,a=y.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&640&&t(2,i=o.map(y=>{var k,v;return{...y,latitude:(k=a.get(y.code))==null?void 0:k.latitude,longitude:(v=a.get(y.code))==null?void 0:v.longitude}}).filter(y=>y.latitude).filter(y=>y.longitude))},[h,u,i,r,f,s,c,o,l,a,d,m,b]}class Is extends Ee{constructor(n){super(),Re(this,n,Cs,As,ke,{data:7,us_states:8,cbsa_lookup:9})}}function Sl(e,n,t){const i=e.slice();return i[8]=n[t].name,i[9]=n[t].code,i[10]=n[t].bad_air_days,i}function kl(e){let n,t,i=e[8]+"",r,o,l=e[10]+"",a,h,u,f;return{c(){n=Z("li"),t=Z("span"),r=te(i),o=te(`
				- `),a=te(l),h=te(` days
			`),this.h()},l(s){n=Q(s,"LI",{class:!0});var c=U(n);t=Q(c,"SPAN",{role:!0,class:!0});var d=U(t);r=ie(d,i),d.forEach(P),o=ie(c,`
				- `),a=ie(c,l),h=ie(c,` days
			`),c.forEach(P),this.h()},h(){w(t,"role","button"),w(t,"class","svelte-fe00af"),w(n,"class","svelte-fe00af")},m(s,c){X(s,n,c),I(n,t),I(t,r),I(n,o),I(n,a),I(n,h),u||(f=ge(t,"click",function(){Ur(e[6](e[8],e[9]))&&e[6](e[8],e[9]).apply(this,arguments)}),u=!0)},p(s,c){e=s,c&32&&i!==(i=e[8]+"")&&me(r,i),c&32&&l!==(l=e[10]+"")&&me(a,l)},d(s){s&&P(n),u=!1,f()}}}function Ls(e){var Ne,ze,sn;let n,t,i="The 10 Smokiest Places in 2022",r,o,l,a,h,u,f=((Ne=e[2][0])==null?void 0:Ne.name)+"",s,c,d,m=((ze=e[2][0])==null?void 0:ze.bad_air_days)+"",b,y,k,v,E,z,p=((sn=e[3])==null?void 0:sn.label)+"",S,L,B,A=e[4]+1+"",j,R,W=e[2].length+"",T,C,_,N=e[2][e[4]].bad_air_days+"",x,O,Y,D,G,le=un(e[5]),H=[];for(let K=0;K<le.length;K+=1)H[K]=kl(Sl(e,le,K));return D=new Is({props:{data:e[2],us_states:e[0],cbsa_lookup:e[1]}}),{c(){n=Z("section"),t=Z("h2"),t.textContent=i,r=_e(),o=Z("ol");for(let K=0;K<H.length;K+=1)H[K].c();l=_e(),a=Z("p"),h=te("In 2022 (our most recent year of data), "),u=Z("strong"),s=te(f),c=te(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=Z("strong"),b=te(m),y=te(` days of haze and
		low air quality.`),k=_e(),v=Z("p"),E=te("For comparison, "),z=Z("strong"),S=te(p),L=te(` ranked number
		`),B=Z("strong"),j=te(A),R=te(`
			out of `),T=te(W),C=te(`
		locations with `),_=Z("strong"),x=te(N),O=te(`
		low air quality days in 2022.`),Y=_e(),Me(D.$$.fragment),this.h()},l(K){n=Q(K,"SECTION",{});var oe=U(n);t=Q(oe,"H2",{"data-svelte-h":!0}),ji(t)!=="svelte-15n9idw"&&(t.textContent=i),r=ye(oe),o=Q(oe,"OL",{class:!0});var pe=U(o);for(let vn=0;vn<H.length;vn+=1)H[vn].l(pe);pe.forEach(P),l=ye(oe),a=Q(oe,"P",{class:!0});var ve=U(a);h=ie(ve,"In 2022 (our most recent year of data), "),u=Q(ve,"STRONG",{});var xe=U(u);s=ie(xe,f),xe.forEach(P),c=ie(ve,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=Q(ve,"STRONG",{});var Ze=U(d);b=ie(Ze,m),Ze.forEach(P),y=ie(ve,` days of haze and
		low air quality.`),ve.forEach(P),k=ye(oe),v=Q(oe,"P",{class:!0});var ue=U(v);E=ie(ue,"For comparison, "),z=Q(ue,"STRONG",{});var Qe=U(z);S=ie(Qe,p),Qe.forEach(P),L=ie(ue,` ranked number
		`),B=Q(ue,"STRONG",{});var cn=U(B);j=ie(cn,A),R=ie(cn,`
			out of `),T=ie(cn,W),cn.forEach(P),C=ie(ue,`
		locations with `),_=Q(ue,"STRONG",{});var Zn=U(_);x=ie(Zn,N),Zn.forEach(P),O=ie(ue,`
		low air quality days in 2022.`),ue.forEach(P),Y=ye(oe),Pe(D.$$.fragment,oe),oe.forEach(P),this.h()},h(){w(o,"class","svelte-fe00af"),w(a,"class","prose"),w(v,"class","prose")},m(K,oe){X(K,n,oe),I(n,t),I(n,r),I(n,o);for(let pe=0;pe<H.length;pe+=1)H[pe]&&H[pe].m(o,null);I(n,l),I(n,a),I(a,h),I(a,u),I(u,s),I(a,c),I(a,d),I(d,b),I(a,y),I(n,k),I(n,v),I(v,E),I(v,z),I(z,S),I(v,L),I(v,B),I(B,j),I(B,R),I(B,T),I(v,C),I(v,_),I(_,x),I(v,O),I(n,Y),De(D,n,null),G=!0},p(K,[oe]){var ve,xe,Ze;if(oe&96){le=un(K[5]);let ue;for(ue=0;ue<le.length;ue+=1){const Qe=Sl(K,le,ue);H[ue]?H[ue].p(Qe,oe):(H[ue]=kl(Qe),H[ue].c(),H[ue].m(o,null))}for(;ue<H.length;ue+=1)H[ue].d(1);H.length=le.length}(!G||oe&4)&&f!==(f=((ve=K[2][0])==null?void 0:ve.name)+"")&&me(s,f),(!G||oe&4)&&m!==(m=((xe=K[2][0])==null?void 0:xe.bad_air_days)+"")&&me(b,m),(!G||oe&8)&&p!==(p=((Ze=K[3])==null?void 0:Ze.label)+"")&&me(S,p),(!G||oe&16)&&A!==(A=K[4]+1+"")&&me(j,A),(!G||oe&4)&&W!==(W=K[2].length+"")&&me(T,W),(!G||oe&20)&&N!==(N=K[2][K[4]].bad_air_days+"")&&me(x,N);const pe={};oe&4&&(pe.data=K[2]),oe&1&&(pe.us_states=K[0]),oe&2&&(pe.cbsa_lookup=K[1]),D.$set(pe)},i(K){G||(ee(D.$$.fragment,K),G=!0)},o(K){re(D.$$.fragment,K),G=!1},d(K){K&&P(n),Vr(H,K),Ae(D)}}}function Bs(e,n,t){let i,r,o,l;M(e,pn,s=>t(3,l=s));let{data:a}=n,{us_states:h}=n,{cbsa_lookup:u}=n;const f=(s,c)=>{F(pn,l={value:c,label:s},l)};return e.$$set=s=>{"data"in s&&t(7,a=s.data),"us_states"in s&&t(0,h=s.us_states),"cbsa_lookup"in s&&t(1,u=s.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&128&&t(2,i=a.filter(s=>s.year===2022).sort((s,c)=>Ll(s.bad_air_days,c.bad_air_days))),e.$$.dirty&4&&t(5,r=i.slice(0,10)),e.$$.dirty&12&&t(4,o=i.findIndex(s=>s["CBSA Code"]===(l==null?void 0:l.value)))},[h,u,i,l,o,r,f,a]}class js extends Ee{constructor(n){super(),Re(this,n,Bs,Ls,ke,{data:7,us_states:0,cbsa_lookup:1})}}function El(e){let n,t;return{c(){n=Ue("desc"),t=te(e[7])},l(i){n=Ve(i,"desc",{});var r=U(n);t=ie(r,e[7]),r.forEach(P)},m(i,r){X(i,n,r),I(n,t)},p(i,r){r&128&&me(t,i[7])},d(i){i&&P(n)}}}function Rl(e){let n,t;return{c(){n=Ue("title"),t=te(e[6])},l(i){n=Ve(i,"title",{});var r=U(n);t=ie(r,e[6]),r.forEach(P)},m(i,r){X(i,n,r),I(n,t)},p(i,r){r&64&&me(t,i[6])},d(i){i&&P(n)}}}function Ts(e){let n,t,i,r=e[7]&&El(e),o=e[6]&&Rl(e);return{c(){n=Ue("svg"),r&&r.c(),t=he(),o&&o.c(),i=Ue("path"),this.h()},l(l){n=Ve(l,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var a=U(n);r&&r.l(a),t=he(),o&&o.l(a),i=Ve(a,"path",{d:!0,fill:!0}),U(i).forEach(P),a.forEach(P),this.h()},h(){w(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),w(i,"fill",e[2]),w(n,"viewBox",e[3]),w(n,"width",e[0]),w(n,"height",e[1]),w(n,"class",e[8]),w(n,"aria-label",e[4]),w(n,"aria-hidden",e[5])},m(l,a){X(l,n,a),r&&r.m(n,null),I(n,t),o&&o.m(n,null),I(n,i)},p(l,[a]){l[7]?r?r.p(l,a):(r=El(l),r.c(),r.m(n,t)):r&&(r.d(1),r=null),l[6]?o?o.p(l,a):(o=Rl(l),o.c(),o.m(n,i)):o&&(o.d(1),o=null),a&4&&w(i,"fill",l[2]),a&8&&w(n,"viewBox",l[3]),a&1&&w(n,"width",l[0]),a&2&&w(n,"height",l[1]),a&256&&w(n,"class",l[8]),a&16&&w(n,"aria-label",l[4]),a&32&&w(n,"aria-hidden",l[5])},i:_n,o:_n,d(l){l&&P(n),r&&r.d(),o&&o.d()}}}function qs(e,n,t){let{size:i="1em"}=n,{width:r=i}=n,{height:o=i}=n,{color:l="currentColor"}=n,{viewBox:a="0 0 24 24"}=n,{ariaLabel:h=void 0}=n,{ariaHidden:u=void 0}=n,{title:f=void 0}=n,{desc:s=void 0}=n,{class:c=void 0}=n;return e.$$set=d=>{"size"in d&&t(9,i=d.size),"width"in d&&t(0,r=d.width),"height"in d&&t(1,o=d.height),"color"in d&&t(2,l=d.color),"viewBox"in d&&t(3,a=d.viewBox),"ariaLabel"in d&&t(4,h=d.ariaLabel),"ariaHidden"in d&&t(5,u=d.ariaHidden),"title"in d&&t(6,f=d.title),"desc"in d&&t(7,s=d.desc),"class"in d&&t(8,c=d.class)},[r,o,l,a,h,u,f,s,c,i]}class xs extends Ee{constructor(n){super(),Re(this,n,qs,Ts,ke,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Nl(e,n,t){const i=e.slice();return i[33]=n[t].label,i[34]=n[t].value,i[35]=n,i[36]=t,i}function zl(e,n,t){const i=e.slice();return i[33]=n[t].label,i[34]=n[t].value,i}function Ml(e){let n,t=e[33]+"",i,r;return{c(){n=Z("option"),i=te(t),this.h()},l(o){n=Q(o,"OPTION",{});var l=U(n);i=ie(l,t),l.forEach(P),this.h()},h(){n.__value=r=e[34],Ti(n,n.__value)},m(o,l){X(o,n,l),I(n,i)},p(o,l){l[0]&2&&t!==(t=o[33]+"")&&me(i,t),l[0]&2&&r!==(r=o[34])&&(n.__value=r,Ti(n,n.__value))},d(o){o&&P(n)}}}function Gs(e){let n,t="Sorry, no options match";return{c(){n=Z("li"),n.textContent=t,this.h()},l(i){n=Q(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),ji(n)!=="svelte-yi880w"&&(n.textContent=t),this.h()},h(){w(n,"class","disabled svelte-13q4pje"),w(n,"tabindex","-1")},m(i,r){X(i,n,r)},p:_n,d(i){i&&P(n)}}}function Os(e){let n,t=un(e[6]),i=[];for(let r=0;r<t.length;r+=1)i[r]=Pl(Nl(e,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();n=he()},l(r){for(let o=0;o<i.length;o+=1)i[o].l(r);n=he()},m(r,o){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,o);X(r,n,o)},p(r,o){if(o[0]&798784){t=un(r[6]);let l;for(l=0;l<t.length;l+=1){const a=Nl(r,t,l);i[l]?i[l].p(a,o):(i[l]=Pl(a),i[l].c(),i[l].m(n.parentNode,n))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(r){r&&P(n),Vr(i,r)}}}function Pl(e){let n,t=e[33]+"",i,r,o,l,a=e[36],h,u;const f=()=>e[27](n,a),s=()=>e[27](null,a);function c(){return e[28](e[34],e[33])}function d(...m){return e[29](e[34],e[33],...m)}return{c(){n=Z("li"),i=te(t),r=_e(),this.h()},l(m){n=Q(m,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var b=U(n);i=ie(b,t),r=ye(b),b.forEach(P),this.h()},h(){w(n,"role","option"),w(n,"tabindex","-1"),w(n,"aria-selected",o=e[36]===e[13]),w(n,"data-option-value",l=e[34]),w(n,"id",`autocomplete_${e[36]}`),w(n,"class","svelte-13q4pje")},m(m,b){X(m,n,b),I(n,i),I(n,r),f(),h||(u=[ge(n,"click",c),ge(n,"keydown",d)],h=!0)},p(m,b){e=m,b[0]&64&&t!==(t=e[33]+"")&&me(i,t),b[0]&8192&&o!==(o=e[36]===e[13])&&w(n,"aria-selected",o),b[0]&64&&l!==(l=e[34])&&w(n,"data-option-value",l),a!==e[36]&&(s(),a=e[36],f())},d(m){m&&P(n),s(),h=!1,At(u)}}}function Dl(e){let n,t,i,r,o;return t=new xs({props:{width:"16px",height:"16px"}}),{c(){n=Z("button"),Me(t.$$.fragment),this.h()},l(l){n=Q(l,"BUTTON",{"aria-label":!0,class:!0});var a=U(n);Pe(t.$$.fragment,a),a.forEach(P),this.h()},h(){w(n,"aria-label","clear autocomplete search"),w(n,"class","svelte-13q4pje")},m(l,a){X(l,n,a),De(t,n,null),i=!0,r||(o=ge(n,"click",e[22]),r=!0)},p:_n,i(l){i||(ee(t.$$.fragment,l),i=!0)},o(l){re(t.$$.fragment,l),i=!1},d(l){l&&P(n),Ae(t),r=!1,o()}}}function Hs(e){let n,t,i,r,o,l,a,h,u,f,s,c,d,m,b,y,k,v,E,z,p,S,L,B,A=un(e[1]),j=[];for(let _=0;_<A.length;_+=1)j[_]=Ml(zl(e,A,_));function R(_,N){return _[6].length?Os:Gs}let W=R(e),T=W(e),C=e[4]===!0&&e[8]&&e[8].length&&Dl(e);return{c(){n=Z("div"),t=Z("label"),i=Z("span"),r=te(e[2]),l=_e(),a=Z("select");for(let _=0;_<j.length;_+=1)j[_].c();h=_e(),u=Z("div"),f=Z("input"),d=_e(),m=Z("ul"),T.c(),y=_e(),k=Z("div"),v=te(e[7]),E=te(" results available"),z=_e(),C&&C.c(),this.h()},l(_){n=Q(_,"DIV",{class:!0,style:!0,id:!0});var N=U(n);t=Q(N,"LABEL",{for:!0,class:!0});var x=U(t);i=Q(x,"SPAN",{class:!0});var O=U(i);r=ie(O,e[2]),O.forEach(P),x.forEach(P),l=ye(N),a=Q(N,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var Y=U(a);for(let H=0;H<j.length;H+=1)j[H].l(Y);Y.forEach(P),h=ye(N),u=Q(N,"DIV",{class:!0});var D=U(u);f=Q(D,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=ye(D),m=Q(D,"UL",{id:!0,role:!0,class:!0});var G=U(m);T.l(G),G.forEach(P),y=ye(D),k=Q(D,"DIV",{"aria-live":!0,role:!0,class:!0});var le=U(k);v=ie(le,e[7]),E=ie(le," results available"),le.forEach(P),z=ye(D),C&&C.l(D),D.forEach(P),N.forEach(P),this.h()},h(){w(i,"class","field-label"),w(t,"for",o=`${e[14]}-${e[2]}`),w(t,"class","svelte-13q4pje"),wi(t,"offset",e[9]||e[0]&&e[0].length||e[10]),w(a,"name",e[2]),w(a,"aria-hidden","true"),w(a,"tabindex","-1"),w(a,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&Il(()=>e[24].call(a)),w(f,"aria-controls",s=`autocomplete-options--${e[14]}-${e[2]}`),w(f,"autocapitalize","none"),w(f,"type","text"),w(f,"autocomplete","off"),w(f,"aria-autocomplete","list"),w(f,"role","combobox"),w(f,"id",c=`${e[14]}-${e[2]}`),w(f,"aria-expanded","false"),w(f,"name",`autocomplete-${e[14]}`),w(f,"class","svelte-13q4pje"),w(m,"id",b=`autocomplete-options--${e[14]}-${e[2]}`),w(m,"role","listbox"),w(m,"class","svelte-13q4pje"),wi(m,"hidden",!e[9]),w(k,"aria-live","polite"),w(k,"role","status"),w(k,"class","visually-hidden svelte-13q4pje"),w(u,"class","autocomplete svelte-13q4pje"),w(n,"class","field svelte-13q4pje"),q(n,"font-size",e[3]+"px"),w(n,"id",p=`field-${e[14]}-${e[2]}`),q(n,"flex",e[5]?"1 1 auto":"auto")},m(_,N){X(_,n,N),I(n,t),I(t,i),I(i,r),I(n,l),I(n,a);for(let x=0;x<j.length;x+=1)j[x]&&j[x].m(a,null);mo(a,e[0],!0),I(n,h),I(n,u),I(u,f),Ti(f,e[8]),e[26](f),I(u,d),I(u,m),T.m(m,null),I(u,y),I(u,k),I(k,v),I(k,E),I(u,z),C&&C.m(u,null),S=!0,L||(B=[ge(window,"click",e[21]),ge(a,"change",e[24]),ge(f,"keyup",e[15]),ge(f,"keydown",e[16]),ge(f,"focus",e[17]),ge(f,"blur",function(){Ur(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),ge(f,"input",e[25]),ge(f,"click",e[20])],L=!0)},p(_,N){if(e=_,(!S||N[0]&4)&&me(r,e[2]),(!S||N[0]&4&&o!==(o=`${e[14]}-${e[2]}`))&&w(t,"for",o),(!S||N[0]&1537)&&wi(t,"offset",e[9]||e[0]&&e[0].length||e[10]),N[0]&2){A=un(e[1]);let O;for(O=0;O<A.length;O+=1){const Y=zl(e,A,O);j[O]?j[O].p(Y,N):(j[O]=Ml(Y),j[O].c(),j[O].m(a,null))}for(;O<j.length;O+=1)j[O].d(1);j.length=A.length}(!S||N[0]&4)&&w(a,"name",e[2]),N[0]&3&&mo(a,e[0]),(!S||N[0]&4&&s!==(s=`autocomplete-options--${e[14]}-${e[2]}`))&&w(f,"aria-controls",s),(!S||N[0]&4&&c!==(c=`${e[14]}-${e[2]}`))&&w(f,"id",c),N[0]&256&&f.value!==e[8]&&Ti(f,e[8]),W===(W=R(e))&&T?T.p(e,N):(T.d(1),T=W(e),T&&(T.c(),T.m(m,null))),(!S||N[0]&4&&b!==(b=`autocomplete-options--${e[14]}-${e[2]}`))&&w(m,"id",b),(!S||N[0]&512)&&wi(m,"hidden",!e[9]),(!S||N[0]&128)&&me(v,e[7]),e[4]===!0&&e[8]&&e[8].length?C?(C.p(e,N),N[0]&272&&ee(C,1)):(C=Dl(e),C.c(),ee(C,1),C.m(u,null)):C&&(nr(),re(C,1,1,()=>{C=null}),tr()),(!S||N[0]&8)&&q(n,"font-size",e[3]+"px"),(!S||N[0]&4&&p!==(p=`field-${e[14]}-${e[2]}`))&&w(n,"id",p),(N[0]&8||N[0]&40)&&q(n,"flex",e[5]?"1 1 auto":"auto")},i(_){S||(ee(C),S=!0)},o(_){re(C),S=!1},d(_){_&&P(n),Vr(j,_),e[26](null),T.d(),C&&C.d(),L=!1,At(B)}}}function Fs(e,n,t){let i;M(e,pn,D=>t(31,i=D));let{data:r}=n,{name:o}=n,{fontSize:l=16}=n,{selected:a=""}=n,{clearButton:h=!0}=n,{manualSelection:u={}}=n,{inline:f=!1}=n,s=r.sort((D,G)=>Nt(D.label,G.label)),c=Math.floor(Math.random()*100),d=s.length,m=a,b=!1,y=!1,k,v=[],E,z=!0;const p=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function S(D){!p.includes(D.key)&&m&&m.length&&(t(6,s=r.filter(G=>(console.log({label:G.label}),G.label.toLowerCase().includes(m.toLowerCase())))),t(9,b=!0),t(7,d=s.length)),D.key==="Tab"&&t(9,b=!1),D.key==="ArrowDown"&&s&&s.length&&(t(9,b=!0),t(13,E=0),v[0].focus())}function L(D){D.key==="Tab"&&t(9,b=!1),m&&m.length===1&&D.key==="Backspace"&&(t(6,s=r),t(0,a="")),D.key==="Escape"&&t(9,b=!1)}function B(){t(10,y=!0)}function A(D,G){t(0,a=D),t(8,m=G),t(9,b=!1),k.focus(),F(pn,i={value:D,label:G},i)}function j(D,G,le){const H=D.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(H)?(H==="Enter"&&(A(G,le),z=!1),H==="ArrowDown"&&s&&s.length&&(t(13,E=E<s.length-1?E+1:s.length-1),v[E].focus(),z=!0),H==="Escape"&&(t(9,b=!1),k.focus()),H==="ArrowUp"&&E===0?(k.focus(),t(13,E=null),z=!0):H==="ArrowUp"&&E!=0&&(t(13,E-=1),v[E].focus(),z=!0)):z=!1,z===!0&&D.preventDefault()}function R(){t(8,m=""),t(23,u={}),t(9,b=!0),t(6,s=r),t(13,E=null)}function W(D){const G=D.target;G!=k&&!v.includes(G)&&t(9,b=!1)}function T(){t(8,m=""),t(0,a=""),t(23,u={})}function C(){a=Ra(this),t(0,a),t(23,u),t(1,r)}function _(){m=this.value,t(8,m),t(23,u),t(0,a)}function N(D){fn[D?"unshift":"push"](()=>{k=D,t(11,k)})}function x(D,G){fn[D?"unshift":"push"](()=>{v[G]=D,t(12,v)})}const O=(D,G)=>{A(D,G)},Y=(D,G,le)=>j(le,D,G);return e.$$set=D=>{"data"in D&&t(1,r=D.data),"name"in D&&t(2,o=D.name),"fontSize"in D&&t(3,l=D.fontSize),"selected"in D&&t(0,a=D.selected),"clearButton"in D&&t(4,h=D.clearButton),"manualSelection"in D&&t(23,u=D.manualSelection),"inline"in D&&t(5,f=D.inline)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(t(0,a=u.value),t(8,m=u.label)),e.$$.dirty[0]&1&&a===""&&t(8,m="")},[a,r,o,l,h,f,s,d,m,b,y,k,v,E,c,S,L,B,A,j,R,W,T,u,C,_,N,x,O,Y]}class Ws extends Ee{constructor(n){super(),Re(this,n,Fs,Hs,ke,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5},null,[-1,-1])}}function Us(e){let n,t,i,r,o,l,a,h,u=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,f,s,c=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function m(y){e[4](y)}let b={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35"};return e[1]!==void 0&&(b.selected=e[1]),o=new Ws({props:b}),fn.push(()=>za(o,"selected",m)),{c(){n=Z("section"),t=Z("div"),i=Z("h1"),r=te("Smoke in "),Me(o.$$.fragment),a=_e(),h=Z("p"),h.textContent=u,f=_e(),s=Z("p"),s.textContent=c,this.h()},l(y){n=Q(y,"SECTION",{});var k=U(n);t=Q(k,"DIV",{class:!0});var v=U(t);i=Q(v,"H1",{class:!0});var E=U(i);r=ie(E,"Smoke in "),Pe(o.$$.fragment,E),E.forEach(P),v.forEach(P),a=ye(k),h=Q(k,"P",{class:!0,"data-svelte-h":!0}),ji(h)!=="svelte-1ieckh9"&&(h.textContent=u),f=ye(k),s=Q(k,"P",{class:!0,"data-svelte-h":!0}),ji(s)!=="svelte-18rohxi"&&(s.textContent=c),k.forEach(P),this.h()},h(){w(i,"class","svelte-1acsj2x"),w(t,"class","inline svelte-1acsj2x"),w(h,"class","prose"),w(s,"class","prose")},m(y,k){X(y,n,k),I(n,t),I(t,i),I(i,r),De(o,i,null),I(n,a),I(n,h),I(n,f),I(n,s),d=!0},p(y,[k]){const v={};k&1&&(v.data=y[0]),k&4&&(v.manualSelection=y[2]),!l&&k&2&&(l=!0,v.selected=y[1],Na(()=>l=!1)),o.$set(v)},i(y){d||(ee(o.$$.fragment,y),d=!0)},o(y){re(o.$$.fragment,y),d=!1},d(y){y&&P(n),Ae(o)}}}function Vs(e,n,t){let i,r;M(e,pn,h=>t(2,r=h));let{data:o}=n,l;function a(h){l=h,t(1,l)}return e.$$set=h=>{"data"in h&&t(3,o=h.data)},e.$$.update=()=>{e.$$.dirty&8&&t(0,i=Array.from(new Set(o.map(h=>JSON.stringify([h.name,h.code])))).map(h=>JSON.parse(h)).map(h=>({value:h[1],label:h[0]})).filter(h=>h.label)),e.$$.dirty&1&&new Map(i)},[i,l,r,o,a]}class Ys extends Ee{constructor(n){super(),Re(this,n,Vs,Us,ke,{data:3})}}function Xs(e){let n,t,i,r;return n=new Ys({props:{data:e[1]}}),i=new js({props:{data:e[1],us_states:e[2],cbsa_lookup:e[0]}}),{c(){Me(n.$$.fragment),t=_e(),Me(i.$$.fragment)},l(o){Pe(n.$$.fragment,o),t=ye(o),Pe(i.$$.fragment,o)},m(o,l){De(n,o,l),X(o,t,l),De(i,o,l),r=!0},p(o,[l]){const a={};l&2&&(a.data=o[1]),n.$set(a);const h={};l&2&&(h.data=o[1]),l&4&&(h.us_states=o[2]),l&1&&(h.cbsa_lookup=o[0]),i.$set(h)},i(o){r||(ee(n.$$.fragment,o),ee(i.$$.fragment,o),r=!0)},o(o){re(n.$$.fragment,o),re(i.$$.fragment,o),r=!1},d(o){o&&P(t),Ae(n,o),Ae(i,o)}}}function Ks(e,n,t){let i,r,o,l,a,{data:h}=n;return e.$$set=u=>{"data"in u&&t(3,h=u.data)},e.$$.update=()=>{e.$$.dirty&8&&t(4,{city_data:i,cbsa:r,us_states:o}=h,i,(t(5,r),t(3,h)),(t(2,o),t(3,h))),e.$$.dirty&32&&t(0,l=new Map(r.map(u=>[u.GEOID,{name:u.NAME,latitude:+u.latitude,longitude:+u.longitude}]))),e.$$.dirty&17&&t(1,a=i.map(u=>{var f;return{...u,year:+u.year,bad_air_days:+u.n,name:(f=l.get(u["CBSA Code"]))==null?void 0:f.name,code:u["CBSA Code"]}}))},[l,a,o,h,i,r]}class $s extends Ee{constructor(n){super(),Re(this,n,Ks,Xs,ke,{data:3})}}export{$s as component};
