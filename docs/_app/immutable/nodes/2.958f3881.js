import{A as An,s as Se,e as ce,i as q,d as v,o as va,z as D,B as J,C as ka,r as Nt,f as W,g as U,h as L,j as g,D as Sa,k as O,E as kf,u as Rt,v as zt,w as At,p as Pt,F as We,G as le,H as oe,x as R,l as H,m as F,n as se,a as X,c as Q,I as Pe,y as De,J as Sf,K as bl,L as Ht,M as Dn,N as vn,O as Cl,P as sr,Q as Ef,R as Ea}from"../chunks/scheduler.7f01e268.js";import{a as V,S as Ee,i as Me,g as zr,t as Z,c as Ar,b as de,d as _e,m as ge,e as me,f as Ma}from"../chunks/index.2010496a.js";import{w as ie,d as ze}from"../chunks/index.bd54f367.js";function je(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function wl(e,t){e.d(1),t.delete(e.key)}function vl(e,t,n,i,r,l,o,a,s,f,u,h){let c=e.length,d=l.length,_=c;const w={};for(;_--;)w[e[_].key]=_;const p=[],b=new Map,k=new Map,M=[];for(_=d;_--;){const N=h(r,l,_),G=n(N);let j=o.get(G);j?i&&M.push(()=>j.p(N,t)):(j=f(G,N),j.c()),b.set(G,p[_]=j),G in w&&k.set(G,Math.abs(_-w[G]))}const E=new Set,m=new Set;function S(N){V(N,1),N.m(a,u),o.set(N.key,N),u=N.first,d--}for(;c&&d;){const N=p[d-1],G=e[c-1],j=N.key,B=G.key;N===G?(u=N.first,c--,d--):b.has(B)?!o.has(j)||E.has(j)?S(N):m.has(B)?c--:k.get(j)>k.get(B)?(m.add(j),S(N)):(E.add(B),c--):(s(G,o),c--)}for(;c--;){const N=e[c];b.has(N.key)||s(N,o)}for(;d;)S(p[d-1]);return An(M),p}function Dt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Na(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ra(e){let t,n,i;e.length!==2?(t=Dt,n=(a,s)=>Dt(e(a),s),i=(a,s)=>e(a)-s):(t=e===Dt||e===Na?e:Mf,n=e,i=e);function r(a,s,f=0,u=a.length){if(f<u){if(t(s,s)!==0)return u;do{const h=f+u>>>1;n(a[h],s)<0?f=h+1:u=h}while(f<u)}return f}function l(a,s,f=0,u=a.length){if(f<u){if(t(s,s)!==0)return u;do{const h=f+u>>>1;n(a[h],s)<=0?f=h+1:u=h}while(f<u)}return f}function o(a,s,f=0,u=a.length){const h=r(a,s,f,u-1);return h>f&&i(a[h-1],s)>-i(a[h],s)?h-1:h}return{left:r,center:o,right:l}}function Mf(){return 0}function Nf(e){return e===null?NaN:+e}function*Rf(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}const zf=Ra(Dt),Af=zf.right;Ra(Nf).center;const Df=Af;function Pf(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let l of e)(l=t(l,++r,e))!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}return[n,i]}class Zt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],o=t+l,a=Math.abs(t)<Math.abs(l)?t-(o-l):l-(o-t);a&&(n[i++]=a),t=o}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,o=0;if(n>0){for(o=t[--n];n>0&&(i=o,r=t[--n],o=i+r,l=r-(o-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=o+r,r==i-o&&(o=i))}return o}}class Il extends Map{constructor(t,n=If){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Ll(this,t))}has(t){return super.has(Ll(this,t))}set(t,n){return super.set(Tf(this,t),n)}delete(t){return super.delete(Cf(this,t))}}function Ll({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Tf({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Cf({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function If(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Lf(e=Dt){if(e===Dt)return za;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function za(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qf=Math.sqrt(50),Gf=Math.sqrt(10),jf=Math.sqrt(2);function cr(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),o=l>=qf?10:l>=Gf?5:l>=jf?2:1;let a,s,f;return r<0?(f=Math.pow(10,-r)/o,a=Math.round(e*f),s=Math.round(t*f),a/f<e&&++a,s/f>t&&--s,f=-f):(f=Math.pow(10,r)*o,a=Math.round(e/f),s=Math.round(t/f),a*f<e&&++a,s*f>t&&--s),s<a&&.5<=n&&n<2?cr(e,t,n*2):[a,s,f]}function Bf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,o]=i?cr(t,e,n):cr(e,t,n);if(!(l>=r))return[];const a=l-r+1,s=new Array(a);if(i)if(o<0)for(let f=0;f<a;++f)s[f]=(l-f)/-o;else for(let f=0;f<a;++f)s[f]=(l-f)*o;else if(o<0)for(let f=0;f<a;++f)s[f]=(r+f)/-o;else for(let f=0;f<a;++f)s[f]=(r+f)*o;return s}function Jr(e,t,n){return t=+t,e=+e,n=+n,cr(e,t,n)[2]}function Of(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?Jr(t,e,n):Jr(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function $r(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function ql(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function Aa(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?za:Lf(r);i>n;){if(i-n>600){const s=i-n+1,f=t-n+1,u=Math.log(s),h=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*h*(s-h)/s)*(f-s/2<0?-1:1),d=Math.max(n,Math.floor(t-f*h/s+c)),_=Math.min(i,Math.floor(t+(s-f)*h/s+c));Aa(e,t,d,_,r)}const l=e[t];let o=n,a=i;for(ei(e,n,t),r(e[i],l)>0&&ei(e,n,i);o<a;){for(ei(e,o,a),++o,--a;r(e[o],l)<0;)++o;for(;r(e[a],l)>0;)--a}r(e[n],l)===0?ei(e,n,a):(++a,ei(e,a,i)),a<=t&&(n=a+1),t<=a&&(i=a-1)}return e}function ei(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Wr(e,t,n){if(e=Float64Array.from(Rf(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return ql(e);if(t>=1)return $r(e);var i,r=(i-1)*t,l=Math.floor(r),o=$r(Aa(e,l).subarray(0,l+1)),a=ql(e.subarray(l+1));return o+(a-o)*(r-l)}}function*xf(e){for(const t of e)yield*t}function Da(e){return Array.from(xf(e))}function Pa(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}const pt=ie({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"}),En=ie(),Xt=ie();function Hf(e){return e===0?!0:e}function Ot(e){return Hf(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function Ff(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function Ur(e,t={}){return Ff(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function Wf(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function Uf(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),l=r.length;let o,a,s,f,u,h,c;const d=e.length;for(o=0;o<l;o+=1){for(c=new Set,f=r[o],u=t[f],a=0;a<d;a+=1)if(h=u(e[a]),Array.isArray(h)){const w=h.length;for(s=0;s<w;s+=1)c.add(h[s])}else c.add(h);const _=Array.from(c);i[f]=n===!0?_.sort():_}return i}function Vf(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let l,o,a,s,f,u,h,c;const d=e.length;for(l=0;l<r;l+=1){for(s=i[l],h=t[s],f=null,u=null,o=0;o<d;o+=1)if(c=h(e[o]),Array.isArray(c)){const _=c.length;for(a=0;a<_;a+=1)c[a]!==!1&&c[a]!==void 0&&c[a]!==null&&Number.isNaN(c[a])===!1&&((f===null||c[a]<f)&&(f=c[a]),(u===null||c[a]>u)&&(u=c[a]))}else c!==!1&&c!==void 0&&c!==null&&Number.isNaN(c)===!1&&((f===null||c<f)&&(f=c),(u===null||c>u)&&(u=c));n[s]=[f,u]}return n}function ti(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function Ta(e){return!!(typeof e.bandwidth=="function"||ti(Object.keys(e),["domain","range","unknown","copy"]))}function Yf(e,t,n){const i=Object.keys(n).reduce((l,o)=>{const a=Ta(n[o])===!0?"ordinal":"other";return l[a]||(l[a]={}),l[a][o]=t[o],l},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=Uf(e,i.ordinal)),i.other&&(r={...r,...Vf(e,i.other)}),r}function Kf(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function Ki(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?Kf(n[e],i):i}}function Dr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Gl=Symbol("implicit");function Ca(){var e=new Il,t=[],n=[],i=Gl;function r(l){let o=e.get(l);if(o===void 0){if(i!==Gl)return i;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Il;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return Ca(t,n).unknown(i)},Dr.apply(r,arguments),r}function kl(){var e=Ca().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,o,a=!1,s=0,f=0,u=.5;delete e.unknown;function h(){var c=t().length,d=r<i,_=d?r:i,w=d?i:r;l=(w-_)/Math.max(1,c-s+f*2),a&&(l=Math.floor(l)),_+=(w-_-l*(c-s))*u,o=l*(1-s),a&&(_=Math.round(_),o=Math.round(o));var p=Pa(c).map(function(b){return _+l*b});return n(d?p.reverse():p)}return e.domain=function(c){return arguments.length?(t(c),h()):t()},e.range=function(c){return arguments.length?([i,r]=c,i=+i,r=+r,h()):[i,r]},e.rangeRound=function(c){return[i,r]=c,i=+i,r=+r,a=!0,h()},e.bandwidth=function(){return o},e.step=function(){return l},e.round=function(c){return arguments.length?(a=!!c,h()):a},e.padding=function(c){return arguments.length?(s=Math.min(1,f=+c),h()):s},e.paddingInner=function(c){return arguments.length?(s=Math.min(1,c),h()):s},e.paddingOuter=function(c){return arguments.length?(f=+c,h()):f},e.align=function(c){return arguments.length?(u=Math.max(0,Math.min(1,c)),h()):u},e.copy=function(){return kl(t(),[i,r]).round(a).paddingInner(s).paddingOuter(f).align(u)},Dr.apply(h(),arguments)}function Sl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ia(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function di(){}var ui=.7,hr=1/ui,Sn="\\s*([+-]?\\d+)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xf=/^#([0-9a-f]{3,8})$/,Qf=new RegExp(`^rgb\\(${Sn},${Sn},${Sn}\\)$`),Zf=new RegExp(`^rgb\\(${yt},${yt},${yt}\\)$`),Jf=new RegExp(`^rgba\\(${Sn},${Sn},${Sn},${si}\\)$`),$f=new RegExp(`^rgba\\(${yt},${yt},${yt},${si}\\)$`),eu=new RegExp(`^hsl\\(${si},${yt},${yt}\\)$`),tu=new RegExp(`^hsla\\(${si},${yt},${yt},${si}\\)$`),jl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sl(di,ci,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bl,formatHex:Bl,formatHex8:nu,formatHsl:iu,formatRgb:Ol,toString:Ol});function Bl(){return this.rgb().formatHex()}function nu(){return this.rgb().formatHex8()}function iu(){return La(this).formatHsl()}function Ol(){return this.rgb().formatRgb()}function ci(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xl(t):n===3?new Ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qf.exec(e))?new Ke(t[1],t[2],t[3],1):(t=Zf.exec(e))?new Ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jf.exec(e))?Xi(t[1],t[2],t[3],t[4]):(t=$f.exec(e))?Xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eu.exec(e))?Wl(t[1],t[2]/100,t[3]/100,1):(t=tu.exec(e))?Wl(t[1],t[2]/100,t[3]/100,t[4]):jl.hasOwnProperty(e)?xl(jl[e]):e==="transparent"?new Ke(NaN,NaN,NaN,0):null}function xl(e){return new Ke(e>>16&255,e>>8&255,e&255,1)}function Xi(e,t,n,i){return i<=0&&(e=t=n=NaN),new Ke(e,t,n,i)}function ru(e){return e instanceof di||(e=ci(e)),e?(e=e.rgb(),new Ke(e.r,e.g,e.b,e.opacity)):new Ke}function dr(e,t,n,i){return arguments.length===1?ru(e):new Ke(e,t,n,i??1)}function Ke(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Sl(Ke,dr,Ia(di,{brighter(e){return e=e==null?hr:Math.pow(hr,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ui:Math.pow(ui,e),new Ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ke(Qt(this.r),Qt(this.g),Qt(this.b),_r(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hl,formatHex:Hl,formatHex8:lu,formatRgb:Fl,toString:Fl}));function Hl(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}`}function lu(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}${Kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fl(){const e=_r(this.opacity);return`${e===1?"rgb(":"rgba("}${Qt(this.r)}, ${Qt(this.g)}, ${Qt(this.b)}${e===1?")":`, ${e})`}`}function _r(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kt(e){return e=Qt(e),(e<16?"0":"")+e.toString(16)}function Wl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new st(e,t,n,i)}function La(e){if(e instanceof st)return new st(e.h,e.s,e.l,e.opacity);if(e instanceof di||(e=ci(e)),!e)return new st;if(e instanceof st)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),o=NaN,a=l-r,s=(l+r)/2;return a?(t===l?o=(n-i)/a+(n<i)*6:n===l?o=(i-t)/a+2:o=(t-n)/a+4,a/=s<.5?l+r:2-l-r,o*=60):a=s>0&&s<1?0:o,new st(o,a,s,e.opacity)}function ou(e,t,n,i){return arguments.length===1?La(e):new st(e,t,n,i??1)}function st(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Sl(st,ou,Ia(di,{brighter(e){return e=e==null?hr:Math.pow(hr,e),new st(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ui:Math.pow(ui,e),new st(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Ke(Vr(e>=240?e-240:e+120,r,i),Vr(e,r,i),Vr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new st(Ul(this.h),Qi(this.s),Qi(this.l),_r(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_r(this.opacity);return`${e===1?"hsl(":"hsla("}${Ul(this.h)}, ${Qi(this.s)*100}%, ${Qi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ul(e){return e=(e||0)%360,e<0?e+360:e}function Qi(e){return Math.max(0,Math.min(1,e||0))}function Vr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const El=e=>()=>e;function au(e,t){return function(n){return e+n*t}}function fu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function uu(e){return(e=+e)==1?qa:function(t,n){return n-t?fu(t,n,e):El(isNaN(t)?n:t)}}function qa(e,t){var n=t-e;return n?au(e,n):El(isNaN(e)?t:e)}const Vl=function e(t){var n=uu(t);function i(r,l){var o=n((r=dr(r)).r,(l=dr(l)).r),a=n(r.g,l.g),s=n(r.b,l.b),f=qa(r.opacity,l.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=s(u),r.opacity=f(u),r+""}}return i.gamma=e,i}(1);function su(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function cu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hu(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),o;for(o=0;o<i;++o)r[o]=Ml(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(a){for(o=0;o<i;++o)l[o]=r[o](a);return l}}function du(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function gr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _u(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Ml(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var el=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yr=new RegExp(el.source,"g");function gu(e){return function(){return e}}function mu(e){return function(t){return e(t)+""}}function yu(e,t){var n=el.lastIndex=Yr.lastIndex=0,i,r,l,o=-1,a=[],s=[];for(e=e+"",t=t+"";(i=el.exec(e))&&(r=Yr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),a[o]?a[o]+=l:a[++o]=l),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,s.push({i:o,x:gr(i,r)})),n=Yr.lastIndex;return n<t.length&&(l=t.slice(n),a[o]?a[o]+=l:a[++o]=l),a.length<2?s[0]?mu(s[0].x):gu(t):(t=s.length,function(f){for(var u=0,h;u<t;++u)a[(h=s[u]).i]=h.x(f);return a.join("")})}function Ml(e,t){var n=typeof t,i;return t==null||n==="boolean"?El(t):(n==="number"?gr:n==="string"?(i=ci(t))?(t=i,Vl):yu:t instanceof ci?Vl:t instanceof Date?du:cu(t)?su:Array.isArray(t)?hu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_u:gr)(e,t)}function pu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bu(e){return function(){return e}}function wu(e){return+e}var Yl=[0,1];function mt(e){return e}function tl(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:bu(isNaN(t)?NaN:.5)}function vu(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function ku(e,t,n){var i=e[0],r=e[1],l=t[0],o=t[1];return r<i?(i=tl(r,i),l=n(o,l)):(i=tl(i,r),l=n(l,o)),function(a){return l(i(a))}}function Su(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=tl(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(a){var s=Df(e,a,1,i)-1;return l[s](r[s](a))}}function Ga(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ja(){var e=Yl,t=Yl,n=Ml,i,r,l,o=mt,a,s,f;function u(){var c=Math.min(e.length,t.length);return o!==mt&&(o=vu(e[0],e[c-1])),a=c>2?Su:ku,s=f=null,h}function h(c){return c==null||isNaN(c=+c)?l:(s||(s=a(e.map(i),t,n)))(i(o(c)))}return h.invert=function(c){return o(r((f||(f=a(t,e.map(i),gr)))(c)))},h.domain=function(c){return arguments.length?(e=Array.from(c,wu),u()):e.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),u()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),n=pu,u()},h.clamp=function(c){return arguments.length?(o=c?!0:mt,u()):o!==mt},h.interpolate=function(c){return arguments.length?(n=c,u()):n},h.unknown=function(c){return arguments.length?(l=c,h):l},function(c,d){return i=c,r=d,u()}}function Eu(){return ja()(mt,mt)}function Mu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Mn(e){return e=mr(Math.abs(e)),e?e[1]:NaN}function Nu(e,t){return function(n,i){for(var r=n.length,l=[],o=0,a=e[0],s=0;r>0&&a>0&&(s+a+1>i&&(a=Math.max(1,i-s)),l.push(n.substring(r-=a,r+a)),!((s+=a+1)>i));)a=e[o=(o+1)%e.length];return l.reverse().join(t)}}function Ru(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yr(e){if(!(t=zu.exec(e)))throw new Error("invalid format: "+e);var t;return new Nl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yr.prototype=Nl.prototype;function Nl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Au(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Ba;function Du(e,t){var n=mr(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(Ba=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return l===o?i:l>o?i+new Array(l-o+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+mr(e,Math.max(0,t+l-1))[0]}function Kl(e,t){var n=mr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Xl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Kl(e*100,t),r:Kl,s:Du,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ql(e){return e}var Zl=Array.prototype.map,Jl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Pu(e){var t=e.grouping===void 0||e.thousands===void 0?Ql:Nu(Zl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Ql:Ru(Zl.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function f(h){h=yr(h);var c=h.fill,d=h.align,_=h.sign,w=h.symbol,p=h.zero,b=h.width,k=h.comma,M=h.precision,E=h.trim,m=h.type;m==="n"?(k=!0,m="g"):Xl[m]||(M===void 0&&(M=12),E=!0,m="g"),(p||c==="0"&&d==="=")&&(p=!0,c="0",d="=");var S=w==="$"?n:w==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",N=w==="$"?i:/[%p]/.test(m)?o:"",G=Xl[m],j=/[defgprs%]/.test(m);M=M===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function B(C){var x=S,P=N,T,z,A;if(m==="c")P=G(C)+P,C="";else{C=+C;var Y=C<0||1/C<0;if(C=isNaN(C)?s:G(Math.abs(C),M),E&&(C=Au(C)),Y&&+C==0&&_!=="+"&&(Y=!1),x=(Y?_==="("?_:a:_==="-"||_==="("?"":_)+x,P=(m==="s"?Jl[8+Ba/3]:"")+P+(Y&&_==="("?")":""),j){for(T=-1,z=C.length;++T<z;)if(A=C.charCodeAt(T),48>A||A>57){P=(A===46?r+C.slice(T+1):C.slice(T))+P,C=C.slice(0,T);break}}}k&&!p&&(C=t(C,1/0));var K=x.length+C.length+P.length,te=K<b?new Array(b-K+1).join(c):"";switch(k&&p&&(C=t(te+C,te.length?b-P.length:1/0),te=""),d){case"<":C=x+C+P+te;break;case"=":C=x+te+C+P;break;case"^":C=te.slice(0,K=te.length>>1)+x+C+P+te.slice(K);break;default:C=te+x+C+P;break}return l(C)}return B.toString=function(){return h+""},B}function u(h,c){var d=f((h=yr(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(Mn(c)/3)))*3,w=Math.pow(10,-_),p=Jl[8+_/3];return function(b){return d(w*b)+p}}return{format:f,formatPrefix:u}}var Zi,Oa,xa;Tu({thousands:",",grouping:[3],currency:["$",""]});function Tu(e){return Zi=Pu(e),Oa=Zi.format,xa=Zi.formatPrefix,Zi}function Cu(e){return Math.max(0,-Mn(Math.abs(e)))}function Iu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mn(t)/3)))*3-Mn(Math.abs(e)))}function Lu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mn(t)-Mn(e))+1}function qu(e,t,n,i){var r=Of(e,t,n),l;switch(i=yr(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=Iu(r,o))&&(i.precision=l),xa(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=Lu(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=Cu(r))&&(i.precision=l-(i.type==="%")*2);break}}return Oa(i)}function Ha(e){var t=e.domain;return e.ticks=function(n){var i=t();return Bf(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return qu(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,o=i[r],a=i[l],s,f,u=10;for(a<o&&(f=o,o=a,a=f,f=r,r=l,l=f);u-- >0;){if(f=Jr(o,a,n),f===s)return i[r]=o,i[l]=a,t(i);if(f>0)o=Math.floor(o/f)*f,a=Math.ceil(a/f)*f;else if(f<0)o=Math.ceil(o*f)/f,a=Math.floor(a*f)/f;else break;s=f}return e},e}function ar(){var e=Eu();return e.copy=function(){return Ga(e,ar())},Dr.apply(e,arguments),Ha(e)}function $l(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Gu(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ju(e){return e<0?-e*e:e*e}function Bu(e){var t=e(mt,mt),n=1;function i(){return n===1?e(mt,mt):n===.5?e(Gu,ju):e($l(n),$l(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Ha(t)}function Fa(){var e=Bu(ja());return e.copy=function(){return Ga(e,Fa()).exponent(e.exponent())},Dr.apply(e,arguments),e}function Wa(){return Fa.apply(null,arguments).exponent(.5)}const ni={x:ar,y:ar,z:ar,r:Wa};function Ou(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function eo(e){return e}function xu(e){return t=>Math.log(e*t)}function Hu(e){return t=>e*Math.exp(t)}function Fu(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Wu(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ji(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Uu(e){const t=Ou(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:xu(n),ground:Hu(n),scaleType:t}}return t==="pow"?{lift:Ji(1),ground:Ji(1/1),scaleType:t}:t==="sqrt"?{lift:Ji(.5),ground:Ji(1/.5),scaleType:t}:t==="symlog"?{lift:Fu(1),ground:Wu(1),scaleType:t}:{lift:eo,ground:eo,scaleType:t}}function pr(e){return e.replace(/^\w/,t=>t.toUpperCase())}function xe(e,t=""){return`scale${pr(t)}${pr(e)}`}function Ua(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?xe("band"):xe("point");if(ti(Object.keys(e),["domain","range","unknown","copy"]))return xe("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return xe("quantile",t);if(e.thresholds)return xe("quantize",t);if(e.constant)return xe("symlog",t);if(e.base)return xe("log",t);if(e.exponent)return e.exponent()===.5?xe("sqrt",t):xe("pow",t);if(ti(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return xe("threshold");if(ti(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return xe("identity");if(ti(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return xe("radial");if(t)return xe(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),xe(i)}return xe("linear")}const Vu=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Yu(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Vu.includes(Ua(e))||Ta(e)===!0)return e.domain();const{lift:n,ground:i}=Uu(e),r=e.domain()[0],l=Object.prototype.toString.call(r)==="[object Date]",[o,a]=e.domain().map(d=>n(l?d.getTime():d)),[s,f]=e.range(),u=t[0]||0,h=t[1]||0,c=(a-o)/(Math.abs(f-s)-u-h);return[o-u*c,h*c+a].map(d=>i(l?new Date(d):d))}function Ku(e,t,n,i,r){let l,o;return r===!0?(l=0,o=100):(l=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),i===!0?[o,l]:[l,o]}function Xu(e,t,n,i,r,l){return r?typeof r=="function"?r({width:t,height:n}):r:Ku(e,t,n,i,l)}function $i(e){return function([n,i,r,l,o,a,s,f,u,h]){if(i===null)return null;const c=Xu(e,s,f,a,u,h),d=n===ni[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(c),l&&d.domain(Yu(d,l)),(o===!0||typeof o=="number")&&(typeof d.nice=="function"?d.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function er([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function tr([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const dt="    ";function Qu(e){const{r:t,g:n,b:i,opacity:r}=dr(e);return[t,n,i].every(l=>l>=0&&l<=255)?{r:t,g:n,b:i,o:r}:!1}function Zu({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Ju(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),$u(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{es(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function $u(e){Object.entries(e).forEach(([t,n])=>{console.log(`${dt}${t}:`,n)})}function es(e,t,n){const i=Ua(t);console.log(`${dt}${e}:`),console.log(`${dt}${dt}Accessor: "${n.toString()}"`),console.log(`${dt}${dt}Type: ${i}`),to(t,"domain"),to(t,"range"," ")}function to(e,t,n=""){const i=e[t](),r=ns(i);r?ts(r,t,i):console.log(`${dt}${dt}${pr(t)}:${n}`,i)}function ts(e,t,n){console.log(`${dt}${dt}${pr(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function ns(e){const t=[],n=e.map((i,r)=>{const l=Qu(i);if(l!==!1){t.push(l);const o=r===e.length-1?" ":"";return`%c ${i}${o}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${Zu(i)};`)]:null}const is=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),no=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function io(e){let t,n,i;const r=e[153].default,l=Nt(r,e,e[152],no);return{c(){t=W("div"),l&&l.c(),this.h()},l(o){t=U(o,"DIV",{class:!0});var a=L(t);l&&l.l(a),a.forEach(v),this.h()},h(){g(t,"class","layercake-container svelte-vhzpsp"),Sa(()=>e[155].call(t)),O(t,"position",e[5]),O(t,"top",e[5]==="absolute"?"0":null),O(t,"right",e[5]==="absolute"?"0":null),O(t,"bottom",e[5]==="absolute"?"0":null),O(t,"left",e[5]==="absolute"?"0":null),O(t,"pointer-events",e[4]===!1?"none":null)},m(o,a){q(o,t,a),l&&l.m(t,null),e[154](t),n=kf(t,e[155].bind(t)),i=!0},p(o,a){l&&l.p&&(!i||a[0]&2147483588|a[1]&1048575|a[4]&268435456)&&Rt(l,r,o,o[152],i?At(r,o[152],a,is):zt(o[152]),no),a[0]&32&&O(t,"position",o[5]),a[0]&32&&O(t,"top",o[5]==="absolute"?"0":null),a[0]&32&&O(t,"right",o[5]==="absolute"?"0":null),a[0]&32&&O(t,"bottom",o[5]==="absolute"?"0":null),a[0]&32&&O(t,"left",o[5]==="absolute"?"0":null),a[0]&16&&O(t,"pointer-events",o[4]===!1?"none":null)},i(o){i||(V(l,o),i=!0)},o(o){Z(l,o),i=!1},d(o){o&&v(t),l&&l.d(o),e[154](null),n()}}}function rs(e){let t,n,i=(e[3]===!0||typeof window<"u")&&io(e);return{c(){i&&i.c(),t=ce()},l(r){i&&i.l(r),t=ce()},m(r,l){i&&i.m(r,l),q(r,t,l),n=!0},p(r,l){r[3]===!0||typeof window<"u"?i?(i.p(r,l),l[0]&8&&V(i,1)):(i=io(r),i.c(),V(i,1),i.m(t.parentNode,t)):i&&(zr(),Z(i,1,1,()=>{i=null}),Ar())},i(r){n||(V(i),n=!0)},o(r){Z(i),n=!1},d(r){r&&v(t),i&&i.d(r)}}}function ls(e,t,n){let i,r,l,o,a,s,f,u,h,c,d,_,w,p,b,k,M,E,m,S,N,G,j,B,C,x,P,T,z,A,Y,K,te,ae,re,be,I,ne,Re,Te,$,he,Ne,Ce,Ve,$e,we,et,rt,bt,Be,Xe,en,Ct,Ft,tn,Wt,nn,rn,Qe,ln,It,{$$slots:on={},$$scope:an}=t;const Ut=Wf(Ju,200);let{ssr:Lt=!1}=t,{pointerEvents:fn=!0}=t,{position:un="relative"}=t,{percentRange:Ze=!1}=t,{width:qe=void 0}=t,{height:Pn=void 0}=t,{containerWidth:wt=qe||100}=t,{containerHeight:ee=Pn||100}=t,{element:ye=void 0}=t,{x:Ie=void 0}=t,{y:Oe=void 0}=t,{z:Je=void 0}=t,{r:lt=void 0}=t,{data:Le=[]}=t,{xDomain:vt=void 0}=t,{yDomain:kt=void 0}=t,{zDomain:St=void 0}=t,{rDomain:Ye=void 0}=t,{xNice:Vt=!1}=t,{yNice:qt=!1}=t,{zNice:Et=!1}=t,{rNice:ot=!1}=t,{xPadding:at=void 0}=t,{yPadding:_i=void 0}=t,{zPadding:gi=void 0}=t,{rPadding:mi=void 0}=t,{xScale:yi=ni.x}=t,{yScale:Tn=ni.y}=t,{zScale:pi=ni.z}=t,{rScale:bi=ni.r}=t,{xRange:sn=void 0}=t,{yRange:cn=void 0}=t,{zRange:hn=void 0}=t,{rRange:dn=void 0}=t,{xReverse:wi=!1}=t,{yReverse:vi=void 0}=t,{zReverse:ki=!1}=t,{rReverse:Si=!1}=t,{padding:Ei={}}=t,{extents:Mi={}}=t,{flatData:Ni=void 0}=t,{custom:Ri={}}=t,{debug:Pr=!1}=t,Tr=!1;va(()=>{Tr=!0});const pe={},Gt=ie(Ze);D(e,Gt,y=>n(33,Ve=y));const _n=ie(wt);D(e,_n,y=>n(32,Ce=y));const gn=ie(ee);D(e,gn,y=>n(31,Ne=y));const zi=ie(Ur(Mi));D(e,zi,y=>n(170,he=y));const Ai=ie(Le);D(e,Ai,y=>n(30,$=y));const Cn=ie(Ni||Le);D(e,Cn,y=>n(29,Te=y));const Di=ie(Ei);D(e,Di,y=>n(169,Re=y));const mn=ie(Ot(Ie));D(e,mn,y=>n(28,ne=y));const yn=ie(Ot(Oe));D(e,yn,y=>n(27,I=y));const pn=ie(Ot(Je));D(e,pn,y=>n(26,be=y));const bn=ie(Ot(lt));D(e,bn,y=>n(25,re=y));const Pi=ie(vt);D(e,Pi,y=>n(168,ae=y));const Ti=ie(kt);D(e,Ti,y=>n(167,te=y));const Ci=ie(St);D(e,Ci,y=>n(166,K=y));const Ii=ie(Ye);D(e,Ii,y=>n(165,Y=y));const In=ie(Vt);D(e,In,y=>n(24,A=y));const Ln=ie(qt);D(e,Ln,y=>n(23,z=y));const qn=ie(Et);D(e,qn,y=>n(22,T=y));const Gn=ie(ot);D(e,Gn,y=>n(21,P=y));const jn=ie(wi);D(e,jn,y=>n(20,x=y));const Bn=ie(i);D(e,Bn,y=>n(19,C=y));const On=ie(ki);D(e,On,y=>n(18,B=y));const xn=ie(Si);D(e,xn,y=>n(17,j=y));const Hn=ie(at);D(e,Hn,y=>n(16,G=y));const Fn=ie(_i);D(e,Fn,y=>n(15,N=y));const Wn=ie(gi);D(e,Wn,y=>n(14,S=y));const Un=ie(mi);D(e,Un,y=>n(13,m=y));const Li=ie(sn);D(e,Li,y=>n(164,E=y));const qi=ie(cn);D(e,qi,y=>n(163,M=y));const Gi=ie(hn);D(e,Gi,y=>n(162,k=y));const ji=ie(dn);D(e,ji,y=>n(161,b=y));const Vn=ie(yi);D(e,Vn,y=>n(160,p=y));const Yn=ie(Tn);D(e,Yn,y=>n(159,w=y));const Kn=ie(pi);D(e,Kn,y=>n(158,_=y));const Xn=ie(bi);D(e,Xn,y=>n(157,d=y));const Bi=ie(pe);D(e,Bi,y=>n(11,h=y));const Oi=ie(Ri);D(e,Oi,y=>n(12,c=y));const xi=ze([mn,yn,pn,bn],([y,Mt,ht,Ge])=>{const Yt={};return y&&(Yt.x=y),Mt&&(Yt.y=Mt),ht&&(Yt.z=ht),Ge&&(Yt.r=Ge),Yt});D(e,xi,y=>n(10,f=y));const Hi=ze([Di,_n,gn],([y])=>Object.assign({top:0,right:0,bottom:0,left:0},y));D(e,Hi,y=>n(37,rt=y));const Fi=ze([_n,gn,Hi],([y,Mt,ht])=>{const Ge={};return Ge.top=ht.top,Ge.right=y-ht.right,Ge.bottom=Mt-ht.bottom,Ge.left=ht.left,Ge.width=Ge.right-Ge.left,Ge.height=Ge.bottom-Ge.top,Ge.width<=0&&Tr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),Ge.height<=0&&Tr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),Ge});D(e,Fi,y=>n(151,u=y));const jt=ze([Fi],([y])=>y.width);D(e,jt,y=>n(34,$e=y));const Bt=ze([Fi],([y])=>y.height);D(e,Bt,y=>n(35,we=y));const ft=ze([Cn,xi,zi,Vn,Yn,Xn,Kn],([y,Mt,ht,Ge,Yt,pf,bf])=>{const wf={x:Ge,y:Yt,r:pf,z:bf},Hr=Ur(Mt,ht),vf=Object.fromEntries(Object.keys(Hr).map(Fr=>[Fr,wf[Fr]]));return Object.keys(Hr).length>0?{...Yf(y,Hr,vf),...ht}:{}});D(e,ft,y=>n(38,bt=y));const Wi=ze([ft,Pi],Ki("x"));D(e,Wi,y=>n(39,Be=y));const Ui=ze([ft,Ti],Ki("y"));D(e,Ui,y=>n(40,Xe=y));const Vi=ze([ft,Ci],Ki("z"));D(e,Vi,y=>n(41,en=y));const Yi=ze([ft,Ii],Ki("r"));D(e,Yi,y=>n(42,Ct=y));const Qn=ze([Vn,ft,Wi,Hn,In,jn,jt,Bt,Li,Gt],$i("x"));D(e,Qn,y=>n(9,s=y));const Cr=ze([mn,Qn],er);D(e,Cr,y=>n(47,rn=y));const Zn=ze([Yn,ft,Ui,Fn,Ln,Bn,jt,Bt,qi,Gt],$i("y"));D(e,Zn,y=>n(8,a=y));const Ir=ze([yn,Zn],er);D(e,Ir,y=>n(48,Qe=y));const Jn=ze([Kn,ft,Vi,Wn,qn,On,jt,Bt,Gi,Gt],$i("z"));D(e,Jn,y=>n(7,o=y));const Lr=ze([pn,Jn],er);D(e,Lr,y=>n(49,ln=y));const $n=ze([Xn,ft,Yi,Un,Gn,xn,jt,Bt,ji,Gt],$i("r"));D(e,$n,y=>n(6,l=y));const qr=ze([bn,$n],er);D(e,qr,y=>n(50,It=y));const Gr=ze([Qn],tr);D(e,Gr,y=>n(43,Ft=y));const jr=ze([Zn],tr);D(e,jr,y=>n(44,tn=y));const Br=ze([Jn],tr);D(e,Br,y=>n(45,Wt=y));const Or=ze([$n],tr);D(e,Or,y=>n(46,nn=y));const xr=ze([jt,Bt],([y,Mt])=>y/Mt);D(e,xr,y=>n(36,et=y));function mf(y){Pt[y?"unshift":"push"](()=>{ye=y,n(2,ye)})}function yf(){wt=this.clientWidth,ee=this.clientHeight,n(0,wt),n(1,ee)}return e.$$set=y=>{"ssr"in y&&n(3,Lt=y.ssr),"pointerEvents"in y&&n(4,fn=y.pointerEvents),"position"in y&&n(5,un=y.position),"percentRange"in y&&n(111,Ze=y.percentRange),"width"in y&&n(112,qe=y.width),"height"in y&&n(113,Pn=y.height),"containerWidth"in y&&n(0,wt=y.containerWidth),"containerHeight"in y&&n(1,ee=y.containerHeight),"element"in y&&n(2,ye=y.element),"x"in y&&n(114,Ie=y.x),"y"in y&&n(115,Oe=y.y),"z"in y&&n(116,Je=y.z),"r"in y&&n(117,lt=y.r),"data"in y&&n(118,Le=y.data),"xDomain"in y&&n(119,vt=y.xDomain),"yDomain"in y&&n(120,kt=y.yDomain),"zDomain"in y&&n(121,St=y.zDomain),"rDomain"in y&&n(122,Ye=y.rDomain),"xNice"in y&&n(123,Vt=y.xNice),"yNice"in y&&n(124,qt=y.yNice),"zNice"in y&&n(125,Et=y.zNice),"rNice"in y&&n(126,ot=y.rNice),"xPadding"in y&&n(127,at=y.xPadding),"yPadding"in y&&n(128,_i=y.yPadding),"zPadding"in y&&n(129,gi=y.zPadding),"rPadding"in y&&n(130,mi=y.rPadding),"xScale"in y&&n(131,yi=y.xScale),"yScale"in y&&n(132,Tn=y.yScale),"zScale"in y&&n(133,pi=y.zScale),"rScale"in y&&n(134,bi=y.rScale),"xRange"in y&&n(135,sn=y.xRange),"yRange"in y&&n(136,cn=y.yRange),"zRange"in y&&n(137,hn=y.zRange),"rRange"in y&&n(138,dn=y.rRange),"xReverse"in y&&n(139,wi=y.xReverse),"yReverse"in y&&n(140,vi=y.yReverse),"zReverse"in y&&n(141,ki=y.zReverse),"rReverse"in y&&n(142,Si=y.rReverse),"padding"in y&&n(143,Ei=y.padding),"extents"in y&&n(144,Mi=y.extents),"flatData"in y&&n(145,Ni=y.flatData),"custom"in y&&n(146,Ri=y.custom),"debug"in y&&n(147,Pr=y.debug),"$$scope"in y&&n(152,an=y.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof vi>"u"?typeof Tn.bandwidth!="function":vi),e.$$.dirty[3]&2097152&&Ie&&n(148,pe.x=Ie,pe),e.$$.dirty[3]&4194304&&Oe&&n(148,pe.y=Oe,pe),e.$$.dirty[3]&8388608&&Je&&n(148,pe.z=Je,pe),e.$$.dirty[3]&16777216&&lt&&n(148,pe.r=lt,pe),e.$$.dirty[3]&67108864&&vt&&n(148,pe.xDomain=vt,pe),e.$$.dirty[3]&134217728&&kt&&n(148,pe.yDomain=kt,pe),e.$$.dirty[3]&268435456&&St&&n(148,pe.zDomain=St,pe),e.$$.dirty[3]&536870912&&Ye&&n(148,pe.rDomain=Ye,pe),e.$$.dirty[4]&2048&&sn&&n(148,pe.xRange=sn,pe),e.$$.dirty[4]&4096&&cn&&n(148,pe.yRange=cn,pe),e.$$.dirty[4]&8192&&hn&&n(148,pe.zRange=hn,pe),e.$$.dirty[4]&16384&&dn&&n(148,pe.rRange=dn,pe),e.$$.dirty[3]&262144&&J(Gt,Ve=Ze,Ve),e.$$.dirty[0]&1&&J(_n,Ce=wt,Ce),e.$$.dirty[0]&2&&J(gn,Ne=ee,Ne),e.$$.dirty[4]&1048576&&J(zi,he=Ur(Mi),he),e.$$.dirty[3]&33554432&&J(Ai,$=Le,$),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&J(Cn,Te=Ni||Le,Te),e.$$.dirty[4]&524288&&J(Di,Re=Ei,Re),e.$$.dirty[3]&2097152&&J(mn,ne=Ot(Ie),ne),e.$$.dirty[3]&4194304&&J(yn,I=Ot(Oe),I),e.$$.dirty[3]&8388608&&J(pn,be=Ot(Je),be),e.$$.dirty[3]&16777216&&J(bn,re=Ot(lt),re),e.$$.dirty[3]&67108864&&J(Pi,ae=vt,ae),e.$$.dirty[3]&134217728&&J(Ti,te=kt,te),e.$$.dirty[3]&268435456&&J(Ci,K=St,K),e.$$.dirty[3]&536870912&&J(Ii,Y=Ye,Y),e.$$.dirty[3]&1073741824&&J(In,A=Vt,A),e.$$.dirty[4]&1&&J(Ln,z=qt,z),e.$$.dirty[4]&2&&J(qn,T=Et,T),e.$$.dirty[4]&4&&J(Gn,P=ot,P),e.$$.dirty[4]&32768&&J(jn,x=wi,x),e.$$.dirty[4]&67108864&&J(Bn,C=i,C),e.$$.dirty[4]&131072&&J(On,B=ki,B),e.$$.dirty[4]&262144&&J(xn,j=Si,j),e.$$.dirty[4]&8&&J(Hn,G=at,G),e.$$.dirty[4]&16&&J(Fn,N=_i,N),e.$$.dirty[4]&32&&J(Wn,S=gi,S),e.$$.dirty[4]&64&&J(Un,m=mi,m),e.$$.dirty[4]&2048&&J(Li,E=sn,E),e.$$.dirty[4]&4096&&J(qi,M=cn,M),e.$$.dirty[4]&8192&&J(Gi,k=hn,k),e.$$.dirty[4]&16384&&J(ji,b=dn,b),e.$$.dirty[4]&128&&J(Vn,p=yi,p),e.$$.dirty[4]&256&&J(Yn,w=Tn,w),e.$$.dirty[4]&512&&J(Kn,_=pi,_),e.$$.dirty[4]&1024&&J(Xn,d=bi,d),e.$$.dirty[4]&4194304&&J(Oi,c=Ri,c),e.$$.dirty[4]&16777216&&J(Bi,h=pe,h),e.$$.dirty[4]&33554432&&ka("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&u&&Pr===!0&&(Lt===!0||typeof window<"u")&&Ut({boundingBox:u,activeGetters:f,x:pe.x,y:pe.y,z:pe.z,r:pe.r,xScale:s,yScale:a,zScale:o,rScale:l})},n(149,r={activeGetters:xi,width:jt,height:Bt,percentRange:Gt,aspectRatio:xr,containerWidth:_n,containerHeight:gn,x:mn,y:yn,z:pn,r:bn,custom:Oi,data:Ai,xNice:In,yNice:Ln,zNice:qn,rNice:Gn,xReverse:jn,yReverse:Bn,zReverse:On,rReverse:xn,xPadding:Hn,yPadding:Fn,zPadding:Wn,rPadding:Un,padding:Hi,flatData:Cn,extents:ft,xDomain:Wi,yDomain:Ui,zDomain:Vi,rDomain:Yi,xRange:Gr,yRange:jr,zRange:Br,rRange:Or,config:Bi,xScale:Qn,xGet:Cr,yScale:Zn,yGet:Ir,zScale:Jn,zGet:Lr,rScale:$n,rGet:qr}),[wt,ee,ye,Lt,fn,un,l,o,a,s,f,h,c,m,S,N,G,j,B,C,x,P,T,z,A,re,be,I,ne,Te,$,Ne,Ce,Ve,$e,we,et,rt,bt,Be,Xe,en,Ct,Ft,tn,Wt,nn,rn,Qe,ln,It,Gt,_n,gn,zi,Ai,Cn,Di,mn,yn,pn,bn,Pi,Ti,Ci,Ii,In,Ln,qn,Gn,jn,Bn,On,xn,Hn,Fn,Wn,Un,Li,qi,Gi,ji,Vn,Yn,Kn,Xn,Bi,Oi,xi,Hi,Fi,jt,Bt,ft,Wi,Ui,Vi,Yi,Qn,Cr,Zn,Ir,Jn,Lr,$n,qr,Gr,jr,Br,Or,xr,Ze,qe,Pn,Ie,Oe,Je,lt,Le,vt,kt,St,Ye,Vt,qt,Et,ot,at,_i,gi,mi,yi,Tn,pi,bi,sn,cn,hn,dn,wi,vi,ki,Si,Ei,Mi,Ni,Ri,Pr,pe,r,i,u,an,on,mf,yf]}class Rl extends Ee{constructor(t){super(),Me(this,t,ls,rs,Se,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const os=e=>({element:e&1}),ro=e=>({element:e[0]});function as(e){let t,n;const i=e[11].default,r=Nt(i,e,e[10],ro);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=U(l,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var o=L(t);r&&r.l(o),o.forEach(v),this.h()},h(){g(t,"class","layercake-layout-html svelte-1bu60uu"),g(t,"role",e[6]),g(t,"aria-label",e[3]),g(t,"aria-labelledby",e[4]),g(t,"aria-describedby",e[5]),O(t,"z-index",e[1]),O(t,"pointer-events",e[2]===!1?"none":null),O(t,"top",e[7].top+"px"),O(t,"right",e[7].right+"px"),O(t,"bottom",e[7].bottom+"px"),O(t,"left",e[7].left+"px")},m(l,o){q(l,t,o),r&&r.m(t,null),e[12](t),n=!0},p(l,[o]){r&&r.p&&(!n||o&1025)&&Rt(r,i,l,l[10],n?At(i,l[10],o,os):zt(l[10]),ro),(!n||o&64)&&g(t,"role",l[6]),(!n||o&8)&&g(t,"aria-label",l[3]),(!n||o&16)&&g(t,"aria-labelledby",l[4]),(!n||o&32)&&g(t,"aria-describedby",l[5]),o&2&&O(t,"z-index",l[1]),o&4&&O(t,"pointer-events",l[2]===!1?"none":null),o&128&&O(t,"top",l[7].top+"px"),o&128&&O(t,"right",l[7].right+"px"),o&128&&O(t,"bottom",l[7].bottom+"px"),o&128&&O(t,"left",l[7].left+"px")},i(l){n||(V(r,l),n=!0)},o(l){Z(r,l),n=!1},d(l){l&&v(t),r&&r.d(l),e[12](null)}}}function fs(e,t,n){let i,r,{$$slots:l={},$$scope:o}=t;const{padding:a}=We("LayerCake");D(e,a,p=>n(7,r=p));let{element:s=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:u=void 0}=t,{role:h=void 0}=t,{label:c=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:_=void 0}=t;function w(p){Pt[p?"unshift":"push"](()=>{s=p,n(0,s)})}return e.$$set=p=>{"element"in p&&n(0,s=p.element),"zIndex"in p&&n(1,f=p.zIndex),"pointerEvents"in p&&n(2,u=p.pointerEvents),"role"in p&&n(9,h=p.role),"label"in p&&n(3,c=p.label),"labelledBy"in p&&n(4,d=p.labelledBy),"describedBy"in p&&n(5,_=p.describedBy),"$$scope"in p&&n(10,o=p.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=h||(c||d||_?"figure":void 0))},[s,f,u,c,d,_,i,r,a,h,o,l,w]}class nl extends Ee{constructor(t){super(),Me(this,t,fs,as,Se,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const us=e=>({element:e&1}),lo=e=>({element:e[0]}),ss=e=>({}),oo=e=>({}),cs=e=>({}),ao=e=>({});function fo(e){let t,n;return{c(){t=le("title"),n=H(e[8])},l(i){t=oe(i,"title",{});var r=L(t);n=F(r,e[8]),r.forEach(v)},m(i,r){q(i,t,r),R(t,n)},p(i,r){r&256&&se(n,i[8])},d(i){i&&v(t)}}}function hs(e){let t,n=e[8]&&fo(e);return{c(){n&&n.c(),t=ce()},l(i){n&&n.l(i),t=ce()},m(i,r){n&&n.m(i,r),q(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=fo(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&v(t),n&&n.d(i)}}}function ds(e){let t,n,i,r,l;const o=e[16].title,a=Nt(o,e,e[15],ao),s=a||hs(e),f=e[16].defs,u=Nt(f,e,e[15],oo),h=e[16].default,c=Nt(h,e,e[15],lo);return{c(){t=le("svg"),s&&s.c(),n=le("defs"),u&&u.c(),i=le("g"),c&&c.c(),this.h()},l(d){t=oe(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var _=L(t);s&&s.l(_),n=oe(_,"defs",{});var w=L(n);u&&u.l(w),w.forEach(v),i=oe(_,"g",{class:!0,transform:!0});var p=L(i);c&&c.l(p),p.forEach(v),_.forEach(v),this.h()},h(){g(i,"class","layercake-layout-svg_g"),g(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),g(t,"class","layercake-layout-svg svelte-u84d8d"),g(t,"viewBox",e[4]),g(t,"width",e[9]),g(t,"height",e[10]),g(t,"aria-label",e[5]),g(t,"aria-labelledby",e[6]),g(t,"aria-describedby",e[7]),O(t,"z-index",e[2]),O(t,"pointer-events",e[3]===!1?"none":null)},m(d,_){q(d,t,_),s&&s.m(t,null),R(t,n),u&&u.m(n,null),R(t,i),c&&c.m(i,null),e[17](i),e[18](t),l=!0},p(d,[_]){a?a.p&&(!l||_&32768)&&Rt(a,o,d,d[15],l?At(o,d[15],_,cs):zt(d[15]),ao):s&&s.p&&(!l||_&256)&&s.p(d,l?_:-1),u&&u.p&&(!l||_&32768)&&Rt(u,f,d,d[15],l?At(f,d[15],_,ss):zt(d[15]),oo),c&&c.p&&(!l||_&32769)&&Rt(c,h,d,d[15],l?At(h,d[15],_,us):zt(d[15]),lo),(!l||_&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&g(i,"transform",r),(!l||_&16)&&g(t,"viewBox",d[4]),(!l||_&512)&&g(t,"width",d[9]),(!l||_&1024)&&g(t,"height",d[10]),(!l||_&32)&&g(t,"aria-label",d[5]),(!l||_&64)&&g(t,"aria-labelledby",d[6]),(!l||_&128)&&g(t,"aria-describedby",d[7]),_&4&&O(t,"z-index",d[2]),_&8&&O(t,"pointer-events",d[3]===!1?"none":null)},i(d){l||(V(s,d),V(u,d),V(c,d),l=!0)},o(d){Z(s,d),Z(u,d),Z(c,d),l=!1},d(d){d&&v(t),s&&s.d(d),u&&u.d(d),c&&c.d(d),e[17](null),e[18](null)}}}function _s(e,t,n){let i,r,l,{$$slots:o={},$$scope:a}=t,{element:s=void 0}=t,{innerElement:f=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:h=void 0}=t,{viewBox:c=void 0}=t,{label:d=void 0}=t,{labelledBy:_=void 0}=t,{describedBy:w=void 0}=t,{title:p=void 0}=t;const{containerWidth:b,containerHeight:k,padding:M}=We("LayerCake");D(e,b,S=>n(9,i=S)),D(e,k,S=>n(10,r=S)),D(e,M,S=>n(11,l=S));function E(S){Pt[S?"unshift":"push"](()=>{f=S,n(1,f)})}function m(S){Pt[S?"unshift":"push"](()=>{s=S,n(0,s)})}return e.$$set=S=>{"element"in S&&n(0,s=S.element),"innerElement"in S&&n(1,f=S.innerElement),"zIndex"in S&&n(2,u=S.zIndex),"pointerEvents"in S&&n(3,h=S.pointerEvents),"viewBox"in S&&n(4,c=S.viewBox),"label"in S&&n(5,d=S.label),"labelledBy"in S&&n(6,_=S.labelledBy),"describedBy"in S&&n(7,w=S.describedBy),"title"in S&&n(8,p=S.title),"$$scope"in S&&n(15,a=S.$$scope)},[s,f,u,h,c,d,_,w,p,i,r,l,b,k,M,a,o,E,m]}class zl extends Ee{constructor(t){super(),Me(this,t,_s,ds,Se,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Va(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const gs=e=>({element:e&2,context:e&1}),uo=e=>({element:e[1],context:e[0]}),ms=e=>({}),so=e=>({});function co(e){let t;return{c(){t=H(e[4])},l(n){t=F(n,e[4])},m(n,i){q(n,t,i)},p(n,i){i&16&&se(t,n[4])},d(n){n&&v(t)}}}function ys(e){let t,n=e[4]&&co(e);return{c(){n&&n.c(),t=ce()},l(i){n&&n.l(i),t=ce()},m(i,r){n&&n.m(i,r),q(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=co(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&v(t),n&&n.d(i)}}}function ps(e){let t,n,i;const r=e[13].fallback,l=Nt(r,e,e[12],so),o=l||ys(e),a=e[13].default,s=Nt(a,e,e[12],uo);return{c(){t=W("canvas"),o&&o.c(),n=X(),s&&s.c(),this.h()},l(f){t=U(f,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var u=L(t);o&&o.l(u),u.forEach(v),n=Q(f),s&&s.l(f),this.h()},h(){g(t,"class","layercake-layout-canvas"),O(t,"width","100%"),O(t,"height","100%"),O(t,"position","absolute"),g(t,"aria-label",e[5]),g(t,"aria-labelledby",e[6]),g(t,"aria-describedby",e[7]),O(t,"z-index",e[2]),O(t,"pointer-events",e[3]===!1?"none":null),O(t,"top",e[8].top+"px"),O(t,"right",e[8].right+"px"),O(t,"bottom",e[8].bottom+"px"),O(t,"left",e[8].left+"px")},m(f,u){q(f,t,u),o&&o.m(t,null),e[14](t),q(f,n,u),s&&s.m(f,u),i=!0},p(f,[u]){l?l.p&&(!i||u&4096)&&Rt(l,r,f,f[12],i?At(r,f[12],u,ms):zt(f[12]),so):o&&o.p&&(!i||u&16)&&o.p(f,i?u:-1),(!i||u&32)&&g(t,"aria-label",f[5]),(!i||u&64)&&g(t,"aria-labelledby",f[6]),(!i||u&128)&&g(t,"aria-describedby",f[7]),u&4&&O(t,"z-index",f[2]),u&8&&O(t,"pointer-events",f[3]===!1?"none":null),u&256&&O(t,"top",f[8].top+"px"),u&256&&O(t,"right",f[8].right+"px"),u&256&&O(t,"bottom",f[8].bottom+"px"),u&256&&O(t,"left",f[8].left+"px"),s&&s.p&&(!i||u&4099)&&Rt(s,a,f,f[12],i?At(a,f[12],u,gs):zt(f[12]),uo)},i(f){i||(V(o,f),V(s,f),i=!0)},o(f){Z(o,f),Z(s,f),i=!1},d(f){f&&(v(t),v(n)),o&&o.d(f),e[14](null),s&&s.d(f)}}}function bs(e,t,n){let i,r,l,{$$slots:o={},$$scope:a}=t;const{width:s,height:f,padding:u}=We("LayerCake");D(e,s,m=>n(16,r=m)),D(e,f,m=>n(15,i=m)),D(e,u,m=>n(8,l=m));let{element:h=void 0}=t,{context:c=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:_=void 0}=t,{fallback:w=""}=t,{label:p=void 0}=t,{labelledBy:b=void 0}=t,{describedBy:k=void 0}=t;const M={ctx:ie({})};va(()=>{n(0,c=h.getContext("2d")),Va(c,r,i)}),ka("canvas",M);function E(m){Pt[m?"unshift":"push"](()=>{h=m,n(1,h)})}return e.$$set=m=>{"element"in m&&n(1,h=m.element),"context"in m&&n(0,c=m.context),"zIndex"in m&&n(2,d=m.zIndex),"pointerEvents"in m&&n(3,_=m.pointerEvents),"fallback"in m&&n(4,w=m.fallback),"label"in m&&n(5,p=m.label),"labelledBy"in m&&n(6,b=m.labelledBy),"describedBy"in m&&n(7,k=m.describedBy),"$$scope"in m&&n(12,a=m.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&M.ctx.set(c)},[c,h,d,_,w,p,b,k,l,s,f,u,a,o,E]}class ws extends Ee{constructor(t){super(),Me(this,t,bs,ps,Se,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function vs(e){e.nextSibling&&e.parentNode.appendChild(e)}function ks(e){return e}function Ss(e){if(e==null)return ks;var t,n,i=e.scale[0],r=e.scale[1],l=e.translate[0],o=e.translate[1];return function(a,s){s||(t=n=0);var f=2,u=a.length,h=new Array(u);for(h[0]=(t+=a[0])*i+l,h[1]=(n+=a[1])*r+o;f<u;)h[f]=a[f],++f;return h}}function Es(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function Ms(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return ho(e,n)})}:ho(e,t)}function ho(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,l=Ns(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function Ns(e,t){var n=Ss(e.transform),i=e.arcs;function r(u,h){h.length&&h.pop();for(var c=i[u<0?~u:u],d=0,_=c.length;d<_;++d)h.push(n(c[d],d));u<0&&Es(h,_)}function l(u){return n(u)}function o(u){for(var h=[],c=0,d=u.length;c<d;++c)r(u[c],h);return h.length<2&&h.push(h[0]),h}function a(u){for(var h=o(u);h.length<4;)h.push(h[0]);return h}function s(u){return u.map(a)}function f(u){var h=u.type,c;switch(h){case"GeometryCollection":return{type:h,geometries:u.geometries.map(f)};case"Point":c=l(u.coordinates);break;case"MultiPoint":c=u.coordinates.map(l);break;case"LineString":c=o(u.arcs);break;case"MultiLineString":c=u.arcs.map(o);break;case"Polygon":c=s(u.arcs);break;case"MultiPolygon":c=u.arcs.map(s);break;default:return null}return{type:h,coordinates:c}}return f(t)}var ue=1e-6,Rs=1e-12,fe=Math.PI,tt=fe/2,_o=fe/4,it=fe*2,ut=180/fe,He=fe/180,ke=Math.abs,zs=Math.atan,Nn=Math.atan2,Ae=Math.cos,ve=Math.sin,fr=Math.sign||function(e){return e>0?1:e<0?-1:0},Tt=Math.sqrt;function As(e){return e>1?0:e<-1?fe:Math.acos(e)}function Jt(e){return e>1?tt:e<-1?-tt:Math.asin(e)}function nt(){}function br(e,t){e&&mo.hasOwnProperty(e.type)&&mo[e.type](e,t)}var go={Feature:function(e,t){br(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)br(n[i].geometry,t)}},mo={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){il(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)il(n[i],t,0)},Polygon:function(e,t){yo(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)yo(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)br(n[i],t)}};function il(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function yo(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)il(e[n],t,1);t.polygonEnd()}function wn(e,t){e&&go.hasOwnProperty(e.type)?go[e.type](e,t):br(e,t)}function rl(e){return[Nn(e[1],e[0]),Jt(e[2])]}function Rn(e){var t=e[0],n=e[1],i=Ae(n);return[i*Ae(t),i*ve(t),ve(n)]}function nr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function wr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Kr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ir(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ll(e){var t=Tt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ol(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function al(e,t){return ke(e)>fe&&(e-=Math.round(e/it)*it),[e,t]}al.invert=al;function Ds(e,t,n){return(e%=it)?t||n?ol(bo(e),wo(t,n)):bo(e):t||n?wo(t,n):al}function po(e){return function(t,n){return t+=e,ke(t)>fe&&(t-=Math.round(t/it)*it),[t,n]}}function bo(e){var t=po(e);return t.invert=po(-e),t}function wo(e,t){var n=Ae(e),i=ve(e),r=Ae(t),l=ve(t);function o(a,s){var f=Ae(s),u=Ae(a)*f,h=ve(a)*f,c=ve(s),d=c*n+u*i;return[Nn(h*r-d*l,u*n-c*i),Jt(d*r+h*l)]}return o.invert=function(a,s){var f=Ae(s),u=Ae(a)*f,h=ve(a)*f,c=ve(s),d=c*r-h*l;return[Nn(h*r+c*l,u*n+d*i),Jt(d*n-u*i)]},o}function Ps(e,t,n,i,r,l){if(n){var o=Ae(t),a=ve(t),s=i*n;r==null?(r=t+i*it,l=t-s/2):(r=vo(o,r),l=vo(o,l),(i>0?r<l:r>l)&&(r+=i*it));for(var f,u=r;i>0?u>l:u<l;u-=s)f=rl([o,-a*Ae(u),-a*ve(u)]),e.point(f[0],f[1])}}function vo(e,t){t=Rn(t),t[0]-=e,ll(t);var n=As(-t[1]);return((-t[2]<0?-n:n)+it-ue)%it}function Ya(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:nt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ur(e,t){return ke(e[0]-t[0])<ue&&ke(e[1]-t[1])<ue}function rr(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ka(e,t,n,i,r){var l=[],o=[],a,s;if(e.forEach(function(_){if(!((w=_.length-1)<=0)){var w,p=_[0],b=_[w],k;if(ur(p,b)){if(!p[2]&&!b[2]){for(r.lineStart(),a=0;a<w;++a)r.point((p=_[a])[0],p[1]);r.lineEnd();return}b[0]+=2*ue}l.push(k=new rr(p,_,null,!0)),o.push(k.o=new rr(p,null,k,!1)),l.push(k=new rr(b,_,null,!1)),o.push(k.o=new rr(b,null,k,!0))}}),!!l.length){for(o.sort(t),ko(l),ko(o),a=0,s=o.length;a<s;++a)o[a].e=n=!n;for(var f=l[0],u,h;;){for(var c=f,d=!0;c.v;)if((c=c.n)===f)return;u=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(a=0,s=u.length;a<s;++a)r.point((h=u[a])[0],h[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(d)for(u=c.p.z,a=u.length-1;a>=0;--a)r.point((h=u[a])[0],h[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,u=c.z,d=!d}while(!c.v);r.lineEnd()}}}function ko(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Xr(e){return ke(e[0])<=fe?e[0]:fr(e[0])*((ke(e[0])+fe)%it-fe)}function Ts(e,t){var n=Xr(t),i=t[1],r=ve(i),l=[ve(n),-Ae(n),0],o=0,a=0,s=new Zt;r===1?i=tt+ue:r===-1&&(i=-tt-ue);for(var f=0,u=e.length;f<u;++f)if(c=(h=e[f]).length)for(var h,c,d=h[c-1],_=Xr(d),w=d[1]/2+_o,p=ve(w),b=Ae(w),k=0;k<c;++k,_=E,p=S,b=N,d=M){var M=h[k],E=Xr(M),m=M[1]/2+_o,S=ve(m),N=Ae(m),G=E-_,j=G>=0?1:-1,B=j*G,C=B>fe,x=p*S;if(s.add(Nn(x*j*ve(B),b*N+x*Ae(B))),o+=C?G+j*it:G,C^_>=n^E>=n){var P=wr(Rn(d),Rn(M));ll(P);var T=wr(l,P);ll(T);var z=(C^G>=0?-1:1)*Jt(T[2]);(i>z||i===z&&(P[0]||P[1]))&&(a+=C^G>=0?1:-1)}}return(o<-ue||o<ue&&s<-Rs)^a&1}function Xa(e,t,n,i){return function(r){var l=t(r),o=Ya(),a=t(o),s=!1,f,u,h,c={point:d,lineStart:w,lineEnd:p,polygonStart:function(){c.point=b,c.lineStart=k,c.lineEnd=M,u=[],f=[]},polygonEnd:function(){c.point=d,c.lineStart=w,c.lineEnd=p,u=Da(u);var E=Ts(f,i);u.length?(s||(r.polygonStart(),s=!0),Ka(u,Is,E,n,r)):E&&(s||(r.polygonStart(),s=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),s&&(r.polygonEnd(),s=!1),u=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(E,m){e(E,m)&&r.point(E,m)}function _(E,m){l.point(E,m)}function w(){c.point=_,l.lineStart()}function p(){c.point=d,l.lineEnd()}function b(E,m){h.push([E,m]),a.point(E,m)}function k(){a.lineStart(),h=[]}function M(){b(h[0][0],h[0][1]),a.lineEnd();var E=a.clean(),m=o.result(),S,N=m.length,G,j,B;if(h.pop(),f.push(h),h=null,!!N){if(E&1){if(j=m[0],(G=j.length-1)>0){for(s||(r.polygonStart(),s=!0),r.lineStart(),S=0;S<G;++S)r.point((B=j[S])[0],B[1]);r.lineEnd()}return}N>1&&E&2&&m.push(m.pop().concat(m.shift())),u.push(m.filter(Cs))}}return c}}function Cs(e){return e.length>1}function Is(e,t){return((e=e.x)[0]<0?e[1]-tt-ue:tt-e[1])-((t=t.x)[0]<0?t[1]-tt-ue:tt-t[1])}const So=Xa(function(){return!0},Ls,Gs,[-fe,-tt]);function Ls(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,o){var a=l>0?fe:-fe,s=ke(l-t);ke(s-fe)<ue?(e.point(t,n=(n+o)/2>0?tt:-tt),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(l,n),r=0):i!==a&&s>=fe&&(ke(t-i)<ue&&(t-=i*ue),ke(l-a)<ue&&(l-=a*ue),n=qs(t,n,l,o),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),r=0),e.point(t=l,n=o),i=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function qs(e,t,n,i){var r,l,o=ve(e-n);return ke(o)>ue?zs((ve(t)*(l=Ae(i))*ve(n)-ve(i)*(r=Ae(t))*ve(e))/(r*l*o)):(t+i)/2}function Gs(e,t,n,i){var r;if(e==null)r=n*tt,i.point(-fe,r),i.point(0,r),i.point(fe,r),i.point(fe,0),i.point(fe,-r),i.point(0,-r),i.point(-fe,-r),i.point(-fe,0),i.point(-fe,r);else if(ke(e[0]-t[0])>ue){var l=e[0]<t[0]?fe:-fe;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function js(e){var t=Ae(e),n=6*He,i=t>0,r=ke(t)>ue;function l(u,h,c,d){Ps(d,e,n,c,u,h)}function o(u,h){return Ae(u)*Ae(h)>t}function a(u){var h,c,d,_,w;return{lineStart:function(){_=d=!1,w=1},point:function(p,b){var k=[p,b],M,E=o(p,b),m=i?E?0:f(p,b):E?f(p+(p<0?fe:-fe),b):0;if(!h&&(_=d=E)&&u.lineStart(),E!==d&&(M=s(h,k),(!M||ur(h,M)||ur(k,M))&&(k[2]=1)),E!==d)w=0,E?(u.lineStart(),M=s(k,h),u.point(M[0],M[1])):(M=s(h,k),u.point(M[0],M[1],2),u.lineEnd()),h=M;else if(r&&h&&i^E){var S;!(m&c)&&(S=s(k,h,!0))&&(w=0,i?(u.lineStart(),u.point(S[0][0],S[0][1]),u.point(S[1][0],S[1][1]),u.lineEnd()):(u.point(S[1][0],S[1][1]),u.lineEnd(),u.lineStart(),u.point(S[0][0],S[0][1],3)))}E&&(!h||!ur(h,k))&&u.point(k[0],k[1]),h=k,d=E,c=m},lineEnd:function(){d&&u.lineEnd(),h=null},clean:function(){return w|(_&&d)<<1}}}function s(u,h,c){var d=Rn(u),_=Rn(h),w=[1,0,0],p=wr(d,_),b=nr(p,p),k=p[0],M=b-k*k;if(!M)return!c&&u;var E=t*b/M,m=-t*k/M,S=wr(w,p),N=ir(w,E),G=ir(p,m);Kr(N,G);var j=S,B=nr(N,j),C=nr(j,j),x=B*B-C*(nr(N,N)-1);if(!(x<0)){var P=Tt(x),T=ir(j,(-B-P)/C);if(Kr(T,N),T=rl(T),!c)return T;var z=u[0],A=h[0],Y=u[1],K=h[1],te;A<z&&(te=z,z=A,A=te);var ae=A-z,re=ke(ae-fe)<ue,be=re||ae<ue;if(!re&&K<Y&&(te=Y,Y=K,K=te),be?re?Y+K>0^T[1]<(ke(T[0]-z)<ue?Y:K):Y<=T[1]&&T[1]<=K:ae>fe^(z<=T[0]&&T[0]<=A)){var I=ir(j,(-B+P)/C);return Kr(I,N),[T,rl(I)]}}}function f(u,h){var c=i?e:fe-e,d=0;return u<-c?d|=1:u>c&&(d|=2),h<-c?d|=4:h>c&&(d|=8),d}return Xa(o,a,l,i?[0,-e]:[-fe,e-fe])}function Bs(e,t,n,i,r,l){var o=e[0],a=e[1],s=t[0],f=t[1],u=0,h=1,c=s-o,d=f-a,_;if(_=n-o,!(!c&&_>0)){if(_/=c,c<0){if(_<u)return;_<h&&(h=_)}else if(c>0){if(_>h)return;_>u&&(u=_)}if(_=r-o,!(!c&&_<0)){if(_/=c,c<0){if(_>h)return;_>u&&(u=_)}else if(c>0){if(_<u)return;_<h&&(h=_)}if(_=i-a,!(!d&&_>0)){if(_/=d,d<0){if(_<u)return;_<h&&(h=_)}else if(d>0){if(_>h)return;_>u&&(u=_)}if(_=l-a,!(!d&&_<0)){if(_/=d,d<0){if(_>h)return;_>u&&(u=_)}else if(d>0){if(_<u)return;_<h&&(h=_)}return u>0&&(e[0]=o+u*c,e[1]=a+u*d),h<1&&(t[0]=o+h*c,t[1]=a+h*d),!0}}}}}var ii=1e9,lr=-ii;function Os(e,t,n,i){function r(f,u){return e<=f&&f<=n&&t<=u&&u<=i}function l(f,u,h,c){var d=0,_=0;if(f==null||(d=o(f,h))!==(_=o(u,h))||s(f,u)<0^h>0)do c.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+h+4)%4)!==_);else c.point(u[0],u[1])}function o(f,u){return ke(f[0]-e)<ue?u>0?0:3:ke(f[0]-n)<ue?u>0?2:1:ke(f[1]-t)<ue?u>0?1:0:u>0?3:2}function a(f,u){return s(f.x,u.x)}function s(f,u){var h=o(f,1),c=o(u,1);return h!==c?h-c:h===0?u[1]-f[1]:h===1?f[0]-u[0]:h===2?f[1]-u[1]:u[0]-f[0]}return function(f){var u=f,h=Ya(),c,d,_,w,p,b,k,M,E,m,S,N={point:G,lineStart:x,lineEnd:P,polygonStart:B,polygonEnd:C};function G(z,A){r(z,A)&&u.point(z,A)}function j(){for(var z=0,A=0,Y=d.length;A<Y;++A)for(var K=d[A],te=1,ae=K.length,re=K[0],be,I,ne=re[0],Re=re[1];te<ae;++te)be=ne,I=Re,re=K[te],ne=re[0],Re=re[1],I<=i?Re>i&&(ne-be)*(i-I)>(Re-I)*(e-be)&&++z:Re<=i&&(ne-be)*(i-I)<(Re-I)*(e-be)&&--z;return z}function B(){u=h,c=[],d=[],S=!0}function C(){var z=j(),A=S&&z,Y=(c=Da(c)).length;(A||Y)&&(f.polygonStart(),A&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),Y&&Ka(c,a,z,l,f),f.polygonEnd()),u=f,c=d=_=null}function x(){N.point=T,d&&d.push(_=[]),m=!0,E=!1,k=M=NaN}function P(){c&&(T(w,p),b&&E&&h.rejoin(),c.push(h.result())),N.point=G,E&&u.lineEnd()}function T(z,A){var Y=r(z,A);if(d&&_.push([z,A]),m)w=z,p=A,b=Y,m=!1,Y&&(u.lineStart(),u.point(z,A));else if(Y&&E)u.point(z,A);else{var K=[k=Math.max(lr,Math.min(ii,k)),M=Math.max(lr,Math.min(ii,M))],te=[z=Math.max(lr,Math.min(ii,z)),A=Math.max(lr,Math.min(ii,A))];Bs(K,te,e,t,n,i)?(E||(u.lineStart(),u.point(K[0],K[1])),u.point(te[0],te[1]),Y||u.lineEnd(),S=!1):Y&&(u.lineStart(),u.point(z,A),S=!1)}k=z,M=A,E=Y}return N}}const fl=e=>e;var Qr=new Zt,ul=new Zt,Qa,Za,sl,cl,xt={point:nt,lineStart:nt,lineEnd:nt,polygonStart:function(){xt.lineStart=xs,xt.lineEnd=Fs},polygonEnd:function(){xt.lineStart=xt.lineEnd=xt.point=nt,Qr.add(ke(ul)),ul=new Zt},result:function(){var e=Qr/2;return Qr=new Zt,e}};function xs(){xt.point=Hs}function Hs(e,t){xt.point=Ja,Qa=sl=e,Za=cl=t}function Ja(e,t){ul.add(cl*e-sl*t),sl=e,cl=t}function Fs(){Ja(Qa,Za)}const Eo=xt;var zn=1/0,vr=zn,hi=-zn,kr=hi,Ws={point:Us,lineStart:nt,lineEnd:nt,polygonStart:nt,polygonEnd:nt,result:function(){var e=[[zn,vr],[hi,kr]];return hi=kr=-(vr=zn=1/0),e}};function Us(e,t){e<zn&&(zn=e),e>hi&&(hi=e),t<vr&&(vr=t),t>kr&&(kr=t)}const Sr=Ws;var hl=0,dl=0,ri=0,Er=0,Mr=0,kn=0,_l=0,gl=0,li=0,$a,ef,_t,gt,ct={point:$t,lineStart:Mo,lineEnd:No,polygonStart:function(){ct.lineStart=Ks,ct.lineEnd=Xs},polygonEnd:function(){ct.point=$t,ct.lineStart=Mo,ct.lineEnd=No},result:function(){var e=li?[_l/li,gl/li]:kn?[Er/kn,Mr/kn]:ri?[hl/ri,dl/ri]:[NaN,NaN];return hl=dl=ri=Er=Mr=kn=_l=gl=li=0,e}};function $t(e,t){hl+=e,dl+=t,++ri}function Mo(){ct.point=Vs}function Vs(e,t){ct.point=Ys,$t(_t=e,gt=t)}function Ys(e,t){var n=e-_t,i=t-gt,r=Tt(n*n+i*i);Er+=r*(_t+e)/2,Mr+=r*(gt+t)/2,kn+=r,$t(_t=e,gt=t)}function No(){ct.point=$t}function Ks(){ct.point=Qs}function Xs(){tf($a,ef)}function Qs(e,t){ct.point=tf,$t($a=_t=e,ef=gt=t)}function tf(e,t){var n=e-_t,i=t-gt,r=Tt(n*n+i*i);Er+=r*(_t+e)/2,Mr+=r*(gt+t)/2,kn+=r,r=gt*e-_t*t,_l+=r*(_t+e),gl+=r*(gt+t),li+=r*3,$t(_t=e,gt=t)}const Ro=ct;function nf(e){this._context=e}nf.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,it);break}}},result:nt};var ml=new Zt,Zr,rf,lf,oi,ai,Nr={point:nt,lineStart:function(){Nr.point=Zs},lineEnd:function(){Zr&&of(rf,lf),Nr.point=nt},polygonStart:function(){Zr=!0},polygonEnd:function(){Zr=null},result:function(){var e=+ml;return ml=new Zt,e}};function Zs(e,t){Nr.point=of,rf=oi=e,lf=ai=t}function of(e,t){oi-=e,ai-=t,ml.add(Tt(oi*oi+ai*ai)),oi=e,ai=t}const zo=Nr;let Ao,Rr,Do,Po;class To{constructor(t){this._append=t==null?af:Js(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Do||this._append!==Rr){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Do=i,Rr=this._append,Po=this._,this._=r}this._+=Po;break}}}result(){const t=this._;return this._="",t.length?t:null}}function af(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Js(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return af;if(t!==Ao){const n=10**t;Ao=t,Rr=function(r){let l=1;this._+=r[0];for(const o=r.length;l<o;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return Rr}function Co(e,t){let n=3,i=4.5,r,l;function o(a){return a&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),wn(a,r(l))),l.result()}return o.area=function(a){return wn(a,r(Eo)),Eo.result()},o.measure=function(a){return wn(a,r(zo)),zo.result()},o.bounds=function(a){return wn(a,r(Sr)),Sr.result()},o.centroid=function(a){return wn(a,r(Ro)),Ro.result()},o.projection=function(a){return arguments.length?(r=a==null?(e=null,fl):(e=a).stream,o):e},o.context=function(a){return arguments.length?(l=a==null?(t=null,new To(n)):new nf(t=a),typeof i!="function"&&l.pointRadius(i),o):t},o.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(l.pointRadius(+a),+a),o):i},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);n=s}return t===null&&(l=new To(n)),o},o.projection(e).digits(n).context(t)}function Al(e){return function(t){var n=new yl;for(var i in e)n[i]=e[i];return n.stream=t,n}}function yl(){}yl.prototype={constructor:yl,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Dl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),wn(n,e.stream(Sr)),t(Sr.result()),i!=null&&e.clipExtent(i),e}function Pl(e,t,n){return Dl(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],o=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),a=+t[0][0]+(r-o*(i[1][0]+i[0][0]))/2,s=+t[0][1]+(l-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([a,s])},n)}function ff(e,t,n){return Pl(e,[[0,0],t],n)}function uf(e,t,n){return Dl(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),o=(r-l*(i[1][0]+i[0][0]))/2,a=-l*i[0][1];e.scale(150*l).translate([o,a])},n)}function sf(e,t,n){return Dl(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),o=-l*i[0][0],a=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([o,a])},n)}var Io=16,$s=Ae(30*He);function Lo(e,t){return+t?tc(e,t):ec(e)}function ec(e){return Al({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function tc(e,t){function n(i,r,l,o,a,s,f,u,h,c,d,_,w,p){var b=f-i,k=u-r,M=b*b+k*k;if(M>4*t&&w--){var E=o+c,m=a+d,S=s+_,N=Tt(E*E+m*m+S*S),G=Jt(S/=N),j=ke(ke(S)-1)<ue||ke(l-h)<ue?(l+h)/2:Nn(m,E),B=e(j,G),C=B[0],x=B[1],P=C-i,T=x-r,z=k*P-b*T;(z*z/M>t||ke((b*P+k*T)/M-.5)>.3||o*c+a*d+s*_<$s)&&(n(i,r,l,o,a,s,C,x,j,E/=N,m/=N,S,w,p),p.point(C,x),n(C,x,j,E,m,S,f,u,h,c,d,_,w,p))}}return function(i){var r,l,o,a,s,f,u,h,c,d,_,w,p={point:b,lineStart:k,lineEnd:E,polygonStart:function(){i.polygonStart(),p.lineStart=m},polygonEnd:function(){i.polygonEnd(),p.lineStart=k}};function b(G,j){G=e(G,j),i.point(G[0],G[1])}function k(){h=NaN,p.point=M,i.lineStart()}function M(G,j){var B=Rn([G,j]),C=e(G,j);n(h,c,u,d,_,w,h=C[0],c=C[1],u=G,d=B[0],_=B[1],w=B[2],Io,i),i.point(h,c)}function E(){p.point=b,i.lineEnd()}function m(){k(),p.point=S,p.lineEnd=N}function S(G,j){M(r=G,j),l=h,o=c,a=d,s=_,f=w,p.point=M}function N(){n(h,c,u,d,_,w,l,o,r,a,s,f,Io,i),p.lineEnd=E,E()}return p}}var nc=Al({point:function(e,t){this.stream.point(e*He,t*He)}});function ic(e){return Al({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function rc(e,t,n,i,r){function l(o,a){return o*=i,a*=r,[t+e*o,n-e*a]}return l.invert=function(o,a){return[(o-t)/e*i,(n-a)/e*r]},l}function qo(e,t,n,i,r,l){if(!l)return rc(e,t,n,i,r);var o=Ae(l),a=ve(l),s=o*e,f=a*e,u=o/e,h=a/e,c=(a*n-o*t)/e,d=(a*t+o*n)/e;function _(w,p){return w*=i,p*=r,[s*w-f*p+t,n-f*w-s*p]}return _.invert=function(w,p){return[i*(u*w-h*p+c),r*(d-h*w-u*p)]},_}function lc(e){var t,n=150,i=480,r=250,l=0,o=0,a=0,s=0,f=0,u,h=0,c=1,d=1,_=null,w=So,p=null,b,k,M,E=fl,m=.5,S,N,G,j,B;function C(z){return G(z[0]*He,z[1]*He)}function x(z){return z=G.invert(z[0],z[1]),z&&[z[0]*ut,z[1]*ut]}C.stream=function(z){return j&&B===z?j:j=nc(ic(u)(w(S(E(B=z)))))},C.preclip=function(z){return arguments.length?(w=z,_=void 0,T()):w},C.postclip=function(z){return arguments.length?(E=z,p=b=k=M=null,T()):E},C.clipAngle=function(z){return arguments.length?(w=+z?js(_=z*He):(_=null,So),T()):_*ut},C.clipExtent=function(z){return arguments.length?(E=z==null?(p=b=k=M=null,fl):Os(p=+z[0][0],b=+z[0][1],k=+z[1][0],M=+z[1][1]),T()):p==null?null:[[p,b],[k,M]]},C.scale=function(z){return arguments.length?(n=+z,P()):n},C.translate=function(z){return arguments.length?(i=+z[0],r=+z[1],P()):[i,r]},C.center=function(z){return arguments.length?(l=z[0]%360*He,o=z[1]%360*He,P()):[l*ut,o*ut]},C.rotate=function(z){return arguments.length?(a=z[0]%360*He,s=z[1]%360*He,f=z.length>2?z[2]%360*He:0,P()):[a*ut,s*ut,f*ut]},C.angle=function(z){return arguments.length?(h=z%360*He,P()):h*ut},C.reflectX=function(z){return arguments.length?(c=z?-1:1,P()):c<0},C.reflectY=function(z){return arguments.length?(d=z?-1:1,P()):d<0},C.precision=function(z){return arguments.length?(S=Lo(N,m=z*z),T()):Tt(m)},C.fitExtent=function(z,A){return Pl(C,z,A)},C.fitSize=function(z,A){return ff(C,z,A)},C.fitWidth=function(z,A){return uf(C,z,A)},C.fitHeight=function(z,A){return sf(C,z,A)};function P(){var z=qo(n,0,0,c,d,h).apply(null,t(l,o)),A=qo(n,i-z[0],r-z[1],c,d,h);return u=Ds(a,s,f),N=ol(t,A),G=ol(u,N),S=Lo(N,m),T()}function T(){return j=B=null,C}return function(){return t=e.apply(this,arguments),C.invert=t.invert&&x,P()}}function oc(e){var t=0,n=fe/3,i=lc(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*He,n=l[1]*He):[t*ut,n*ut]},r}function ac(e){var t=Ae(e);function n(i,r){return[i*t,ve(r)/t]}return n.invert=function(i,r){return[i/t,Jt(r*t)]},n}function fc(e,t){var n=ve(e),i=(n+ve(t))/2;if(ke(i)<ue)return ac(e);var r=1+n*(2*i-n),l=Tt(r)/i;function o(a,s){var f=Tt(r-2*i*ve(s))/i;return[f*ve(a*=i),l-f*Ae(a)]}return o.invert=function(a,s){var f=l-s,u=Nn(a,ke(f))*fr(f);return f*i<0&&(u-=fe*fr(a)*fr(f)),[u/i,Jt((r-(a*a+f*f)*i*i)/(2*i))]},o}function pl(){return oc(fc).scale(155.424).center([0,33.6442])}function uc(){return pl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function sc(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function cc(){var e,t,n=uc(),i,r=pl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,o=pl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,s,f={point:function(c,d){s=[c,d]}};function u(c){var d=c[0],_=c[1];return s=null,i.point(d,_),s||(l.point(d,_),s)||(a.point(d,_),s)}u.invert=function(c){var d=n.scale(),_=n.translate(),w=(c[0]-_[0])/d,p=(c[1]-_[1])/d;return(p>=.12&&p<.234&&w>=-.425&&w<-.214?r:p>=.166&&p<.234&&w>=-.214&&w<-.115?o:n).invert(c)},u.stream=function(c){return e&&t===c?e:e=sc([n.stream(t=c),r.stream(c),o.stream(c)])},u.precision=function(c){return arguments.length?(n.precision(c),r.precision(c),o.precision(c),h()):n.precision()},u.scale=function(c){return arguments.length?(n.scale(c),r.scale(c*.35),o.scale(c),u.translate(n.translate())):n.scale()},u.translate=function(c){if(!arguments.length)return n.translate();var d=n.scale(),_=+c[0],w=+c[1];return i=n.translate(c).clipExtent([[_-.455*d,w-.238*d],[_+.455*d,w+.238*d]]).stream(f),l=r.translate([_-.307*d,w+.201*d]).clipExtent([[_-.425*d+ue,w+.12*d+ue],[_-.214*d-ue,w+.234*d-ue]]).stream(f),a=o.translate([_-.205*d,w+.212*d]).clipExtent([[_-.214*d+ue,w+.166*d+ue],[_-.115*d-ue,w+.234*d-ue]]).stream(f),h()},u.fitExtent=function(c,d){return Pl(u,c,d)},u.fitSize=function(c,d){return ff(u,c,d)},u.fitWidth=function(c,d){return uf(u,c,d)},u.fitHeight=function(c,d){return sf(u,c,d)};function h(){return e=t=null,u}return u.scale(1070)}function hc(e,t,n){let i,r,l,o,a,s,f,u;const{data:h,width:c,height:d,zGet:_}=We("LayerCake");D(e,h,m=>n(17,u=m)),D(e,c,m=>n(16,f=m)),D(e,d,m=>n(15,s=m)),D(e,_,m=>n(14,a=m));const{ctx:w}=We("canvas");D(e,w,m=>n(13,o=m));let{projection:p}=t,{stroke:b="#ccc"}=t,{strokeWidth:k=1}=t,{fill:M=void 0}=t,{features:E=void 0}=t;return e.$$set=m=>{"projection"in m&&n(5,p=m.projection),"stroke"in m&&n(6,b=m.stroke),"strokeWidth"in m&&n(7,k=m.strokeWidth),"fill"in m&&n(8,M=m.fill),"features"in m&&n(9,E=m.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=p().fitSize([f,s],u)),e.$$.dirty&4096&&n(10,r=Co(i)),e.$$.dirty&131584&&n(11,l=E||u.features),e.$$.dirty&126400&&o&&Co&&(Va(o,f,s),o.clearRect(0,0,f,s),l.forEach(m=>{o.beginPath(),r.context(o),r(m),J(w,o.fillStyle=M||a(m.properties),o),o.fill(),J(w,o.lineWidth=k,o),J(w,o.strokeStyle=b,o),o.stroke()}))},[h,c,d,_,w,p,b,k,M,E,r,l,i,o,a,s,f,u]}class dc extends Ee{constructor(t){super(),Me(this,t,hc,null,Se,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function Go(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function jo(e){let t=[],n=new Map,i,r=je(e[4]);const l=o=>`${o[29].ori}-${o[29].name}`;for(let o=0;o<r.length;o+=1){let a=Go(e,r,o),s=l(a);n.set(s,t[o]=Oo(s,a))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=ce()},l(o){for(let a=0;a<t.length;a+=1)t[a].l(o);i=ce()},m(o,a){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(o,a);q(o,i,a)},p(o,a){a[0]&98815&&(r=je(o[4]),t=vl(t,a,l,1,o,r,n,i.parentNode,wl,Oo,i,Go))},d(o){o&&v(i);for(let a=0;a<t.length;a+=1)t[a].d(o)}}}function Bo(e){let t,n,i,r,l,o,a;function s(...h){return e[22](e[29],...h)}function f(...h){return e[23](e[29],...h)}function u(...h){return e[24](e[29],...h)}return{c(){t=le("circle"),this.h()},l(h){t=oe(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),L(t).forEach(v),this.h()},h(){g(t,"cx",n=e[30][0]),g(t,"cy",i=e[30][1]),g(t,"r",r=e[7](Math.abs(e[8](e[29])))),g(t,"fill",l=e[0](e[29])),g(t,"stroke",e[1]),g(t,"stroke-width",e[2]),g(t,"opacity",e[3])},m(h,c){q(h,t,c),o||(a=[Pe(t,"mouseover",s),Pe(t,"focus",f),Pe(t,"mousemove",function(){bl(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),Pe(t,"click",u)],o=!0)},p(h,c){e=h,c[0]&48&&n!==(n=e[30][0])&&g(t,"cx",n),c[0]&48&&i!==(i=e[30][1])&&g(t,"cy",i),c[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&g(t,"r",r),c[0]&17&&l!==(l=e[0](e[29]))&&g(t,"fill",l),c[0]&2&&g(t,"stroke",e[1]),c[0]&4&&g(t,"stroke-width",e[2]),c[0]&8&&g(t,"opacity",e[3])},d(h){h&&v(t),o=!1,An(a)}}}function Oo(e,t){let n,i=!isNaN(t[6](t[29])),r,l=i&&Bo(t);return{key:e,first:null,c(){n=ce(),l&&l.c(),r=ce(),this.h()},l(o){n=ce(),l&&l.l(o),r=ce(),this.h()},h(){this.first=n},m(o,a){q(o,n,a),l&&l.m(o,a),q(o,r,a)},p(o,a){t=o,a[0]&80&&(i=!isNaN(t[6](t[29]))),i?l?l.p(t,a):(l=Bo(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(o){o&&(v(n),v(r)),l&&l.d(o)}}}function _c(e){let t,n,i,r=e[4].length&&jo(e);return{c(){t=le("g"),r&&r.c(),this.h()},l(l){t=oe(l,"g",{class:!0});var o=L(t);r&&r.l(o),o.forEach(v),this.h()},h(){g(t,"class","points")},m(l,o){q(l,t,o),r&&r.m(t,null),n||(i=[Pe(t,"mouseout",e[25]),Pe(t,"blur",e[26])],n=!0)},p(l,o){l[4].length?r?r.p(l,o):(r=jo(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:De,o:De,d(l){l&&v(t),r&&r.d(),n=!1,An(i)}}}function gc(e,t,n){let i,r,l,o,a,s,f;const{data:u,width:h,height:c,rScale:d,rGet:_,zGet:w,r:p,zScale:b}=We("LayerCake");D(e,u,A=>n(19,r=A)),D(e,h,A=>n(21,o=A)),D(e,c,A=>n(20,l=A)),D(e,d,A=>n(7,s=A)),D(e,_,A=>n(6,a=A)),D(e,p,A=>n(8,f=A));let{projection:k}=t;const M=Sf();let{fill:E="yellow"}=t,{fillFunction:m=A=>A}=t,{stroke:S="#000"}=t,{strokeWidth:N=1}=t,{opacity:G=1}=t,{features:j=void 0}=t;function B(A){return function(K){vs(this),K.layerX!==0&&K.layerY!==0&&M("mousemove",{e:K,props:A})}}const C=(A,Y)=>M("mousemove",{e:Y,props:A}),x=(A,Y)=>M("mousemove",{e:Y,props:A}),P=(A,Y)=>M("clickedPoint",{e:Y,props:A}),T=A=>M("mouseout"),z=A=>M("mouseout");return e.$$set=A=>{"projection"in A&&n(17,k=A.projection),"fill"in A&&n(18,E=A.fill),"fillFunction"in A&&n(0,m=A.fillFunction),"stroke"in A&&n(1,S=A.stroke),"strokeWidth"in A&&n(2,N=A.strokeWidth),"opacity"in A&&n(3,G=A.opacity),"features"in A&&n(4,j=A.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=k().fitSize([o,l],r))},[m,S,N,G,j,i,a,s,f,u,h,c,d,_,p,M,B,k,E,r,l,o,C,x,P,T,z]}class mc extends Ee{constructor(t){super(),Me(this,t,gc,_c,Se,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const yc=e=>({detail:e&1}),xo=e=>({detail:e[0].detail});function Ho(e){let t,n;const i=e[3].default,r=Nt(i,e,e[2],xo);return{c(){t=W("div"),r&&r.c(),this.h()},l(l){t=U(l,"DIV",{class:!0,style:!0});var o=L(t);r&&r.l(o),o.forEach(v),this.h()},h(){g(t,"class","tooltip svelte-qjsu2l"),O(t,"top",e[0].detail.e.layerY+e[1]+"px"),O(t,"left",e[0].detail.e.layerX+"px")},m(l,o){q(l,t,o),r&&r.m(t,null),n=!0},p(l,o){r&&r.p&&(!n||o&5)&&Rt(r,i,l,l[2],n?At(i,l[2],o,yc):zt(l[2]),xo),(!n||o&3)&&O(t,"top",l[0].detail.e.layerY+l[1]+"px"),(!n||o&1)&&O(t,"left",l[0].detail.e.layerX+"px")},i(l){n||(V(r,l),n=!0)},o(l){Z(r,l),n=!1},d(l){l&&v(t),r&&r.d(l)}}}function pc(e){let t,n,i=e[0].detail&&Ho(e);return{c(){i&&i.c(),t=ce()},l(r){i&&i.l(r),t=ce()},m(r,l){i&&i.m(r,l),q(r,t,l),n=!0},p(r,[l]){r[0].detail?i?(i.p(r,l),l&1&&V(i,1)):(i=Ho(r),i.c(),V(i,1),i.m(t.parentNode,t)):i&&(zr(),Z(i,1,1,()=>{i=null}),Ar())},i(r){n||(V(i),n=!0)},o(r){Z(i),n=!1},d(r){r&&v(t),i&&i.d(r)}}}function bc(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:l={}}=t,{offset:o=-35}=t;return e.$$set=a=>{"evt"in a&&n(0,l=a.evt),"offset"in a&&n(1,o=a.offset),"$$scope"in a&&n(2,r=a.$$scope)},[l,o,r,i]}class wc extends Ee{constructor(t){super(),Me(this,t,bc,pc,Se,{evt:0,offset:1})}}function vc(e){let t,n,i="The Worst:",r,l=e[1].name+"",o,a=`${e[3][1]+Fo}px`,s=`${e[3][0]}px`,f,u,h,c="The Best:",d,_=e[0].name+"",w,p=`${e[2][1]}px`,b=`${e[2][0]}px`;return{c(){t=W("p"),n=W("strong"),n.textContent=i,r=X(),o=H(l),f=X(),u=W("p"),h=W("strong"),h.textContent=c,d=X(),w=H(_),this.h()},l(k){t=U(k,"P",{class:!0});var M=L(t);n=U(M,"STRONG",{"data-svelte-h":!0}),Ht(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=Q(M),o=F(M,l),M.forEach(v),f=Q(k),u=U(k,"P",{class:!0});var E=L(u);h=U(E,"STRONG",{"data-svelte-h":!0}),Ht(h)!=="svelte-1u2nyi3"&&(h.textContent=c),d=Q(E),w=F(E,_),E.forEach(v),this.h()},h(){g(t,"class","worst svelte-1vzmzh6"),O(t,"top",a),O(t,"left",s),g(u,"class","best svelte-1vzmzh6"),O(u,"top",p),O(u,"left",b)},m(k,M){q(k,t,M),R(t,n),R(t,r),R(t,o),q(k,f,M),q(k,u,M),R(u,h),R(u,d),R(u,w)},p(k,[M]){M&2&&l!==(l=k[1].name+"")&&se(o,l),M&8&&a!==(a=`${k[3][1]+Fo}px`)&&O(t,"top",a),M&8&&s!==(s=`${k[3][0]}px`)&&O(t,"left",s),M&1&&_!==(_=k[0].name+"")&&se(w,_),M&4&&p!==(p=`${k[2][1]}px`)&&O(u,"top",p),M&4&&b!==(b=`${k[2][0]}px`)&&O(u,"left",b)},i:De,o:De,d(k){k&&(v(t),v(f),v(u))}}}const Fo=25;function kc(e,t,n){let i,r,l,o,a,s,f,u;const{data:h,width:c,height:d}=We("LayerCake");D(e,h,p=>n(10,s=p)),D(e,c,p=>n(12,u=p)),D(e,d,p=>n(11,f=p));let{features:_}=t,{projection:w}=t;return e.$$set=p=>{"features"in p&&n(7,_=p.features),"projection"in p&&n(8,w=p.projection)},e.$$.update=()=>{e.$$.dirty&7424&&n(9,i=w().fitSize([u,f],s)),e.$$.dirty&128&&n(1,r=_[0]),e.$$.dirty&128&&n(0,l=_[_.length-1]),e.$$.dirty&514&&n(3,o=i([r.longitude,r.latitude])),e.$$.dirty&513&&n(2,a=i([l.longitude,l.latitude]))},[l,r,a,o,h,c,d,_,w,i,s,f,u]}class Sc extends Ee{constructor(t){super(),Me(this,t,kc,vc,Se,{features:7,projection:8})}}function Wo(e){const t={...e[14].props};e[15]=t}function Ec(e){let t,n;return t=new dc({props:{projection:e[6],fill:"#fff"}}),{c(){de(t.$$.fragment)},l(i){_e(t.$$.fragment,i)},m(i,r){ge(t,i,r),n=!0},p:De,i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){me(t,i)}}}function Mc(e){let t,n;return t=new mc({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[11]),t.$on("mouseout",e[12]),t.$on("clickedPoint",e[13]),{c(){de(t.$$.fragment)},l(i){_e(t.$$.fragment,i)},m(i,r){ge(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),r&8&&(l.fillFunction=i[3]),t.$set(l)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){me(t,i)}}}function Nc(e){let t,n;return t=new Sc({props:{features:e[4],projection:e[6]}}),{c(){de(t.$$.fragment)},l(i){_e(t.$$.fragment,i)},m(i,r){ge(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),t.$set(l)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){me(t,i)}}}function Uo(e){let t,n;return t=new wc({props:{evt:e[1],$$slots:{default:[Rc,({detail:i})=>({14:i}),({detail:i})=>i?16384:0]},$$scope:{ctx:e}}}),{c(){de(t.$$.fragment)},l(i){_e(t.$$.fragment,i)},m(i,r){ge(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.evt=i[1]),r&81920&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){me(t,i)}}}function Rc(e){Wo(e);let t,n=e[15].name+"",i,r,l,o=e[15].bad_air_days+"",a,s;return{c(){t=W("p"),i=H(n),r=X(),l=W("p"),a=H(o),s=H(" bad air days"),this.h()},l(f){t=U(f,"P",{class:!0});var u=L(t);i=F(u,n),u.forEach(v),r=Q(f),l=U(f,"P",{class:!0});var h=L(l);a=F(h,o),s=F(h," bad air days"),h.forEach(v),this.h()},h(){g(t,"class","name svelte-1q0sbj5"),g(l,"class","days")},m(f,u){q(f,t,u),R(t,i),q(f,r,u),q(f,l,u),R(l,a),R(l,s)},p(f,u){Wo(f),u&16384&&n!==(n=f[15].name+"")&&se(i,n),u&16384&&o!==(o=f[15].bad_air_days+"")&&se(a,o)},d(f){f&&(v(t),v(r),v(l))}}}function zc(e){let t,n,i=e[2]!==!0&&Uo(e);return{c(){i&&i.c(),t=ce()},l(r){i&&i.l(r),t=ce()},m(r,l){i&&i.m(r,l),q(r,t,l),n=!0},p(r,l){r[2]!==!0?i?(i.p(r,l),l&4&&V(i,1)):(i=Uo(r),i.c(),V(i,1),i.m(t.parentNode,t)):i&&(zr(),Z(i,1,1,()=>{i=null}),Ar())},i(r){n||(V(i),n=!0)},o(r){Z(i),n=!1},d(r){r&&v(t),i&&i.d(r)}}}function Ac(e){let t,n,i,r,l,o,a,s;return t=new ws({props:{$$slots:{default:[Ec]},$$scope:{ctx:e}}}),i=new zl({props:{$$slots:{default:[Mc]},$$scope:{ctx:e}}}),l=new nl({props:{pointerEvents:!1,$$slots:{default:[Nc]},$$scope:{ctx:e}}}),a=new nl({props:{pointerEvents:!1,$$slots:{default:[zc]},$$scope:{ctx:e}}}),{c(){de(t.$$.fragment),n=X(),de(i.$$.fragment),r=X(),de(l.$$.fragment),o=X(),de(a.$$.fragment)},l(f){_e(t.$$.fragment,f),n=Q(f),_e(i.$$.fragment,f),r=Q(f),_e(l.$$.fragment,f),o=Q(f),_e(a.$$.fragment,f)},m(f,u){ge(t,f,u),q(f,n,u),ge(i,f,u),q(f,r,u),ge(l,f,u),q(f,o,u),ge(a,f,u),s=!0},p(f,u){const h={};u&65536&&(h.$$scope={dirty:u,ctx:f}),t.$set(h);const c={};u&65567&&(c.$$scope={dirty:u,ctx:f}),i.$set(c);const d={};u&65552&&(d.$$scope={dirty:u,ctx:f}),l.$set(d);const _={};u&65542&&(_.$$scope={dirty:u,ctx:f}),a.$set(_)},i(f){s||(V(t.$$.fragment,f),V(i.$$.fragment,f),V(l.$$.fragment,f),V(a.$$.fragment,f),s=!0)},o(f){Z(t.$$.fragment,f),Z(i.$$.fragment,f),Z(l.$$.fragment,f),Z(a.$$.fragment,f),s=!1},d(f){f&&(v(n),v(r),v(o)),me(t,f),me(i,f),me(l,f),me(a,f)}}}function Dc(e){let t,n,i;return n=new Rl({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:Wa().clamp(!0),rRange:[1,15],rDomain:[0,100],$$slots:{default:[Ac]},$$scope:{ctx:e}}}),{c(){t=W("div"),de(n.$$.fragment),this.h()},l(r){t=U(r,"DIV",{class:!0});var l=L(t);_e(n.$$.fragment,l),l.forEach(v),this.h()},h(){g(t,"class","container svelte-1q0sbj5")},m(r,l){q(r,t,l),ge(n,t,null),i=!0},p(r,[l]){const o={};l&65567&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){i||(V(n.$$.fragment,r),i=!0)},o(r){Z(n.$$.fragment,r),i=!1},d(r){r&&v(t),me(n)}}}function Pc(e,t,n){let i,r,l;D(e,pt,b=>n(0,l=b));let{data:o}=t,{us_states:a}=t,{cbsa_lookup:s}=t,f,u=!0;const h=Ms(a,a.objects.collection),c=cc,d=h.features.map(b=>b.properties),_=b=>n(1,f=n(2,u=b)),w=()=>n(2,u=!0),p=b=>{const{detail:k}=b,{props:M}=k;J(pt,l={value:M==null?void 0:M.code,label:M==null?void 0:M.name},l)};return e.$$set=b=>{"data"in b&&n(8,o=b.data),"us_states"in b&&n(9,a=b.us_states),"cbsa_lookup"in b&&n(10,s=b.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=o.map(b=>{var k,M;return{...b,latitude:(k=s.get(b.code))==null?void 0:k.latitude,longitude:(M=s.get(b.code))==null?void 0:M.longitude}}).filter(b=>b.latitude).filter(b=>b.longitude)),e.$$.dirty&1&&n(3,r=b=>b.code===l.value?"var(--primary)":"var(--secondary)")},[l,f,u,r,i,h,c,d,o,a,s,_,w,p]}class Tc extends Ee{constructor(t){super(),Me(this,t,Pc,Dc,Se,{data:8,us_states:9,cbsa_lookup:10})}}function Vo(e,t,n){const i=e.slice();return i[7]=t[n].name,i[8]=t[n].code,i[9]=t[n].bad_air_days,i}function Yo(e){let t,n,i=e[7]+"",r,l,o=e[9]+"",a,s,f,u;return{c(){t=W("li"),n=W("span"),r=H(i),l=H(`
				- `),a=H(o),s=H(` days
			`),this.h()},l(h){t=U(h,"LI",{class:!0});var c=L(t);n=U(c,"SPAN",{role:!0,class:!0});var d=L(n);r=F(d,i),d.forEach(v),l=F(c,`
				- `),a=F(c,o),s=F(c,` days
			`),c.forEach(v),this.h()},h(){g(n,"role","button"),g(n,"class","svelte-fe00af"),g(t,"class","svelte-fe00af")},m(h,c){q(h,t,c),R(t,n),R(n,r),R(t,l),R(t,a),R(t,s),f||(u=Pe(n,"click",function(){bl(e[6](e[7],e[8]))&&e[6](e[7],e[8]).apply(this,arguments)}),f=!0)},p(h,c){e=h,c&16&&i!==(i=e[7]+"")&&se(r,i),c&16&&o!==(o=e[9]+"")&&se(a,o)},d(h){h&&v(t),f=!1,u()}}}function Cc(e){var ne,Re,Te;let t,n,i="The 10 Smokiest Places in 2022",r,l,o,a,s,f,u=((ne=e[0][0])==null?void 0:ne.name)+"",h,c,d,_=((Re=e[0][0])==null?void 0:Re.bad_air_days)+"",w,p,b,k,M,E,m=((Te=e[5])==null?void 0:Te.label)+"",S,N,G,j=e[3]+1+"",B,C,x=e[0].length+"",P,T,z,A=e[0][e[3]].bad_air_days+"",Y,K,te,ae,re,be=je(e[4]),I=[];for(let $=0;$<be.length;$+=1)I[$]=Yo(Vo(e,be,$));return ae=new Tc({props:{data:e[0],us_states:e[1],cbsa_lookup:e[2]}}),{c(){t=W("section"),n=W("h2"),n.textContent=i,r=X(),l=W("ol");for(let $=0;$<I.length;$+=1)I[$].c();o=X(),a=W("p"),s=H("In 2022 (our most recent year of data), "),f=W("strong"),h=H(u),c=H(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=W("strong"),w=H(_),p=H(` days of haze and low
		air quality.`),b=X(),k=W("p"),M=H("For comparison, "),E=W("strong"),S=H(m),N=H(` ranked number
		`),G=W("strong"),B=H(j),C=H(`
			out of `),P=H(x),T=H(`
		locations with `),z=W("strong"),Y=H(A),K=H(`
		low air quality days in 2022.`),te=X(),de(ae.$$.fragment),this.h()},l($){t=U($,"SECTION",{});var he=L(t);n=U(he,"H2",{"data-svelte-h":!0}),Ht(n)!=="svelte-15n9idw"&&(n.textContent=i),r=Q(he),l=U(he,"OL",{class:!0});var Ne=L(l);for(let Be=0;Be<I.length;Be+=1)I[Be].l(Ne);Ne.forEach(v),o=Q(he),a=U(he,"P",{class:!0});var Ce=L(a);s=F(Ce,"In 2022 (our most recent year of data), "),f=U(Ce,"STRONG",{});var Ve=L(f);h=F(Ve,u),Ve.forEach(v),c=F(Ce,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=U(Ce,"STRONG",{});var $e=L(d);w=F($e,_),$e.forEach(v),p=F(Ce,` days of haze and low
		air quality.`),Ce.forEach(v),b=Q(he),k=U(he,"P",{class:!0});var we=L(k);M=F(we,"For comparison, "),E=U(we,"STRONG",{});var et=L(E);S=F(et,m),et.forEach(v),N=F(we,` ranked number
		`),G=U(we,"STRONG",{});var rt=L(G);B=F(rt,j),C=F(rt,`
			out of `),P=F(rt,x),rt.forEach(v),T=F(we,`
		locations with `),z=U(we,"STRONG",{});var bt=L(z);Y=F(bt,A),bt.forEach(v),K=F(we,`
		low air quality days in 2022.`),we.forEach(v),te=Q(he),_e(ae.$$.fragment,he),he.forEach(v),this.h()},h(){g(l,"class","svelte-fe00af"),g(a,"class","prose"),g(k,"class","prose")},m($,he){q($,t,he),R(t,n),R(t,r),R(t,l);for(let Ne=0;Ne<I.length;Ne+=1)I[Ne]&&I[Ne].m(l,null);R(t,o),R(t,a),R(a,s),R(a,f),R(f,h),R(a,c),R(a,d),R(d,w),R(a,p),R(t,b),R(t,k),R(k,M),R(k,E),R(E,S),R(k,N),R(k,G),R(G,B),R(G,C),R(G,P),R(k,T),R(k,z),R(z,Y),R(k,K),R(t,te),ge(ae,t,null),re=!0},p($,[he]){var Ce,Ve,$e;if(he&80){be=je($[4]);let we;for(we=0;we<be.length;we+=1){const et=Vo($,be,we);I[we]?I[we].p(et,he):(I[we]=Yo(et),I[we].c(),I[we].m(l,null))}for(;we<I.length;we+=1)I[we].d(1);I.length=be.length}(!re||he&1)&&u!==(u=((Ce=$[0][0])==null?void 0:Ce.name)+"")&&se(h,u),(!re||he&1)&&_!==(_=((Ve=$[0][0])==null?void 0:Ve.bad_air_days)+"")&&se(w,_),(!re||he&32)&&m!==(m=(($e=$[5])==null?void 0:$e.label)+"")&&se(S,m),(!re||he&8)&&j!==(j=$[3]+1+"")&&se(B,j),(!re||he&1)&&x!==(x=$[0].length+"")&&se(P,x),(!re||he&9)&&A!==(A=$[0][$[3]].bad_air_days+"")&&se(Y,A);const Ne={};he&1&&(Ne.data=$[0]),he&2&&(Ne.us_states=$[1]),he&4&&(Ne.cbsa_lookup=$[2]),ae.$set(Ne)},i($){re||(V(ae.$$.fragment,$),re=!0)},o($){Z(ae.$$.fragment,$),re=!1},d($){$&&v(t),Dn(I,$),me(ae)}}}function Ic(e,t,n){let i,r;D(e,pt,u=>n(5,r=u));let{data:l}=t,{us_states:o}=t,{cbsa_lookup:a}=t,{index_of_selected:s}=t;const f=(u,h)=>{J(pt,r={value:h,label:u},r)};return e.$$set=u=>{"data"in u&&n(0,l=u.data),"us_states"in u&&n(1,o=u.us_states),"cbsa_lookup"in u&&n(2,a=u.cbsa_lookup),"index_of_selected"in u&&n(3,s=u.index_of_selected)},e.$$.update=()=>{e.$$.dirty&1&&n(4,i=l.slice(0,10))},[l,o,a,s,i,r,f]}class Lc extends Ee{constructor(t){super(),Me(this,t,Ic,Cc,Se,{data:0,us_states:1,cbsa_lookup:2,index_of_selected:3})}}function Ko(e){let t,n;return{c(){t=le("desc"),n=H(e[7])},l(i){t=oe(i,"desc",{});var r=L(t);n=F(r,e[7]),r.forEach(v)},m(i,r){q(i,t,r),R(t,n)},p(i,r){r&128&&se(n,i[7])},d(i){i&&v(t)}}}function Xo(e){let t,n;return{c(){t=le("title"),n=H(e[6])},l(i){t=oe(i,"title",{});var r=L(t);n=F(r,e[6]),r.forEach(v)},m(i,r){q(i,t,r),R(t,n)},p(i,r){r&64&&se(n,i[6])},d(i){i&&v(t)}}}function qc(e){let t,n,i,r=e[7]&&Ko(e),l=e[6]&&Xo(e);return{c(){t=le("svg"),r&&r.c(),n=ce(),l&&l.c(),i=le("path"),this.h()},l(o){t=oe(o,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var a=L(t);r&&r.l(a),n=ce(),l&&l.l(a),i=oe(a,"path",{d:!0,fill:!0}),L(i).forEach(v),a.forEach(v),this.h()},h(){g(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),g(i,"fill",e[2]),g(t,"viewBox",e[3]),g(t,"width",e[0]),g(t,"height",e[1]),g(t,"class",e[8]),g(t,"aria-label",e[4]),g(t,"aria-hidden",e[5])},m(o,a){q(o,t,a),r&&r.m(t,null),R(t,n),l&&l.m(t,null),R(t,i)},p(o,[a]){o[7]?r?r.p(o,a):(r=Ko(o),r.c(),r.m(t,n)):r&&(r.d(1),r=null),o[6]?l?l.p(o,a):(l=Xo(o),l.c(),l.m(t,i)):l&&(l.d(1),l=null),a&4&&g(i,"fill",o[2]),a&8&&g(t,"viewBox",o[3]),a&1&&g(t,"width",o[0]),a&2&&g(t,"height",o[1]),a&256&&g(t,"class",o[8]),a&16&&g(t,"aria-label",o[4]),a&32&&g(t,"aria-hidden",o[5])},i:De,o:De,d(o){o&&v(t),r&&r.d(),l&&l.d()}}}function Gc(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:l=i}=t,{color:o="currentColor"}=t,{viewBox:a="0 0 24 24"}=t,{ariaLabel:s=void 0}=t,{ariaHidden:f=void 0}=t,{title:u=void 0}=t,{desc:h=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,l=d.height),"color"in d&&n(2,o=d.color),"viewBox"in d&&n(3,a=d.viewBox),"ariaLabel"in d&&n(4,s=d.ariaLabel),"ariaHidden"in d&&n(5,f=d.ariaHidden),"title"in d&&n(6,u=d.title),"desc"in d&&n(7,h=d.desc),"class"in d&&n(8,c=d.class)},[r,l,o,a,s,f,u,h,c,i]}class jc extends Ee{constructor(t){super(),Me(this,t,Gc,qc,Se,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Qo(e,t,n){const i=e.slice();return i[36]=t[n].label,i[37]=t[n].value,i[38]=t,i[39]=n,i}function Zo(e,t,n){const i=e.slice();return i[36]=t[n].label,i[37]=t[n].value,i}function Jo(e){let t,n=e[36]+"",i,r;return{c(){t=W("option"),i=H(n),this.h()},l(l){t=U(l,"OPTION",{});var o=L(t);i=F(o,n),o.forEach(v),this.h()},h(){t.__value=r=e[37],sr(t,t.__value)},m(l,o){q(l,t,o),R(t,i)},p(l,o){o[0]&2&&n!==(n=l[36]+"")&&se(i,n),o[0]&2&&r!==(r=l[37])&&(t.__value=r,sr(t,t.__value))},d(l){l&&v(t)}}}function Bc(e){let t,n="Sorry, no options match";return{c(){t=W("li"),t.textContent=n,this.h()},l(i){t=U(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),Ht(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){g(t,"class","disabled svelte-13q4pje"),g(t,"tabindex","-1")},m(i,r){q(i,t,r)},p:De,d(i){i&&v(t)}}}function Oc(e){let t,n=je(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=$o(Qo(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ce()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=ce()},m(r,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,l);q(r,t,l)},p(r,l){if(l[0]&798784){n=je(r[6]);let o;for(o=0;o<n.length;o+=1){const a=Qo(r,n,o);i[o]?i[o].p(a,l):(i[o]=$o(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(r){r&&v(t),Dn(i,r)}}}function $o(e){let t,n=e[36]+"",i,r,l,o,a=e[39],s,f;const u=()=>e[29](t,a),h=()=>e[29](null,a);function c(){return e[30](e[37],e[36])}function d(..._){return e[31](e[37],e[36],..._)}return{c(){t=W("li"),i=H(n),r=X(),this.h()},l(_){t=U(_,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var w=L(t);i=F(w,n),r=Q(w),w.forEach(v),this.h()},h(){g(t,"role","option"),g(t,"tabindex","-1"),g(t,"aria-selected",l=e[39]===e[13]),g(t,"data-option-value",o=e[37]),g(t,"id",`autocomplete_${e[39]}`),g(t,"class","svelte-13q4pje")},m(_,w){q(_,t,w),R(t,i),R(t,r),u(),s||(f=[Pe(t,"click",c),Pe(t,"keydown",d)],s=!0)},p(_,w){e=_,w[0]&64&&n!==(n=e[36]+"")&&se(i,n),w[0]&8192&&l!==(l=e[39]===e[13])&&g(t,"aria-selected",l),w[0]&64&&o!==(o=e[37])&&g(t,"data-option-value",o),a!==e[39]&&(h(),a=e[39],u())},d(_){_&&v(t),h(),s=!1,An(f)}}}function ea(e){let t,n,i,r,l;return n=new jc({props:{width:"16px",height:"16px"}}),{c(){t=W("button"),de(n.$$.fragment),this.h()},l(o){t=U(o,"BUTTON",{"aria-label":!0,class:!0});var a=L(t);_e(n.$$.fragment,a),a.forEach(v),this.h()},h(){g(t,"aria-label","clear autocomplete search"),g(t,"class","svelte-13q4pje")},m(o,a){q(o,t,a),ge(n,t,null),i=!0,r||(l=Pe(t,"click",e[22]),r=!0)},p:De,i(o){i||(V(n.$$.fragment,o),i=!0)},o(o){Z(n.$$.fragment,o),i=!1},d(o){o&&v(t),me(n),r=!1,l()}}}function xc(e){let t,n,i,r,l,o,a,s,f,u,h,c,d,_,w,p,b,k,M,E,m,S,N,G,j=je(e[1]),B=[];for(let z=0;z<j.length;z+=1)B[z]=Jo(Zo(e,j,z));function C(z,A){return z[6].length?Oc:Bc}let x=C(e),P=x(e),T=e[4]===!0&&e[8]&&e[8].length&&ea(e);return{c(){t=W("div"),n=W("label"),i=W("span"),r=H(e[2]),o=X(),a=W("select");for(let z=0;z<B.length;z+=1)B[z].c();s=X(),f=W("div"),u=W("input"),d=X(),_=W("ul"),P.c(),p=X(),b=W("div"),k=H(e[7]),M=H(" results available"),E=X(),T&&T.c(),this.h()},l(z){t=U(z,"DIV",{class:!0,style:!0,id:!0});var A=L(t);n=U(A,"LABEL",{for:!0,class:!0});var Y=L(n);i=U(Y,"SPAN",{class:!0});var K=L(i);r=F(K,e[2]),K.forEach(v),Y.forEach(v),o=Q(A),a=U(A,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var te=L(a);for(let I=0;I<B.length;I+=1)B[I].l(te);te.forEach(v),s=Q(A),f=U(A,"DIV",{class:!0});var ae=L(f);u=U(ae,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=Q(ae),_=U(ae,"UL",{id:!0,role:!0,class:!0});var re=L(_);P.l(re),re.forEach(v),p=Q(ae),b=U(ae,"DIV",{"aria-live":!0,role:!0,class:!0});var be=L(b);k=F(be,e[7]),M=F(be," results available"),be.forEach(v),E=Q(ae),T&&T.l(ae),ae.forEach(v),A.forEach(v),this.h()},h(){g(i,"class","field-label"),g(n,"for",l=`${e[14]}-${e[2]}`),g(n,"class","svelte-13q4pje"),vn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),g(a,"name",e[2]),g(a,"aria-hidden","true"),g(a,"tabindex","-1"),g(a,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&Sa(()=>e[26].call(a)),g(u,"aria-controls",h=`autocomplete-options--${e[14]}-${e[2]}`),g(u,"autocapitalize","none"),g(u,"type","text"),g(u,"autocomplete","off"),g(u,"aria-autocomplete","list"),g(u,"role","combobox"),g(u,"id",c=`${e[14]}-${e[2]}`),g(u,"aria-expanded","false"),g(u,"name",`autocomplete-${e[14]}`),g(u,"class","svelte-13q4pje"),g(_,"id",w=`autocomplete-options--${e[14]}-${e[2]}`),g(_,"role","listbox"),g(_,"class","svelte-13q4pje"),vn(_,"hidden",!e[9]),g(b,"aria-live","polite"),g(b,"role","status"),g(b,"class","visually-hidden svelte-13q4pje"),g(f,"class","autocomplete svelte-13q4pje"),g(t,"class","field svelte-13q4pje"),O(t,"font-size",e[3]+"px"),g(t,"id",m=`field-${e[14]}-${e[2]}`),O(t,"flex",e[5]?"1 1 auto":"auto")},m(z,A){q(z,t,A),R(t,n),R(n,i),R(i,r),R(t,o),R(t,a);for(let Y=0;Y<B.length;Y+=1)B[Y]&&B[Y].m(a,null);Cl(a,e[0],!0),R(t,s),R(t,f),R(f,u),sr(u,e[8]),e[28](u),R(f,d),R(f,_),P.m(_,null),R(f,p),R(f,b),R(b,k),R(b,M),R(f,E),T&&T.m(f,null),S=!0,N||(G=[Pe(window,"click",e[21]),Pe(a,"change",e[26]),Pe(u,"keyup",e[15]),Pe(u,"keydown",e[16]),Pe(u,"focus",e[17]),Pe(u,"blur",function(){bl(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),Pe(u,"input",e[27]),Pe(u,"click",e[20])],N=!0)},p(z,A){if(e=z,(!S||A[0]&4)&&se(r,e[2]),(!S||A[0]&4&&l!==(l=`${e[14]}-${e[2]}`))&&g(n,"for",l),(!S||A[0]&1537)&&vn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),A[0]&2){j=je(e[1]);let K;for(K=0;K<j.length;K+=1){const te=Zo(e,j,K);B[K]?B[K].p(te,A):(B[K]=Jo(te),B[K].c(),B[K].m(a,null))}for(;K<B.length;K+=1)B[K].d(1);B.length=j.length}(!S||A[0]&4)&&g(a,"name",e[2]),A[0]&3&&Cl(a,e[0]),(!S||A[0]&4&&h!==(h=`autocomplete-options--${e[14]}-${e[2]}`))&&g(u,"aria-controls",h),(!S||A[0]&4&&c!==(c=`${e[14]}-${e[2]}`))&&g(u,"id",c),A[0]&256&&u.value!==e[8]&&sr(u,e[8]),x===(x=C(e))&&P?P.p(e,A):(P.d(1),P=x(e),P&&(P.c(),P.m(_,null))),(!S||A[0]&4&&w!==(w=`autocomplete-options--${e[14]}-${e[2]}`))&&g(_,"id",w),(!S||A[0]&512)&&vn(_,"hidden",!e[9]),(!S||A[0]&128)&&se(k,e[7]),e[4]===!0&&e[8]&&e[8].length?T?(T.p(e,A),A[0]&272&&V(T,1)):(T=ea(e),T.c(),V(T,1),T.m(f,null)):T&&(zr(),Z(T,1,1,()=>{T=null}),Ar()),(!S||A[0]&8)&&O(t,"font-size",e[3]+"px"),(!S||A[0]&4&&m!==(m=`field-${e[14]}-${e[2]}`))&&g(t,"id",m),(A[0]&8||A[0]&40)&&O(t,"flex",e[5]?"1 1 auto":"auto")},i(z){S||(V(T),S=!0)},o(z){Z(T),S=!1},d(z){z&&v(t),Dn(B,z),e[28](null),P.d(),T&&T.d(),N=!1,An(G)}}}function Hc(e,t,n){let i,r;D(e,En,I=>n(33,i=I)),D(e,pt,I=>n(34,r=I));let{data:l}=t,{name:o}=t,{fontSize:a=16}=t,{selected:s=""}=t,{clearButton:f=!0}=t,{manualSelection:u={}}=t,{inline:h=!1}=t,{updateLocation:c=!1}=t,{updateAge:d=!1}=t,_=l.sort((I,ne)=>Dt(I.label,ne.label)),w=Math.floor(Math.random()*1e4),p=_.length,b=s,k=!1,M=!1,E,m=[],S,N=!0;const G=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function j(I){!G.includes(I.key)&&b&&b.length&&(n(6,_=l.filter(ne=>String(ne.label).toLowerCase().includes(String(b).toLowerCase()))),n(9,k=!0),n(7,p=_.length)),I.key==="Tab"&&n(9,k=!1),I.key==="ArrowDown"&&_&&_.length&&(n(9,k=!0),n(13,S=0),m[0].focus())}function B(I){I.key==="Tab"&&n(9,k=!1),b&&b.length===1&&I.key==="Backspace"&&(n(6,_=l),n(0,s="")),I.key==="Escape"&&n(9,k=!1)}function C(){n(10,M=!0)}function x(I,ne){n(0,s=I),n(8,b=ne),n(9,k=!1),E.focus(),c&&J(pt,r={value:I,label:ne},r),d&&J(En,i=I,i)}function P(I,ne,Re){const Te=I.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(Te)?(Te==="Enter"&&(x(ne,Re),N=!1),Te==="ArrowDown"&&_&&_.length&&(n(13,S=S<_.length-1?S+1:_.length-1),m[S].focus(),N=!0),Te==="Escape"&&(n(9,k=!1),E.focus()),Te==="ArrowUp"&&S===0?(E.focus(),n(13,S=null),N=!0):Te==="ArrowUp"&&S!=0&&(n(13,S-=1),m[S].focus(),N=!0)):N=!1,N===!0&&I.preventDefault()}function T(){n(8,b=""),n(23,u={}),n(9,k=!0),n(6,_=l),n(13,S=null)}function z(I){const ne=I.target;ne!=E&&!m.includes(ne)&&n(9,k=!1)}function A(){n(8,b=""),n(0,s=""),n(23,u={})}function Y(){s=Ef(this),n(0,s),n(23,u),n(1,l)}function K(){b=this.value,n(8,b),n(23,u),n(0,s)}function te(I){Pt[I?"unshift":"push"](()=>{E=I,n(11,E)})}function ae(I,ne){Pt[I?"unshift":"push"](()=>{m[ne]=I,n(12,m)})}const re=(I,ne)=>{x(I,ne)},be=(I,ne,Re)=>P(Re,I,ne);return e.$$set=I=>{"data"in I&&n(1,l=I.data),"name"in I&&n(2,o=I.name),"fontSize"in I&&n(3,a=I.fontSize),"selected"in I&&n(0,s=I.selected),"clearButton"in I&&n(4,f=I.clearButton),"manualSelection"in I&&n(23,u=I.manualSelection),"inline"in I&&n(5,h=I.inline),"updateLocation"in I&&n(24,c=I.updateLocation),"updateAge"in I&&n(25,d=I.updateAge)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(n(0,s=u.value),n(8,b=u.label)),e.$$.dirty[0]&1&&s===""&&n(8,b="")},[s,l,o,a,f,h,_,p,b,k,M,E,m,S,w,j,B,C,x,P,T,z,A,u,c,d,Y,K,te,ae,re,be]}class cf extends Ee{constructor(t){super(),Me(this,t,Hc,xc,Se,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5,updateLocation:24,updateAge:25},null,[-1,-1])}}function Fc(e){let t,n,i,r,l,o,a,s,f=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,u,h,c=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function _(p){e[4](p)}let w={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35",updateLocation:!0};return e[1]!==void 0&&(w.selected=e[1]),l=new cf({props:w}),Pt.push(()=>Ma(l,"selected",_)),{c(){t=W("section"),n=W("div"),i=W("h1"),r=H("Smoke in "),de(l.$$.fragment),a=X(),s=W("p"),s.textContent=f,u=X(),h=W("p"),h.textContent=c,this.h()},l(p){t=U(p,"SECTION",{});var b=L(t);n=U(b,"DIV",{class:!0});var k=L(n);i=U(k,"H1",{class:!0});var M=L(i);r=F(M,"Smoke in "),_e(l.$$.fragment,M),M.forEach(v),k.forEach(v),a=Q(b),s=U(b,"P",{class:!0,"data-svelte-h":!0}),Ht(s)!=="svelte-1ieckh9"&&(s.textContent=f),u=Q(b),h=U(b,"P",{class:!0,"data-svelte-h":!0}),Ht(h)!=="svelte-18rohxi"&&(h.textContent=c),b.forEach(v),this.h()},h(){g(i,"class","svelte-1acsj2x"),g(n,"class","inline svelte-1acsj2x"),g(s,"class","prose"),g(h,"class","prose")},m(p,b){q(p,t,b),R(t,n),R(n,i),R(i,r),ge(l,i,null),R(t,a),R(t,s),R(t,u),R(t,h),d=!0},p(p,[b]){const k={};b&1&&(k.data=p[0]),b&4&&(k.manualSelection=p[2]),!o&&b&2&&(o=!0,k.selected=p[1],Ea(()=>o=!1)),l.$set(k)},i(p){d||(V(l.$$.fragment,p),d=!0)},o(p){Z(l.$$.fragment,p),d=!1},d(p){p&&v(t),me(l)}}}function Wc(e,t,n){let i,r;D(e,pt,s=>n(2,r=s));let{data:l}=t,o;function a(s){o=s,n(1,o)}return e.$$set=s=>{"data"in s&&n(3,l=s.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(l.map(s=>JSON.stringify([s.name,s.code])))).map(s=>JSON.parse(s)).map(s=>({value:s[1],label:s[0]})).filter(s=>s.label)),e.$$.dirty&1&&new Map(i)},[i,o,r,l,a]}class Uc extends Ee{constructor(t){super(),Me(this,t,Wc,Fc,Se,{data:3})}}function ta(e,t,n){const i=e.slice();i[26]=t[n],i[33]=n;const r=i[6](i[26]);i[27]=r;const l=i[5](i[26]);i[28]=l;const o=Array.isArray(i[28])?i[28][0]:i[28];i[29]=o;const a=i[9].bandwidth?i[9].bandwidth():i[7](i[26]);i[30]=a;const s=i[10](i[26]);return i[31]=s,i}function na(e){let t,n=e[31]+"",i,r,l;return{c(){t=le("text"),i=H(n),this.h()},l(o){t=oe(o,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var a=L(t);i=F(a,n),a.forEach(v),this.h()},h(){g(t,"x",r=e[29]+e[30]/2),g(t,"y",l=e[12]-e[27]-5),g(t,"text-anchor","middle"),g(t,"class","svelte-gs7zwh")},m(o,a){q(o,t,a),R(t,i)},p(o,a){a[0]&1280&&n!==(n=o[31]+"")&&se(i,n),a[0]&928&&r!==(r=o[29]+o[30]/2)&&g(t,"x",r),a[0]&4416&&l!==(l=o[12]-o[27]-5)&&g(t,"y",l)},d(o){o&&v(t)}}}function ia(e){let t,n,i,r,l,o,a,s,f,u=e[3]&&e[31]&&na(e);return{c(){t=le("rect"),u&&u.c(),f=ce(),this.h()},l(h){t=oe(h,"rect",{class:!0,"data-id":!0,"data-range":!0,"data-count":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),L(t).forEach(v),u&&u.l(h),f=ce(),this.h()},h(){g(t,"class","group-rect"),g(t,"data-id",e[33]),g(t,"data-range",n=e[11](e[26])),g(t,"data-count",i=e[31]),g(t,"x",r=e[29]),g(t,"y",l=e[4](e[26])),g(t,"width",o=e[30]),g(t,"height",a=e[27]),g(t,"fill",s=e[0](e[26])),g(t,"stroke",e[1]),g(t,"stroke-width",e[2])},m(h,c){q(h,t,c),u&&u.m(h,c),q(h,f,c)},p(h,c){c[0]&2304&&n!==(n=h[11](h[26]))&&g(t,"data-range",n),c[0]&1280&&i!==(i=h[31])&&g(t,"data-count",i),c[0]&288&&r!==(r=h[29])&&g(t,"x",r),c[0]&272&&l!==(l=h[4](h[26]))&&g(t,"y",l),c[0]&896&&o!==(o=h[30])&&g(t,"width",o),c[0]&320&&a!==(a=h[27])&&g(t,"height",a),c[0]&257&&s!==(s=h[0](h[26]))&&g(t,"fill",s),c[0]&2&&g(t,"stroke",h[1]),c[0]&4&&g(t,"stroke-width",h[2]),h[3]&&h[31]?u?u.p(h,c):(u=na(h),u.c(),u.m(f.parentNode,f)):u&&(u.d(1),u=null)},d(h){h&&(v(t),v(f)),u&&u.d(h)}}}function Vc(e){let t,n=je(e[8]),i=[];for(let r=0;r<n.length;r+=1)i[r]=ia(ta(e,n,r));return{c(){t=le("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=oe(r,"g",{class:!0});var l=L(t);for(let o=0;o<i.length;o+=1)i[o].l(l);l.forEach(v),this.h()},h(){g(t,"class","column-group")},m(r,l){q(r,t,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null)},p(r,l){if(l[0]&8191){n=je(r[8]);let o;for(o=0;o<n.length;o+=1){const a=ta(r,n,o);i[o]?i[o].p(a,l):(i[o]=ia(a),i[o].c(),i[o].m(t,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:De,o:De,d(r){r&&v(t),Dn(i,r)}}}function Yc(e,t,n){let i,r,l,o,a,s,f,u,h,c;const{data:d,xGet:_,yGet:w,x:p,yRange:b,xScale:k,y:M,height:E,zGet:m,zScale:S,z:N}=We("LayerCake");D(e,d,P=>n(8,s=P)),D(e,_,P=>n(5,a=P)),D(e,w,P=>n(4,l=P)),D(e,p,P=>n(11,h=P)),D(e,b,P=>n(22,o=P)),D(e,k,P=>n(9,f=P)),D(e,M,P=>n(10,u=P)),D(e,E,P=>n(12,c=P));let{fill:G="#00e047"}=t,{fillFunction:j=P=>P}=t,{stroke:B="#000"}=t,{strokeWidth:C=0}=t,{showLabels:x=!1}=t;return e.$$set=P=>{"fill"in P&&n(21,G=P.fill),"fillFunction"in P&&n(0,j=P.fillFunction),"stroke"in P&&n(1,B=P.stroke),"strokeWidth"in P&&n(2,C=P.strokeWidth),"showLabels"in P&&n(3,x=P.showLabels)},e.$$.update=()=>{e.$$.dirty[0]&32&&n(7,i=P=>{const T=a(P);return Math.abs(T[1]-T[0])}),e.$$.dirty[0]&4194320&&n(6,r=P=>o[0]-l(P))},[j,B,C,x,l,a,r,i,s,f,u,h,c,d,_,w,p,b,k,M,E,G,o]}class Kc extends Ee{constructor(t){super(),Me(this,t,Yc,Vc,Se,{fill:21,fillFunction:0,stroke:1,strokeWidth:2,showLabels:3},null,[-1,-1])}}function ra(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function la(e){let t,n;return{c(){t=le("line"),this.h()},l(i){t=oe(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","gridline svelte-gquvov"),g(t,"y1",n=e[11]*-1),g(t,"y2","0"),g(t,"x1","0"),g(t,"x2","0")},m(i,r){q(i,t,r)},p(i,r){r&2048&&n!==(n=i[11]*-1)&&g(t,"y1",n)},d(i){i&&v(t)}}}function oa(e){let t,n,i;return{c(){t=le("line"),this.h()},l(r){t=oe(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","tick-mark svelte-gquvov"),g(t,"y1",0),g(t,"y2",6),g(t,"x1",n=e[7]?e[8].bandwidth()/2:0),g(t,"x2",i=e[7]?e[8].bandwidth()/2:0)},m(r,l){q(r,t,l)},p(r,l){l&384&&n!==(n=r[7]?r[8].bandwidth()/2:0)&&g(t,"x1",n),l&384&&i!==(i=r[7]?r[8].bandwidth()/2:0)&&g(t,"x2",i)},d(r){r&&v(t)}}}function aa(e,t){let n,i,r,l=t[4](t[20])+"",o,a,s,f,u,h=t[0]!==!1&&la(t),c=t[1]===!0&&oa(t);return{key:e,first:null,c(){n=le("g"),h&&h.c(),i=ce(),c&&c.c(),r=le("text"),o=H(l),this.h()},l(d){n=oe(d,"g",{class:!0,transform:!0});var _=L(n);h&&h.l(_),i=ce(),c&&c.l(_),r=oe(_,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var w=L(r);o=F(w,l),w.forEach(v),_.forEach(v),this.h()},h(){g(r,"x",a=t[7]?t[8].bandwidth()/2+t[5]:t[5]),g(r,"y",t[6]),g(r,"dx",""),g(r,"dy",""),g(r,"text-anchor",s=t[17](t[22])),g(r,"class","svelte-gquvov"),g(n,"class",f="tick tick-"+t[22]+" svelte-gquvov"),g(n,"transform",u="translate("+t[8](t[20])+","+Math.max(...t[10])+")"),this.first=n},m(d,_){q(d,n,_),h&&h.m(n,null),R(n,i),c&&c.m(n,null),R(n,r),R(r,o)},p(d,_){t=d,t[0]!==!1?h?h.p(t,_):(h=la(t),h.c(),h.m(n,i)):h&&(h.d(1),h=null),t[1]===!0?c?c.p(t,_):(c=oa(t),c.c(),c.m(n,r)):c&&(c.d(1),c=null),_&528&&l!==(l=t[4](t[20])+"")&&se(o,l),_&416&&a!==(a=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&g(r,"x",a),_&64&&g(r,"y",t[6]),_&512&&s!==(s=t[17](t[22]))&&g(r,"text-anchor",s),_&512&&f!==(f="tick tick-"+t[22]+" svelte-gquvov")&&g(n,"class",f),_&1792&&u!==(u="translate("+t[8](t[20])+","+Math.max(...t[10])+")")&&g(n,"transform",u)},d(d){d&&v(n),h&&h.d(),c&&c.d()}}}function fa(e){let t,n,i;return{c(){t=le("line"),this.h()},l(r){t=oe(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","baseline svelte-gquvov"),g(t,"y1",n=e[11]+.5),g(t,"y2",i=e[11]+.5),g(t,"x1","0"),g(t,"x2",e[12])},m(r,l){q(r,t,l)},p(r,l){l&2048&&n!==(n=r[11]+.5)&&g(t,"y1",n),l&2048&&i!==(i=r[11]+.5)&&g(t,"y2",i),l&4096&&g(t,"x2",r[12])},d(r){r&&v(t)}}}function Xc(e){let t,n=[],i=new Map,r,l=je(e[9]);const o=s=>s[20];for(let s=0;s<l.length;s+=1){let f=ra(e,l,s),u=o(f);i.set(u,n[s]=aa(u,f))}let a=e[2]===!0&&fa(e);return{c(){t=le("g");for(let s=0;s<n.length;s+=1)n[s].c();r=ce(),a&&a.c(),this.h()},l(s){t=oe(s,"g",{class:!0});var f=L(t);for(let u=0;u<n.length;u+=1)n[u].l(f);r=ce(),a&&a.l(f),f.forEach(v),this.h()},h(){g(t,"class","axis x-axis svelte-gquvov"),vn(t,"snapTicks",e[3])},m(s,f){q(s,t,f);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);R(t,r),a&&a.m(t,null)},p(s,[f]){f&135155&&(l=je(s[9]),n=vl(n,f,o,1,s,l,i,t,wl,aa,r,ra)),s[2]===!0?a?a.p(s,f):(a=fa(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f&8&&vn(t,"snapTicks",s[3])},i:De,o:De,d(s){s&&v(t);for(let f=0;f<n.length;f+=1)n[f].d();a&&a.d()}}}function Qc(e,t,n){let i,r,l,o,a,s;const{width:f,height:u,xScale:h,yRange:c,xReverse:d}=We("LayerCake");D(e,f,N=>n(12,s=N)),D(e,u,N=>n(11,a=N)),D(e,h,N=>n(8,l=N)),D(e,c,N=>n(10,o=N));let{gridlines:_=!0}=t,{tickMarks:w=!1}=t,{baseline:p=!1}=t,{snapTicks:b=!1}=t,{formatTick:k=N=>N}=t,{ticks:M=void 0}=t,{xTick:E=0}=t,{yTick:m=16}=t;function S(N){if(b===!0)if(d===!1){if(N===0)return"start";if(N===r.length-1)return"end"}else{if(N===0)return"end";if(N===r.length-1)return"start"}return"middle"}return e.$$set=N=>{"gridlines"in N&&n(0,_=N.gridlines),"tickMarks"in N&&n(1,w=N.tickMarks),"baseline"in N&&n(2,p=N.baseline),"snapTicks"in N&&n(3,b=N.snapTicks),"formatTick"in N&&n(4,k=N.formatTick),"ticks"in N&&n(18,M=N.ticks),"xTick"in N&&n(5,E=N.xTick),"yTick"in N&&n(6,m=N.yTick)},e.$$.update=()=>{e.$$.dirty&256&&n(7,i=typeof l.bandwidth=="function"),e.$$.dirty&262528&&n(9,r=Array.isArray(M)?M:i?l.domain():typeof M=="function"?M(l.ticks()):l.ticks(M))},[_,w,p,b,k,E,m,i,l,r,o,a,s,f,u,h,c,S,M]}class hf extends Ee{constructor(t){super(),Me(this,t,Qc,Xc,Se,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function ua(e,t,n){const i=e.slice();return i[20]=t[n],i}function sa(e){let t,n,i;return{c(){t=le("line"),this.h()},l(r){t=oe(r,"line",{class:!0,x2:!0,y1:!0,y2:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","gridline svelte-1d87mp0"),g(t,"x2","100%"),g(t,"y1",n=e[9]?e[10].bandwidth()/2:0),g(t,"y2",i=e[9]?e[10].bandwidth()/2:0)},m(r,l){q(r,t,l)},p(r,l){l&1536&&n!==(n=r[9]?r[10].bandwidth()/2:0)&&g(t,"y1",n),l&1536&&i!==(i=r[9]?r[10].bandwidth()/2:0)&&g(t,"y2",i)},d(r){r&&v(t)}}}function ca(e){let t,n,i,r;return{c(){t=le("line"),this.h()},l(l){t=oe(l,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","tick-mark svelte-1d87mp0"),g(t,"x1","0"),g(t,"x2",n=e[9]?-6:6),g(t,"y1",i=e[9]?e[10].bandwidth()/2:0),g(t,"y2",r=e[9]?e[10].bandwidth()/2:0)},m(l,o){q(l,t,o)},p(l,o){o&512&&n!==(n=l[9]?-6:6)&&g(t,"x2",n),o&1536&&i!==(i=l[9]?l[10].bandwidth()/2:0)&&g(t,"y1",i),o&1536&&r!==(r=l[9]?l[10].bandwidth()/2:0)&&g(t,"y2",r)},d(l){l&&v(t)}}}function ha(e,t){let n,i,r,l=t[2](t[20])+"",o,a,s,f,u,h,c=t[0]!==!1&&sa(t),d=t[1]===!0&&ca(t);return{key:e,first:null,c(){n=le("g"),c&&c.c(),i=ce(),d&&d.c(),r=le("text"),o=H(l),this.h()},l(_){n=oe(_,"g",{class:!0,transform:!0});var w=L(n);c&&c.l(w),i=ce(),d&&d.l(w),r=oe(w,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var p=L(r);o=F(p,l),p.forEach(v),w.forEach(v),this.h()},h(){g(r,"x",t[3]),g(r,"y",a=t[9]?t[10].bandwidth()/2+t[4]:t[4]),g(r,"dx",s=t[9]?-9:t[5]),g(r,"dy",f=t[9]?4:t[6]),O(r,"text-anchor",t[9]?"end":t[8]),g(r,"class","svelte-1d87mp0"),g(n,"class",u="tick tick-"+t[20]+" svelte-1d87mp0"),g(n,"transform",h="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")"),this.first=n},m(_,w){q(_,n,w),c&&c.m(n,null),R(n,i),d&&d.m(n,null),R(n,r),R(r,o)},p(_,w){t=_,t[0]!==!1?c?c.p(t,w):(c=sa(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),t[1]===!0?d?d.p(t,w):(d=ca(t),d.c(),d.m(n,r)):d&&(d.d(1),d=null),w&2052&&l!==(l=t[2](t[20])+"")&&se(o,l),w&8&&g(r,"x",t[3]),w&1552&&a!==(a=t[9]?t[10].bandwidth()/2+t[4]:t[4])&&g(r,"y",a),w&544&&s!==(s=t[9]?-9:t[5])&&g(r,"dx",s),w&576&&f!==(f=t[9]?4:t[6])&&g(r,"dy",f),w&768&&O(r,"text-anchor",t[9]?"end":t[8]),w&2048&&u!==(u="tick tick-"+t[20]+" svelte-1d87mp0")&&g(n,"class",u),w&15872&&h!==(h="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")")&&g(n,"transform",h)},d(_){_&&v(n),c&&c.d(),d&&d.d()}}}function da(e){let t,n,i;return{c(){t=le("line"),this.h()},l(r){t=oe(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","baseline svelte-1d87mp0"),g(t,"y1","0"),g(t,"y2",e[14]),g(t,"x1",n=e[12].left),g(t,"x2",i=e[12].left)},m(r,l){q(r,t,l)},p(r,l){l&16384&&g(t,"y2",r[14]),l&4096&&n!==(n=r[12].left)&&g(t,"x1",n),l&4096&&i!==(i=r[12].left)&&g(t,"x2",i)},d(r){r&&v(t)}}}function Zc(e){let t,n=[],i=new Map,r,l,o=je(e[11]);const a=f=>f[20];for(let f=0;f<o.length;f+=1){let u=ua(e,o,f),h=a(u);i.set(h,n[f]=ha(h,u))}let s=e[7]===!0&&da(e);return{c(){t=le("g");for(let f=0;f<n.length;f+=1)n[f].c();r=ce(),s&&s.c(),this.h()},l(f){t=oe(f,"g",{class:!0,transform:!0});var u=L(t);for(let h=0;h<n.length;h+=1)n[h].l(u);r=ce(),s&&s.l(u),u.forEach(v),this.h()},h(){g(t,"class","axis y-axis"),g(t,"transform",l="translate("+-e[12].left+", 0)")},m(f,u){q(f,t,u);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(t,null);R(t,r),s&&s.m(t,null)},p(f,[u]){u&16255&&(o=je(f[11]),n=vl(n,u,a,1,f,o,i,t,wl,ha,r,ua)),f[7]===!0?s?s.p(f,u):(s=da(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),u&4096&&l!==(l="translate("+-f[12].left+", 0)")&&g(t,"transform",l)},i:De,o:De,d(f){f&&v(t);for(let u=0;u<n.length;u+=1)n[u].d();s&&s.d()}}}function Jc(e,t,n){let i,r,l,o,a,s;const{padding:f,xRange:u,yScale:h,height:c}=We("LayerCake");D(e,f,N=>n(12,o=N)),D(e,u,N=>n(13,a=N)),D(e,h,N=>n(10,l=N)),D(e,c,N=>n(14,s=N));let{gridlines:d=!0}=t,{tickMarks:_=!1}=t,{formatTick:w=N=>N}=t,{ticks:p=4}=t,{xTick:b=0}=t,{yTick:k=0}=t,{dxTick:M=0}=t,{dyTick:E=-4}=t,{baseline:m=!1}=t,{textAnchor:S="start"}=t;return e.$$set=N=>{"gridlines"in N&&n(0,d=N.gridlines),"tickMarks"in N&&n(1,_=N.tickMarks),"formatTick"in N&&n(2,w=N.formatTick),"ticks"in N&&n(19,p=N.ticks),"xTick"in N&&n(3,b=N.xTick),"yTick"in N&&n(4,k=N.yTick),"dxTick"in N&&n(5,M=N.dxTick),"dyTick"in N&&n(6,E=N.dyTick),"baseline"in N&&n(7,m=N.baseline),"textAnchor"in N&&n(8,S=N.textAnchor)},e.$$.update=()=>{e.$$.dirty&1024&&n(9,i=typeof l.bandwidth=="function"),e.$$.dirty&525824&&n(11,r=Array.isArray(p)?p:i?l.domain():typeof p=="function"?p(l.ticks()):l.ticks(p))},[d,_,w,b,k,M,E,m,S,i,l,r,o,a,s,f,u,h,c,p]}class $c extends Ee{constructor(t){super(),Me(this,t,Jc,Zc,Se,{gridlines:0,tickMarks:1,formatTick:2,ticks:19,xTick:3,yTick:4,dxTick:5,dyTick:6,baseline:7,textAnchor:8})}}function eh(e){let t,n,i,r;return t=new Kc({props:{fillFunction:e[1]}}),i=new hf({props:{gridlines:!1,ticks:e[2],tickMarks:!0}}),{c(){de(t.$$.fragment),n=X(),de(i.$$.fragment)},l(l){_e(t.$$.fragment,l),n=Q(l),_e(i.$$.fragment,l)},m(l,o){ge(t,l,o),q(l,n,o),ge(i,l,o),r=!0},p(l,o){const a={};o&2&&(a.fillFunction=l[1]),t.$set(a);const s={};o&4&&(s.ticks=l[2]),i.$set(s)},i(l){r||(V(t.$$.fragment,l),V(i.$$.fragment,l),r=!0)},o(l){Z(t.$$.fragment,l),Z(i.$$.fragment,l),r=!1},d(l){l&&v(n),me(t,l),me(i,l)}}}function th(e){let t,n;return t=new zl({props:{$$slots:{default:[eh]},$$scope:{ctx:e}}}),{c(){de(t.$$.fragment)},l(i){_e(t.$$.fragment,i)},m(i,r){ge(t,i,r),n=!0},p(i,r){const l={};r&38&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){me(t,i)}}}function nh(e){let t,n,i;return n=new Rl({props:{padding:{top:0,right:40,bottom:20,left:30},x:ih,y:rh,xScale:kl().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xReverse:!0,$$slots:{default:[th]},$$scope:{ctx:e}}}),{c(){t=W("div"),de(n.$$.fragment),this.h()},l(r){t=U(r,"DIV",{class:!0});var l=L(t);_e(n.$$.fragment,l),l.forEach(v),this.h()},h(){g(t,"class","chart-container svelte-ao1tjn")},m(r,l){q(r,t,l),ge(n,t,null),i=!0},p(r,[l]){const o={};l&1&&(o.data=r[0]),l&38&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){i||(V(n.$$.fragment,r),i=!0)},o(r){Z(n.$$.fragment,r),i=!1},d(r){r&&v(t),me(n)}}}const ih="name",rh="bad_air_days";function lh(e,t,n){let i,r,l;D(e,pt,s=>n(4,l=s));let{data:o}=t,{index_of_selected:a}=t;return e.$$set=s=>{"data"in s&&n(0,o=s.data),"index_of_selected"in s&&n(3,a=s.index_of_selected)},e.$$.update=()=>{e.$$.dirty&25&&(a>o.length/2?n(2,i=[l.label,o[0].name]):n(2,i=[l.label,o[o.length-1].name])),e.$$.dirty&16&&n(1,r=s=>s.code===l.value?"var(--primary)":"var(--secondary)")},n(2,i=[]),[o,r,i,a,l]}class oh extends Ee{constructor(t){super(),Me(this,t,lh,nh,Se,{data:0,index_of_selected:3})}}function ah(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return df(this.cover(t,n),t,n,e)}function df(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,l=e._root,o={data:i},a=e._x0,s=e._y0,f=e._x1,u=e._y1,h,c,d,_,w,p,b,k;if(!l)return e._root=o,e;for(;l.length;)if((w=t>=(h=(a+f)/2))?a=h:f=h,(p=n>=(c=(s+u)/2))?s=c:u=c,r=l,!(l=l[b=p<<1|w]))return r[b]=o,e;if(d=+e._x.call(null,l.data),_=+e._y.call(null,l.data),t===d&&n===_)return o.next=l,r?r[b]=o:e._root=o,e;do r=r?r[b]=new Array(4):e._root=new Array(4),(w=t>=(h=(a+f)/2))?a=h:f=h,(p=n>=(c=(s+u)/2))?s=c:u=c;while((b=p<<1|w)===(k=(_>=c)<<1|d>=h));return r[k]=l,r[b]=o,e}function fh(e){var t,n,i=e.length,r,l,o=new Array(i),a=new Array(i),s=1/0,f=1/0,u=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(l=+this._y.call(null,t))||(o[n]=r,a[n]=l,r<s&&(s=r),r>u&&(u=r),l<f&&(f=l),l>h&&(h=l));if(s>u||f>h)return this;for(this.cover(s,f).cover(u,h),n=0;n<i;++n)df(this,o[n],a[n],e[n]);return this}function uh(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,l=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,l=(i=Math.floor(t))+1;else{for(var o=r-n||1,a=this._root,s,f;n>e||e>=r||i>t||t>=l;)switch(f=(t<i)<<1|e<n,s=new Array(4),s[f]=a,a=s,o*=2,f){case 0:r=n+o,l=i+o;break;case 1:n=r-o,l=i+o;break;case 2:r=n+o,i=l-o;break;case 3:n=r-o,i=l-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=i,this._x1=r,this._y1=l,this}function sh(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function ch(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Fe(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r}function hh(e,t,n){var i,r=this._x0,l=this._y0,o,a,s,f,u=this._x1,h=this._y1,c=[],d=this._root,_,w;for(d&&c.push(new Fe(d,r,l,u,h)),n==null?n=1/0:(r=e-n,l=t-n,u=e+n,h=t+n,n*=n);_=c.pop();)if(!(!(d=_.node)||(o=_.x0)>u||(a=_.y0)>h||(s=_.x1)<r||(f=_.y1)<l))if(d.length){var p=(o+s)/2,b=(a+f)/2;c.push(new Fe(d[3],p,b,s,f),new Fe(d[2],o,b,p,f),new Fe(d[1],p,a,s,b),new Fe(d[0],o,a,p,b)),(w=(t>=b)<<1|e>=p)&&(_=c[c.length-1],c[c.length-1]=c[c.length-1-w],c[c.length-1-w]=_)}else{var k=e-+this._x.call(null,d.data),M=t-+this._y.call(null,d.data),E=k*k+M*M;if(E<n){var m=Math.sqrt(n=E);r=e-m,l=t-m,u=e+m,h=t+m,i=d.data}}return i}function dh(e){if(isNaN(u=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,i,r,l,o=this._x0,a=this._y0,s=this._x1,f=this._y1,u,h,c,d,_,w,p,b;if(!n)return this;if(n.length)for(;;){if((_=u>=(c=(o+s)/2))?o=c:s=c,(w=h>=(d=(a+f)/2))?a=d:f=d,t=n,!(n=n[p=w<<1|_]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(i=t,b=p)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,r?(l?r.next=l:delete r.next,this):t?(l?t[p]=l:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(i?i[b]=n:this._root=n),this):(this._root=l,this)}function _h(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function gh(){return this._root}function mh(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function yh(e){var t=[],n,i=this._root,r,l,o,a,s;for(i&&t.push(new Fe(i,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(i=n.node,l=n.x0,o=n.y0,a=n.x1,s=n.y1)&&i.length){var f=(l+a)/2,u=(o+s)/2;(r=i[3])&&t.push(new Fe(r,f,u,a,s)),(r=i[2])&&t.push(new Fe(r,l,u,f,s)),(r=i[1])&&t.push(new Fe(r,f,o,a,u)),(r=i[0])&&t.push(new Fe(r,l,o,f,u))}return this}function ph(e){var t=[],n=[],i;for(this._root&&t.push(new Fe(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var r=i.node;if(r.length){var l,o=i.x0,a=i.y0,s=i.x1,f=i.y1,u=(o+s)/2,h=(a+f)/2;(l=r[0])&&t.push(new Fe(l,o,a,u,h)),(l=r[1])&&t.push(new Fe(l,u,a,s,h)),(l=r[2])&&t.push(new Fe(l,o,h,u,f)),(l=r[3])&&t.push(new Fe(l,u,h,s,f))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function bh(e){return e[0]}function wh(e){return arguments.length?(this._x=e,this):this._x}function vh(e){return e[1]}function kh(e){return arguments.length?(this._y=e,this):this._y}function _f(e,t,n){var i=new Tl(t??bh,n??vh,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Tl(e,t,n,i,r,l){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=l,this._root=void 0}function _a(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ue=_f.prototype=Tl.prototype;Ue.copy=function(){var e=new Tl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,i;if(!t)return e;if(!t.length)return e._root=_a(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var r=0;r<4;++r)(i=t.source[r])&&(i.length?n.push({source:i,target:t.target[r]=new Array(4)}):t.target[r]=_a(i));return e};Ue.add=ah;Ue.addAll=fh;Ue.cover=uh;Ue.data=sh;Ue.extent=ch;Ue.find=hh;Ue.remove=dh;Ue.removeAll=_h;Ue.root=gh;Ue.size=mh;Ue.visit=yh;Ue.visitAfter=ph;Ue.x=wh;Ue.y=kh;const Sh=e=>({x:e&10,y:e&9,found:e&8,visible:e&4,e:e&16}),ga=e=>({x:e[1](e[3])||0,y:e[0](e[3])||0,found:e[3],visible:e[2],e:e[4]});function Eh(e){let t,n,i,r,l;const o=e[22].default,a=Nt(o,e,e[21],ga);return{c(){t=W("div"),n=X(),a&&a.c(),this.h()},l(s){t=U(s,"DIV",{class:!0}),L(t).forEach(v),n=Q(s),a&&a.l(s),this.h()},h(){g(t,"class","bg svelte-19xh5jy")},m(s,f){q(s,t,f),q(s,n,f),a&&a.m(s,f),i=!0,r||(l=[Pe(t,"mousemove",e[11]),Pe(t,"mouseout",e[23]),Pe(t,"blur",e[24])],r=!0)},p(s,[f]){a&&a.p&&(!i||f&2097183)&&Rt(a,o,s,s[21],i?At(o,s[21],f,Sh):zt(s[21]),ga)},i(s){i||(V(a,s),i=!0)},o(s){Z(a,s),i=!1},d(s){s&&(v(t),v(n)),a&&a.d(s),r=!1,An(l)}}}function Mh(e,t,n){let i,r,l,o,a,s,f,u,h;D(e,Xt,T=>n(5,f=T));let{$$slots:c={},$$scope:d}=t;const{data:_,xGet:w,yGet:p,width:b,height:k,padding:M}=We("LayerCake");D(e,_,T=>n(16,o=T)),D(e,w,T=>n(19,u=T)),D(e,p,T=>n(20,h=T)),D(e,b,T=>n(18,s=T)),D(e,k,T=>n(17,a=T));let E=!1,m={},S={},{x:N="x"}=t,{y:G="y"}=t,{searchRadius:j=200}=t,{dataset:B=void 0}=t;function C(T){n(4,S=T);const z=`layer${N.toUpperCase()}`,A=`layer${G.toUpperCase()}`;n(3,m=l.find(T[z],T[A],j)||{}),n(2,E=Object.keys(m).length>0),J(Xt,f=(m==null?void 0:m.year)||"",f)}const x=()=>{n(2,E=!1),J(Xt,f="",f)},P=()=>n(2,E=!1);return e.$$set=T=>{"x"in T&&n(12,N=T.x),"y"in T&&n(13,G=T.y),"searchRadius"in T&&n(14,j=T.searchRadius),"dataset"in T&&n(15,B=T.dataset),"$$scope"in T&&n(21,d=T.$$scope)},e.$$.update=()=>{e.$$.dirty&1576960&&n(1,i=N==="x"?u:h),e.$$.dirty&1581056&&n(0,r=G==="y"?h:u),e.$$.dirty&491523&&(l=_f().extent([[-1,-1],[s+1,a+1]]).x(i).y(r).addAll(B||o))},[r,i,E,m,S,f,_,w,p,b,k,C,N,G,j,B,o,a,s,u,h,d,c,x,P]}class Nh extends Ee{constructor(t){super(),Me(this,t,Mh,Eh,Se,{x:12,y:13,searchRadius:14,dataset:15})}}function Rh(e){let t;return{c(){t=le("path"),this.h()},l(n){t=oe(n,"path",{class:!0,d:!0,stroke:!0,opacity:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","path-line svelte-1a99x5h"),g(t,"d",e[2]),g(t,"stroke",e[0]),g(t,"opacity",e[1])},m(n,i){q(n,t,i)},p(n,[i]){i&4&&g(t,"d",n[2]),i&1&&g(t,"stroke",n[0]),i&2&&g(t,"opacity",n[1])},i:De,o:De,d(n){n&&v(t)}}}function zh(e,t,n){let i,r,l,o;const{data:a,xGet:s,yGet:f}=We("LayerCake");D(e,a,c=>n(8,o=c)),D(e,s,c=>n(7,l=c)),D(e,f,c=>n(6,r=c));let{stroke:u="#ab00d6"}=t,{opacity:h=1}=t;return e.$$set=c=>{"stroke"in c&&n(0,u=c.stroke),"opacity"in c&&n(1,h=c.opacity)},e.$$.update=()=>{e.$$.dirty&448&&n(2,i="M"+o.map(c=>l(c)+","+r(c)).join("L"))},[u,h,i,a,s,f,r,l,o]}class Ah extends Ee{constructor(t){super(),Me(this,t,zh,Rh,Se,{stroke:0,opacity:1})}}function ma(e,t,n){const i=e.slice();return i[14]=t[n],i[16]=n,i}function ya(e){let t,n,i;return{c(){t=le("circle"),this.h()},l(r){t=oe(r,"circle",{r:!0,fill:!0,cx:!0,cy:!0}),L(t).forEach(v),this.h()},h(){g(t,"r","6"),g(t,"fill",e[0]),g(t,"cx",n=e[2](e[14])),g(t,"cy",i=e[3](e[14]))},m(r,l){q(r,t,l)},p(r,l){l&1&&g(t,"fill",r[0]),l&6&&n!==(n=r[2](r[14]))&&g(t,"cx",n),l&10&&i!==(i=r[3](r[14]))&&g(t,"cy",i)},d(r){r&&v(t)}}}function Dh(e){let t,n=je(e[1]),i=[];for(let r=0;r<n.length;r+=1)i[r]=ya(ma(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ce()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=ce()},m(r,l){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,l);q(r,t,l)},p(r,[l]){if(l&15){n=je(r[1]);let o;for(o=0;o<n.length;o+=1){const a=ma(r,n,o);i[o]?i[o].p(a,l):(i[o]=ya(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:De,o:De,d(r){r&&v(t),Dn(i,r)}}}function Ph(e,t,n){let i,r,l,o,a,s,f;D(e,Xt,b=>n(12,a=b));const{data:u,xGet:h,yGet:c,xScale:d}=We("LayerCake");D(e,u,b=>n(11,o=b)),D(e,h,b=>n(2,s=b)),D(e,c,b=>n(3,f=b));let{comparison_year:_}=t,{fill:w="#ab00d6"}=t,{stroke:p="#ab00d6"}=t;return e.$$set=b=>{"comparison_year"in b&&n(7,_=b.comparison_year),"fill"in b&&n(0,w=b.fill),"stroke"in b&&n(8,p=b.stroke)},e.$$.update=()=>{e.$$.dirty&4224&&n(10,i=a||_),e.$$.dirty&1024&&n(9,r=[i,2022]),e.$$.dirty&2560&&n(1,l=o.filter(b=>r.includes(b.year)))},[w,l,s,f,u,h,c,_,p,r,i,o,a]}class Th extends Ee{constructor(t){super(),Me(this,t,Ph,Dh,Se,{comparison_year:7,fill:0,stroke:8})}}function Ch(e){let t,n,i,r;return{c(){t=le("defs"),n=le("linearGradient"),i=le("stop"),r=le("stop"),this.h()},l(l){t=oe(l,"defs",{});var o=L(t);n=oe(o,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var a=L(n);i=oe(a,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),L(i).forEach(v),r=oe(a,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),L(r).forEach(v),a.forEach(v),o.forEach(v),this.h()},h(){g(i,"offset",e[1]),g(i,"stop-color",e[0]),g(i,"stop-opacity","0.25"),g(r,"offset",e[1]),g(r,"stop-color",e[0]),g(r,"stop-opacity","1"),g(n,"id","line-gradient"),g(n,"x1","0%"),g(n,"y1","0%"),g(n,"x2","100%"),g(n,"y2","0%")},m(l,o){q(l,t,o),R(t,n),R(n,i),R(n,r)},p(l,[o]){o&2&&g(i,"offset",l[1]),o&1&&g(i,"stop-color",l[0]),o&2&&g(r,"offset",l[1]),o&1&&g(r,"stop-color",l[0])},i:De,o:De,d(l){l&&v(t)}}}function Ih(e,t,n){let i,r,l,o,a,s;D(e,Xt,E=>n(7,a=E));const{data:f,xGet:u,yGet:h,xScale:c,yScale:d,x:_,zGet:w,zScale:p,height:b}=We("LayerCake");D(e,f,E=>n(8,s=E));let{yearOfInterest:k=2008}=t,{accentColor:M}=t;return e.$$set=E=>{"yearOfInterest"in E&&n(3,k=E.yearOfInterest),"accentColor"in E&&n(0,M=E.accentColor)},e.$$.update=()=>{e.$$.dirty&256&&n(5,i=Pf(s,E=>E.year)),e.$$.dirty&32&&n(4,r=i[1]-i[0]),e.$$.dirty&136&&n(6,l=a||k),e.$$.dirty&112&&n(1,o=(l-i[0])/r)},[M,o,f,k,r,i,l,a,s]}class Lh extends Ee{constructor(t){super(),Me(this,t,Ih,Ch,Se,{yearOfInterest:3,accentColor:0})}}function pa(e,t,n){const i=e.slice();return i[17]=t[n],i}function ba(e){let t,n,i,r,l,o,a,s,f,u,h,c,d,_,w,p,b,k=e[17].bad_air_days+"",M,E;return{c(){t=le("line"),l=X(),o=le("circle"),s=X(),f=le("circle"),h=X(),c=le("line"),p=X(),b=le("text"),M=H(k),this.h()},l(m){t=oe(m,"line",{stroke:!0,class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),L(t).forEach(v),l=Q(m),o=oe(m,"circle",{r:!0,cx:!0,cy:!0,class:!0}),L(o).forEach(v),s=Q(m),f=oe(m,"circle",{r:!0,cx:!0,cy:!0,class:!0}),L(f).forEach(v),h=Q(m),c=oe(m,"line",{stroke:!0,class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),L(c).forEach(v),p=Q(m),b=oe(m,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var S=L(b);M=F(S,k),S.forEach(v),this.h()},h(){g(t,"stroke",e[0]),g(t,"class","vert svelte-gigf1h"),g(t,"x1",n=e[3](e[17])),g(t,"x2",i=e[3](e[17])),g(t,"y1",e[4]),g(t,"y2",r=e[5](e[17])),g(o,"r","4"),g(o,"cx","0"),g(o,"cy",a=e[5](e[17])),g(o,"class","svelte-gigf1h"),g(f,"r","4"),g(f,"cx",u=e[3](e[17])),g(f,"cy",e[4]),g(f,"class","svelte-gigf1h"),g(c,"stroke",e[0]),g(c,"class","horiz svelte-gigf1h"),g(c,"x1","0"),g(c,"x2",d=e[3](e[17])),g(c,"y1",_=e[5](e[17])),g(c,"y2",w=e[5](e[17])),g(b,"x",-Gh),g(b,"y",E=e[5](e[17])),g(b,"text-anchor","end"),g(b,"class","svelte-gigf1h")},m(m,S){q(m,t,S),q(m,l,S),q(m,o,S),q(m,s,S),q(m,f,S),q(m,h,S),q(m,c,S),q(m,p,S),q(m,b,S),R(b,M)},p(m,S){S&1&&g(t,"stroke",m[0]),S&12&&n!==(n=m[3](m[17]))&&g(t,"x1",n),S&12&&i!==(i=m[3](m[17]))&&g(t,"x2",i),S&16&&g(t,"y1",m[4]),S&36&&r!==(r=m[5](m[17]))&&g(t,"y2",r),S&36&&a!==(a=m[5](m[17]))&&g(o,"cy",a),S&12&&u!==(u=m[3](m[17]))&&g(f,"cx",u),S&16&&g(f,"cy",m[4]),S&1&&g(c,"stroke",m[0]),S&12&&d!==(d=m[3](m[17]))&&g(c,"x2",d),S&36&&_!==(_=m[5](m[17]))&&g(c,"y1",_),S&36&&w!==(w=m[5](m[17]))&&g(c,"y2",w),S&4&&k!==(k=m[17].bad_air_days+"")&&se(M,k),S&36&&E!==(E=m[5](m[17]))&&g(b,"y",E)},d(m){m&&(v(t),v(l),v(o),v(s),v(f),v(h),v(c),v(p),v(b))}}}function wa(e){let t,n,i,r,l,o,a;return{c(){t=le("line"),r=X(),l=le("line"),this.h()},l(s){t=oe(s,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),L(t).forEach(v),r=Q(s),l=oe(s,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),L(l).forEach(v),this.h()},h(){g(t,"class","axes svelte-gigf1h"),g(t,"x1",n=e[3](e[2][0])),g(t,"x2",i=e[3](e[2][1])),g(t,"y1",e[4]),g(t,"y2",e[4]),g(l,"class","axes svelte-gigf1h"),g(l,"y1",o=e[5](e[2][0])),g(l,"y2",a=e[5](e[2][1])),g(l,"x1","0"),g(l,"x2","0")},m(s,f){q(s,t,f),q(s,r,f),q(s,l,f)},p(s,f){f&12&&n!==(n=s[3](s[2][0]))&&g(t,"x1",n),f&12&&i!==(i=s[3](s[2][1]))&&g(t,"x2",i),f&16&&g(t,"y1",s[4]),f&16&&g(t,"y2",s[4]),f&36&&o!==(o=s[5](s[2][0]))&&g(l,"y1",o),f&36&&a!==(a=s[5](s[2][1]))&&g(l,"y2",a)},d(s){s&&(v(t),v(r),v(l))}}}function qh(e){let t,n,i=je(e[2]),r=[];for(let o=0;o<i.length;o+=1)r[o]=ba(pa(e,i,o));let l=e[1]!==2022&&e[1]!==1980&&e[2].length>=1&&wa(e);return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=X(),l&&l.c(),n=ce()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);t=Q(o),l&&l.l(o),n=ce()},m(o,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(o,a);q(o,t,a),l&&l.m(o,a),q(o,n,a)},p(o,[a]){if(a&61){i=je(o[2]);let s;for(s=0;s<i.length;s+=1){const f=pa(o,i,s);r[s]?r[s].p(f,a):(r[s]=ba(f),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}o[1]!==2022&&o[1]!==1980&&o[2].length>=1?l?l.p(o,a):(l=wa(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:De,o:De,d(o){o&&(v(t),v(n)),Dn(r,o),l&&l.d(o)}}}let Gh=8;function jh(e,t,n){let i,r,l,o,a,s,f,u,h;D(e,En,E=>n(15,a=E)),D(e,Xt,E=>n(1,s=E));const{data:c,xGet:d,yGet:_,height:w,width:p}=We("LayerCake");D(e,c,E=>n(14,o=E)),D(e,d,E=>n(3,f=E)),D(e,_,E=>n(5,h=E)),D(e,w,E=>n(4,u=E));let{stroke:b="var(--gray-style)"}=t,{opacity:k=1}=t,{comparison_age:M}=t;return e.$$set=E=>{"stroke"in E&&n(0,b=E.stroke),"opacity"in E&&n(10,k=E.opacity),"comparison_age"in E&&n(11,M=E.comparison_age)},e.$$.update=()=>{e.$$.dirty&34818&&n(13,i=s||2022-(a||30)+M),e.$$.dirty&8192&&n(12,r=[i,2022]),e.$$.dirty&20480&&n(2,l=o.filter(E=>r.includes(E.year)))},[b,s,l,f,u,h,c,d,_,w,k,M,r,i,o,a]}class Bh extends Ee{constructor(t){super(),Me(this,t,jh,qh,Se,{stroke:0,opacity:10,comparison_age:11})}}function Oh(e){let t,n,i,r,l,o,a,s,f,u,h,c;return t=new hf({props:{gridlines:!1,ticks:e[3],baseline:!0}}),i=new $c({props:{gridlines:!1,baseline:!0,ticks:1}}),l=new Lh({props:{yearOfInterest:e[1],accentColor:"var(--secondary)"}}),a=new Ah({props:{stroke:"url(#line-gradient)"}}),f=new Th({props:{fill:"var(--secondary)",stroke:"var(--secondary)",comparison_year:e[1]}}),h=new Bh({props:{comparison_age:e[2]}}),{c(){de(t.$$.fragment),n=X(),de(i.$$.fragment),r=X(),de(l.$$.fragment),o=X(),de(a.$$.fragment),s=X(),de(f.$$.fragment),u=X(),de(h.$$.fragment)},l(d){_e(t.$$.fragment,d),n=Q(d),_e(i.$$.fragment,d),r=Q(d),_e(l.$$.fragment,d),o=Q(d),_e(a.$$.fragment,d),s=Q(d),_e(f.$$.fragment,d),u=Q(d),_e(h.$$.fragment,d)},m(d,_){ge(t,d,_),q(d,n,_),ge(i,d,_),q(d,r,_),ge(l,d,_),q(d,o,_),ge(a,d,_),q(d,s,_),ge(f,d,_),q(d,u,_),ge(h,d,_),c=!0},p(d,_){const w={};_&8&&(w.ticks=d[3]),t.$set(w);const p={};_&2&&(p.yearOfInterest=d[1]),l.$set(p);const b={};_&2&&(b.comparison_year=d[1]),f.$set(b);const k={};_&4&&(k.comparison_age=d[2]),h.$set(k)},i(d){c||(V(t.$$.fragment,d),V(i.$$.fragment,d),V(l.$$.fragment,d),V(a.$$.fragment,d),V(f.$$.fragment,d),V(h.$$.fragment,d),c=!0)},o(d){Z(t.$$.fragment,d),Z(i.$$.fragment,d),Z(l.$$.fragment,d),Z(a.$$.fragment,d),Z(f.$$.fragment,d),Z(h.$$.fragment,d),c=!1},d(d){d&&(v(n),v(r),v(o),v(s),v(u)),me(t,d),me(i,d),me(l,d),me(a,d),me(f,d),me(h,d)}}}function xh(e){let t;return{c(){t=W("div"),this.h()},l(n){t=U(n,"DIV",{class:!0,style:!0}),L(t).forEach(v),this.h()},h(){g(t,"class","circle svelte-cyv6sp"),O(t,"top",e[8]+"px"),O(t,"left",e[7]+"px"),O(t,"display",e[9]?"block":"none")},m(n,i){q(n,t,i)},p(n,i){i&256&&O(t,"top",n[8]+"px"),i&128&&O(t,"left",n[7]+"px"),i&512&&O(t,"display",n[9]?"block":"none")},d(n){n&&v(t)}}}function Hh(e){let t,n;return t=new Nh({props:{$$slots:{default:[xh,({x:i,y:r,visible:l,found:o})=>({7:i,8:r,9:l,10:o}),({x:i,y:r,visible:l,found:o})=>(i?128:0)|(r?256:0)|(l?512:0)|(o?1024:0)]},$$scope:{ctx:e}}}),{c(){de(t.$$.fragment)},l(i){_e(t.$$.fragment,i)},m(i,r){ge(t,i,r),n=!0},p(i,r){const l={};r&2944&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){me(t,i)}}}function Fh(e){let t,n,i,r;return t=new zl({props:{$$slots:{default:[Oh]},$$scope:{ctx:e}}}),i=new nl({props:{$$slots:{default:[Hh]},$$scope:{ctx:e}}}),{c(){de(t.$$.fragment),n=X(),de(i.$$.fragment)},l(l){_e(t.$$.fragment,l),n=Q(l),_e(i.$$.fragment,l)},m(l,o){ge(t,l,o),q(l,n,o),ge(i,l,o),r=!0},p(l,o){const a={};o&2062&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const s={};o&2048&&(s.$$scope={dirty:o,ctx:l}),i.$set(s)},i(l){r||(V(t.$$.fragment,l),V(i.$$.fragment,l),r=!0)},o(l){Z(t.$$.fragment,l),Z(i.$$.fragment,l),r=!1},d(l){l&&v(n),me(t,l),me(i,l)}}}function Wh(e){let t,n,i;return n=new Rl({props:{x:Uh,y:gf,xScale:kl().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xPadding:[or,or],yPadding:[or,or],padding:{top:0,right:5,bottom:20,left:25},$$slots:{default:[Fh]},$$scope:{ctx:e}}}),{c(){t=W("div"),de(n.$$.fragment),this.h()},l(r){t=U(r,"DIV",{class:!0});var l=L(t);_e(n.$$.fragment,l),l.forEach(v),this.h()},h(){g(t,"class","chart-container svelte-cyv6sp")},m(r,l){q(r,t,l),ge(n,t,null),i=!0},p(r,[l]){const o={};l&1&&(o.data=r[0]),l&2062&&(o.$$scope={dirty:l,ctx:r}),n.$set(o)},i(r){i||(V(n.$$.fragment,r),i=!0)},o(r){Z(n.$$.fragment,r),i=!1},d(r){r&&v(t),me(n)}}}const Uh="year",gf="bad_air_days",or=6;function Vh(e,t,n){let i,r,l;D(e,Xt,f=>n(5,l=f));let{data:o}=t,{comparison_year:a}=t,{comparison_age:s}=t;return e.$$set=f=>{"data"in f&&n(0,o=f.data),"comparison_year"in f&&n(1,a=f.comparison_year),"comparison_age"in f&&n(2,s=f.comparison_age)},e.$$.update=()=>{e.$$.dirty&34&&n(4,i=l||a),e.$$.dirty&1&&$r(o.map(f=>f[gf])),e.$$.dirty&16&&n(3,r=[...new Set([1980,i,2022])])},[o,a,s,r,i,l]}class Yh extends Ee{constructor(t){super(),Me(this,t,Vh,Wh,Se,{data:0,comparison_year:1,comparison_age:2})}}function Kh(e){let t,n,i='<h2 class="svelte-1tqp2pl">Is this typical?</h2> <p class="subtitle svelte-1tqp2pl">You be the judge.</p>',r,l,o,a="2022",s,f,u=e[0][e[1]].name+"",h,c,d=e[0][e[1]].bad_air_days+"",_,w,p,b,k,M,E=e[9](e[0][e[1]].bad_air_days)+"",m,S,N,G,j,B,C,x,P,T,z,A,Y=En?`When you were ${fi} years old`:"20 years ago",K,te,ae,re,be,I,ne,Re,Te=e[4].label+"",$,he,Ne,Ce,Ve,$e,we=En?`when you were ${fi} years old`:"20 years ago",et,rt,bt,Be,Xe,en,Ct=e[8]>e[7]?"fewer":"more",Ft,tn,Wt,nn,rn,Qe,ln,It=e[6].year+"",on,an,Ut=e[6].bad_air_days+"",Lt,fn,un,Ze,qe;G=new oh({props:{data:e[0],index_of_selected:e[1]}});function Pn(ee){e[14](ee)}let wt={name:"How old are you?",data:e[10],updateAge:!0};return e[5]!==void 0&&(wt.selected=e[5]),re=new cf({props:wt}),Pt.push(()=>Ma(re,"selected",Pn)),Ze=new Yh({props:{data:e[2],comparison_year:e[3],comparison_age:fi}}),{c(){t=W("section"),n=W("div"),n.innerHTML=i,r=X(),l=W("div"),o=W("h3"),o.textContent=a,s=X(),f=W("p"),h=H(u),c=H(" experienced "),_=H(d),w=H(" days with bad air quality in 2022."),p=X(),b=W("ul"),k=W("li"),M=H("This is "),m=H(E),S=H(` compared
				to all other cities in our data.`),N=X(),de(G.$$.fragment),j=X(),B=W("hr"),C=X(),x=W("div"),P=W("h3"),T=H(e[3]),z=X(),A=W("p"),K=H(Y),te=X(),ae=W("div"),de(re.$$.fragment),I=X(),ne=W("p"),Re=W("strong"),$=H(Te),he=H(` experienced
			`),Ne=W("strong"),Ce=H(e[8]),Ve=H(" bad air quality days"),$e=X(),et=H(we),rt=H("."),bt=X(),Be=W("ul"),Xe=W("li"),en=H("There are "),Ft=H(Ct),tn=H(` smoky days
				now than there were in `),Wt=H(e[3]),nn=H("."),rn=X(),Qe=W("li"),ln=H("The highest on record was in "),on=H(It),an=H(" when there were "),Lt=H(Ut),fn=H(`
				smoky days reported.`),un=X(),de(Ze.$$.fragment),this.h()},l(ee){t=U(ee,"SECTION",{class:!0});var ye=L(t);n=U(ye,"DIV",{class:!0,"data-svelte-h":!0}),Ht(n)!=="svelte-1wgwpos"&&(n.innerHTML=i),r=Q(ye),l=U(ye,"DIV",{class:!0});var Ie=L(l);o=U(Ie,"H3",{class:!0,"data-svelte-h":!0}),Ht(o)!=="svelte-1rc7x6b"&&(o.textContent=a),s=Q(Ie),f=U(Ie,"P",{class:!0});var Oe=L(f);h=F(Oe,u),c=F(Oe," experienced "),_=F(Oe,d),w=F(Oe," days with bad air quality in 2022."),Oe.forEach(v),p=Q(Ie),b=U(Ie,"UL",{class:!0});var Je=L(b);k=U(Je,"LI",{class:!0});var lt=L(k);M=F(lt,"This is "),m=F(lt,E),S=F(lt,` compared
				to all other cities in our data.`),lt.forEach(v),Je.forEach(v),N=Q(Ie),_e(G.$$.fragment,Ie),Ie.forEach(v),j=Q(ye),B=U(ye,"HR",{class:!0}),C=Q(ye),x=U(ye,"DIV",{class:!0});var Le=L(x);P=U(Le,"H3",{class:!0});var vt=L(P);T=F(vt,e[3]),vt.forEach(v),z=Q(Le),A=U(Le,"P",{class:!0});var kt=L(A);K=F(kt,Y),kt.forEach(v),te=Q(Le),ae=U(Le,"DIV",{class:!0});var St=L(ae);_e(re.$$.fragment,St),St.forEach(v),I=Q(Le),ne=U(Le,"P",{class:!0});var Ye=L(ne);Re=U(Ye,"STRONG",{});var Vt=L(Re);$=F(Vt,Te),Vt.forEach(v),he=F(Ye,` experienced
			`),Ne=U(Ye,"STRONG",{});var qt=L(Ne);Ce=F(qt,e[8]),Ve=F(qt," bad air quality days"),qt.forEach(v),$e=Q(Ye),et=F(Ye,we),rt=F(Ye,"."),Ye.forEach(v),bt=Q(Le),Be=U(Le,"UL",{class:!0});var Et=L(Be);Xe=U(Et,"LI",{class:!0});var ot=L(Xe);en=F(ot,"There are "),Ft=F(ot,Ct),tn=F(ot,` smoky days
				now than there were in `),Wt=F(ot,e[3]),nn=F(ot,"."),ot.forEach(v),rn=Q(Et),Qe=U(Et,"LI",{class:!0});var at=L(Qe);ln=F(at,"The highest on record was in "),on=F(at,It),an=F(at," when there were "),Lt=F(at,Ut),fn=F(at,`
				smoky days reported.`),at.forEach(v),Et.forEach(v),un=Q(Le),_e(Ze.$$.fragment,Le),Le.forEach(v),ye.forEach(v),this.h()},h(){g(n,"class","contents svelte-1tqp2pl"),g(o,"class","rail svelte-1tqp2pl"),g(f,"class","prose"),g(k,"class","svelte-1tqp2pl"),g(b,"class","svelte-1tqp2pl"),g(l,"class","latest block svelte-1tqp2pl"),g(B,"class","svelte-1tqp2pl"),g(P,"class","rail svelte-1tqp2pl"),g(A,"class","rail__context svelte-1tqp2pl"),g(ae,"class","age"),g(ne,"class","prose"),g(Xe,"class","svelte-1tqp2pl"),g(Qe,"class","svelte-1tqp2pl"),g(Be,"class","svelte-1tqp2pl"),g(x,"class","past block svelte-1tqp2pl"),g(t,"class","svelte-1tqp2pl")},m(ee,ye){q(ee,t,ye),R(t,n),R(t,r),R(t,l),R(l,o),R(l,s),R(l,f),R(f,h),R(f,c),R(f,_),R(f,w),R(l,p),R(l,b),R(b,k),R(k,M),R(k,m),R(k,S),R(l,N),ge(G,l,null),R(t,j),R(t,B),R(t,C),R(t,x),R(x,P),R(P,T),R(x,z),R(x,A),R(A,K),R(x,te),R(x,ae),ge(re,ae,null),R(x,I),R(x,ne),R(ne,Re),R(Re,$),R(ne,he),R(ne,Ne),R(Ne,Ce),R(Ne,Ve),R(ne,$e),R(ne,et),R(ne,rt),R(x,bt),R(x,Be),R(Be,Xe),R(Xe,en),R(Xe,Ft),R(Xe,tn),R(Xe,Wt),R(Xe,nn),R(Be,rn),R(Be,Qe),R(Qe,ln),R(Qe,on),R(Qe,an),R(Qe,Lt),R(Qe,fn),R(x,un),ge(Ze,x,null),qe=!0},p(ee,[ye]){(!qe||ye&3)&&u!==(u=ee[0][ee[1]].name+"")&&se(h,u),(!qe||ye&3)&&d!==(d=ee[0][ee[1]].bad_air_days+"")&&se(_,d),(!qe||ye&3)&&E!==(E=ee[9](ee[0][ee[1]].bad_air_days)+"")&&se(m,E);const Ie={};ye&1&&(Ie.data=ee[0]),ye&2&&(Ie.index_of_selected=ee[1]),G.$set(Ie),(!qe||ye&8)&&se(T,ee[3]);const Oe={};!be&&ye&32&&(be=!0,Oe.selected=ee[5],Ea(()=>be=!1)),re.$set(Oe),(!qe||ye&16)&&Te!==(Te=ee[4].label+"")&&se($,Te),(!qe||ye&256)&&se(Ce,ee[8]),(!qe||ye&384)&&Ct!==(Ct=ee[8]>ee[7]?"fewer":"more")&&se(Ft,Ct),(!qe||ye&8)&&se(Wt,ee[3]),(!qe||ye&64)&&It!==(It=ee[6].year+"")&&se(on,It),(!qe||ye&64)&&Ut!==(Ut=ee[6].bad_air_days+"")&&se(Lt,Ut);const Je={};ye&4&&(Je.data=ee[2]),ye&8&&(Je.comparison_year=ee[3]),Ze.$set(Je)},i(ee){qe||(V(G.$$.fragment,ee),V(re.$$.fragment,ee),V(Ze.$$.fragment,ee),qe=!0)},o(ee){Z(G.$$.fragment,ee),Z(re.$$.fragment,ee),Z(Ze.$$.fragment,ee),qe=!1},d(ee){ee&&v(t),me(G),me(re),me(Ze)}}}let Xh=30,fi=10;function Qh(e,t,n){let i,r,l,o,a,s,f,u,h,c,d;D(e,pt,m=>n(4,c=m)),D(e,En,m=>n(13,d=m));let{latestData:_}=t,{allData:w}=t,{index_of_selected:p}=t;const b=m=>m<l?"very low":m<o?"moderately low":m<a?"moderately high":"very high",k=Pa(10,53,1).map(m=>({value:m,label:m===52?"52 or older":m}));let M;function E(m){M=m,n(5,M)}return e.$$set=m=>{"latestData"in m&&n(0,_=m.latestData),"allData"in m&&n(11,w=m.allData),"index_of_selected"in m&&n(1,p=m.index_of_selected)},e.$$.update=()=>{var m;e.$$.dirty&1&&n(12,i=_.map(S=>S.bad_air_days)),e.$$.dirty&8192&&n(3,r=d?2022-d+fi:2022-Xh+fi),e.$$.dirty&4096&&(l=Wr(i,.25)),e.$$.dirty&4096&&(o=Wr(i,.5)),e.$$.dirty&4096&&(a=Wr(i,.75)),e.$$.dirty&2064&&n(2,s=w.filter(S=>S.code===c.value)),e.$$.dirty&12&&n(8,f=(m=[...s].filter(S=>S.year===r)[0])==null?void 0:m.bad_air_days),e.$$.dirty&4&&n(7,u=[...s].sort((S,N)=>Dt(S.year,N.year))[s.length-1].bad_air_days),e.$$.dirty&4&&n(6,h=[...s].sort((S,N)=>Dt(S.bad_air_days,N.bad_air_days))[s.length-1])},[_,p,s,r,c,M,h,u,f,b,k,w,i,d,E]}class Zh extends Ee{constructor(t){super(),Me(this,t,Qh,Kh,Se,{latestData:0,allData:11,index_of_selected:1})}}function Jh(e){let t,n,i,r,l,o;return t=new Uc({props:{data:e[0]}}),i=new Lc({props:{data:e[0],us_states:e[4],cbsa_lookup:e[2],index_of_selected:e[3]}}),l=new Zh({props:{latestData:e[0],allData:e[1],index_of_selected:e[3]}}),{c(){de(t.$$.fragment),n=X(),de(i.$$.fragment),r=X(),de(l.$$.fragment)},l(a){_e(t.$$.fragment,a),n=Q(a),_e(i.$$.fragment,a),r=Q(a),_e(l.$$.fragment,a)},m(a,s){ge(t,a,s),q(a,n,s),ge(i,a,s),q(a,r,s),ge(l,a,s),o=!0},p(a,[s]){const f={};s&1&&(f.data=a[0]),t.$set(f);const u={};s&1&&(u.data=a[0]),s&16&&(u.us_states=a[4]),s&4&&(u.cbsa_lookup=a[2]),s&8&&(u.index_of_selected=a[3]),i.$set(u);const h={};s&1&&(h.latestData=a[0]),s&2&&(h.allData=a[1]),s&8&&(h.index_of_selected=a[3]),l.$set(h)},i(a){o||(V(t.$$.fragment,a),V(i.$$.fragment,a),V(l.$$.fragment,a),o=!0)},o(a){Z(t.$$.fragment,a),Z(i.$$.fragment,a),Z(l.$$.fragment,a),o=!1},d(a){a&&(v(n),v(r)),me(t,a),me(i,a),me(l,a)}}}function $h(e,t,n){let i,r,l,o,a,s,f,u;D(e,pt,c=>n(8,u=c));let{data:h}=t;return e.$$set=c=>{"data"in c&&n(5,h=c.data)},e.$$.update=()=>{e.$$.dirty&32&&n(6,{city_data:i,cbsa:r,us_states:l}=h,i,(n(7,r),n(5,h)),(n(4,l),n(5,h))),e.$$.dirty&128&&n(2,o=new Map(r.map(c=>[c.GEOID,{name:c.NAME.replace(" Metro Area",""),latitude:+c.latitude,longitude:+c.longitude}]))),e.$$.dirty&68&&n(1,a=i.map(c=>{var d;return{...c,year:+c.year,bad_air_days:+c.n,name:(d=o.get(c["CBSA Code"]))==null?void 0:d.name,code:c["CBSA Code"]}})),e.$$.dirty&2&&n(0,s=a.filter(c=>c.year===2022).sort((c,d)=>Na(c.bad_air_days,d.bad_air_days))),e.$$.dirty&257&&n(3,f=s.findIndex(c=>c["CBSA Code"]===(u==null?void 0:u.value)))},[s,a,o,f,l,h,i,r,u]}class i1 extends Ee{constructor(t){super(),Me(this,t,$h,Jh,Se,{data:5})}}export{i1 as component};
