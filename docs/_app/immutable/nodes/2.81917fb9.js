import{A as ci,s as Re,e as de,i as B,d as k,o as uo,z as P,B as ee,C as so,r as Ht,f as F,g as W,h as T,j as _,D as co,k as x,E as ff,u as Ft,v as Wt,w as xt,p as Pt,F as Xe,G as se,H as ce,x as M,l as O,m as H,n as ae,a as ne,c as ie,I as Le,y as De,J as uf,K as hl,L as Nt,M as hi,N as kn,O as Ml,P as lr,Q as sf,R as ho}from"../chunks/scheduler.7f01e268.js";import{a as K,S as ze,i as Ne,g as Sr,t as Z,c as Er,b as me,d as ye,m as be,e as pe,f as go}from"../chunks/index.2010496a.js";import{w as le,d as Ee}from"../chunks/index.bd54f367.js";function Ge(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function dl(e,t){e.d(1),t.delete(e.key)}function gl(e,t,n,i,r,l,a,o,h,u,f,c){let s=e.length,d=l.length,g=s;const b={};for(;g--;)b[e[g].key]=g;const y=[],p=new Map,v=new Map,R=[];for(g=d;g--;){const S=c(r,l,g),L=n(S);let q=a.get(L);q?i&&R.push(()=>q.p(S,t)):(q=u(L,S),q.c()),p.set(L,y[g]=q),L in b&&v.set(L,Math.abs(g-b[L]))}const z=new Set,w=new Set;function E(S){K(S,1),S.m(o,f),a.set(S.key,S),f=S.first,d--}for(;s&&d;){const S=y[d-1],L=e[s-1],q=S.key,j=L.key;S===L?(f=S.first,s--,d--):p.has(j)?!a.has(q)||z.has(q)?E(S):w.has(j)?s--:v.get(q)>v.get(j)?(w.add(q),E(S)):(z.add(j),s--):(h(L,a),s--)}for(;s--;){const S=e[s];p.has(S.key)||h(S,a)}for(;d;)E(y[d-1]);return ci(R),y}function Dt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _o(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mo(e){let t,n,i;e.length!==2?(t=Dt,n=(o,h)=>Dt(e(o),h),i=(o,h)=>e(o)-h):(t=e===Dt||e===_o?e:cf,n=e,i=e);function r(o,h,u=0,f=o.length){if(u<f){if(t(h,h)!==0)return f;do{const c=u+f>>>1;n(o[c],h)<0?u=c+1:f=c}while(u<f)}return u}function l(o,h,u=0,f=o.length){if(u<f){if(t(h,h)!==0)return f;do{const c=u+f>>>1;n(o[c],h)<=0?u=c+1:f=c}while(u<f)}return u}function a(o,h,u=0,f=o.length){const c=r(o,h,u,f-1);return c>u&&i(o[c-1],h)>-i(o[c],h)?c-1:c}return{left:r,center:a,right:l}}function cf(){return 0}function hf(e){return e===null?NaN:+e}function*df(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}const gf=mo(Dt),_f=gf.right;mo(hf).center;const mf=_f;function yf(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let l of e)(l=t(l,++r,e))!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}return[n,i]}class en{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],a=t+l,o=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);o&&(n[i++]=o),t=a}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,a=0;if(n>0){for(a=t[--n];n>0&&(i=a,r=t[--n],a=i+r,l=r-(a-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=a+r,r==i-a&&(a=i))}return a}}class Rl extends Map{constructor(t,n=wf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(zl(this,t))}has(t){return super.has(zl(this,t))}set(t,n){return super.set(bf(this,t),n)}delete(t){return super.delete(pf(this,t))}}function zl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function bf({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function pf({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function wf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vf(e=Dt){if(e===Dt)return yo;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function yo(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kf=Math.sqrt(50),Sf=Math.sqrt(10),Ef=Math.sqrt(2);function ar(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),a=l>=kf?10:l>=Sf?5:l>=Ef?2:1;let o,h,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(e*u),h=Math.round(t*u),o/u<e&&++o,h/u>t&&--h,u=-u):(u=Math.pow(10,r)*a,o=Math.round(e/u),h=Math.round(t/u),o*u<e&&++o,h*u>t&&--h),h<o&&.5<=n&&n<2?ar(e,t,n*2):[o,h,u]}function Mf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,a]=i?ar(t,e,n):ar(e,t,n);if(!(l>=r))return[];const o=l-r+1,h=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)h[u]=(l-u)/-a;else for(let u=0;u<o;++u)h[u]=(l-u)*a;else if(a<0)for(let u=0;u<o;++u)h[u]=(r+u)/-a;else for(let u=0;u<o;++u)h[u]=(r+u)*a;return h}function Yr(e,t,n){return t=+t,e=+e,n=+n,ar(e,t,n)[2]}function Rf(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?Yr(t,e,n):Yr(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function Nl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Dl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function bo(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?yo:vf(r);i>n;){if(i-n>600){const h=i-n+1,u=t-n+1,f=Math.log(h),c=.5*Math.exp(2*f/3),s=.5*Math.sqrt(f*c*(h-c)/h)*(u-h/2<0?-1:1),d=Math.max(n,Math.floor(t-u*c/h+s)),g=Math.min(i,Math.floor(t+(h-u)*c/h+s));bo(e,t,d,g,r)}const l=e[t];let a=n,o=i;for($n(e,n,t),r(e[i],l)>0&&$n(e,n,i);a<o;){for($n(e,a,o),++a,--o;r(e[a],l)<0;)++a;for(;r(e[o],l)>0;)--o}r(e[n],l)===0?$n(e,n,o):(++o,$n(e,o,i)),o<=t&&(n=o+1),t<=o&&(i=o-1)}return e}function $n(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Br(e,t,n){if(e=Float64Array.from(df(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return Dl(e);if(t>=1)return Nl(e);var i,r=(i-1)*t,l=Math.floor(r),a=Nl(bo(e,l).subarray(0,l+1)),o=Dl(e.subarray(l+1));return a+(o-a)*(r-l)}}function*zf(e){for(const t of e)yield*t}function po(e){return Array.from(zf(e))}function wo(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}const pt=le({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"});function Nf(e){return e===0?!0:e}function Bt(e){return Nf(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function Df(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function Or(e,t={}){return Df(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function Pf(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function Af(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),l=r.length;let a,o,h,u,f,c,s;const d=e.length;for(a=0;a<l;a+=1){for(s=new Set,u=r[a],f=t[u],o=0;o<d;o+=1)if(c=f(e[o]),Array.isArray(c)){const b=c.length;for(h=0;h<b;h+=1)s.add(c[h])}else s.add(c);const g=Array.from(s);i[u]=n===!0?g.sort():g}return i}function Cf(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let l,a,o,h,u,f,c,s;const d=e.length;for(l=0;l<r;l+=1){for(h=i[l],c=t[h],u=null,f=null,a=0;a<d;a+=1)if(s=c(e[a]),Array.isArray(s)){const g=s.length;for(o=0;o<g;o+=1)s[o]!==!1&&s[o]!==void 0&&s[o]!==null&&Number.isNaN(s[o])===!1&&((u===null||s[o]<u)&&(u=s[o]),(f===null||s[o]>f)&&(f=s[o]))}else s!==!1&&s!==void 0&&s!==null&&Number.isNaN(s)===!1&&((u===null||s<u)&&(u=s),(f===null||s>f)&&(f=s));n[h]=[u,f]}return n}function ei(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function vo(e){return!!(typeof e.bandwidth=="function"||ei(Object.keys(e),["domain","range","unknown","copy"]))}function Tf(e,t,n){const i=Object.keys(n).reduce((l,a)=>{const o=vo(n[a])===!0?"ordinal":"other";return l[o]||(l[o]={}),l[o][a]=t[a],l},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=Af(e,i.ordinal)),i.other&&(r={...r,...Cf(e,i.other)}),r}function If(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function xi(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?If(n[e],i):i}}function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Pl=Symbol("implicit");function ko(){var e=new Rl,t=[],n=[],i=Pl;function r(l){let a=e.get(l);if(a===void 0){if(i!==Pl)return i;e.set(l,a=t.push(l)-1)}return n[a%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Rl;for(const a of l)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return ko(t,n).unknown(i)},Mr.apply(r,arguments),r}function _l(){var e=ko().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,a,o=!1,h=0,u=0,f=.5;delete e.unknown;function c(){var s=t().length,d=r<i,g=d?r:i,b=d?i:r;l=(b-g)/Math.max(1,s-h+u*2),o&&(l=Math.floor(l)),g+=(b-g-l*(s-h))*f,a=l*(1-h),o&&(g=Math.round(g),a=Math.round(a));var y=wo(s).map(function(p){return g+l*p});return n(d?y.reverse():y)}return e.domain=function(s){return arguments.length?(t(s),c()):t()},e.range=function(s){return arguments.length?([i,r]=s,i=+i,r=+r,c()):[i,r]},e.rangeRound=function(s){return[i,r]=s,i=+i,r=+r,o=!0,c()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(s){return arguments.length?(o=!!s,c()):o},e.padding=function(s){return arguments.length?(h=Math.min(1,u=+s),c()):h},e.paddingInner=function(s){return arguments.length?(h=Math.min(1,s),c()):h},e.paddingOuter=function(s){return arguments.length?(u=+s,c()):u},e.align=function(s){return arguments.length?(f=Math.max(0,Math.min(1,s)),c()):f},e.copy=function(){return _l(t(),[i,r]).round(o).paddingInner(h).paddingOuter(u).align(f)},Mr.apply(c(),arguments)}function ml(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function So(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function di(){}var oi=.7,or=1/oi,Mn="\\s*([+-]?\\d+)\\s*",fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lf=/^#([0-9a-f]{3,8})$/,qf=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),jf=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),Gf=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${fi}\\)$`),Bf=new RegExp(`^rgba\\(${bt},${bt},${bt},${fi}\\)$`),Of=new RegExp(`^hsl\\(${fi},${bt},${bt}\\)$`),Hf=new RegExp(`^hsla\\(${fi},${bt},${bt},${fi}\\)$`),Al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ml(di,ui,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cl,formatHex:Cl,formatHex8:Ff,formatHsl:Wf,formatRgb:Tl,toString:Tl});function Cl(){return this.rgb().formatHex()}function Ff(){return this.rgb().formatHex8()}function Wf(){return Eo(this).formatHsl()}function Tl(){return this.rgb().formatRgb()}function ui(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Lf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Il(t):n===3?new xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ui(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ui(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qf.exec(e))?new xe(t[1],t[2],t[3],1):(t=jf.exec(e))?new xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Gf.exec(e))?Ui(t[1],t[2],t[3],t[4]):(t=Bf.exec(e))?Ui(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Of.exec(e))?jl(t[1],t[2]/100,t[3]/100,1):(t=Hf.exec(e))?jl(t[1],t[2]/100,t[3]/100,t[4]):Al.hasOwnProperty(e)?Il(Al[e]):e==="transparent"?new xe(NaN,NaN,NaN,0):null}function Il(e){return new xe(e>>16&255,e>>8&255,e&255,1)}function Ui(e,t,n,i){return i<=0&&(e=t=n=NaN),new xe(e,t,n,i)}function xf(e){return e instanceof di||(e=ui(e)),e?(e=e.rgb(),new xe(e.r,e.g,e.b,e.opacity)):new xe}function fr(e,t,n,i){return arguments.length===1?xf(e):new xe(e,t,n,i??1)}function xe(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}ml(xe,fr,So(di,{brighter(e){return e=e==null?or:Math.pow(or,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?oi:Math.pow(oi,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xe($t(this.r),$t(this.g),$t(this.b),ur(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ll,formatHex:Ll,formatHex8:Uf,formatRgb:ql,toString:ql}));function Ll(){return`#${Jt(this.r)}${Jt(this.g)}${Jt(this.b)}`}function Uf(){return`#${Jt(this.r)}${Jt(this.g)}${Jt(this.b)}${Jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ql(){const e=ur(this.opacity);return`${e===1?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${e===1?")":`, ${e})`}`}function ur(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $t(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jt(e){return e=$t(e),(e<16?"0":"")+e.toString(16)}function jl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ft(e,t,n,i)}function Eo(e){if(e instanceof ft)return new ft(e.h,e.s,e.l,e.opacity);if(e instanceof di||(e=ui(e)),!e)return new ft;if(e instanceof ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),a=NaN,o=l-r,h=(l+r)/2;return o?(t===l?a=(n-i)/o+(n<i)*6:n===l?a=(i-t)/o+2:a=(t-n)/o+4,o/=h<.5?l+r:2-l-r,a*=60):o=h>0&&h<1?0:a,new ft(a,o,h,e.opacity)}function Vf(e,t,n,i){return arguments.length===1?Eo(e):new ft(e,t,n,i??1)}function ft(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}ml(ft,Vf,So(di,{brighter(e){return e=e==null?or:Math.pow(or,e),new ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?oi:Math.pow(oi,e),new ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new xe(Hr(e>=240?e-240:e+120,r,i),Hr(e,r,i),Hr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new ft(Gl(this.h),Vi(this.s),Vi(this.l),ur(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ur(this.opacity);return`${e===1?"hsl(":"hsla("}${Gl(this.h)}, ${Vi(this.s)*100}%, ${Vi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gl(e){return e=(e||0)%360,e<0?e+360:e}function Vi(e){return Math.max(0,Math.min(1,e||0))}function Hr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yl=e=>()=>e;function Yf(e,t){return function(n){return e+n*t}}function Kf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Xf(e){return(e=+e)==1?Mo:function(t,n){return n-t?Kf(t,n,e):yl(isNaN(t)?n:t)}}function Mo(e,t){var n=t-e;return n?Yf(e,n):yl(isNaN(e)?t:e)}const Bl=function e(t){var n=Xf(t);function i(r,l){var a=n((r=fr(r)).r,(l=fr(l)).r),o=n(r.g,l.g),h=n(r.b,l.b),u=Mo(r.opacity,l.opacity);return function(f){return r.r=a(f),r.g=o(f),r.b=h(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function Zf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function Qf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jf(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),a;for(a=0;a<i;++a)r[a]=bl(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(o){for(a=0;a<i;++a)l[a]=r[a](o);return l}}function $f(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function sr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eu(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=bl(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fr=new RegExp(Kr.source,"g");function tu(e){return function(){return e}}function nu(e){return function(t){return e(t)+""}}function iu(e,t){var n=Kr.lastIndex=Fr.lastIndex=0,i,r,l,a=-1,o=[],h=[];for(e=e+"",t=t+"";(i=Kr.exec(e))&&(r=Fr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),o[a]?o[a]+=l:o[++a]=l),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,h.push({i:a,x:sr(i,r)})),n=Fr.lastIndex;return n<t.length&&(l=t.slice(n),o[a]?o[a]+=l:o[++a]=l),o.length<2?h[0]?nu(h[0].x):tu(t):(t=h.length,function(u){for(var f=0,c;f<t;++f)o[(c=h[f]).i]=c.x(u);return o.join("")})}function bl(e,t){var n=typeof t,i;return t==null||n==="boolean"?yl(t):(n==="number"?sr:n==="string"?(i=ui(t))?(t=i,Bl):iu:t instanceof ui?Bl:t instanceof Date?$f:Qf(t)?Zf:Array.isArray(t)?Jf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eu:sr)(e,t)}function ru(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function lu(e){return function(){return e}}function au(e){return+e}var Ol=[0,1];function yt(e){return e}function Xr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lu(isNaN(t)?NaN:.5)}function ou(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function fu(e,t,n){var i=e[0],r=e[1],l=t[0],a=t[1];return r<i?(i=Xr(r,i),l=n(a,l)):(i=Xr(i,r),l=n(l,a)),function(o){return l(i(o))}}function uu(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Xr(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(o){var h=mf(e,o,1,i)-1;return l[h](r[h](o))}}function Ro(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zo(){var e=Ol,t=Ol,n=bl,i,r,l,a=yt,o,h,u;function f(){var s=Math.min(e.length,t.length);return a!==yt&&(a=ou(e[0],e[s-1])),o=s>2?uu:fu,h=u=null,c}function c(s){return s==null||isNaN(s=+s)?l:(h||(h=o(e.map(i),t,n)))(i(a(s)))}return c.invert=function(s){return a(r((u||(u=o(t,e.map(i),sr)))(s)))},c.domain=function(s){return arguments.length?(e=Array.from(s,au),f()):e.slice()},c.range=function(s){return arguments.length?(t=Array.from(s),f()):t.slice()},c.rangeRound=function(s){return t=Array.from(s),n=ru,f()},c.clamp=function(s){return arguments.length?(a=s?!0:yt,f()):a!==yt},c.interpolate=function(s){return arguments.length?(n=s,f()):n},c.unknown=function(s){return arguments.length?(l=s,c):l},function(s,d){return i=s,r=d,f()}}function su(){return zo()(yt,yt)}function cu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Rn(e){return e=cr(Math.abs(e)),e?e[1]:NaN}function hu(e,t){return function(n,i){for(var r=n.length,l=[],a=0,o=e[0],h=0;r>0&&o>0&&(h+o+1>i&&(o=Math.max(1,i-h)),l.push(n.substring(r-=o,r+o)),!((h+=o+1)>i));)o=e[a=(a+1)%e.length];return l.reverse().join(t)}}function du(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hr(e){if(!(t=gu.exec(e)))throw new Error("invalid format: "+e);var t;return new pl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hr.prototype=pl.prototype;function pl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _u(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var No;function mu(e,t){var n=cr(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(No=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return l===a?i:l>a?i+new Array(l-a+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+cr(e,Math.max(0,t+l-1))[0]}function Hl(e,t){var n=cr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Fl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hl(e*100,t),r:Hl,s:mu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wl(e){return e}var xl=Array.prototype.map,Ul=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yu(e){var t=e.grouping===void 0||e.thousands===void 0?Wl:hu(xl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Wl:du(xl.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function u(c){c=hr(c);var s=c.fill,d=c.align,g=c.sign,b=c.symbol,y=c.zero,p=c.width,v=c.comma,R=c.precision,z=c.trim,w=c.type;w==="n"?(v=!0,w="g"):Fl[w]||(R===void 0&&(R=12),z=!0,w="g"),(y||s==="0"&&d==="=")&&(y=!0,s="0",d="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=b==="$"?i:/[%p]/.test(w)?a:"",L=Fl[w],q=/[defgprs%]/.test(w);R=R===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function j(A){var Y=E,C=S,G,N,D;if(w==="c")C=L(A)+C,A="";else{A=+A;var U=A<0||1/A<0;if(A=isNaN(A)?h:L(Math.abs(A),R),z&&(A=_u(A)),U&&+A==0&&g!=="+"&&(U=!1),Y=(U?g==="("?g:o:g==="-"||g==="("?"":g)+Y,C=(w==="s"?Ul[8+No/3]:"")+C+(U&&g==="("?")":""),q){for(G=-1,N=A.length;++G<N;)if(D=A.charCodeAt(G),48>D||D>57){C=(D===46?r+A.slice(G+1):A.slice(G))+C,A=A.slice(0,G);break}}}v&&!y&&(A=t(A,1/0));var V=Y.length+A.length+C.length,te=V<p?new Array(p-V+1).join(s):"";switch(v&&y&&(A=t(te+A,te.length?p-C.length:1/0),te=""),d){case"<":A=Y+A+C+te;break;case"=":A=Y+te+A+C;break;case"^":A=te.slice(0,V=te.length>>1)+Y+A+C+te.slice(V);break;default:A=te+Y+A+C;break}return l(A)}return j.toString=function(){return c+""},j}function f(c,s){var d=u((c=hr(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Rn(s)/3)))*3,b=Math.pow(10,-g),y=Ul[8+g/3];return function(p){return d(b*p)+y}}return{format:u,formatPrefix:f}}var Yi,Do,Po;bu({thousands:",",grouping:[3],currency:["$",""]});function bu(e){return Yi=yu(e),Do=Yi.format,Po=Yi.formatPrefix,Yi}function pu(e){return Math.max(0,-Rn(Math.abs(e)))}function wu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rn(t)/3)))*3-Rn(Math.abs(e)))}function vu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rn(t)-Rn(e))+1}function ku(e,t,n,i){var r=Rf(e,t,n),l;switch(i=hr(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=wu(r,a))&&(i.precision=l),Po(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=vu(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=pu(r))&&(i.precision=l-(i.type==="%")*2);break}}return Do(i)}function Ao(e){var t=e.domain;return e.ticks=function(n){var i=t();return Mf(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return ku(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,a=i[r],o=i[l],h,u,f=10;for(o<a&&(u=a,a=o,o=u,u=r,r=l,l=u);f-- >0;){if(u=Yr(a,o,n),u===h)return i[r]=a,i[l]=o,t(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;h=u}return e},e}function nr(){var e=su();return e.copy=function(){return Ro(e,nr())},Mr.apply(e,arguments),Ao(e)}function Vl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Su(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Eu(e){return e<0?-e*e:e*e}function Mu(e){var t=e(yt,yt),n=1;function i(){return n===1?e(yt,yt):n===.5?e(Su,Eu):e(Vl(n),Vl(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Ao(t)}function Co(){var e=Mu(zo());return e.copy=function(){return Ro(e,Co()).exponent(e.exponent())},Mr.apply(e,arguments),e}function To(){return Co.apply(null,arguments).exponent(.5)}const ti={x:nr,y:nr,z:nr,r:To};function Ru(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Yl(e){return e}function zu(e){return t=>Math.log(e*t)}function Nu(e){return t=>e*Math.exp(t)}function Du(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Pu(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ki(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Au(e){const t=Ru(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:zu(n),ground:Nu(n),scaleType:t}}return t==="pow"?{lift:Ki(1),ground:Ki(1/1),scaleType:t}:t==="sqrt"?{lift:Ki(.5),ground:Ki(1/.5),scaleType:t}:t==="symlog"?{lift:Du(1),ground:Pu(1),scaleType:t}:{lift:Yl,ground:Yl,scaleType:t}}function dr(e){return e.replace(/^\w/,t=>t.toUpperCase())}function Fe(e,t=""){return`scale${dr(t)}${dr(e)}`}function Io(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?Fe("band"):Fe("point");if(ei(Object.keys(e),["domain","range","unknown","copy"]))return Fe("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return Fe("quantile",t);if(e.thresholds)return Fe("quantize",t);if(e.constant)return Fe("symlog",t);if(e.base)return Fe("log",t);if(e.exponent)return e.exponent()===.5?Fe("sqrt",t):Fe("pow",t);if(ei(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return Fe("threshold");if(ei(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Fe("identity");if(ei(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Fe("radial");if(t)return Fe(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),Fe(i)}return Fe("linear")}const Cu=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Tu(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Cu.includes(Io(e))||vo(e)===!0)return e.domain();const{lift:n,ground:i}=Au(e),r=e.domain()[0],l=Object.prototype.toString.call(r)==="[object Date]",[a,o]=e.domain().map(d=>n(l?d.getTime():d)),[h,u]=e.range(),f=t[0]||0,c=t[1]||0,s=(o-a)/(Math.abs(u-h)-f-c);return[a-f*s,c*s+o].map(d=>i(l?new Date(d):d))}function Iu(e,t,n,i,r){let l,a;return r===!0?(l=0,a=100):(l=e==="r"?1:0,a=e==="y"?n:e==="r"?25:t),i===!0?[a,l]:[l,a]}function Lu(e,t,n,i,r,l){return r?typeof r=="function"?r({width:t,height:n}):r:Iu(e,t,n,i,l)}function Xi(e){return function([n,i,r,l,a,o,h,u,f,c]){if(i===null)return null;const s=Lu(e,h,u,o,f,c),d=n===ti[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(s),l&&d.domain(Tu(d,l)),(a===!0||typeof a=="number")&&(typeof d.nice=="function"?d.nice(typeof a=="number"?a:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Zi([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function Qi([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const gt="    ";function qu(e){const{r:t,g:n,b:i,opacity:r}=fr(e);return[t,n,i].every(l=>l>=0&&l<=255)?{r:t,g:n,b:i,o:r}:!1}function ju({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Gu(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Bu(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{Ou(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Bu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${gt}${t}:`,n)})}function Ou(e,t,n){const i=Io(t);console.log(`${gt}${e}:`),console.log(`${gt}${gt}Accessor: "${n.toString()}"`),console.log(`${gt}${gt}Type: ${i}`),Kl(t,"domain"),Kl(t,"range"," ")}function Kl(e,t,n=""){const i=e[t](),r=Fu(i);r?Hu(r,t,i):console.log(`${gt}${gt}${dr(t)}:${n}`,i)}function Hu(e,t,n){console.log(`${gt}${gt}${dr(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function Fu(e){const t=[],n=e.map((i,r)=>{const l=qu(i);if(l!==!1){t.push(l);const a=r===e.length-1?" ":"";return`%c ${i}${a}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${ju(i)};`)]:null}const Wu=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),Xl=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function Zl(e){let t,n,i;const r=e[153].default,l=Ht(r,e,e[152],Xl);return{c(){t=F("div"),l&&l.c(),this.h()},l(a){t=W(a,"DIV",{class:!0});var o=T(t);l&&l.l(o),o.forEach(k),this.h()},h(){_(t,"class","layercake-container svelte-vhzpsp"),co(()=>e[155].call(t)),x(t,"position",e[5]),x(t,"top",e[5]==="absolute"?"0":null),x(t,"right",e[5]==="absolute"?"0":null),x(t,"bottom",e[5]==="absolute"?"0":null),x(t,"left",e[5]==="absolute"?"0":null),x(t,"pointer-events",e[4]===!1?"none":null)},m(a,o){B(a,t,o),l&&l.m(t,null),e[154](t),n=ff(t,e[155].bind(t)),i=!0},p(a,o){l&&l.p&&(!i||o[0]&2147483588|o[1]&1048575|o[4]&268435456)&&Ft(l,r,a,a[152],i?xt(r,a[152],o,Wu):Wt(a[152]),Xl),o[0]&32&&x(t,"position",a[5]),o[0]&32&&x(t,"top",a[5]==="absolute"?"0":null),o[0]&32&&x(t,"right",a[5]==="absolute"?"0":null),o[0]&32&&x(t,"bottom",a[5]==="absolute"?"0":null),o[0]&32&&x(t,"left",a[5]==="absolute"?"0":null),o[0]&16&&x(t,"pointer-events",a[4]===!1?"none":null)},i(a){i||(K(l,a),i=!0)},o(a){Z(l,a),i=!1},d(a){a&&k(t),l&&l.d(a),e[154](null),n()}}}function xu(e){let t,n,i=(e[3]===!0||typeof window<"u")&&Zl(e);return{c(){i&&i.c(),t=de()},l(r){i&&i.l(r),t=de()},m(r,l){i&&i.m(r,l),B(r,t,l),n=!0},p(r,l){r[3]===!0||typeof window<"u"?i?(i.p(r,l),l[0]&8&&K(i,1)):(i=Zl(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(Sr(),Z(i,1,1,()=>{i=null}),Er())},i(r){n||(K(i),n=!0)},o(r){Z(i),n=!1},d(r){r&&k(t),i&&i.d(r)}}}function Uu(e,t,n){let i,r,l,a,o,h,u,f,c,s,d,g,b,y,p,v,R,z,w,E,S,L,q,j,A,Y,C,G,N,D,U,V,te,Q,I,X,J,we,Te,it,re,he,_e,Pe,qe,Ue,ve,Be,Ze,wt,st,rn,ln,an,rt,Ve,on,Ct,Ut,fn,Vt,un,{$$slots:Pn={},$$scope:Ye}=t;const An=Pf(Gu,200);let{ssr:vt=!1}=t,{pointerEvents:Yt=!0}=t,{position:sn="relative"}=t,{percentRange:ct=!1}=t,{width:Tt=void 0}=t,{height:Kt=void 0}=t,{containerWidth:ht=Tt||100}=t,{containerHeight:Oe=Kt||100}=t,{element:Ae=void 0}=t,{x:It=void 0}=t,{y:kt=void 0}=t,{z:$=void 0}=t,{r:ue=void 0}=t,{data:je=[]}=t,{xDomain:Ke=void 0}=t,{yDomain:Ce=void 0}=t,{zDomain:Qe=void 0}=t,{rDomain:St=void 0}=t,{xNice:Et=!1}=t,{yNice:He=!1}=t,{zNice:Xt=!1}=t,{rNice:Mt=!1}=t,{xPadding:Je=void 0}=t,{yPadding:Zt=void 0}=t,{zPadding:Lt=void 0}=t,{rPadding:Rt=void 0}=t,{xScale:lt=ti.x}=t,{yScale:$e=ti.y}=t,{zScale:gi=ti.z}=t,{rScale:_i=ti.r}=t,{xRange:cn=void 0}=t,{yRange:hn=void 0}=t,{zRange:dn=void 0}=t,{rRange:gn=void 0}=t,{xReverse:mi=!1}=t,{yReverse:yi=void 0}=t,{zReverse:bi=!1}=t,{rReverse:pi=!1}=t,{padding:wi={}}=t,{extents:vi={}}=t,{flatData:ki=void 0}=t,{custom:Si={}}=t,{debug:Rr=!1}=t,zr=!1;uo(()=>{zr=!0});const ge={},qt=le(ct);P(e,qt,m=>n(33,qe=m));const _n=le(ht);P(e,_n,m=>n(32,Pe=m));const mn=le(Oe);P(e,mn,m=>n(31,_e=m));const Ei=le(Or(vi));P(e,Ei,m=>n(170,he=m));const Mi=le(je);P(e,Mi,m=>n(30,re=m));const Cn=le(ki||je);P(e,Cn,m=>n(29,it=m));const Ri=le(wi);P(e,Ri,m=>n(169,Te=m));const yn=le(Bt(It));P(e,yn,m=>n(28,we=m));const bn=le(Bt(kt));P(e,bn,m=>n(27,J=m));const pn=le(Bt($));P(e,pn,m=>n(26,X=m));const wn=le(Bt(ue));P(e,wn,m=>n(25,I=m));const zi=le(Ke);P(e,zi,m=>n(168,Q=m));const Ni=le(Ce);P(e,Ni,m=>n(167,te=m));const Di=le(Qe);P(e,Di,m=>n(166,V=m));const Pi=le(St);P(e,Pi,m=>n(165,U=m));const Tn=le(Et);P(e,Tn,m=>n(24,D=m));const In=le(He);P(e,In,m=>n(23,N=m));const Ln=le(Xt);P(e,Ln,m=>n(22,G=m));const qn=le(Mt);P(e,qn,m=>n(21,C=m));const jn=le(mi);P(e,jn,m=>n(20,Y=m));const Gn=le(i);P(e,Gn,m=>n(19,A=m));const Bn=le(bi);P(e,Bn,m=>n(18,j=m));const On=le(pi);P(e,On,m=>n(17,q=m));const Hn=le(Je);P(e,Hn,m=>n(16,L=m));const Fn=le(Zt);P(e,Fn,m=>n(15,S=m));const Wn=le(Lt);P(e,Wn,m=>n(14,E=m));const xn=le(Rt);P(e,xn,m=>n(13,w=m));const Ai=le(cn);P(e,Ai,m=>n(164,z=m));const Ci=le(hn);P(e,Ci,m=>n(163,R=m));const Ti=le(dn);P(e,Ti,m=>n(162,v=m));const Ii=le(gn);P(e,Ii,m=>n(161,p=m));const Un=le(lt);P(e,Un,m=>n(160,y=m));const Vn=le($e);P(e,Vn,m=>n(159,b=m));const Yn=le(gi);P(e,Yn,m=>n(158,g=m));const Kn=le(_i);P(e,Kn,m=>n(157,d=m));const Li=le(ge);P(e,Li,m=>n(11,c=m));const qi=le(Si);P(e,qi,m=>n(12,s=m));const ji=Ee([yn,bn,pn,wn],([m,zt,dt,Ie])=>{const Qt={};return m&&(Qt.x=m),zt&&(Qt.y=zt),dt&&(Qt.z=dt),Ie&&(Qt.r=Ie),Qt});P(e,ji,m=>n(10,u=m));const Gi=Ee([Ri,_n,mn],([m])=>Object.assign({top:0,right:0,bottom:0,left:0},m));P(e,Gi,m=>n(37,Ze=m));const Bi=Ee([_n,mn,Gi],([m,zt,dt])=>{const Ie={};return Ie.top=dt.top,Ie.right=m-dt.right,Ie.bottom=zt-dt.bottom,Ie.left=dt.left,Ie.width=Ie.right-Ie.left,Ie.height=Ie.bottom-Ie.top,Ie.width<=0&&zr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),Ie.height<=0&&zr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),Ie});P(e,Bi,m=>n(151,f=m));const jt=Ee([Bi],([m])=>m.width);P(e,jt,m=>n(34,Ue=m));const Gt=Ee([Bi],([m])=>m.height);P(e,Gt,m=>n(35,ve=m));const at=Ee([Cn,ji,Ei,Un,Vn,Kn,Yn],([m,zt,dt,Ie,Qt,rf,lf])=>{const af={x:Ie,y:Qt,r:rf,z:lf},jr=Or(zt,dt),of=Object.fromEntries(Object.keys(jr).map(Gr=>[Gr,af[Gr]]));return Object.keys(jr).length>0?{...Tf(m,jr,of),...dt}:{}});P(e,at,m=>n(38,wt=m));const Oi=Ee([at,zi],xi("x"));P(e,Oi,m=>n(39,st=m));const Hi=Ee([at,Ni],xi("y"));P(e,Hi,m=>n(40,rn=m));const Fi=Ee([at,Di],xi("z"));P(e,Fi,m=>n(41,ln=m));const Wi=Ee([at,Pi],xi("r"));P(e,Wi,m=>n(42,an=m));const Xn=Ee([Un,at,Oi,Hn,Tn,jn,jt,Gt,Ai,qt],Xi("x"));P(e,Xn,m=>n(9,h=m));const Nr=Ee([yn,Xn],Zi);P(e,Nr,m=>n(47,Ut=m));const Zn=Ee([Vn,at,Hi,Fn,In,Gn,jt,Gt,Ci,qt],Xi("y"));P(e,Zn,m=>n(8,o=m));const Dr=Ee([bn,Zn],Zi);P(e,Dr,m=>n(48,fn=m));const Qn=Ee([Yn,at,Fi,Wn,Ln,Bn,jt,Gt,Ti,qt],Xi("z"));P(e,Qn,m=>n(7,a=m));const Pr=Ee([pn,Qn],Zi);P(e,Pr,m=>n(49,Vt=m));const Jn=Ee([Kn,at,Wi,xn,qn,On,jt,Gt,Ii,qt],Xi("r"));P(e,Jn,m=>n(6,l=m));const Ar=Ee([wn,Jn],Zi);P(e,Ar,m=>n(50,un=m));const Cr=Ee([Xn],Qi);P(e,Cr,m=>n(43,rt=m));const Tr=Ee([Zn],Qi);P(e,Tr,m=>n(44,Ve=m));const Ir=Ee([Qn],Qi);P(e,Ir,m=>n(45,on=m));const Lr=Ee([Jn],Qi);P(e,Lr,m=>n(46,Ct=m));const qr=Ee([jt,Gt],([m,zt])=>m/zt);P(e,qr,m=>n(36,Be=m));function tf(m){Pt[m?"unshift":"push"](()=>{Ae=m,n(2,Ae)})}function nf(){ht=this.clientWidth,Oe=this.clientHeight,n(0,ht),n(1,Oe)}return e.$$set=m=>{"ssr"in m&&n(3,vt=m.ssr),"pointerEvents"in m&&n(4,Yt=m.pointerEvents),"position"in m&&n(5,sn=m.position),"percentRange"in m&&n(111,ct=m.percentRange),"width"in m&&n(112,Tt=m.width),"height"in m&&n(113,Kt=m.height),"containerWidth"in m&&n(0,ht=m.containerWidth),"containerHeight"in m&&n(1,Oe=m.containerHeight),"element"in m&&n(2,Ae=m.element),"x"in m&&n(114,It=m.x),"y"in m&&n(115,kt=m.y),"z"in m&&n(116,$=m.z),"r"in m&&n(117,ue=m.r),"data"in m&&n(118,je=m.data),"xDomain"in m&&n(119,Ke=m.xDomain),"yDomain"in m&&n(120,Ce=m.yDomain),"zDomain"in m&&n(121,Qe=m.zDomain),"rDomain"in m&&n(122,St=m.rDomain),"xNice"in m&&n(123,Et=m.xNice),"yNice"in m&&n(124,He=m.yNice),"zNice"in m&&n(125,Xt=m.zNice),"rNice"in m&&n(126,Mt=m.rNice),"xPadding"in m&&n(127,Je=m.xPadding),"yPadding"in m&&n(128,Zt=m.yPadding),"zPadding"in m&&n(129,Lt=m.zPadding),"rPadding"in m&&n(130,Rt=m.rPadding),"xScale"in m&&n(131,lt=m.xScale),"yScale"in m&&n(132,$e=m.yScale),"zScale"in m&&n(133,gi=m.zScale),"rScale"in m&&n(134,_i=m.rScale),"xRange"in m&&n(135,cn=m.xRange),"yRange"in m&&n(136,hn=m.yRange),"zRange"in m&&n(137,dn=m.zRange),"rRange"in m&&n(138,gn=m.rRange),"xReverse"in m&&n(139,mi=m.xReverse),"yReverse"in m&&n(140,yi=m.yReverse),"zReverse"in m&&n(141,bi=m.zReverse),"rReverse"in m&&n(142,pi=m.rReverse),"padding"in m&&n(143,wi=m.padding),"extents"in m&&n(144,vi=m.extents),"flatData"in m&&n(145,ki=m.flatData),"custom"in m&&n(146,Si=m.custom),"debug"in m&&n(147,Rr=m.debug),"$$scope"in m&&n(152,Ye=m.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof yi>"u"?typeof $e.bandwidth!="function":yi),e.$$.dirty[3]&2097152&&It&&n(148,ge.x=It,ge),e.$$.dirty[3]&4194304&&kt&&n(148,ge.y=kt,ge),e.$$.dirty[3]&8388608&&$&&n(148,ge.z=$,ge),e.$$.dirty[3]&16777216&&ue&&n(148,ge.r=ue,ge),e.$$.dirty[3]&67108864&&Ke&&n(148,ge.xDomain=Ke,ge),e.$$.dirty[3]&134217728&&Ce&&n(148,ge.yDomain=Ce,ge),e.$$.dirty[3]&268435456&&Qe&&n(148,ge.zDomain=Qe,ge),e.$$.dirty[3]&536870912&&St&&n(148,ge.rDomain=St,ge),e.$$.dirty[4]&2048&&cn&&n(148,ge.xRange=cn,ge),e.$$.dirty[4]&4096&&hn&&n(148,ge.yRange=hn,ge),e.$$.dirty[4]&8192&&dn&&n(148,ge.zRange=dn,ge),e.$$.dirty[4]&16384&&gn&&n(148,ge.rRange=gn,ge),e.$$.dirty[3]&262144&&ee(qt,qe=ct,qe),e.$$.dirty[0]&1&&ee(_n,Pe=ht,Pe),e.$$.dirty[0]&2&&ee(mn,_e=Oe,_e),e.$$.dirty[4]&1048576&&ee(Ei,he=Or(vi),he),e.$$.dirty[3]&33554432&&ee(Mi,re=je,re),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&ee(Cn,it=ki||je,it),e.$$.dirty[4]&524288&&ee(Ri,Te=wi,Te),e.$$.dirty[3]&2097152&&ee(yn,we=Bt(It),we),e.$$.dirty[3]&4194304&&ee(bn,J=Bt(kt),J),e.$$.dirty[3]&8388608&&ee(pn,X=Bt($),X),e.$$.dirty[3]&16777216&&ee(wn,I=Bt(ue),I),e.$$.dirty[3]&67108864&&ee(zi,Q=Ke,Q),e.$$.dirty[3]&134217728&&ee(Ni,te=Ce,te),e.$$.dirty[3]&268435456&&ee(Di,V=Qe,V),e.$$.dirty[3]&536870912&&ee(Pi,U=St,U),e.$$.dirty[3]&1073741824&&ee(Tn,D=Et,D),e.$$.dirty[4]&1&&ee(In,N=He,N),e.$$.dirty[4]&2&&ee(Ln,G=Xt,G),e.$$.dirty[4]&4&&ee(qn,C=Mt,C),e.$$.dirty[4]&32768&&ee(jn,Y=mi,Y),e.$$.dirty[4]&67108864&&ee(Gn,A=i,A),e.$$.dirty[4]&131072&&ee(Bn,j=bi,j),e.$$.dirty[4]&262144&&ee(On,q=pi,q),e.$$.dirty[4]&8&&ee(Hn,L=Je,L),e.$$.dirty[4]&16&&ee(Fn,S=Zt,S),e.$$.dirty[4]&32&&ee(Wn,E=Lt,E),e.$$.dirty[4]&64&&ee(xn,w=Rt,w),e.$$.dirty[4]&2048&&ee(Ai,z=cn,z),e.$$.dirty[4]&4096&&ee(Ci,R=hn,R),e.$$.dirty[4]&8192&&ee(Ti,v=dn,v),e.$$.dirty[4]&16384&&ee(Ii,p=gn,p),e.$$.dirty[4]&128&&ee(Un,y=lt,y),e.$$.dirty[4]&256&&ee(Vn,b=$e,b),e.$$.dirty[4]&512&&ee(Yn,g=gi,g),e.$$.dirty[4]&1024&&ee(Kn,d=_i,d),e.$$.dirty[4]&4194304&&ee(qi,s=Si,s),e.$$.dirty[4]&16777216&&ee(Li,c=ge,c),e.$$.dirty[4]&33554432&&so("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&f&&Rr===!0&&(vt===!0||typeof window<"u")&&An({boundingBox:f,activeGetters:u,x:ge.x,y:ge.y,z:ge.z,r:ge.r,xScale:h,yScale:o,zScale:a,rScale:l})},n(149,r={activeGetters:ji,width:jt,height:Gt,percentRange:qt,aspectRatio:qr,containerWidth:_n,containerHeight:mn,x:yn,y:bn,z:pn,r:wn,custom:qi,data:Mi,xNice:Tn,yNice:In,zNice:Ln,rNice:qn,xReverse:jn,yReverse:Gn,zReverse:Bn,rReverse:On,xPadding:Hn,yPadding:Fn,zPadding:Wn,rPadding:xn,padding:Gi,flatData:Cn,extents:at,xDomain:Oi,yDomain:Hi,zDomain:Fi,rDomain:Wi,xRange:Cr,yRange:Tr,zRange:Ir,rRange:Lr,config:Li,xScale:Xn,xGet:Nr,yScale:Zn,yGet:Dr,zScale:Qn,zGet:Pr,rScale:Jn,rGet:Ar}),[ht,Oe,Ae,vt,Yt,sn,l,a,o,h,u,c,s,w,E,S,L,q,j,A,Y,C,G,N,D,I,X,J,we,it,re,_e,Pe,qe,Ue,ve,Be,Ze,wt,st,rn,ln,an,rt,Ve,on,Ct,Ut,fn,Vt,un,qt,_n,mn,Ei,Mi,Cn,Ri,yn,bn,pn,wn,zi,Ni,Di,Pi,Tn,In,Ln,qn,jn,Gn,Bn,On,Hn,Fn,Wn,xn,Ai,Ci,Ti,Ii,Un,Vn,Yn,Kn,Li,qi,ji,Gi,Bi,jt,Gt,at,Oi,Hi,Fi,Wi,Xn,Nr,Zn,Dr,Qn,Pr,Jn,Ar,Cr,Tr,Ir,Lr,qr,ct,Tt,Kt,It,kt,$,ue,je,Ke,Ce,Qe,St,Et,He,Xt,Mt,Je,Zt,Lt,Rt,lt,$e,gi,_i,cn,hn,dn,gn,mi,yi,bi,pi,wi,vi,ki,Si,Rr,ge,r,i,f,Ye,Pn,tf,nf]}class wl extends ze{constructor(t){super(),Ne(this,t,Uu,xu,Re,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Vu=e=>({element:e&1}),Ql=e=>({element:e[0]});function Yu(e){let t,n;const i=e[11].default,r=Ht(i,e,e[10],Ql);return{c(){t=F("div"),r&&r.c(),this.h()},l(l){t=W(l,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var a=T(t);r&&r.l(a),a.forEach(k),this.h()},h(){_(t,"class","layercake-layout-html svelte-1bu60uu"),_(t,"role",e[6]),_(t,"aria-label",e[3]),_(t,"aria-labelledby",e[4]),_(t,"aria-describedby",e[5]),x(t,"z-index",e[1]),x(t,"pointer-events",e[2]===!1?"none":null),x(t,"top",e[7].top+"px"),x(t,"right",e[7].right+"px"),x(t,"bottom",e[7].bottom+"px"),x(t,"left",e[7].left+"px")},m(l,a){B(l,t,a),r&&r.m(t,null),e[12](t),n=!0},p(l,[a]){r&&r.p&&(!n||a&1025)&&Ft(r,i,l,l[10],n?xt(i,l[10],a,Vu):Wt(l[10]),Ql),(!n||a&64)&&_(t,"role",l[6]),(!n||a&8)&&_(t,"aria-label",l[3]),(!n||a&16)&&_(t,"aria-labelledby",l[4]),(!n||a&32)&&_(t,"aria-describedby",l[5]),a&2&&x(t,"z-index",l[1]),a&4&&x(t,"pointer-events",l[2]===!1?"none":null),a&128&&x(t,"top",l[7].top+"px"),a&128&&x(t,"right",l[7].right+"px"),a&128&&x(t,"bottom",l[7].bottom+"px"),a&128&&x(t,"left",l[7].left+"px")},i(l){n||(K(r,l),n=!0)},o(l){Z(r,l),n=!1},d(l){l&&k(t),r&&r.d(l),e[12](null)}}}function Ku(e,t,n){let i,r,{$$slots:l={},$$scope:a}=t;const{padding:o}=Xe("LayerCake");P(e,o,y=>n(7,r=y));let{element:h=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:f=void 0}=t,{role:c=void 0}=t,{label:s=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:g=void 0}=t;function b(y){Pt[y?"unshift":"push"](()=>{h=y,n(0,h)})}return e.$$set=y=>{"element"in y&&n(0,h=y.element),"zIndex"in y&&n(1,u=y.zIndex),"pointerEvents"in y&&n(2,f=y.pointerEvents),"role"in y&&n(9,c=y.role),"label"in y&&n(3,s=y.label),"labelledBy"in y&&n(4,d=y.labelledBy),"describedBy"in y&&n(5,g=y.describedBy),"$$scope"in y&&n(10,a=y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=c||(s||d||g?"figure":void 0))},[h,u,f,s,d,g,i,r,o,c,a,l,b]}class Jl extends ze{constructor(t){super(),Ne(this,t,Ku,Yu,Re,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const Xu=e=>({element:e&1}),$l=e=>({element:e[0]}),Zu=e=>({}),ea=e=>({}),Qu=e=>({}),ta=e=>({});function na(e){let t,n;return{c(){t=se("title"),n=O(e[8])},l(i){t=ce(i,"title",{});var r=T(t);n=H(r,e[8]),r.forEach(k)},m(i,r){B(i,t,r),M(t,n)},p(i,r){r&256&&ae(n,i[8])},d(i){i&&k(t)}}}function Ju(e){let t,n=e[8]&&na(e);return{c(){n&&n.c(),t=de()},l(i){n&&n.l(i),t=de()},m(i,r){n&&n.m(i,r),B(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=na(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&k(t),n&&n.d(i)}}}function $u(e){let t,n,i,r,l;const a=e[16].title,o=Ht(a,e,e[15],ta),h=o||Ju(e),u=e[16].defs,f=Ht(u,e,e[15],ea),c=e[16].default,s=Ht(c,e,e[15],$l);return{c(){t=se("svg"),h&&h.c(),n=se("defs"),f&&f.c(),i=se("g"),s&&s.c(),this.h()},l(d){t=ce(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=T(t);h&&h.l(g),n=ce(g,"defs",{});var b=T(n);f&&f.l(b),b.forEach(k),i=ce(g,"g",{class:!0,transform:!0});var y=T(i);s&&s.l(y),y.forEach(k),g.forEach(k),this.h()},h(){_(i,"class","layercake-layout-svg_g"),_(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),_(t,"class","layercake-layout-svg svelte-u84d8d"),_(t,"viewBox",e[4]),_(t,"width",e[9]),_(t,"height",e[10]),_(t,"aria-label",e[5]),_(t,"aria-labelledby",e[6]),_(t,"aria-describedby",e[7]),x(t,"z-index",e[2]),x(t,"pointer-events",e[3]===!1?"none":null)},m(d,g){B(d,t,g),h&&h.m(t,null),M(t,n),f&&f.m(n,null),M(t,i),s&&s.m(i,null),e[17](i),e[18](t),l=!0},p(d,[g]){o?o.p&&(!l||g&32768)&&Ft(o,a,d,d[15],l?xt(a,d[15],g,Qu):Wt(d[15]),ta):h&&h.p&&(!l||g&256)&&h.p(d,l?g:-1),f&&f.p&&(!l||g&32768)&&Ft(f,u,d,d[15],l?xt(u,d[15],g,Zu):Wt(d[15]),ea),s&&s.p&&(!l||g&32769)&&Ft(s,c,d,d[15],l?xt(c,d[15],g,Xu):Wt(d[15]),$l),(!l||g&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&_(i,"transform",r),(!l||g&16)&&_(t,"viewBox",d[4]),(!l||g&512)&&_(t,"width",d[9]),(!l||g&1024)&&_(t,"height",d[10]),(!l||g&32)&&_(t,"aria-label",d[5]),(!l||g&64)&&_(t,"aria-labelledby",d[6]),(!l||g&128)&&_(t,"aria-describedby",d[7]),g&4&&x(t,"z-index",d[2]),g&8&&x(t,"pointer-events",d[3]===!1?"none":null)},i(d){l||(K(h,d),K(f,d),K(s,d),l=!0)},o(d){Z(h,d),Z(f,d),Z(s,d),l=!1},d(d){d&&k(t),h&&h.d(d),f&&f.d(d),s&&s.d(d),e[17](null),e[18](null)}}}function es(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t,{element:h=void 0}=t,{innerElement:u=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:c=void 0}=t,{viewBox:s=void 0}=t,{label:d=void 0}=t,{labelledBy:g=void 0}=t,{describedBy:b=void 0}=t,{title:y=void 0}=t;const{containerWidth:p,containerHeight:v,padding:R}=Xe("LayerCake");P(e,p,E=>n(9,i=E)),P(e,v,E=>n(10,r=E)),P(e,R,E=>n(11,l=E));function z(E){Pt[E?"unshift":"push"](()=>{u=E,n(1,u)})}function w(E){Pt[E?"unshift":"push"](()=>{h=E,n(0,h)})}return e.$$set=E=>{"element"in E&&n(0,h=E.element),"innerElement"in E&&n(1,u=E.innerElement),"zIndex"in E&&n(2,f=E.zIndex),"pointerEvents"in E&&n(3,c=E.pointerEvents),"viewBox"in E&&n(4,s=E.viewBox),"label"in E&&n(5,d=E.label),"labelledBy"in E&&n(6,g=E.labelledBy),"describedBy"in E&&n(7,b=E.describedBy),"title"in E&&n(8,y=E.title),"$$scope"in E&&n(15,o=E.$$scope)},[h,u,f,c,s,d,g,b,y,i,r,l,p,v,R,o,a,z,w]}class vl extends ze{constructor(t){super(),Ne(this,t,es,$u,Re,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Lo(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const ts=e=>({element:e&2,context:e&1}),ia=e=>({element:e[1],context:e[0]}),ns=e=>({}),ra=e=>({});function la(e){let t;return{c(){t=O(e[4])},l(n){t=H(n,e[4])},m(n,i){B(n,t,i)},p(n,i){i&16&&ae(t,n[4])},d(n){n&&k(t)}}}function is(e){let t,n=e[4]&&la(e);return{c(){n&&n.c(),t=de()},l(i){n&&n.l(i),t=de()},m(i,r){n&&n.m(i,r),B(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=la(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&k(t),n&&n.d(i)}}}function rs(e){let t,n,i;const r=e[13].fallback,l=Ht(r,e,e[12],ra),a=l||is(e),o=e[13].default,h=Ht(o,e,e[12],ia);return{c(){t=F("canvas"),a&&a.c(),n=ne(),h&&h.c(),this.h()},l(u){t=W(u,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=T(t);a&&a.l(f),f.forEach(k),n=ie(u),h&&h.l(u),this.h()},h(){_(t,"class","layercake-layout-canvas"),x(t,"width","100%"),x(t,"height","100%"),x(t,"position","absolute"),_(t,"aria-label",e[5]),_(t,"aria-labelledby",e[6]),_(t,"aria-describedby",e[7]),x(t,"z-index",e[2]),x(t,"pointer-events",e[3]===!1?"none":null),x(t,"top",e[8].top+"px"),x(t,"right",e[8].right+"px"),x(t,"bottom",e[8].bottom+"px"),x(t,"left",e[8].left+"px")},m(u,f){B(u,t,f),a&&a.m(t,null),e[14](t),B(u,n,f),h&&h.m(u,f),i=!0},p(u,[f]){l?l.p&&(!i||f&4096)&&Ft(l,r,u,u[12],i?xt(r,u[12],f,ns):Wt(u[12]),ra):a&&a.p&&(!i||f&16)&&a.p(u,i?f:-1),(!i||f&32)&&_(t,"aria-label",u[5]),(!i||f&64)&&_(t,"aria-labelledby",u[6]),(!i||f&128)&&_(t,"aria-describedby",u[7]),f&4&&x(t,"z-index",u[2]),f&8&&x(t,"pointer-events",u[3]===!1?"none":null),f&256&&x(t,"top",u[8].top+"px"),f&256&&x(t,"right",u[8].right+"px"),f&256&&x(t,"bottom",u[8].bottom+"px"),f&256&&x(t,"left",u[8].left+"px"),h&&h.p&&(!i||f&4099)&&Ft(h,o,u,u[12],i?xt(o,u[12],f,ts):Wt(u[12]),ia)},i(u){i||(K(a,u),K(h,u),i=!0)},o(u){Z(a,u),Z(h,u),i=!1},d(u){u&&(k(t),k(n)),a&&a.d(u),e[14](null),h&&h.d(u)}}}function ls(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t;const{width:h,height:u,padding:f}=Xe("LayerCake");P(e,h,w=>n(16,r=w)),P(e,u,w=>n(15,i=w)),P(e,f,w=>n(8,l=w));let{element:c=void 0}=t,{context:s=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:g=void 0}=t,{fallback:b=""}=t,{label:y=void 0}=t,{labelledBy:p=void 0}=t,{describedBy:v=void 0}=t;const R={ctx:le({})};uo(()=>{n(0,s=c.getContext("2d")),Lo(s,r,i)}),so("canvas",R);function z(w){Pt[w?"unshift":"push"](()=>{c=w,n(1,c)})}return e.$$set=w=>{"element"in w&&n(1,c=w.element),"context"in w&&n(0,s=w.context),"zIndex"in w&&n(2,d=w.zIndex),"pointerEvents"in w&&n(3,g=w.pointerEvents),"fallback"in w&&n(4,b=w.fallback),"label"in w&&n(5,y=w.label),"labelledBy"in w&&n(6,p=w.labelledBy),"describedBy"in w&&n(7,v=w.describedBy),"$$scope"in w&&n(12,o=w.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&R.ctx.set(s)},[s,c,d,g,b,y,p,v,l,h,u,f,o,a,z]}class as extends ze{constructor(t){super(),Ne(this,t,ls,rs,Re,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function os(e){e.nextSibling&&e.parentNode.appendChild(e)}function fs(e){return e}function us(e){if(e==null)return fs;var t,n,i=e.scale[0],r=e.scale[1],l=e.translate[0],a=e.translate[1];return function(o,h){h||(t=n=0);var u=2,f=o.length,c=new Array(f);for(c[0]=(t+=o[0])*i+l,c[1]=(n+=o[1])*r+a;u<f;)c[u]=o[u],++u;return c}}function ss(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function cs(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return aa(e,n)})}:aa(e,t)}function aa(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,l=hs(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function hs(e,t){var n=us(e.transform),i=e.arcs;function r(f,c){c.length&&c.pop();for(var s=i[f<0?~f:f],d=0,g=s.length;d<g;++d)c.push(n(s[d],d));f<0&&ss(c,g)}function l(f){return n(f)}function a(f){for(var c=[],s=0,d=f.length;s<d;++s)r(f[s],c);return c.length<2&&c.push(c[0]),c}function o(f){for(var c=a(f);c.length<4;)c.push(c[0]);return c}function h(f){return f.map(o)}function u(f){var c=f.type,s;switch(c){case"GeometryCollection":return{type:c,geometries:f.geometries.map(u)};case"Point":s=l(f.coordinates);break;case"MultiPoint":s=f.coordinates.map(l);break;case"LineString":s=a(f.arcs);break;case"MultiLineString":s=f.arcs.map(a);break;case"Polygon":s=h(f.arcs);break;case"MultiPolygon":s=f.arcs.map(h);break;default:return null}return{type:c,coordinates:s}}return u(t)}var fe=1e-6,ds=1e-12,oe=Math.PI,et=oe/2,oa=oe/4,nt=oe*2,ot=180/oe,We=oe/180,Se=Math.abs,gs=Math.atan,zn=Math.atan2,Me=Math.cos,ke=Math.sin,ir=Math.sign||function(e){return e>0?1:e<0?-1:0},At=Math.sqrt;function _s(e){return e>1?0:e<-1?oe:Math.acos(e)}function tn(e){return e>1?et:e<-1?-et:Math.asin(e)}function tt(){}function gr(e,t){e&&ua.hasOwnProperty(e.type)&&ua[e.type](e,t)}var fa={Feature:function(e,t){gr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)gr(n[i].geometry,t)}},ua={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Zr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Zr(n[i],t,0)},Polygon:function(e,t){sa(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)sa(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)gr(n[i],t)}};function Zr(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function sa(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Zr(e[n],t,1);t.polygonEnd()}function vn(e,t){e&&fa.hasOwnProperty(e.type)?fa[e.type](e,t):gr(e,t)}function Qr(e){return[zn(e[1],e[0]),tn(e[2])]}function Nn(e){var t=e[0],n=e[1],i=Me(n);return[i*Me(t),i*ke(t),ke(n)]}function Ji(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _r(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Wr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $i(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Jr(e){var t=At(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function $r(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function el(e,t){return Se(e)>oe&&(e-=Math.round(e/nt)*nt),[e,t]}el.invert=el;function ms(e,t,n){return(e%=nt)?t||n?$r(ha(e),da(t,n)):ha(e):t||n?da(t,n):el}function ca(e){return function(t,n){return t+=e,Se(t)>oe&&(t-=Math.round(t/nt)*nt),[t,n]}}function ha(e){var t=ca(e);return t.invert=ca(-e),t}function da(e,t){var n=Me(e),i=ke(e),r=Me(t),l=ke(t);function a(o,h){var u=Me(h),f=Me(o)*u,c=ke(o)*u,s=ke(h),d=s*n+f*i;return[zn(c*r-d*l,f*n-s*i),tn(d*r+c*l)]}return a.invert=function(o,h){var u=Me(h),f=Me(o)*u,c=ke(o)*u,s=ke(h),d=s*r-c*l;return[zn(c*r+s*l,f*n+d*i),tn(d*n-f*i)]},a}function ys(e,t,n,i,r,l){if(n){var a=Me(t),o=ke(t),h=i*n;r==null?(r=t+i*nt,l=t-h/2):(r=ga(a,r),l=ga(a,l),(i>0?r<l:r>l)&&(r+=i*nt));for(var u,f=r;i>0?f>l:f<l;f-=h)u=Qr([a,-o*Me(f),-o*ke(f)]),e.point(u[0],u[1])}}function ga(e,t){t=Nn(t),t[0]-=e,Jr(t);var n=_s(-t[1]);return((-t[2]<0?-n:n)+nt-fe)%nt}function qo(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:tt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function rr(e,t){return Se(e[0]-t[0])<fe&&Se(e[1]-t[1])<fe}function er(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function jo(e,t,n,i,r){var l=[],a=[],o,h;if(e.forEach(function(g){if(!((b=g.length-1)<=0)){var b,y=g[0],p=g[b],v;if(rr(y,p)){if(!y[2]&&!p[2]){for(r.lineStart(),o=0;o<b;++o)r.point((y=g[o])[0],y[1]);r.lineEnd();return}p[0]+=2*fe}l.push(v=new er(y,g,null,!0)),a.push(v.o=new er(y,null,v,!1)),l.push(v=new er(p,g,null,!1)),a.push(v.o=new er(p,null,v,!0))}}),!!l.length){for(a.sort(t),_a(l),_a(a),o=0,h=a.length;o<h;++o)a[o].e=n=!n;for(var u=l[0],f,c;;){for(var s=u,d=!0;s.v;)if((s=s.n)===u)return;f=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(d)for(o=0,h=f.length;o<h;++o)r.point((c=f[o])[0],c[1]);else i(s.x,s.n.x,1,r);s=s.n}else{if(d)for(f=s.p.z,o=f.length-1;o>=0;--o)r.point((c=f[o])[0],c[1]);else i(s.x,s.p.x,-1,r);s=s.p}s=s.o,f=s.z,d=!d}while(!s.v);r.lineEnd()}}}function _a(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function xr(e){return Se(e[0])<=oe?e[0]:ir(e[0])*((Se(e[0])+oe)%nt-oe)}function bs(e,t){var n=xr(t),i=t[1],r=ke(i),l=[ke(n),-Me(n),0],a=0,o=0,h=new en;r===1?i=et+fe:r===-1&&(i=-et-fe);for(var u=0,f=e.length;u<f;++u)if(s=(c=e[u]).length)for(var c,s,d=c[s-1],g=xr(d),b=d[1]/2+oa,y=ke(b),p=Me(b),v=0;v<s;++v,g=z,y=E,p=S,d=R){var R=c[v],z=xr(R),w=R[1]/2+oa,E=ke(w),S=Me(w),L=z-g,q=L>=0?1:-1,j=q*L,A=j>oe,Y=y*E;if(h.add(zn(Y*q*ke(j),p*S+Y*Me(j))),a+=A?L+q*nt:L,A^g>=n^z>=n){var C=_r(Nn(d),Nn(R));Jr(C);var G=_r(l,C);Jr(G);var N=(A^L>=0?-1:1)*tn(G[2]);(i>N||i===N&&(C[0]||C[1]))&&(o+=A^L>=0?1:-1)}}return(a<-fe||a<fe&&h<-ds)^o&1}function Go(e,t,n,i){return function(r){var l=t(r),a=qo(),o=t(a),h=!1,u,f,c,s={point:d,lineStart:b,lineEnd:y,polygonStart:function(){s.point=p,s.lineStart=v,s.lineEnd=R,f=[],u=[]},polygonEnd:function(){s.point=d,s.lineStart=b,s.lineEnd=y,f=po(f);var z=bs(u,i);f.length?(h||(r.polygonStart(),h=!0),jo(f,ws,z,n,r)):z&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(z,w){e(z,w)&&r.point(z,w)}function g(z,w){l.point(z,w)}function b(){s.point=g,l.lineStart()}function y(){s.point=d,l.lineEnd()}function p(z,w){c.push([z,w]),o.point(z,w)}function v(){o.lineStart(),c=[]}function R(){p(c[0][0],c[0][1]),o.lineEnd();var z=o.clean(),w=a.result(),E,S=w.length,L,q,j;if(c.pop(),u.push(c),c=null,!!S){if(z&1){if(q=w[0],(L=q.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),E=0;E<L;++E)r.point((j=q[E])[0],j[1]);r.lineEnd()}return}S>1&&z&2&&w.push(w.pop().concat(w.shift())),f.push(w.filter(ps))}}return s}}function ps(e){return e.length>1}function ws(e,t){return((e=e.x)[0]<0?e[1]-et-fe:et-e[1])-((t=t.x)[0]<0?t[1]-et-fe:et-t[1])}const ma=Go(function(){return!0},vs,Ss,[-oe,-et]);function vs(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,a){var o=l>0?oe:-oe,h=Se(l-t);Se(h-oe)<fe?(e.point(t,n=(n+a)/2>0?et:-et),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(l,n),r=0):i!==o&&h>=oe&&(Se(t-i)<fe&&(t-=i*fe),Se(l-o)<fe&&(l-=o*fe),n=ks(t,n,l,a),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),r=0),e.point(t=l,n=a),i=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function ks(e,t,n,i){var r,l,a=ke(e-n);return Se(a)>fe?gs((ke(t)*(l=Me(i))*ke(n)-ke(i)*(r=Me(t))*ke(e))/(r*l*a)):(t+i)/2}function Ss(e,t,n,i){var r;if(e==null)r=n*et,i.point(-oe,r),i.point(0,r),i.point(oe,r),i.point(oe,0),i.point(oe,-r),i.point(0,-r),i.point(-oe,-r),i.point(-oe,0),i.point(-oe,r);else if(Se(e[0]-t[0])>fe){var l=e[0]<t[0]?oe:-oe;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function Es(e){var t=Me(e),n=6*We,i=t>0,r=Se(t)>fe;function l(f,c,s,d){ys(d,e,n,s,f,c)}function a(f,c){return Me(f)*Me(c)>t}function o(f){var c,s,d,g,b;return{lineStart:function(){g=d=!1,b=1},point:function(y,p){var v=[y,p],R,z=a(y,p),w=i?z?0:u(y,p):z?u(y+(y<0?oe:-oe),p):0;if(!c&&(g=d=z)&&f.lineStart(),z!==d&&(R=h(c,v),(!R||rr(c,R)||rr(v,R))&&(v[2]=1)),z!==d)b=0,z?(f.lineStart(),R=h(v,c),f.point(R[0],R[1])):(R=h(c,v),f.point(R[0],R[1],2),f.lineEnd()),c=R;else if(r&&c&&i^z){var E;!(w&s)&&(E=h(v,c,!0))&&(b=0,i?(f.lineStart(),f.point(E[0][0],E[0][1]),f.point(E[1][0],E[1][1]),f.lineEnd()):(f.point(E[1][0],E[1][1]),f.lineEnd(),f.lineStart(),f.point(E[0][0],E[0][1],3)))}z&&(!c||!rr(c,v))&&f.point(v[0],v[1]),c=v,d=z,s=w},lineEnd:function(){d&&f.lineEnd(),c=null},clean:function(){return b|(g&&d)<<1}}}function h(f,c,s){var d=Nn(f),g=Nn(c),b=[1,0,0],y=_r(d,g),p=Ji(y,y),v=y[0],R=p-v*v;if(!R)return!s&&f;var z=t*p/R,w=-t*v/R,E=_r(b,y),S=$i(b,z),L=$i(y,w);Wr(S,L);var q=E,j=Ji(S,q),A=Ji(q,q),Y=j*j-A*(Ji(S,S)-1);if(!(Y<0)){var C=At(Y),G=$i(q,(-j-C)/A);if(Wr(G,S),G=Qr(G),!s)return G;var N=f[0],D=c[0],U=f[1],V=c[1],te;D<N&&(te=N,N=D,D=te);var Q=D-N,I=Se(Q-oe)<fe,X=I||Q<fe;if(!I&&V<U&&(te=U,U=V,V=te),X?I?U+V>0^G[1]<(Se(G[0]-N)<fe?U:V):U<=G[1]&&G[1]<=V:Q>oe^(N<=G[0]&&G[0]<=D)){var J=$i(q,(-j+C)/A);return Wr(J,S),[G,Qr(J)]}}}function u(f,c){var s=i?e:oe-e,d=0;return f<-s?d|=1:f>s&&(d|=2),c<-s?d|=4:c>s&&(d|=8),d}return Go(a,o,l,i?[0,-e]:[-oe,e-oe])}function Ms(e,t,n,i,r,l){var a=e[0],o=e[1],h=t[0],u=t[1],f=0,c=1,s=h-a,d=u-o,g;if(g=n-a,!(!s&&g>0)){if(g/=s,s<0){if(g<f)return;g<c&&(c=g)}else if(s>0){if(g>c)return;g>f&&(f=g)}if(g=r-a,!(!s&&g<0)){if(g/=s,s<0){if(g>c)return;g>f&&(f=g)}else if(s>0){if(g<f)return;g<c&&(c=g)}if(g=i-o,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<c&&(c=g)}else if(d>0){if(g>c)return;g>f&&(f=g)}if(g=l-o,!(!d&&g<0)){if(g/=d,d<0){if(g>c)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<c&&(c=g)}return f>0&&(e[0]=a+f*s,e[1]=o+f*d),c<1&&(t[0]=a+c*s,t[1]=o+c*d),!0}}}}}var ni=1e9,tr=-ni;function Rs(e,t,n,i){function r(u,f){return e<=u&&u<=n&&t<=f&&f<=i}function l(u,f,c,s){var d=0,g=0;if(u==null||(d=a(u,c))!==(g=a(f,c))||h(u,f)<0^c>0)do s.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+c+4)%4)!==g);else s.point(f[0],f[1])}function a(u,f){return Se(u[0]-e)<fe?f>0?0:3:Se(u[0]-n)<fe?f>0?2:1:Se(u[1]-t)<fe?f>0?1:0:f>0?3:2}function o(u,f){return h(u.x,f.x)}function h(u,f){var c=a(u,1),s=a(f,1);return c!==s?c-s:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=qo(),s,d,g,b,y,p,v,R,z,w,E,S={point:L,lineStart:Y,lineEnd:C,polygonStart:j,polygonEnd:A};function L(N,D){r(N,D)&&f.point(N,D)}function q(){for(var N=0,D=0,U=d.length;D<U;++D)for(var V=d[D],te=1,Q=V.length,I=V[0],X,J,we=I[0],Te=I[1];te<Q;++te)X=we,J=Te,I=V[te],we=I[0],Te=I[1],J<=i?Te>i&&(we-X)*(i-J)>(Te-J)*(e-X)&&++N:Te<=i&&(we-X)*(i-J)<(Te-J)*(e-X)&&--N;return N}function j(){f=c,s=[],d=[],E=!0}function A(){var N=q(),D=E&&N,U=(s=po(s)).length;(D||U)&&(u.polygonStart(),D&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),U&&jo(s,o,N,l,u),u.polygonEnd()),f=u,s=d=g=null}function Y(){S.point=G,d&&d.push(g=[]),w=!0,z=!1,v=R=NaN}function C(){s&&(G(b,y),p&&z&&c.rejoin(),s.push(c.result())),S.point=L,z&&f.lineEnd()}function G(N,D){var U=r(N,D);if(d&&g.push([N,D]),w)b=N,y=D,p=U,w=!1,U&&(f.lineStart(),f.point(N,D));else if(U&&z)f.point(N,D);else{var V=[v=Math.max(tr,Math.min(ni,v)),R=Math.max(tr,Math.min(ni,R))],te=[N=Math.max(tr,Math.min(ni,N)),D=Math.max(tr,Math.min(ni,D))];Ms(V,te,e,t,n,i)?(z||(f.lineStart(),f.point(V[0],V[1])),f.point(te[0],te[1]),U||f.lineEnd(),E=!1):U&&(f.lineStart(),f.point(N,D),E=!1)}v=N,R=D,z=U}return S}}const tl=e=>e;var Ur=new en,nl=new en,Bo,Oo,il,rl,Ot={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){Ot.lineStart=zs,Ot.lineEnd=Ds},polygonEnd:function(){Ot.lineStart=Ot.lineEnd=Ot.point=tt,Ur.add(Se(nl)),nl=new en},result:function(){var e=Ur/2;return Ur=new en,e}};function zs(){Ot.point=Ns}function Ns(e,t){Ot.point=Ho,Bo=il=e,Oo=rl=t}function Ho(e,t){nl.add(rl*e-il*t),il=e,rl=t}function Ds(){Ho(Bo,Oo)}const ya=Ot;var Dn=1/0,mr=Dn,si=-Dn,yr=si,Ps={point:As,lineStart:tt,lineEnd:tt,polygonStart:tt,polygonEnd:tt,result:function(){var e=[[Dn,mr],[si,yr]];return si=yr=-(mr=Dn=1/0),e}};function As(e,t){e<Dn&&(Dn=e),e>si&&(si=e),t<mr&&(mr=t),t>yr&&(yr=t)}const br=Ps;var ll=0,al=0,ii=0,pr=0,wr=0,Sn=0,ol=0,fl=0,ri=0,Fo,Wo,_t,mt,ut={point:nn,lineStart:ba,lineEnd:pa,polygonStart:function(){ut.lineStart=Is,ut.lineEnd=Ls},polygonEnd:function(){ut.point=nn,ut.lineStart=ba,ut.lineEnd=pa},result:function(){var e=ri?[ol/ri,fl/ri]:Sn?[pr/Sn,wr/Sn]:ii?[ll/ii,al/ii]:[NaN,NaN];return ll=al=ii=pr=wr=Sn=ol=fl=ri=0,e}};function nn(e,t){ll+=e,al+=t,++ii}function ba(){ut.point=Cs}function Cs(e,t){ut.point=Ts,nn(_t=e,mt=t)}function Ts(e,t){var n=e-_t,i=t-mt,r=At(n*n+i*i);pr+=r*(_t+e)/2,wr+=r*(mt+t)/2,Sn+=r,nn(_t=e,mt=t)}function pa(){ut.point=nn}function Is(){ut.point=qs}function Ls(){xo(Fo,Wo)}function qs(e,t){ut.point=xo,nn(Fo=_t=e,Wo=mt=t)}function xo(e,t){var n=e-_t,i=t-mt,r=At(n*n+i*i);pr+=r*(_t+e)/2,wr+=r*(mt+t)/2,Sn+=r,r=mt*e-_t*t,ol+=r*(_t+e),fl+=r*(mt+t),ri+=r*3,nn(_t=e,mt=t)}const wa=ut;function Uo(e){this._context=e}Uo.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,nt);break}}},result:tt};var ul=new en,Vr,Vo,Yo,li,ai,vr={point:tt,lineStart:function(){vr.point=js},lineEnd:function(){Vr&&Ko(Vo,Yo),vr.point=tt},polygonStart:function(){Vr=!0},polygonEnd:function(){Vr=null},result:function(){var e=+ul;return ul=new en,e}};function js(e,t){vr.point=Ko,Vo=li=e,Yo=ai=t}function Ko(e,t){li-=e,ai-=t,ul.add(At(li*li+ai*ai)),li=e,ai=t}const va=vr;let ka,kr,Sa,Ea;class Ma{constructor(t){this._append=t==null?Xo:Gs(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Sa||this._append!==kr){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Sa=i,kr=this._append,Ea=this._,this._=r}this._+=Ea;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Xo(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Gs(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Xo;if(t!==ka){const n=10**t;ka=t,kr=function(r){let l=1;this._+=r[0];for(const a=r.length;l<a;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return kr}function Ra(e,t){let n=3,i=4.5,r,l;function a(o){return o&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),vn(o,r(l))),l.result()}return a.area=function(o){return vn(o,r(ya)),ya.result()},a.measure=function(o){return vn(o,r(va)),va.result()},a.bounds=function(o){return vn(o,r(br)),br.result()},a.centroid=function(o){return vn(o,r(wa)),wa.result()},a.projection=function(o){return arguments.length?(r=o==null?(e=null,tl):(e=o).stream,a):e},a.context=function(o){return arguments.length?(l=o==null?(t=null,new Ma(n)):new Uo(t=o),typeof i!="function"&&l.pointRadius(i),a):t},a.pointRadius=function(o){return arguments.length?(i=typeof o=="function"?o:(l.pointRadius(+o),+o),a):i},a.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const h=Math.floor(o);if(!(h>=0))throw new RangeError(`invalid digits: ${o}`);n=h}return t===null&&(l=new Ma(n)),a},a.projection(e).digits(n).context(t)}function kl(e){return function(t){var n=new sl;for(var i in e)n[i]=e[i];return n.stream=t,n}}function sl(){}sl.prototype={constructor:sl,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Sl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),vn(n,e.stream(br)),t(br.result()),i!=null&&e.clipExtent(i),e}function El(e,t,n){return Sl(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),o=+t[0][0]+(r-a*(i[1][0]+i[0][0]))/2,h=+t[0][1]+(l-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([o,h])},n)}function Zo(e,t,n){return El(e,[[0,0],t],n)}function Qo(e,t,n){return Sl(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),a=(r-l*(i[1][0]+i[0][0]))/2,o=-l*i[0][1];e.scale(150*l).translate([a,o])},n)}function Jo(e,t,n){return Sl(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),a=-l*i[0][0],o=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([a,o])},n)}var za=16,Bs=Me(30*We);function Na(e,t){return+t?Hs(e,t):Os(e)}function Os(e){return kl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Hs(e,t){function n(i,r,l,a,o,h,u,f,c,s,d,g,b,y){var p=u-i,v=f-r,R=p*p+v*v;if(R>4*t&&b--){var z=a+s,w=o+d,E=h+g,S=At(z*z+w*w+E*E),L=tn(E/=S),q=Se(Se(E)-1)<fe||Se(l-c)<fe?(l+c)/2:zn(w,z),j=e(q,L),A=j[0],Y=j[1],C=A-i,G=Y-r,N=v*C-p*G;(N*N/R>t||Se((p*C+v*G)/R-.5)>.3||a*s+o*d+h*g<Bs)&&(n(i,r,l,a,o,h,A,Y,q,z/=S,w/=S,E,b,y),y.point(A,Y),n(A,Y,q,z,w,E,u,f,c,s,d,g,b,y))}}return function(i){var r,l,a,o,h,u,f,c,s,d,g,b,y={point:p,lineStart:v,lineEnd:z,polygonStart:function(){i.polygonStart(),y.lineStart=w},polygonEnd:function(){i.polygonEnd(),y.lineStart=v}};function p(L,q){L=e(L,q),i.point(L[0],L[1])}function v(){c=NaN,y.point=R,i.lineStart()}function R(L,q){var j=Nn([L,q]),A=e(L,q);n(c,s,f,d,g,b,c=A[0],s=A[1],f=L,d=j[0],g=j[1],b=j[2],za,i),i.point(c,s)}function z(){y.point=p,i.lineEnd()}function w(){v(),y.point=E,y.lineEnd=S}function E(L,q){R(r=L,q),l=c,a=s,o=d,h=g,u=b,y.point=R}function S(){n(c,s,f,d,g,b,l,a,r,o,h,u,za,i),y.lineEnd=z,z()}return y}}var Fs=kl({point:function(e,t){this.stream.point(e*We,t*We)}});function Ws(e){return kl({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function xs(e,t,n,i,r){function l(a,o){return a*=i,o*=r,[t+e*a,n-e*o]}return l.invert=function(a,o){return[(a-t)/e*i,(n-o)/e*r]},l}function Da(e,t,n,i,r,l){if(!l)return xs(e,t,n,i,r);var a=Me(l),o=ke(l),h=a*e,u=o*e,f=a/e,c=o/e,s=(o*n-a*t)/e,d=(o*t+a*n)/e;function g(b,y){return b*=i,y*=r,[h*b-u*y+t,n-u*b-h*y]}return g.invert=function(b,y){return[i*(f*b-c*y+s),r*(d-c*b-f*y)]},g}function Us(e){var t,n=150,i=480,r=250,l=0,a=0,o=0,h=0,u=0,f,c=0,s=1,d=1,g=null,b=ma,y=null,p,v,R,z=tl,w=.5,E,S,L,q,j;function A(N){return L(N[0]*We,N[1]*We)}function Y(N){return N=L.invert(N[0],N[1]),N&&[N[0]*ot,N[1]*ot]}A.stream=function(N){return q&&j===N?q:q=Fs(Ws(f)(b(E(z(j=N)))))},A.preclip=function(N){return arguments.length?(b=N,g=void 0,G()):b},A.postclip=function(N){return arguments.length?(z=N,y=p=v=R=null,G()):z},A.clipAngle=function(N){return arguments.length?(b=+N?Es(g=N*We):(g=null,ma),G()):g*ot},A.clipExtent=function(N){return arguments.length?(z=N==null?(y=p=v=R=null,tl):Rs(y=+N[0][0],p=+N[0][1],v=+N[1][0],R=+N[1][1]),G()):y==null?null:[[y,p],[v,R]]},A.scale=function(N){return arguments.length?(n=+N,C()):n},A.translate=function(N){return arguments.length?(i=+N[0],r=+N[1],C()):[i,r]},A.center=function(N){return arguments.length?(l=N[0]%360*We,a=N[1]%360*We,C()):[l*ot,a*ot]},A.rotate=function(N){return arguments.length?(o=N[0]%360*We,h=N[1]%360*We,u=N.length>2?N[2]%360*We:0,C()):[o*ot,h*ot,u*ot]},A.angle=function(N){return arguments.length?(c=N%360*We,C()):c*ot},A.reflectX=function(N){return arguments.length?(s=N?-1:1,C()):s<0},A.reflectY=function(N){return arguments.length?(d=N?-1:1,C()):d<0},A.precision=function(N){return arguments.length?(E=Na(S,w=N*N),G()):At(w)},A.fitExtent=function(N,D){return El(A,N,D)},A.fitSize=function(N,D){return Zo(A,N,D)},A.fitWidth=function(N,D){return Qo(A,N,D)},A.fitHeight=function(N,D){return Jo(A,N,D)};function C(){var N=Da(n,0,0,s,d,c).apply(null,t(l,a)),D=Da(n,i-N[0],r-N[1],s,d,c);return f=ms(o,h,u),S=$r(t,D),L=$r(f,S),E=Na(S,w),G()}function G(){return q=j=null,A}return function(){return t=e.apply(this,arguments),A.invert=t.invert&&Y,C()}}function Vs(e){var t=0,n=oe/3,i=Us(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*We,n=l[1]*We):[t*ot,n*ot]},r}function Ys(e){var t=Me(e);function n(i,r){return[i*t,ke(r)/t]}return n.invert=function(i,r){return[i/t,tn(r*t)]},n}function Ks(e,t){var n=ke(e),i=(n+ke(t))/2;if(Se(i)<fe)return Ys(e);var r=1+n*(2*i-n),l=At(r)/i;function a(o,h){var u=At(r-2*i*ke(h))/i;return[u*ke(o*=i),l-u*Me(o)]}return a.invert=function(o,h){var u=l-h,f=zn(o,Se(u))*ir(u);return u*i<0&&(f-=oe*ir(o)*ir(u)),[f/i,tn((r-(o*o+u*u)*i*i)/(2*i))]},a}function cl(){return Vs(Ks).scale(155.424).center([0,33.6442])}function Xs(){return cl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Zs(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Qs(){var e,t,n=Xs(),i,r=cl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,a=cl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,h,u={point:function(s,d){h=[s,d]}};function f(s){var d=s[0],g=s[1];return h=null,i.point(d,g),h||(l.point(d,g),h)||(o.point(d,g),h)}f.invert=function(s){var d=n.scale(),g=n.translate(),b=(s[0]-g[0])/d,y=(s[1]-g[1])/d;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?r:y>=.166&&y<.234&&b>=-.214&&b<-.115?a:n).invert(s)},f.stream=function(s){return e&&t===s?e:e=Zs([n.stream(t=s),r.stream(s),a.stream(s)])},f.precision=function(s){return arguments.length?(n.precision(s),r.precision(s),a.precision(s),c()):n.precision()},f.scale=function(s){return arguments.length?(n.scale(s),r.scale(s*.35),a.scale(s),f.translate(n.translate())):n.scale()},f.translate=function(s){if(!arguments.length)return n.translate();var d=n.scale(),g=+s[0],b=+s[1];return i=n.translate(s).clipExtent([[g-.455*d,b-.238*d],[g+.455*d,b+.238*d]]).stream(u),l=r.translate([g-.307*d,b+.201*d]).clipExtent([[g-.425*d+fe,b+.12*d+fe],[g-.214*d-fe,b+.234*d-fe]]).stream(u),o=a.translate([g-.205*d,b+.212*d]).clipExtent([[g-.214*d+fe,b+.166*d+fe],[g-.115*d-fe,b+.234*d-fe]]).stream(u),c()},f.fitExtent=function(s,d){return El(f,s,d)},f.fitSize=function(s,d){return Zo(f,s,d)},f.fitWidth=function(s,d){return Qo(f,s,d)},f.fitHeight=function(s,d){return Jo(f,s,d)};function c(){return e=t=null,f}return f.scale(1070)}function Js(e,t,n){let i,r,l,a,o,h,u,f;const{data:c,width:s,height:d,zGet:g}=Xe("LayerCake");P(e,c,w=>n(17,f=w)),P(e,s,w=>n(16,u=w)),P(e,d,w=>n(15,h=w)),P(e,g,w=>n(14,o=w));const{ctx:b}=Xe("canvas");P(e,b,w=>n(13,a=w));let{projection:y}=t,{stroke:p="#ccc"}=t,{strokeWidth:v=1}=t,{fill:R=void 0}=t,{features:z=void 0}=t;return e.$$set=w=>{"projection"in w&&n(5,y=w.projection),"stroke"in w&&n(6,p=w.stroke),"strokeWidth"in w&&n(7,v=w.strokeWidth),"fill"in w&&n(8,R=w.fill),"features"in w&&n(9,z=w.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=y().fitSize([u,h],f)),e.$$.dirty&4096&&n(10,r=Ra(i)),e.$$.dirty&131584&&n(11,l=z||f.features),e.$$.dirty&126400&&a&&Ra&&(Lo(a,u,h),a.clearRect(0,0,u,h),l.forEach(w=>{a.beginPath(),r.context(a),r(w),ee(b,a.fillStyle=R||o(w.properties),a),a.fill(),ee(b,a.lineWidth=v,a),ee(b,a.strokeStyle=p,a),a.stroke()}))},[c,s,d,g,b,y,p,v,R,z,r,l,i,a,o,h,u,f]}class $s extends ze{constructor(t){super(),Ne(this,t,Js,null,Re,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function Pa(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function Aa(e){let t=[],n=new Map,i,r=Ge(e[4]);const l=a=>`${a[29].ori}-${a[29].name}`;for(let a=0;a<r.length;a+=1){let o=Pa(e,r,a),h=l(o);n.set(h,t[a]=Ta(h,o))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();i=de()},l(a){for(let o=0;o<t.length;o+=1)t[o].l(a);i=de()},m(a,o){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(a,o);B(a,i,o)},p(a,o){o[0]&98815&&(r=Ge(a[4]),t=gl(t,o,l,1,a,r,n,i.parentNode,dl,Ta,i,Pa))},d(a){a&&k(i);for(let o=0;o<t.length;o+=1)t[o].d(a)}}}function Ca(e){let t,n,i,r,l,a,o;function h(...c){return e[22](e[29],...c)}function u(...c){return e[23](e[29],...c)}function f(...c){return e[24](e[29],...c)}return{c(){t=se("circle"),this.h()},l(c){t=ce(c,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),T(t).forEach(k),this.h()},h(){_(t,"cx",n=e[30][0]),_(t,"cy",i=e[30][1]),_(t,"r",r=e[7](Math.abs(e[8](e[29])))),_(t,"fill",l=e[0](e[29])),_(t,"stroke",e[1]),_(t,"stroke-width",e[2]),_(t,"opacity",e[3])},m(c,s){B(c,t,s),a||(o=[Le(t,"mouseover",h),Le(t,"focus",u),Le(t,"mousemove",function(){hl(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),Le(t,"click",f)],a=!0)},p(c,s){e=c,s[0]&48&&n!==(n=e[30][0])&&_(t,"cx",n),s[0]&48&&i!==(i=e[30][1])&&_(t,"cy",i),s[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&_(t,"r",r),s[0]&17&&l!==(l=e[0](e[29]))&&_(t,"fill",l),s[0]&2&&_(t,"stroke",e[1]),s[0]&4&&_(t,"stroke-width",e[2]),s[0]&8&&_(t,"opacity",e[3])},d(c){c&&k(t),a=!1,ci(o)}}}function Ta(e,t){let n,i=!isNaN(t[6](t[29])),r,l=i&&Ca(t);return{key:e,first:null,c(){n=de(),l&&l.c(),r=de(),this.h()},l(a){n=de(),l&&l.l(a),r=de(),this.h()},h(){this.first=n},m(a,o){B(a,n,o),l&&l.m(a,o),B(a,r,o)},p(a,o){t=a,o[0]&80&&(i=!isNaN(t[6](t[29]))),i?l?l.p(t,o):(l=Ca(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(k(n),k(r)),l&&l.d(a)}}}function ec(e){let t,n,i,r=e[4].length&&Aa(e);return{c(){t=se("g"),r&&r.c(),this.h()},l(l){t=ce(l,"g",{class:!0});var a=T(t);r&&r.l(a),a.forEach(k),this.h()},h(){_(t,"class","points")},m(l,a){B(l,t,a),r&&r.m(t,null),n||(i=[Le(t,"mouseout",e[25]),Le(t,"blur",e[26])],n=!0)},p(l,a){l[4].length?r?r.p(l,a):(r=Aa(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:De,o:De,d(l){l&&k(t),r&&r.d(),n=!1,ci(i)}}}function tc(e,t,n){let i,r,l,a,o,h,u;const{data:f,width:c,height:s,rScale:d,rGet:g,zGet:b,r:y,zScale:p}=Xe("LayerCake");P(e,f,D=>n(19,r=D)),P(e,c,D=>n(21,a=D)),P(e,s,D=>n(20,l=D)),P(e,d,D=>n(7,h=D)),P(e,g,D=>n(6,o=D)),P(e,y,D=>n(8,u=D));let{projection:v}=t;const R=uf();let{fill:z="yellow"}=t,{fillFunction:w=D=>D}=t,{stroke:E="#000"}=t,{strokeWidth:S=1}=t,{opacity:L=1}=t,{features:q=void 0}=t;function j(D){return function(V){os(this),V.layerX!==0&&V.layerY!==0&&R("mousemove",{e:V,props:D})}}const A=(D,U)=>R("mousemove",{e:U,props:D}),Y=(D,U)=>R("mousemove",{e:U,props:D}),C=(D,U)=>R("clickedPoint",{e:U,props:D}),G=D=>R("mouseout"),N=D=>R("mouseout");return e.$$set=D=>{"projection"in D&&n(17,v=D.projection),"fill"in D&&n(18,z=D.fill),"fillFunction"in D&&n(0,w=D.fillFunction),"stroke"in D&&n(1,E=D.stroke),"strokeWidth"in D&&n(2,S=D.strokeWidth),"opacity"in D&&n(3,L=D.opacity),"features"in D&&n(4,q=D.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=v().fitSize([a,l],r))},[w,E,S,L,q,i,o,h,u,f,c,s,d,g,y,R,j,v,z,r,l,a,A,Y,C,G,N]}class nc extends ze{constructor(t){super(),Ne(this,t,tc,ec,Re,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const ic=e=>({detail:e&1}),Ia=e=>({detail:e[0].detail});function La(e){let t,n;const i=e[3].default,r=Ht(i,e,e[2],Ia);return{c(){t=F("div"),r&&r.c(),this.h()},l(l){t=W(l,"DIV",{class:!0,style:!0});var a=T(t);r&&r.l(a),a.forEach(k),this.h()},h(){_(t,"class","tooltip svelte-qjsu2l"),x(t,"top",e[0].detail.e.layerY+e[1]+"px"),x(t,"left",e[0].detail.e.layerX+"px")},m(l,a){B(l,t,a),r&&r.m(t,null),n=!0},p(l,a){r&&r.p&&(!n||a&5)&&Ft(r,i,l,l[2],n?xt(i,l[2],a,ic):Wt(l[2]),Ia),(!n||a&3)&&x(t,"top",l[0].detail.e.layerY+l[1]+"px"),(!n||a&1)&&x(t,"left",l[0].detail.e.layerX+"px")},i(l){n||(K(r,l),n=!0)},o(l){Z(r,l),n=!1},d(l){l&&k(t),r&&r.d(l)}}}function rc(e){let t,n,i=e[0].detail&&La(e);return{c(){i&&i.c(),t=de()},l(r){i&&i.l(r),t=de()},m(r,l){i&&i.m(r,l),B(r,t,l),n=!0},p(r,[l]){r[0].detail?i?(i.p(r,l),l&1&&K(i,1)):(i=La(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(Sr(),Z(i,1,1,()=>{i=null}),Er())},i(r){n||(K(i),n=!0)},o(r){Z(i),n=!1},d(r){r&&k(t),i&&i.d(r)}}}function lc(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:l={}}=t,{offset:a=-35}=t;return e.$$set=o=>{"evt"in o&&n(0,l=o.evt),"offset"in o&&n(1,a=o.offset),"$$scope"in o&&n(2,r=o.$$scope)},[l,a,r,i]}class ac extends ze{constructor(t){super(),Ne(this,t,lc,rc,Re,{evt:0,offset:1})}}function oc(e){let t,n,i="The Worst:",r,l=e[1].name+"",a,o=`${e[3][1]+qa}px`,h=`${e[3][0]}px`,u,f,c,s="The Best:",d,g=e[0].name+"",b,y=`${e[2][1]}px`,p=`${e[2][0]}px`;return{c(){t=F("p"),n=F("strong"),n.textContent=i,r=ne(),a=O(l),u=ne(),f=F("p"),c=F("strong"),c.textContent=s,d=ne(),b=O(g),this.h()},l(v){t=W(v,"P",{class:!0});var R=T(t);n=W(R,"STRONG",{"data-svelte-h":!0}),Nt(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=ie(R),a=H(R,l),R.forEach(k),u=ie(v),f=W(v,"P",{class:!0});var z=T(f);c=W(z,"STRONG",{"data-svelte-h":!0}),Nt(c)!=="svelte-1u2nyi3"&&(c.textContent=s),d=ie(z),b=H(z,g),z.forEach(k),this.h()},h(){_(t,"class","worst svelte-1vzmzh6"),x(t,"top",o),x(t,"left",h),_(f,"class","best svelte-1vzmzh6"),x(f,"top",y),x(f,"left",p)},m(v,R){B(v,t,R),M(t,n),M(t,r),M(t,a),B(v,u,R),B(v,f,R),M(f,c),M(f,d),M(f,b)},p(v,[R]){R&2&&l!==(l=v[1].name+"")&&ae(a,l),R&8&&o!==(o=`${v[3][1]+qa}px`)&&x(t,"top",o),R&8&&h!==(h=`${v[3][0]}px`)&&x(t,"left",h),R&1&&g!==(g=v[0].name+"")&&ae(b,g),R&4&&y!==(y=`${v[2][1]}px`)&&x(f,"top",y),R&4&&p!==(p=`${v[2][0]}px`)&&x(f,"left",p)},i:De,o:De,d(v){v&&(k(t),k(u),k(f))}}}const qa=25;function fc(e,t,n){let i,r,l,a,o,h,u,f;const{data:c,width:s,height:d}=Xe("LayerCake");P(e,c,y=>n(10,h=y)),P(e,s,y=>n(12,f=y)),P(e,d,y=>n(11,u=y));let{features:g}=t,{projection:b}=t;return e.$$set=y=>{"features"in y&&n(7,g=y.features),"projection"in y&&n(8,b=y.projection)},e.$$.update=()=>{e.$$.dirty&7424&&n(9,i=b().fitSize([f,u],h)),e.$$.dirty&128&&n(1,r=g[0]),e.$$.dirty&128&&n(0,l=g[g.length-1]),e.$$.dirty&514&&n(3,a=i([r.longitude,r.latitude])),e.$$.dirty&513&&n(2,o=i([l.longitude,l.latitude]))},[l,r,o,a,c,s,d,g,b,i,h,u,f]}class uc extends ze{constructor(t){super(),Ne(this,t,fc,oc,Re,{features:7,projection:8})}}function ja(e){const t={...e[14].props};e[15]=t}function sc(e){let t,n;return t=new $s({props:{projection:e[6],fill:"#fff"}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p:De,i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function cc(e){let t,n;return t=new nc({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[11]),t.$on("mouseout",e[12]),t.$on("clickedPoint",e[13]),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),r&8&&(l.fillFunction=i[3]),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function hc(e){let t,n;return t=new uc({props:{features:e[4],projection:e[6]}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function Ga(e){let t,n;return t=new ac({props:{evt:e[1],$$slots:{default:[dc,({detail:i})=>({14:i}),({detail:i})=>i?16384:0]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.evt=i[1]),r&81920&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function dc(e){ja(e);let t,n=e[15].name+"",i,r,l,a=e[15].bad_air_days+"",o,h;return{c(){t=F("p"),i=O(n),r=ne(),l=F("p"),o=O(a),h=O(" bad air days"),this.h()},l(u){t=W(u,"P",{class:!0});var f=T(t);i=H(f,n),f.forEach(k),r=ie(u),l=W(u,"P",{class:!0});var c=T(l);o=H(c,a),h=H(c," bad air days"),c.forEach(k),this.h()},h(){_(t,"class","name svelte-1q0sbj5"),_(l,"class","days")},m(u,f){B(u,t,f),M(t,i),B(u,r,f),B(u,l,f),M(l,o),M(l,h)},p(u,f){ja(u),f&16384&&n!==(n=u[15].name+"")&&ae(i,n),f&16384&&a!==(a=u[15].bad_air_days+"")&&ae(o,a)},d(u){u&&(k(t),k(r),k(l))}}}function gc(e){let t,n,i=e[2]!==!0&&Ga(e);return{c(){i&&i.c(),t=de()},l(r){i&&i.l(r),t=de()},m(r,l){i&&i.m(r,l),B(r,t,l),n=!0},p(r,l){r[2]!==!0?i?(i.p(r,l),l&4&&K(i,1)):(i=Ga(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(Sr(),Z(i,1,1,()=>{i=null}),Er())},i(r){n||(K(i),n=!0)},o(r){Z(i),n=!1},d(r){r&&k(t),i&&i.d(r)}}}function _c(e){let t,n,i,r,l,a,o,h;return t=new as({props:{$$slots:{default:[sc]},$$scope:{ctx:e}}}),i=new vl({props:{$$slots:{default:[cc]},$$scope:{ctx:e}}}),l=new Jl({props:{pointerEvents:!1,$$slots:{default:[hc]},$$scope:{ctx:e}}}),o=new Jl({props:{pointerEvents:!1,$$slots:{default:[gc]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment),n=ne(),me(i.$$.fragment),r=ne(),me(l.$$.fragment),a=ne(),me(o.$$.fragment)},l(u){ye(t.$$.fragment,u),n=ie(u),ye(i.$$.fragment,u),r=ie(u),ye(l.$$.fragment,u),a=ie(u),ye(o.$$.fragment,u)},m(u,f){be(t,u,f),B(u,n,f),be(i,u,f),B(u,r,f),be(l,u,f),B(u,a,f),be(o,u,f),h=!0},p(u,f){const c={};f&65536&&(c.$$scope={dirty:f,ctx:u}),t.$set(c);const s={};f&65567&&(s.$$scope={dirty:f,ctx:u}),i.$set(s);const d={};f&65552&&(d.$$scope={dirty:f,ctx:u}),l.$set(d);const g={};f&65542&&(g.$$scope={dirty:f,ctx:u}),o.$set(g)},i(u){h||(K(t.$$.fragment,u),K(i.$$.fragment,u),K(l.$$.fragment,u),K(o.$$.fragment,u),h=!0)},o(u){Z(t.$$.fragment,u),Z(i.$$.fragment,u),Z(l.$$.fragment,u),Z(o.$$.fragment,u),h=!1},d(u){u&&(k(n),k(r),k(a)),pe(t,u),pe(i,u),pe(l,u),pe(o,u)}}}function mc(e){let t,n,i;return n=new wl({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:To().clamp(!0),rRange:[1,15],rDomain:[0,100],$$slots:{default:[_c]},$$scope:{ctx:e}}}),{c(){t=F("div"),me(n.$$.fragment),this.h()},l(r){t=W(r,"DIV",{class:!0});var l=T(t);ye(n.$$.fragment,l),l.forEach(k),this.h()},h(){_(t,"class","container svelte-1q0sbj5")},m(r,l){B(r,t,l),be(n,t,null),i=!0},p(r,[l]){const a={};l&65567&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){Z(n.$$.fragment,r),i=!1},d(r){r&&k(t),pe(n)}}}function yc(e,t,n){let i,r,l;P(e,pt,p=>n(0,l=p));let{data:a}=t,{us_states:o}=t,{cbsa_lookup:h}=t,u,f=!0;const c=cs(o,o.objects.collection),s=Qs,d=c.features.map(p=>p.properties),g=p=>n(1,u=n(2,f=p)),b=()=>n(2,f=!0),y=p=>{const{detail:v}=p,{props:R}=v;ee(pt,l={value:R==null?void 0:R.code,label:R==null?void 0:R.name},l)};return e.$$set=p=>{"data"in p&&n(8,a=p.data),"us_states"in p&&n(9,o=p.us_states),"cbsa_lookup"in p&&n(10,h=p.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=a.map(p=>{var v,R;return{...p,latitude:(v=h.get(p.code))==null?void 0:v.latitude,longitude:(R=h.get(p.code))==null?void 0:R.longitude}}).filter(p=>p.latitude).filter(p=>p.longitude)),e.$$.dirty&1&&n(3,r=p=>p.code===l.value?"var(--primary)":"var(--secondary)")},[l,u,f,r,i,c,s,d,a,o,h,g,b,y]}class bc extends ze{constructor(t){super(),Ne(this,t,yc,mc,Re,{data:8,us_states:9,cbsa_lookup:10})}}function Ba(e,t,n){const i=e.slice();return i[7]=t[n].name,i[8]=t[n].code,i[9]=t[n].bad_air_days,i}function Oa(e){let t,n,i=e[7]+"",r,l,a=e[9]+"",o,h,u,f;return{c(){t=F("li"),n=F("span"),r=O(i),l=O(`
				- `),o=O(a),h=O(` days
			`),this.h()},l(c){t=W(c,"LI",{class:!0});var s=T(t);n=W(s,"SPAN",{role:!0,class:!0});var d=T(n);r=H(d,i),d.forEach(k),l=H(s,`
				- `),o=H(s,a),h=H(s,` days
			`),s.forEach(k),this.h()},h(){_(n,"role","button"),_(n,"class","svelte-fe00af"),_(t,"class","svelte-fe00af")},m(c,s){B(c,t,s),M(t,n),M(n,r),M(t,l),M(t,o),M(t,h),u||(f=Le(n,"click",function(){hl(e[6](e[7],e[8]))&&e[6](e[7],e[8]).apply(this,arguments)}),u=!0)},p(c,s){e=c,s&16&&i!==(i=e[7]+"")&&ae(r,i),s&16&&a!==(a=e[9]+"")&&ae(o,a)},d(c){c&&k(t),u=!1,f()}}}function pc(e){var we,Te,it;let t,n,i="The 10 Smokiest Places in 2022",r,l,a,o,h,u,f=((we=e[0][0])==null?void 0:we.name)+"",c,s,d,g=((Te=e[0][0])==null?void 0:Te.bad_air_days)+"",b,y,p,v,R,z,w=((it=e[5])==null?void 0:it.label)+"",E,S,L,q=e[3]+1+"",j,A,Y=e[0].length+"",C,G,N,D=e[0][e[3]].bad_air_days+"",U,V,te,Q,I,X=Ge(e[4]),J=[];for(let re=0;re<X.length;re+=1)J[re]=Oa(Ba(e,X,re));return Q=new bc({props:{data:e[0],us_states:e[1],cbsa_lookup:e[2]}}),{c(){t=F("section"),n=F("h2"),n.textContent=i,r=ne(),l=F("ol");for(let re=0;re<J.length;re+=1)J[re].c();a=ne(),o=F("p"),h=O("In 2022 (our most recent year of data), "),u=F("strong"),c=O(f),s=O(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=F("strong"),b=O(g),y=O(` days of haze and low
		air quality.`),p=ne(),v=F("p"),R=O("For comparison, "),z=F("strong"),E=O(w),S=O(` ranked number
		`),L=F("strong"),j=O(q),A=O(`
			out of `),C=O(Y),G=O(`
		locations with `),N=F("strong"),U=O(D),V=O(`
		low air quality days in 2022.`),te=ne(),me(Q.$$.fragment),this.h()},l(re){t=W(re,"SECTION",{});var he=T(t);n=W(he,"H2",{"data-svelte-h":!0}),Nt(n)!=="svelte-15n9idw"&&(n.textContent=i),r=ie(he),l=W(he,"OL",{class:!0});var _e=T(l);for(let st=0;st<J.length;st+=1)J[st].l(_e);_e.forEach(k),a=ie(he),o=W(he,"P",{class:!0});var Pe=T(o);h=H(Pe,"In 2022 (our most recent year of data), "),u=W(Pe,"STRONG",{});var qe=T(u);c=H(qe,f),qe.forEach(k),s=H(Pe,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=W(Pe,"STRONG",{});var Ue=T(d);b=H(Ue,g),Ue.forEach(k),y=H(Pe,` days of haze and low
		air quality.`),Pe.forEach(k),p=ie(he),v=W(he,"P",{class:!0});var ve=T(v);R=H(ve,"For comparison, "),z=W(ve,"STRONG",{});var Be=T(z);E=H(Be,w),Be.forEach(k),S=H(ve,` ranked number
		`),L=W(ve,"STRONG",{});var Ze=T(L);j=H(Ze,q),A=H(Ze,`
			out of `),C=H(Ze,Y),Ze.forEach(k),G=H(ve,`
		locations with `),N=W(ve,"STRONG",{});var wt=T(N);U=H(wt,D),wt.forEach(k),V=H(ve,`
		low air quality days in 2022.`),ve.forEach(k),te=ie(he),ye(Q.$$.fragment,he),he.forEach(k),this.h()},h(){_(l,"class","svelte-fe00af"),_(o,"class","prose"),_(v,"class","prose")},m(re,he){B(re,t,he),M(t,n),M(t,r),M(t,l);for(let _e=0;_e<J.length;_e+=1)J[_e]&&J[_e].m(l,null);M(t,a),M(t,o),M(o,h),M(o,u),M(u,c),M(o,s),M(o,d),M(d,b),M(o,y),M(t,p),M(t,v),M(v,R),M(v,z),M(z,E),M(v,S),M(v,L),M(L,j),M(L,A),M(L,C),M(v,G),M(v,N),M(N,U),M(v,V),M(t,te),be(Q,t,null),I=!0},p(re,[he]){var Pe,qe,Ue;if(he&80){X=Ge(re[4]);let ve;for(ve=0;ve<X.length;ve+=1){const Be=Ba(re,X,ve);J[ve]?J[ve].p(Be,he):(J[ve]=Oa(Be),J[ve].c(),J[ve].m(l,null))}for(;ve<J.length;ve+=1)J[ve].d(1);J.length=X.length}(!I||he&1)&&f!==(f=((Pe=re[0][0])==null?void 0:Pe.name)+"")&&ae(c,f),(!I||he&1)&&g!==(g=((qe=re[0][0])==null?void 0:qe.bad_air_days)+"")&&ae(b,g),(!I||he&32)&&w!==(w=((Ue=re[5])==null?void 0:Ue.label)+"")&&ae(E,w),(!I||he&8)&&q!==(q=re[3]+1+"")&&ae(j,q),(!I||he&1)&&Y!==(Y=re[0].length+"")&&ae(C,Y),(!I||he&9)&&D!==(D=re[0][re[3]].bad_air_days+"")&&ae(U,D);const _e={};he&1&&(_e.data=re[0]),he&2&&(_e.us_states=re[1]),he&4&&(_e.cbsa_lookup=re[2]),Q.$set(_e)},i(re){I||(K(Q.$$.fragment,re),I=!0)},o(re){Z(Q.$$.fragment,re),I=!1},d(re){re&&k(t),hi(J,re),pe(Q)}}}function wc(e,t,n){let i,r;P(e,pt,f=>n(5,r=f));let{data:l}=t,{us_states:a}=t,{cbsa_lookup:o}=t,{index_of_selected:h}=t;const u=(f,c)=>{ee(pt,r={value:c,label:f},r)};return e.$$set=f=>{"data"in f&&n(0,l=f.data),"us_states"in f&&n(1,a=f.us_states),"cbsa_lookup"in f&&n(2,o=f.cbsa_lookup),"index_of_selected"in f&&n(3,h=f.index_of_selected)},e.$$.update=()=>{e.$$.dirty&1&&n(4,i=l.slice(0,10))},[l,a,o,h,i,r,u]}class vc extends ze{constructor(t){super(),Ne(this,t,wc,pc,Re,{data:0,us_states:1,cbsa_lookup:2,index_of_selected:3})}}function Ha(e){let t,n;return{c(){t=se("desc"),n=O(e[7])},l(i){t=ce(i,"desc",{});var r=T(t);n=H(r,e[7]),r.forEach(k)},m(i,r){B(i,t,r),M(t,n)},p(i,r){r&128&&ae(n,i[7])},d(i){i&&k(t)}}}function Fa(e){let t,n;return{c(){t=se("title"),n=O(e[6])},l(i){t=ce(i,"title",{});var r=T(t);n=H(r,e[6]),r.forEach(k)},m(i,r){B(i,t,r),M(t,n)},p(i,r){r&64&&ae(n,i[6])},d(i){i&&k(t)}}}function kc(e){let t,n,i,r=e[7]&&Ha(e),l=e[6]&&Fa(e);return{c(){t=se("svg"),r&&r.c(),n=de(),l&&l.c(),i=se("path"),this.h()},l(a){t=ce(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var o=T(t);r&&r.l(o),n=de(),l&&l.l(o),i=ce(o,"path",{d:!0,fill:!0}),T(i).forEach(k),o.forEach(k),this.h()},h(){_(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),_(i,"fill",e[2]),_(t,"viewBox",e[3]),_(t,"width",e[0]),_(t,"height",e[1]),_(t,"class",e[8]),_(t,"aria-label",e[4]),_(t,"aria-hidden",e[5])},m(a,o){B(a,t,o),r&&r.m(t,null),M(t,n),l&&l.m(t,null),M(t,i)},p(a,[o]){a[7]?r?r.p(a,o):(r=Ha(a),r.c(),r.m(t,n)):r&&(r.d(1),r=null),a[6]?l?l.p(a,o):(l=Fa(a),l.c(),l.m(t,i)):l&&(l.d(1),l=null),o&4&&_(i,"fill",a[2]),o&8&&_(t,"viewBox",a[3]),o&1&&_(t,"width",a[0]),o&2&&_(t,"height",a[1]),o&256&&_(t,"class",a[8]),o&16&&_(t,"aria-label",a[4]),o&32&&_(t,"aria-hidden",a[5])},i:De,o:De,d(a){a&&k(t),r&&r.d(),l&&l.d()}}}function Sc(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:l=i}=t,{color:a="currentColor"}=t,{viewBox:o="0 0 24 24"}=t,{ariaLabel:h=void 0}=t,{ariaHidden:u=void 0}=t,{title:f=void 0}=t,{desc:c=void 0}=t,{class:s=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,l=d.height),"color"in d&&n(2,a=d.color),"viewBox"in d&&n(3,o=d.viewBox),"ariaLabel"in d&&n(4,h=d.ariaLabel),"ariaHidden"in d&&n(5,u=d.ariaHidden),"title"in d&&n(6,f=d.title),"desc"in d&&n(7,c=d.desc),"class"in d&&n(8,s=d.class)},[r,l,a,o,h,u,f,c,s,i]}class Ec extends ze{constructor(t){super(),Ne(this,t,Sc,kc,Re,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Wa(e,t,n){const i=e.slice();return i[34]=t[n].label,i[35]=t[n].value,i[36]=t,i[37]=n,i}function xa(e,t,n){const i=e.slice();return i[34]=t[n].label,i[35]=t[n].value,i}function Ua(e){let t,n=e[34]+"",i,r;return{c(){t=F("option"),i=O(n),this.h()},l(l){t=W(l,"OPTION",{});var a=T(t);i=H(a,n),a.forEach(k),this.h()},h(){t.__value=r=e[35],lr(t,t.__value)},m(l,a){B(l,t,a),M(t,i)},p(l,a){a[0]&2&&n!==(n=l[34]+"")&&ae(i,n),a[0]&2&&r!==(r=l[35])&&(t.__value=r,lr(t,t.__value))},d(l){l&&k(t)}}}function Mc(e){let t,n="Sorry, no options match";return{c(){t=F("li"),t.textContent=n,this.h()},l(i){t=W(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),Nt(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){_(t,"class","disabled svelte-13q4pje"),_(t,"tabindex","-1")},m(i,r){B(i,t,r)},p:De,d(i){i&&k(t)}}}function Rc(e){let t,n=Ge(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Va(Wa(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=de()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=de()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);B(r,t,l)},p(r,l){if(l[0]&798784){n=Ge(r[6]);let a;for(a=0;a<n.length;a+=1){const o=Wa(r,n,a);i[a]?i[a].p(o,l):(i[a]=Va(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(r){r&&k(t),hi(i,r)}}}function Va(e){let t,n=e[34]+"",i,r,l,a,o=e[37],h,u;const f=()=>e[28](t,o),c=()=>e[28](null,o);function s(){return e[29](e[35],e[34])}function d(...g){return e[30](e[35],e[34],...g)}return{c(){t=F("li"),i=O(n),r=ne(),this.h()},l(g){t=W(g,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var b=T(t);i=H(b,n),r=ie(b),b.forEach(k),this.h()},h(){_(t,"role","option"),_(t,"tabindex","-1"),_(t,"aria-selected",l=e[37]===e[13]),_(t,"data-option-value",a=e[35]),_(t,"id",`autocomplete_${e[37]}`),_(t,"class","svelte-13q4pje")},m(g,b){B(g,t,b),M(t,i),M(t,r),f(),h||(u=[Le(t,"click",s),Le(t,"keydown",d)],h=!0)},p(g,b){e=g,b[0]&64&&n!==(n=e[34]+"")&&ae(i,n),b[0]&8192&&l!==(l=e[37]===e[13])&&_(t,"aria-selected",l),b[0]&64&&a!==(a=e[35])&&_(t,"data-option-value",a),o!==e[37]&&(c(),o=e[37],f())},d(g){g&&k(t),c(),h=!1,ci(u)}}}function Ya(e){let t,n,i,r,l;return n=new Ec({props:{width:"16px",height:"16px"}}),{c(){t=F("button"),me(n.$$.fragment),this.h()},l(a){t=W(a,"BUTTON",{"aria-label":!0,class:!0});var o=T(t);ye(n.$$.fragment,o),o.forEach(k),this.h()},h(){_(t,"aria-label","clear autocomplete search"),_(t,"class","svelte-13q4pje")},m(a,o){B(a,t,o),be(n,t,null),i=!0,r||(l=Le(t,"click",e[22]),r=!0)},p:De,i(a){i||(K(n.$$.fragment,a),i=!0)},o(a){Z(n.$$.fragment,a),i=!1},d(a){a&&k(t),pe(n),r=!1,l()}}}function zc(e){let t,n,i,r,l,a,o,h,u,f,c,s,d,g,b,y,p,v,R,z,w,E,S,L,q=Ge(e[1]),j=[];for(let N=0;N<q.length;N+=1)j[N]=Ua(xa(e,q,N));function A(N,D){return N[6].length?Rc:Mc}let Y=A(e),C=Y(e),G=e[4]===!0&&e[8]&&e[8].length&&Ya(e);return{c(){t=F("div"),n=F("label"),i=F("span"),r=O(e[2]),a=ne(),o=F("select");for(let N=0;N<j.length;N+=1)j[N].c();h=ne(),u=F("div"),f=F("input"),d=ne(),g=F("ul"),C.c(),y=ne(),p=F("div"),v=O(e[7]),R=O(" results available"),z=ne(),G&&G.c(),this.h()},l(N){t=W(N,"DIV",{class:!0,style:!0,id:!0});var D=T(t);n=W(D,"LABEL",{for:!0,class:!0});var U=T(n);i=W(U,"SPAN",{class:!0});var V=T(i);r=H(V,e[2]),V.forEach(k),U.forEach(k),a=ie(D),o=W(D,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var te=T(o);for(let J=0;J<j.length;J+=1)j[J].l(te);te.forEach(k),h=ie(D),u=W(D,"DIV",{class:!0});var Q=T(u);f=W(Q,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=ie(Q),g=W(Q,"UL",{id:!0,role:!0,class:!0});var I=T(g);C.l(I),I.forEach(k),y=ie(Q),p=W(Q,"DIV",{"aria-live":!0,role:!0,class:!0});var X=T(p);v=H(X,e[7]),R=H(X," results available"),X.forEach(k),z=ie(Q),G&&G.l(Q),Q.forEach(k),D.forEach(k),this.h()},h(){_(i,"class","field-label"),_(n,"for",l=`${e[14]}-${e[2]}`),_(n,"class","svelte-13q4pje"),kn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),_(o,"name",e[2]),_(o,"aria-hidden","true"),_(o,"tabindex","-1"),_(o,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&co(()=>e[25].call(o)),_(f,"aria-controls",c=`autocomplete-options--${e[14]}-${e[2]}`),_(f,"autocapitalize","none"),_(f,"type","text"),_(f,"autocomplete","off"),_(f,"aria-autocomplete","list"),_(f,"role","combobox"),_(f,"id",s=`${e[14]}-${e[2]}`),_(f,"aria-expanded","false"),_(f,"name",`autocomplete-${e[14]}`),_(f,"class","svelte-13q4pje"),_(g,"id",b=`autocomplete-options--${e[14]}-${e[2]}`),_(g,"role","listbox"),_(g,"class","svelte-13q4pje"),kn(g,"hidden",!e[9]),_(p,"aria-live","polite"),_(p,"role","status"),_(p,"class","visually-hidden svelte-13q4pje"),_(u,"class","autocomplete svelte-13q4pje"),_(t,"class","field svelte-13q4pje"),x(t,"font-size",e[3]+"px"),_(t,"id",w=`field-${e[14]}-${e[2]}`),x(t,"flex",e[5]?"1 1 auto":"auto")},m(N,D){B(N,t,D),M(t,n),M(n,i),M(i,r),M(t,a),M(t,o);for(let U=0;U<j.length;U+=1)j[U]&&j[U].m(o,null);Ml(o,e[0],!0),M(t,h),M(t,u),M(u,f),lr(f,e[8]),e[27](f),M(u,d),M(u,g),C.m(g,null),M(u,y),M(u,p),M(p,v),M(p,R),M(u,z),G&&G.m(u,null),E=!0,S||(L=[Le(window,"click",e[21]),Le(o,"change",e[25]),Le(f,"keyup",e[15]),Le(f,"keydown",e[16]),Le(f,"focus",e[17]),Le(f,"blur",function(){hl(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),Le(f,"input",e[26]),Le(f,"click",e[20])],S=!0)},p(N,D){if(e=N,(!E||D[0]&4)&&ae(r,e[2]),(!E||D[0]&4&&l!==(l=`${e[14]}-${e[2]}`))&&_(n,"for",l),(!E||D[0]&1537)&&kn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),D[0]&2){q=Ge(e[1]);let V;for(V=0;V<q.length;V+=1){const te=xa(e,q,V);j[V]?j[V].p(te,D):(j[V]=Ua(te),j[V].c(),j[V].m(o,null))}for(;V<j.length;V+=1)j[V].d(1);j.length=q.length}(!E||D[0]&4)&&_(o,"name",e[2]),D[0]&3&&Ml(o,e[0]),(!E||D[0]&4&&c!==(c=`autocomplete-options--${e[14]}-${e[2]}`))&&_(f,"aria-controls",c),(!E||D[0]&4&&s!==(s=`${e[14]}-${e[2]}`))&&_(f,"id",s),D[0]&256&&f.value!==e[8]&&lr(f,e[8]),Y===(Y=A(e))&&C?C.p(e,D):(C.d(1),C=Y(e),C&&(C.c(),C.m(g,null))),(!E||D[0]&4&&b!==(b=`autocomplete-options--${e[14]}-${e[2]}`))&&_(g,"id",b),(!E||D[0]&512)&&kn(g,"hidden",!e[9]),(!E||D[0]&128)&&ae(v,e[7]),e[4]===!0&&e[8]&&e[8].length?G?(G.p(e,D),D[0]&272&&K(G,1)):(G=Ya(e),G.c(),K(G,1),G.m(u,null)):G&&(Sr(),Z(G,1,1,()=>{G=null}),Er()),(!E||D[0]&8)&&x(t,"font-size",e[3]+"px"),(!E||D[0]&4&&w!==(w=`field-${e[14]}-${e[2]}`))&&_(t,"id",w),(D[0]&8||D[0]&40)&&x(t,"flex",e[5]?"1 1 auto":"auto")},i(N){E||(K(G),E=!0)},o(N){Z(G),E=!1},d(N){N&&k(t),hi(j,N),e[27](null),C.d(),G&&G.d(),S=!1,ci(L)}}}function Nc(e,t,n){let i;P(e,pt,I=>n(32,i=I));let{data:r}=t,{name:l}=t,{fontSize:a=16}=t,{selected:o=""}=t,{clearButton:h=!0}=t,{manualSelection:u={}}=t,{inline:f=!1}=t,{updateLocation:c}=t,s=r.sort((I,X)=>Dt(I.label,X.label)),d=Math.floor(Math.random()*1e4),g=s.length,b=o,y=!1,p=!1,v,R=[],z,w=!0;const E=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function S(I){!E.includes(I.key)&&b&&b.length&&(n(6,s=r.filter(X=>String(X.label).toLowerCase().includes(String(b).toLowerCase()))),n(9,y=!0),n(7,g=s.length)),I.key==="Tab"&&n(9,y=!1),I.key==="ArrowDown"&&s&&s.length&&(n(9,y=!0),n(13,z=0),R[0].focus())}function L(I){I.key==="Tab"&&n(9,y=!1),b&&b.length===1&&I.key==="Backspace"&&(n(6,s=r),n(0,o="")),I.key==="Escape"&&n(9,y=!1)}function q(){n(10,p=!0)}function j(I,X){n(0,o=I),n(8,b=X),n(9,y=!1),v.focus(),c&&ee(pt,i={value:I,label:X},i)}function A(I,X,J){const we=I.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(we)?(we==="Enter"&&(j(X,J),w=!1),we==="ArrowDown"&&s&&s.length&&(n(13,z=z<s.length-1?z+1:s.length-1),R[z].focus(),w=!0),we==="Escape"&&(n(9,y=!1),v.focus()),we==="ArrowUp"&&z===0?(v.focus(),n(13,z=null),w=!0):we==="ArrowUp"&&z!=0&&(n(13,z-=1),R[z].focus(),w=!0)):w=!1,w===!0&&I.preventDefault()}function Y(){n(8,b=""),n(23,u={}),n(9,y=!0),n(6,s=r),n(13,z=null)}function C(I){const X=I.target;X!=v&&!R.includes(X)&&n(9,y=!1)}function G(){n(8,b=""),n(0,o=""),n(23,u={})}function N(){o=sf(this),n(0,o),n(23,u),n(1,r)}function D(){b=this.value,n(8,b),n(23,u),n(0,o)}function U(I){Pt[I?"unshift":"push"](()=>{v=I,n(11,v)})}function V(I,X){Pt[I?"unshift":"push"](()=>{R[X]=I,n(12,R)})}const te=(I,X)=>{j(I,X)},Q=(I,X,J)=>A(J,I,X);return e.$$set=I=>{"data"in I&&n(1,r=I.data),"name"in I&&n(2,l=I.name),"fontSize"in I&&n(3,a=I.fontSize),"selected"in I&&n(0,o=I.selected),"clearButton"in I&&n(4,h=I.clearButton),"manualSelection"in I&&n(23,u=I.manualSelection),"inline"in I&&n(5,f=I.inline),"updateLocation"in I&&n(24,c=I.updateLocation)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(n(0,o=u.value),n(8,b=u.label)),e.$$.dirty[0]&1&&o===""&&n(8,b="")},[o,r,l,a,h,f,s,g,b,y,p,v,R,z,d,S,L,q,j,A,Y,C,G,u,c,N,D,U,V,te,Q]}class $o extends ze{constructor(t){super(),Ne(this,t,Nc,zc,Re,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5,updateLocation:24},null,[-1,-1])}}function Dc(e){let t,n,i,r,l,a,o,h,u=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,f,c,s=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function g(y){e[4](y)}let b={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35",updateLocation:!0};return e[1]!==void 0&&(b.selected=e[1]),l=new $o({props:b}),Pt.push(()=>go(l,"selected",g)),{c(){t=F("section"),n=F("div"),i=F("h1"),r=O("Smoke in "),me(l.$$.fragment),o=ne(),h=F("p"),h.textContent=u,f=ne(),c=F("p"),c.textContent=s,this.h()},l(y){t=W(y,"SECTION",{});var p=T(t);n=W(p,"DIV",{class:!0});var v=T(n);i=W(v,"H1",{class:!0});var R=T(i);r=H(R,"Smoke in "),ye(l.$$.fragment,R),R.forEach(k),v.forEach(k),o=ie(p),h=W(p,"P",{class:!0,"data-svelte-h":!0}),Nt(h)!=="svelte-1ieckh9"&&(h.textContent=u),f=ie(p),c=W(p,"P",{class:!0,"data-svelte-h":!0}),Nt(c)!=="svelte-18rohxi"&&(c.textContent=s),p.forEach(k),this.h()},h(){_(i,"class","svelte-1acsj2x"),_(n,"class","inline svelte-1acsj2x"),_(h,"class","prose"),_(c,"class","prose")},m(y,p){B(y,t,p),M(t,n),M(n,i),M(i,r),be(l,i,null),M(t,o),M(t,h),M(t,f),M(t,c),d=!0},p(y,[p]){const v={};p&1&&(v.data=y[0]),p&4&&(v.manualSelection=y[2]),!a&&p&2&&(a=!0,v.selected=y[1],ho(()=>a=!1)),l.$set(v)},i(y){d||(K(l.$$.fragment,y),d=!0)},o(y){Z(l.$$.fragment,y),d=!1},d(y){y&&k(t),pe(l)}}}function Pc(e,t,n){let i,r;P(e,pt,h=>n(2,r=h));let{data:l}=t,a;function o(h){a=h,n(1,a)}return e.$$set=h=>{"data"in h&&n(3,l=h.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(l.map(h=>JSON.stringify([h.name,h.code])))).map(h=>JSON.parse(h)).map(h=>({value:h[1],label:h[0]})).filter(h=>h.label)),e.$$.dirty&1&&new Map(i)},[i,a,r,l,o]}class Ac extends ze{constructor(t){super(),Ne(this,t,Pc,Dc,Re,{data:3})}}function Ka(e,t,n){const i=e.slice();i[26]=t[n],i[33]=n;const r=i[6](i[26]);i[27]=r;const l=i[5](i[26]);i[28]=l;const a=Array.isArray(i[28])?i[28][0]:i[28];i[29]=a;const o=i[9].bandwidth?i[9].bandwidth():i[7](i[26]);i[30]=o;const h=i[10](i[26]);return i[31]=h,i}function Xa(e){let t,n=e[31]+"",i,r,l;return{c(){t=se("text"),i=O(n),this.h()},l(a){t=ce(a,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var o=T(t);i=H(o,n),o.forEach(k),this.h()},h(){_(t,"x",r=e[29]+e[30]/2),_(t,"y",l=e[12]-e[27]-5),_(t,"text-anchor","middle"),_(t,"class","svelte-gs7zwh")},m(a,o){B(a,t,o),M(t,i)},p(a,o){o[0]&1280&&n!==(n=a[31]+"")&&ae(i,n),o[0]&928&&r!==(r=a[29]+a[30]/2)&&_(t,"x",r),o[0]&4416&&l!==(l=a[12]-a[27]-5)&&_(t,"y",l)},d(a){a&&k(t)}}}function Za(e){let t,n,i,r,l,a,o,h,u,f=e[3]&&e[31]&&Xa(e);return{c(){t=se("rect"),f&&f.c(),u=de(),this.h()},l(c){t=ce(c,"rect",{class:!0,"data-id":!0,"data-range":!0,"data-count":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),T(t).forEach(k),f&&f.l(c),u=de(),this.h()},h(){_(t,"class","group-rect"),_(t,"data-id",e[33]),_(t,"data-range",n=e[11](e[26])),_(t,"data-count",i=e[31]),_(t,"x",r=e[29]),_(t,"y",l=e[4](e[26])),_(t,"width",a=e[30]),_(t,"height",o=e[27]),_(t,"fill",h=e[0](e[26])),_(t,"stroke",e[1]),_(t,"stroke-width",e[2])},m(c,s){B(c,t,s),f&&f.m(c,s),B(c,u,s)},p(c,s){s[0]&2304&&n!==(n=c[11](c[26]))&&_(t,"data-range",n),s[0]&1280&&i!==(i=c[31])&&_(t,"data-count",i),s[0]&288&&r!==(r=c[29])&&_(t,"x",r),s[0]&272&&l!==(l=c[4](c[26]))&&_(t,"y",l),s[0]&896&&a!==(a=c[30])&&_(t,"width",a),s[0]&320&&o!==(o=c[27])&&_(t,"height",o),s[0]&257&&h!==(h=c[0](c[26]))&&_(t,"fill",h),s[0]&2&&_(t,"stroke",c[1]),s[0]&4&&_(t,"stroke-width",c[2]),c[3]&&c[31]?f?f.p(c,s):(f=Xa(c),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(c){c&&(k(t),k(u)),f&&f.d(c)}}}function Cc(e){let t,n=Ge(e[8]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Za(Ka(e,n,r));return{c(){t=se("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=ce(r,"g",{class:!0});var l=T(t);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(k),this.h()},h(){_(t,"class","column-group")},m(r,l){B(r,t,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null)},p(r,l){if(l[0]&8191){n=Ge(r[8]);let a;for(a=0;a<n.length;a+=1){const o=Ka(r,n,a);i[a]?i[a].p(o,l):(i[a]=Za(o),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i:De,o:De,d(r){r&&k(t),hi(i,r)}}}function Tc(e,t,n){let i,r,l,a,o,h,u,f,c,s;const{data:d,xGet:g,yGet:b,x:y,yRange:p,xScale:v,y:R,height:z,zGet:w,zScale:E,z:S}=Xe("LayerCake");P(e,d,C=>n(8,h=C)),P(e,g,C=>n(5,o=C)),P(e,b,C=>n(4,l=C)),P(e,y,C=>n(11,c=C)),P(e,p,C=>n(22,a=C)),P(e,v,C=>n(9,u=C)),P(e,R,C=>n(10,f=C)),P(e,z,C=>n(12,s=C));let{fill:L="#00e047"}=t,{fillFunction:q=C=>C}=t,{stroke:j="#000"}=t,{strokeWidth:A=0}=t,{showLabels:Y=!1}=t;return e.$$set=C=>{"fill"in C&&n(21,L=C.fill),"fillFunction"in C&&n(0,q=C.fillFunction),"stroke"in C&&n(1,j=C.stroke),"strokeWidth"in C&&n(2,A=C.strokeWidth),"showLabels"in C&&n(3,Y=C.showLabels)},e.$$.update=()=>{e.$$.dirty[0]&32&&n(7,i=C=>{const G=o(C);return Math.abs(G[1]-G[0])}),e.$$.dirty[0]&4194320&&n(6,r=C=>a[0]-l(C))},[q,j,A,Y,l,o,r,i,h,u,f,c,s,d,g,b,y,p,v,R,z,L,a]}class Ic extends ze{constructor(t){super(),Ne(this,t,Tc,Cc,Re,{fill:21,fillFunction:0,stroke:1,strokeWidth:2,showLabels:3},null,[-1,-1])}}function Qa(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function Ja(e){let t,n;return{c(){t=se("line"),this.h()},l(i){t=ce(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),T(t).forEach(k),this.h()},h(){_(t,"class","gridline svelte-gquvov"),_(t,"y1",n=e[11]*-1),_(t,"y2","0"),_(t,"x1","0"),_(t,"x2","0")},m(i,r){B(i,t,r)},p(i,r){r&2048&&n!==(n=i[11]*-1)&&_(t,"y1",n)},d(i){i&&k(t)}}}function $a(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),T(t).forEach(k),this.h()},h(){_(t,"class","tick-mark svelte-gquvov"),_(t,"y1",0),_(t,"y2",6),_(t,"x1",n=e[7]?e[8].bandwidth()/2:0),_(t,"x2",i=e[7]?e[8].bandwidth()/2:0)},m(r,l){B(r,t,l)},p(r,l){l&384&&n!==(n=r[7]?r[8].bandwidth()/2:0)&&_(t,"x1",n),l&384&&i!==(i=r[7]?r[8].bandwidth()/2:0)&&_(t,"x2",i)},d(r){r&&k(t)}}}function eo(e,t){let n,i,r,l=t[4](t[20])+"",a,o,h,u,f,c=t[0]!==!1&&Ja(t),s=t[1]===!0&&$a(t);return{key:e,first:null,c(){n=se("g"),c&&c.c(),i=de(),s&&s.c(),r=se("text"),a=O(l),this.h()},l(d){n=ce(d,"g",{class:!0,transform:!0});var g=T(n);c&&c.l(g),i=de(),s&&s.l(g),r=ce(g,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var b=T(r);a=H(b,l),b.forEach(k),g.forEach(k),this.h()},h(){_(r,"x",o=t[7]?t[8].bandwidth()/2+t[5]:t[5]),_(r,"y",t[6]),_(r,"dx",""),_(r,"dy",""),_(r,"text-anchor",h=t[17](t[22])),_(r,"class","svelte-gquvov"),_(n,"class",u="tick tick-"+t[22]+" svelte-gquvov"),_(n,"transform",f="translate("+t[8](t[20])+","+Math.max(...t[10])+")"),this.first=n},m(d,g){B(d,n,g),c&&c.m(n,null),M(n,i),s&&s.m(n,null),M(n,r),M(r,a)},p(d,g){t=d,t[0]!==!1?c?c.p(t,g):(c=Ja(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),t[1]===!0?s?s.p(t,g):(s=$a(t),s.c(),s.m(n,r)):s&&(s.d(1),s=null),g&528&&l!==(l=t[4](t[20])+"")&&ae(a,l),g&416&&o!==(o=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&_(r,"x",o),g&64&&_(r,"y",t[6]),g&512&&h!==(h=t[17](t[22]))&&_(r,"text-anchor",h),g&512&&u!==(u="tick tick-"+t[22]+" svelte-gquvov")&&_(n,"class",u),g&1792&&f!==(f="translate("+t[8](t[20])+","+Math.max(...t[10])+")")&&_(n,"transform",f)},d(d){d&&k(n),c&&c.d(),s&&s.d()}}}function to(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),T(t).forEach(k),this.h()},h(){_(t,"class","baseline svelte-gquvov"),_(t,"y1",n=e[11]+.5),_(t,"y2",i=e[11]+.5),_(t,"x1","0"),_(t,"x2",e[12])},m(r,l){B(r,t,l)},p(r,l){l&2048&&n!==(n=r[11]+.5)&&_(t,"y1",n),l&2048&&i!==(i=r[11]+.5)&&_(t,"y2",i),l&4096&&_(t,"x2",r[12])},d(r){r&&k(t)}}}function Lc(e){let t,n=[],i=new Map,r,l=Ge(e[9]);const a=h=>h[20];for(let h=0;h<l.length;h+=1){let u=Qa(e,l,h),f=a(u);i.set(f,n[h]=eo(f,u))}let o=e[2]===!0&&to(e);return{c(){t=se("g");for(let h=0;h<n.length;h+=1)n[h].c();r=de(),o&&o.c(),this.h()},l(h){t=ce(h,"g",{class:!0});var u=T(t);for(let f=0;f<n.length;f+=1)n[f].l(u);r=de(),o&&o.l(u),u.forEach(k),this.h()},h(){_(t,"class","axis x-axis svelte-gquvov"),kn(t,"snapTicks",e[3])},m(h,u){B(h,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);M(t,r),o&&o.m(t,null)},p(h,[u]){u&135155&&(l=Ge(h[9]),n=gl(n,u,a,1,h,l,i,t,dl,eo,r,Qa)),h[2]===!0?o?o.p(h,u):(o=to(h),o.c(),o.m(t,null)):o&&(o.d(1),o=null),u&8&&kn(t,"snapTicks",h[3])},i:De,o:De,d(h){h&&k(t);for(let u=0;u<n.length;u+=1)n[u].d();o&&o.d()}}}function qc(e,t,n){let i,r,l,a,o,h;const{width:u,height:f,xScale:c,yRange:s,xReverse:d}=Xe("LayerCake");P(e,u,S=>n(12,h=S)),P(e,f,S=>n(11,o=S)),P(e,c,S=>n(8,l=S)),P(e,s,S=>n(10,a=S));let{gridlines:g=!0}=t,{tickMarks:b=!1}=t,{baseline:y=!1}=t,{snapTicks:p=!1}=t,{formatTick:v=S=>S}=t,{ticks:R=void 0}=t,{xTick:z=0}=t,{yTick:w=16}=t;function E(S){if(p===!0)if(d===!1){if(S===0)return"start";if(S===r.length-1)return"end"}else{if(S===0)return"end";if(S===r.length-1)return"start"}return"middle"}return e.$$set=S=>{"gridlines"in S&&n(0,g=S.gridlines),"tickMarks"in S&&n(1,b=S.tickMarks),"baseline"in S&&n(2,y=S.baseline),"snapTicks"in S&&n(3,p=S.snapTicks),"formatTick"in S&&n(4,v=S.formatTick),"ticks"in S&&n(18,R=S.ticks),"xTick"in S&&n(5,z=S.xTick),"yTick"in S&&n(6,w=S.yTick)},e.$$.update=()=>{e.$$.dirty&256&&n(7,i=typeof l.bandwidth=="function"),e.$$.dirty&262528&&n(9,r=Array.isArray(R)?R:i?l.domain():typeof R=="function"?R(l.ticks()):l.ticks(R))},[g,b,y,p,v,z,w,i,l,r,a,o,h,u,f,c,s,E,R]}class ef extends ze{constructor(t){super(),Ne(this,t,qc,Lc,Re,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function no(e,t,n){const i=e.slice();return i[20]=t[n],i}function io(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,x2:!0,y1:!0,y2:!0}),T(t).forEach(k),this.h()},h(){_(t,"class","gridline svelte-1d87mp0"),_(t,"x2","100%"),_(t,"y1",n=e[9]?e[10].bandwidth()/2:0),_(t,"y2",i=e[9]?e[10].bandwidth()/2:0)},m(r,l){B(r,t,l)},p(r,l){l&1536&&n!==(n=r[9]?r[10].bandwidth()/2:0)&&_(t,"y1",n),l&1536&&i!==(i=r[9]?r[10].bandwidth()/2:0)&&_(t,"y2",i)},d(r){r&&k(t)}}}function ro(e){let t,n,i,r;return{c(){t=se("line"),this.h()},l(l){t=ce(l,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),T(t).forEach(k),this.h()},h(){_(t,"class","tick-mark svelte-1d87mp0"),_(t,"x1","0"),_(t,"x2",n=e[9]?-6:6),_(t,"y1",i=e[9]?e[10].bandwidth()/2:0),_(t,"y2",r=e[9]?e[10].bandwidth()/2:0)},m(l,a){B(l,t,a)},p(l,a){a&512&&n!==(n=l[9]?-6:6)&&_(t,"x2",n),a&1536&&i!==(i=l[9]?l[10].bandwidth()/2:0)&&_(t,"y1",i),a&1536&&r!==(r=l[9]?l[10].bandwidth()/2:0)&&_(t,"y2",r)},d(l){l&&k(t)}}}function lo(e,t){let n,i,r,l=t[2](t[20])+"",a,o,h,u,f,c,s=t[0]!==!1&&io(t),d=t[1]===!0&&ro(t);return{key:e,first:null,c(){n=se("g"),s&&s.c(),i=de(),d&&d.c(),r=se("text"),a=O(l),this.h()},l(g){n=ce(g,"g",{class:!0,transform:!0});var b=T(n);s&&s.l(b),i=de(),d&&d.l(b),r=ce(b,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var y=T(r);a=H(y,l),y.forEach(k),b.forEach(k),this.h()},h(){_(r,"x",t[3]),_(r,"y",o=t[9]?t[10].bandwidth()/2+t[4]:t[4]),_(r,"dx",h=t[9]?-9:t[5]),_(r,"dy",u=t[9]?4:t[6]),x(r,"text-anchor",t[9]?"end":t[8]),_(r,"class","svelte-1d87mp0"),_(n,"class",f="tick tick-"+t[20]+" svelte-1d87mp0"),_(n,"transform",c="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")"),this.first=n},m(g,b){B(g,n,b),s&&s.m(n,null),M(n,i),d&&d.m(n,null),M(n,r),M(r,a)},p(g,b){t=g,t[0]!==!1?s?s.p(t,b):(s=io(t),s.c(),s.m(n,i)):s&&(s.d(1),s=null),t[1]===!0?d?d.p(t,b):(d=ro(t),d.c(),d.m(n,r)):d&&(d.d(1),d=null),b&2052&&l!==(l=t[2](t[20])+"")&&ae(a,l),b&8&&_(r,"x",t[3]),b&1552&&o!==(o=t[9]?t[10].bandwidth()/2+t[4]:t[4])&&_(r,"y",o),b&544&&h!==(h=t[9]?-9:t[5])&&_(r,"dx",h),b&576&&u!==(u=t[9]?4:t[6])&&_(r,"dy",u),b&768&&x(r,"text-anchor",t[9]?"end":t[8]),b&2048&&f!==(f="tick tick-"+t[20]+" svelte-1d87mp0")&&_(n,"class",f),b&15872&&c!==(c="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")")&&_(n,"transform",c)},d(g){g&&k(n),s&&s.d(),d&&d.d()}}}function ao(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),T(t).forEach(k),this.h()},h(){_(t,"class","baseline svelte-1d87mp0"),_(t,"y1","0"),_(t,"y2",e[14]),_(t,"x1",n=e[12].left),_(t,"x2",i=e[12].left)},m(r,l){B(r,t,l)},p(r,l){l&16384&&_(t,"y2",r[14]),l&4096&&n!==(n=r[12].left)&&_(t,"x1",n),l&4096&&i!==(i=r[12].left)&&_(t,"x2",i)},d(r){r&&k(t)}}}function jc(e){let t,n=[],i=new Map,r,l,a=Ge(e[11]);const o=u=>u[20];for(let u=0;u<a.length;u+=1){let f=no(e,a,u),c=o(f);i.set(c,n[u]=lo(c,f))}let h=e[7]===!0&&ao(e);return{c(){t=se("g");for(let u=0;u<n.length;u+=1)n[u].c();r=de(),h&&h.c(),this.h()},l(u){t=ce(u,"g",{class:!0,transform:!0});var f=T(t);for(let c=0;c<n.length;c+=1)n[c].l(f);r=de(),h&&h.l(f),f.forEach(k),this.h()},h(){_(t,"class","axis y-axis"),_(t,"transform",l="translate("+-e[12].left+", 0)")},m(u,f){B(u,t,f);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);M(t,r),h&&h.m(t,null)},p(u,[f]){f&16255&&(a=Ge(u[11]),n=gl(n,f,o,1,u,a,i,t,dl,lo,r,no)),u[7]===!0?h?h.p(u,f):(h=ao(u),h.c(),h.m(t,null)):h&&(h.d(1),h=null),f&4096&&l!==(l="translate("+-u[12].left+", 0)")&&_(t,"transform",l)},i:De,o:De,d(u){u&&k(t);for(let f=0;f<n.length;f+=1)n[f].d();h&&h.d()}}}function Gc(e,t,n){let i,r,l,a,o,h;const{padding:u,xRange:f,yScale:c,height:s}=Xe("LayerCake");P(e,u,S=>n(12,a=S)),P(e,f,S=>n(13,o=S)),P(e,c,S=>n(10,l=S)),P(e,s,S=>n(14,h=S));let{gridlines:d=!0}=t,{tickMarks:g=!1}=t,{formatTick:b=S=>S}=t,{ticks:y=4}=t,{xTick:p=0}=t,{yTick:v=0}=t,{dxTick:R=0}=t,{dyTick:z=-4}=t,{baseline:w=!1}=t,{textAnchor:E="start"}=t;return e.$$set=S=>{"gridlines"in S&&n(0,d=S.gridlines),"tickMarks"in S&&n(1,g=S.tickMarks),"formatTick"in S&&n(2,b=S.formatTick),"ticks"in S&&n(19,y=S.ticks),"xTick"in S&&n(3,p=S.xTick),"yTick"in S&&n(4,v=S.yTick),"dxTick"in S&&n(5,R=S.dxTick),"dyTick"in S&&n(6,z=S.dyTick),"baseline"in S&&n(7,w=S.baseline),"textAnchor"in S&&n(8,E=S.textAnchor)},e.$$.update=()=>{e.$$.dirty&1024&&n(9,i=typeof l.bandwidth=="function"),e.$$.dirty&525824&&n(11,r=Array.isArray(y)?y:i?l.domain():typeof y=="function"?y(l.ticks()):l.ticks(y))},[d,g,b,p,v,R,z,w,E,i,l,r,a,o,h,u,f,c,s,y]}class Bc extends ze{constructor(t){super(),Ne(this,t,Gc,jc,Re,{gridlines:0,tickMarks:1,formatTick:2,ticks:19,xTick:3,yTick:4,dxTick:5,dyTick:6,baseline:7,textAnchor:8})}}function Oc(e){let t,n,i,r;return t=new Ic({props:{fillFunction:e[1]}}),i=new ef({props:{gridlines:!1,ticks:e[2],tickMarks:!0}}),{c(){me(t.$$.fragment),n=ne(),me(i.$$.fragment)},l(l){ye(t.$$.fragment,l),n=ie(l),ye(i.$$.fragment,l)},m(l,a){be(t,l,a),B(l,n,a),be(i,l,a),r=!0},p(l,a){const o={};a&2&&(o.fillFunction=l[1]),t.$set(o);const h={};a&4&&(h.ticks=l[2]),i.$set(h)},i(l){r||(K(t.$$.fragment,l),K(i.$$.fragment,l),r=!0)},o(l){Z(t.$$.fragment,l),Z(i.$$.fragment,l),r=!1},d(l){l&&k(n),pe(t,l),pe(i,l)}}}function Hc(e){let t,n;return t=new vl({props:{$$slots:{default:[Oc]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&38&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function Fc(e){let t,n,i;return n=new wl({props:{padding:{top:0,right:40,bottom:20,left:30},x:Wc,y:xc,xScale:_l().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xReverse:!0,$$slots:{default:[Hc]},$$scope:{ctx:e}}}),{c(){t=F("div"),me(n.$$.fragment),this.h()},l(r){t=W(r,"DIV",{class:!0});var l=T(t);ye(n.$$.fragment,l),l.forEach(k),this.h()},h(){_(t,"class","chart-container svelte-ufs0ll")},m(r,l){B(r,t,l),be(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&38&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){Z(n.$$.fragment,r),i=!1},d(r){r&&k(t),pe(n)}}}const Wc="name",xc="bad_air_days";function Uc(e,t,n){let i,r,l;P(e,pt,h=>n(4,l=h));let{data:a}=t,{index_of_selected:o}=t;return e.$$set=h=>{"data"in h&&n(0,a=h.data),"index_of_selected"in h&&n(3,o=h.index_of_selected)},e.$$.update=()=>{e.$$.dirty&25&&(o>a.length/2?n(2,i=[l.label,a[0].name]):n(2,i=[l.label,a[a.length-1].name])),e.$$.dirty&16&&n(1,r=h=>h.code===l.value?"var(--primary)":"var(--secondary)")},n(2,i=[]),[a,r,i,o,l]}class Vc extends ze{constructor(t){super(),Ne(this,t,Uc,Fc,Re,{data:0,index_of_selected:3})}}function Yc(e){let t;return{c(){t=se("path"),this.h()},l(n){t=ce(n,"path",{class:!0,d:!0,stroke:!0,opacity:!0}),T(t).forEach(k),this.h()},h(){_(t,"class","path-line svelte-1a99x5h"),_(t,"d",e[2]),_(t,"stroke",e[0]),_(t,"opacity",e[1])},m(n,i){B(n,t,i)},p(n,[i]){i&4&&_(t,"d",n[2]),i&1&&_(t,"stroke",n[0]),i&2&&_(t,"opacity",n[1])},i:De,o:De,d(n){n&&k(t)}}}function Kc(e,t,n){let i,r,l,a;const{data:o,xGet:h,yGet:u}=Xe("LayerCake");P(e,o,s=>n(8,a=s)),P(e,h,s=>n(7,l=s)),P(e,u,s=>n(6,r=s));let{stroke:f="#ab00d6"}=t,{opacity:c=1}=t;return e.$$set=s=>{"stroke"in s&&n(0,f=s.stroke),"opacity"in s&&n(1,c=s.opacity)},e.$$.update=()=>{e.$$.dirty&448&&n(2,i="M"+a.map(s=>l(s)+","+r(s)).join("L"))},[f,c,i,o,h,u,r,l,a]}class Xc extends ze{constructor(t){super(),Ne(this,t,Kc,Yc,Re,{stroke:0,opacity:1})}}function oo(e,t,n){const i=e.slice();return i[12]=t[n],i[14]=n,i}function fo(e){var z,w;let t,n=((z=e[12])==null?void 0:z.bad_air_days)+"",i,r=e[14]!==0?"days":"",l,a,o,h,u,f=((w=e[12])==null?void 0:w.bad_air_days)+"",c,s=e[14]!==0?" days":"",d,g,b,y,p,v,R;return{c(){t=se("text"),i=O(n),l=O(r),h=ne(),u=se("text"),c=O(f),d=O(s),y=ne(),p=se("circle"),this.h()},l(E){t=ce(E,"text",{x:!0,y:!0,class:!0});var S=T(t);i=H(S,n),l=H(S,r),S.forEach(k),h=ie(E),u=ce(E,"text",{x:!0,y:!0,class:!0});var L=T(u);c=H(L,f),d=H(L,s),L.forEach(k),y=ie(E),p=ce(E,"circle",{r:!0,fill:!0,cx:!0,cy:!0}),T(p).forEach(k),this.h()},h(){_(t,"x",a=e[2](e[12])),_(t,"y",o=e[3](e[12])-16),_(t,"class","bg svelte-7mghxg"),_(u,"x",g=e[2](e[12])),_(u,"y",b=e[3](e[12])-16),_(u,"class","svelte-7mghxg"),_(p,"r","8"),_(p,"fill",e[0]),_(p,"cx",v=e[2](e[12])),_(p,"cy",R=e[3](e[12]))},m(E,S){B(E,t,S),M(t,i),M(t,l),B(E,h,S),B(E,u,S),M(u,c),M(u,d),B(E,y,S),B(E,p,S)},p(E,S){var L,q;S&2&&n!==(n=((L=E[12])==null?void 0:L.bad_air_days)+"")&&ae(i,n),S&6&&a!==(a=E[2](E[12]))&&_(t,"x",a),S&10&&o!==(o=E[3](E[12])-16)&&_(t,"y",o),S&2&&f!==(f=((q=E[12])==null?void 0:q.bad_air_days)+"")&&ae(c,f),S&6&&g!==(g=E[2](E[12]))&&_(u,"x",g),S&10&&b!==(b=E[3](E[12])-16)&&_(u,"y",b),S&1&&_(p,"fill",E[0]),S&6&&v!==(v=E[2](E[12]))&&_(p,"cx",v),S&10&&R!==(R=E[3](E[12]))&&_(p,"cy",R)},d(E){E&&(k(t),k(h),k(u),k(y),k(p))}}}function Zc(e){let t,n=Ge(e[1]),i=[];for(let r=0;r<n.length;r+=1)i[r]=fo(oo(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=de()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=de()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);B(r,t,l)},p(r,[l]){if(l&15){n=Ge(r[1]);let a;for(a=0;a<n.length;a+=1){const o=oo(r,n,a);i[a]?i[a].p(o,l):(i[a]=fo(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i:De,o:De,d(r){r&&k(t),hi(i,r)}}}function Qc(e,t,n){let i,r,l,a,o;const{data:h,xGet:u,yGet:f,xScale:c}=Xe("LayerCake");P(e,h,b=>n(10,l=b)),P(e,u,b=>n(2,a=b)),P(e,f,b=>n(3,o=b));let{comparison_year:s}=t,{fill:d="#ab00d6"}=t,{stroke:g="#ab00d6"}=t;return e.$$set=b=>{"comparison_year"in b&&n(7,s=b.comparison_year),"fill"in b&&n(0,d=b.fill),"stroke"in b&&n(8,g=b.stroke)},e.$$.update=()=>{e.$$.dirty&128&&n(9,i=[s,2022]),e.$$.dirty&1536&&n(1,r=l.filter(b=>i.includes(b.year)))},[d,r,a,o,h,u,f,s,g,i,l]}class Jc extends ze{constructor(t){super(),Ne(this,t,Qc,Zc,Re,{comparison_year:7,fill:0,stroke:8})}}function $c(e){let t,n,i,r;return{c(){t=se("defs"),n=se("linearGradient"),i=se("stop"),r=se("stop"),this.h()},l(l){t=ce(l,"defs",{});var a=T(t);n=ce(a,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var o=T(n);i=ce(o,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),T(i).forEach(k),r=ce(o,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),T(r).forEach(k),o.forEach(k),a.forEach(k),this.h()},h(){_(i,"offset",e[1]),_(i,"stop-color",e[0]),_(i,"stop-opacity","0.25"),_(r,"offset",e[1]),_(r,"stop-color",e[0]),_(r,"stop-opacity","1"),_(n,"id","line-gradient"),_(n,"x1","0%"),_(n,"y1","0%"),_(n,"x2","100%"),_(n,"y2","0%")},m(l,a){B(l,t,a),M(t,n),M(n,i),M(n,r)},p(l,[a]){a&2&&_(i,"offset",l[1]),a&1&&_(i,"stop-color",l[0]),a&2&&_(r,"offset",l[1]),a&1&&_(r,"stop-color",l[0])},i:De,o:De,d(l){l&&k(t)}}}function eh(e,t,n){let i,r,l,a;const{data:o,xGet:h,yGet:u,xScale:f,yScale:c,x:s,zGet:d,zScale:g,height:b}=Xe("LayerCake");P(e,o,v=>n(6,a=v));let{yearOfInterest:y=2008}=t,{accentColor:p}=t;return e.$$set=v=>{"yearOfInterest"in v&&n(3,y=v.yearOfInterest),"accentColor"in v&&n(0,p=v.accentColor)},e.$$.update=()=>{e.$$.dirty&64&&n(5,i=yf(a,v=>v.year)),e.$$.dirty&32&&n(4,r=i[1]-i[0]),e.$$.dirty&56&&n(1,l=(y-i[0])/r)},[p,l,o,y,r,i,a]}class th extends ze{constructor(t){super(),Ne(this,t,eh,$c,Re,{yearOfInterest:3,accentColor:0})}}function nh(e){let t,n,i,r,l,a,o,h,u,f;return t=new th({props:{yearOfInterest:e[1],accentColor:"var(--secondary)"}}),i=new Xc({props:{stroke:"url(#line-gradient)"}}),l=new Jc({props:{fill:"var(--secondary)",stroke:"var(--secondary)",comparison_year:e[1]}}),o=new ef({props:{gridlines:!1,ticks:[1980,e[1],2022],baseline:!0}}),u=new Bc({props:{gridlines:!1,baseline:!0}}),{c(){me(t.$$.fragment),n=ne(),me(i.$$.fragment),r=ne(),me(l.$$.fragment),a=ne(),me(o.$$.fragment),h=ne(),me(u.$$.fragment)},l(c){ye(t.$$.fragment,c),n=ie(c),ye(i.$$.fragment,c),r=ie(c),ye(l.$$.fragment,c),a=ie(c),ye(o.$$.fragment,c),h=ie(c),ye(u.$$.fragment,c)},m(c,s){be(t,c,s),B(c,n,s),be(i,c,s),B(c,r,s),be(l,c,s),B(c,a,s),be(o,c,s),B(c,h,s),be(u,c,s),f=!0},p(c,s){const d={};s&2&&(d.yearOfInterest=c[1]),t.$set(d);const g={};s&2&&(g.comparison_year=c[1]),l.$set(g);const b={};s&2&&(b.ticks=[1980,c[1],2022]),o.$set(b)},i(c){f||(K(t.$$.fragment,c),K(i.$$.fragment,c),K(l.$$.fragment,c),K(o.$$.fragment,c),K(u.$$.fragment,c),f=!0)},o(c){Z(t.$$.fragment,c),Z(i.$$.fragment,c),Z(l.$$.fragment,c),Z(o.$$.fragment,c),Z(u.$$.fragment,c),f=!1},d(c){c&&(k(n),k(r),k(a),k(h)),pe(t,c),pe(i,c),pe(l,c),pe(o,c),pe(u,c)}}}function ih(e){let t,n;return t=new vl({props:{$$slots:{default:[nh]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},l(i){ye(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&6&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Z(t.$$.fragment,i),n=!1},d(i){pe(t,i)}}}function rh(e){let t,n,i;return n=new wl({props:{padding:{top:0,right:40,bottom:20,left:30},x:lh,y:ah,xScale:_l().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],$$slots:{default:[ih]},$$scope:{ctx:e}}}),{c(){t=F("div"),me(n.$$.fragment),this.h()},l(r){t=W(r,"DIV",{class:!0});var l=T(t);ye(n.$$.fragment,l),l.forEach(k),this.h()},h(){_(t,"class","chart-container svelte-ufs0ll")},m(r,l){B(r,t,l),be(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&6&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){Z(n.$$.fragment,r),i=!1},d(r){r&&k(t),pe(n)}}}const lh="year",ah="bad_air_days";function oh(e,t,n){let{data:i}=t,{comparison_year:r}=t;return e.$$set=l=>{"data"in l&&n(0,i=l.data),"comparison_year"in l&&n(1,r=l.comparison_year)},[i,r]}class fh extends ze{constructor(t){super(),Ne(this,t,oh,rh,Re,{data:0,comparison_year:1})}}function uh(e){let t,n,i,r="Is this typical?",l,a,o="You be the judge.",h,u,f,c,s,d,g,b="2022",y,p,v=e[0][e[1]].name+"",R,z,w=e[0][e[1]].bad_air_days+"",E,S,L,q,j,A,Y=e[9](e[0][e[1]].bad_air_days)+"",C,G,N,D,U,V,te,Q,I,X,J,we,Te,it,re,he,_e,Pe,qe=e[5].label+"",Ue,ve,Be,Ze,wt,st,rn,ln,an,rt,Ve,on,Ct=e[8]>e[7]?"fewer":"more",Ut,fn,Vt,un,Pn,Ye,An,vt=e[6].year+"",Yt,sn,ct=e[6].bad_air_days+"",Tt,Kt,ht,Oe,Ae;function It($){e[13]($)}let kt={name:"How old are you?",data:e[10],manualSelection:{value:30,label:30}};return e[2]!==void 0&&(kt.selected=e[2]),f=new $o({props:kt}),Pt.push(()=>go(f,"selected",It)),D=new Vc({props:{data:e[0],index_of_selected:e[1]}}),Oe=new fh({props:{data:e[3],comparison_year:e[4]}}),{c(){t=F("section"),n=F("div"),i=F("h2"),i.textContent=r,l=ne(),a=F("p"),a.textContent=o,h=ne(),u=F("div"),me(f.$$.fragment),s=ne(),d=F("div"),g=F("h3"),g.textContent=b,y=ne(),p=F("p"),R=O(v),z=O(" experienced "),E=O(w),S=O(" days with bad air quality in 2022."),L=ne(),q=F("ul"),j=F("li"),A=O("This is "),C=O(Y),G=O(` compared
				to all other cities in our data.`),N=ne(),me(D.$$.fragment),U=ne(),V=F("hr"),te=ne(),Q=F("div"),I=F("h3"),X=O(e[4]),J=ne(),we=F("p"),Te=O("When you were "),it=O(En),re=O(" years old"),he=ne(),_e=F("p"),Pe=F("strong"),Ue=O(qe),ve=O(` experienced
			`),Be=F("strong"),Ze=O(e[8]),wt=O(" bad air quality days"),st=O(`
			when you were `),rn=O(En),ln=O(" years old."),an=ne(),rt=F("ul"),Ve=F("li"),on=O("There are "),Ut=O(Ct),fn=O(` smoky days
				now than there were in `),Vt=O(e[4]),un=O("."),Pn=ne(),Ye=F("li"),An=O("The highest on record was in "),Yt=O(vt),sn=O(" when there were "),Tt=O(ct),Kt=O(`
				smoky days reported.`),ht=ne(),me(Oe.$$.fragment),this.h()},l($){t=W($,"SECTION",{class:!0});var ue=T(t);n=W(ue,"DIV",{class:!0});var je=T(n);i=W(je,"H2",{class:!0,"data-svelte-h":!0}),Nt(i)!=="svelte-1quhqxj"&&(i.textContent=r),l=ie(je),a=W(je,"P",{class:!0,"data-svelte-h":!0}),Nt(a)!=="svelte-1ibeh4r"&&(a.textContent=o),h=ie(je),u=W(je,"DIV",{class:!0});var Ke=T(u);ye(f.$$.fragment,Ke),Ke.forEach(k),je.forEach(k),s=ie(ue),d=W(ue,"DIV",{class:!0});var Ce=T(d);g=W(Ce,"H3",{class:!0,"data-svelte-h":!0}),Nt(g)!=="svelte-1rc7x6b"&&(g.textContent=b),y=ie(Ce),p=W(Ce,"P",{class:!0});var Qe=T(p);R=H(Qe,v),z=H(Qe," experienced "),E=H(Qe,w),S=H(Qe," days with bad air quality in 2022."),Qe.forEach(k),L=ie(Ce),q=W(Ce,"UL",{class:!0});var St=T(q);j=W(St,"LI",{class:!0});var Et=T(j);A=H(Et,"This is "),C=H(Et,Y),G=H(Et,` compared
				to all other cities in our data.`),Et.forEach(k),St.forEach(k),N=ie(Ce),ye(D.$$.fragment,Ce),Ce.forEach(k),U=ie(ue),V=W(ue,"HR",{class:!0}),te=ie(ue),Q=W(ue,"DIV",{class:!0});var He=T(Q);I=W(He,"H3",{class:!0});var Xt=T(I);X=H(Xt,e[4]),Xt.forEach(k),J=ie(He),we=W(He,"P",{class:!0});var Mt=T(we);Te=H(Mt,"When you were "),it=H(Mt,En),re=H(Mt," years old"),Mt.forEach(k),he=ie(He),_e=W(He,"P",{class:!0});var Je=T(_e);Pe=W(Je,"STRONG",{});var Zt=T(Pe);Ue=H(Zt,qe),Zt.forEach(k),ve=H(Je,` experienced
			`),Be=W(Je,"STRONG",{});var Lt=T(Be);Ze=H(Lt,e[8]),wt=H(Lt," bad air quality days"),Lt.forEach(k),st=H(Je,`
			when you were `),rn=H(Je,En),ln=H(Je," years old."),Je.forEach(k),an=ie(He),rt=W(He,"UL",{class:!0});var Rt=T(rt);Ve=W(Rt,"LI",{class:!0});var lt=T(Ve);on=H(lt,"There are "),Ut=H(lt,Ct),fn=H(lt,` smoky days
				now than there were in `),Vt=H(lt,e[4]),un=H(lt,"."),lt.forEach(k),Pn=ie(Rt),Ye=W(Rt,"LI",{class:!0});var $e=T(Ye);An=H($e,"The highest on record was in "),Yt=H($e,vt),sn=H($e," when there were "),Tt=H($e,ct),Kt=H($e,`
				smoky days reported.`),$e.forEach(k),Rt.forEach(k),ht=ie(He),ye(Oe.$$.fragment,He),He.forEach(k),ue.forEach(k),this.h()},h(){_(i,"class","svelte-1khomez"),_(a,"class","subtitle svelte-1khomez"),_(u,"class","age svelte-1khomez"),_(n,"class","contents svelte-1khomez"),_(g,"class","rail svelte-1khomez"),_(p,"class","prose"),_(j,"class","svelte-1khomez"),_(q,"class","svelte-1khomez"),_(d,"class","latest block svelte-1khomez"),_(V,"class","svelte-1khomez"),_(I,"class","rail svelte-1khomez"),_(we,"class","rail__context svelte-1khomez"),_(_e,"class","prose"),_(Ve,"class","svelte-1khomez"),_(Ye,"class","svelte-1khomez"),_(rt,"class","svelte-1khomez"),_(Q,"class","past block svelte-1khomez"),_(t,"class","svelte-1khomez")},m($,ue){B($,t,ue),M(t,n),M(n,i),M(n,l),M(n,a),M(n,h),M(n,u),be(f,u,null),M(t,s),M(t,d),M(d,g),M(d,y),M(d,p),M(p,R),M(p,z),M(p,E),M(p,S),M(d,L),M(d,q),M(q,j),M(j,A),M(j,C),M(j,G),M(d,N),be(D,d,null),M(t,U),M(t,V),M(t,te),M(t,Q),M(Q,I),M(I,X),M(Q,J),M(Q,we),M(we,Te),M(we,it),M(we,re),M(Q,he),M(Q,_e),M(_e,Pe),M(Pe,Ue),M(_e,ve),M(_e,Be),M(Be,Ze),M(Be,wt),M(_e,st),M(_e,rn),M(_e,ln),M(Q,an),M(Q,rt),M(rt,Ve),M(Ve,on),M(Ve,Ut),M(Ve,fn),M(Ve,Vt),M(Ve,un),M(rt,Pn),M(rt,Ye),M(Ye,An),M(Ye,Yt),M(Ye,sn),M(Ye,Tt),M(Ye,Kt),M(Q,ht),be(Oe,Q,null),Ae=!0},p($,[ue]){const je={};!c&&ue&4&&(c=!0,je.selected=$[2],ho(()=>c=!1)),f.$set(je),(!Ae||ue&3)&&v!==(v=$[0][$[1]].name+"")&&ae(R,v),(!Ae||ue&3)&&w!==(w=$[0][$[1]].bad_air_days+"")&&ae(E,w),(!Ae||ue&3)&&Y!==(Y=$[9]($[0][$[1]].bad_air_days)+"")&&ae(C,Y);const Ke={};ue&1&&(Ke.data=$[0]),ue&2&&(Ke.index_of_selected=$[1]),D.$set(Ke),(!Ae||ue&16)&&ae(X,$[4]),(!Ae||ue&32)&&qe!==(qe=$[5].label+"")&&ae(Ue,qe),(!Ae||ue&256)&&ae(Ze,$[8]),(!Ae||ue&384)&&Ct!==(Ct=$[8]>$[7]?"fewer":"more")&&ae(Ut,Ct),(!Ae||ue&16)&&ae(Vt,$[4]),(!Ae||ue&64)&&vt!==(vt=$[6].year+"")&&ae(Yt,vt),(!Ae||ue&64)&&ct!==(ct=$[6].bad_air_days+"")&&ae(Tt,ct);const Ce={};ue&8&&(Ce.data=$[3]),ue&16&&(Ce.comparison_year=$[4]),Oe.$set(Ce)},i($){Ae||(K(f.$$.fragment,$),K(D.$$.fragment,$),K(Oe.$$.fragment,$),Ae=!0)},o($){Z(f.$$.fragment,$),Z(D.$$.fragment,$),Z(Oe.$$.fragment,$),Ae=!1},d($){$&&k(t),pe(f),pe(D),pe(Oe)}}}let sh=30,En=10;function ch(e,t,n){let i,r,l,a,o,h,u,f,c,s;P(e,pt,z=>n(5,s=z));let{latestData:d}=t,{allData:g}=t,{index_of_selected:b}=t,y;const p=z=>z<l?"very low":z<a?"moderately low":z<o?"moderately high":"very high",v=wo(10,43,1).map(z=>({value:z,label:z===42?"42 or older":z}));function R(z){y=z,n(2,y)}return e.$$set=z=>{"latestData"in z&&n(0,d=z.latestData),"allData"in z&&n(11,g=z.allData),"index_of_selected"in z&&n(1,b=z.index_of_selected)},e.$$.update=()=>{var z;e.$$.dirty&1&&n(12,i=d.map(w=>w.bad_air_days)),e.$$.dirty&4&&n(4,r=y?2022-y+En:2022-sh+En),e.$$.dirty&4096&&(l=Br(i,.25)),e.$$.dirty&4096&&(a=Br(i,.5)),e.$$.dirty&4096&&(o=Br(i,.75)),e.$$.dirty&2080&&n(3,h=g.filter(w=>w.code===s.value)),e.$$.dirty&24&&n(8,u=(z=[...h].filter(w=>w.year===r)[0])==null?void 0:z.bad_air_days),e.$$.dirty&8&&n(7,f=[...h].sort((w,E)=>Dt(w.year,E.year))[h.length-1].bad_air_days),e.$$.dirty&8&&n(6,c=[...h].sort((w,E)=>Dt(w.bad_air_days,E.bad_air_days))[h.length-1])},[d,b,y,h,r,s,c,f,u,p,v,g,i,R]}class hh extends ze{constructor(t){super(),Ne(this,t,ch,uh,Re,{latestData:0,allData:11,index_of_selected:1})}}function dh(e){let t,n,i,r,l,a;return t=new Ac({props:{data:e[0]}}),i=new vc({props:{data:e[0],us_states:e[4],cbsa_lookup:e[2],index_of_selected:e[3]}}),l=new hh({props:{latestData:e[0],allData:e[1],index_of_selected:e[3]}}),{c(){me(t.$$.fragment),n=ne(),me(i.$$.fragment),r=ne(),me(l.$$.fragment)},l(o){ye(t.$$.fragment,o),n=ie(o),ye(i.$$.fragment,o),r=ie(o),ye(l.$$.fragment,o)},m(o,h){be(t,o,h),B(o,n,h),be(i,o,h),B(o,r,h),be(l,o,h),a=!0},p(o,[h]){const u={};h&1&&(u.data=o[0]),t.$set(u);const f={};h&1&&(f.data=o[0]),h&16&&(f.us_states=o[4]),h&4&&(f.cbsa_lookup=o[2]),h&8&&(f.index_of_selected=o[3]),i.$set(f);const c={};h&1&&(c.latestData=o[0]),h&2&&(c.allData=o[1]),h&8&&(c.index_of_selected=o[3]),l.$set(c)},i(o){a||(K(t.$$.fragment,o),K(i.$$.fragment,o),K(l.$$.fragment,o),a=!0)},o(o){Z(t.$$.fragment,o),Z(i.$$.fragment,o),Z(l.$$.fragment,o),a=!1},d(o){o&&(k(n),k(r)),pe(t,o),pe(i,o),pe(l,o)}}}function gh(e,t,n){let i,r,l,a,o,h,u,f;P(e,pt,s=>n(8,f=s));let{data:c}=t;return e.$$set=s=>{"data"in s&&n(5,c=s.data)},e.$$.update=()=>{e.$$.dirty&32&&n(6,{city_data:i,cbsa:r,us_states:l}=c,i,(n(7,r),n(5,c)),(n(4,l),n(5,c))),e.$$.dirty&128&&n(2,a=new Map(r.map(s=>[s.GEOID,{name:s.NAME.replace(" Metro Area",""),latitude:+s.latitude,longitude:+s.longitude}]))),e.$$.dirty&68&&n(1,o=i.map(s=>{var d;return{...s,year:+s.year,bad_air_days:+s.n,name:(d=a.get(s["CBSA Code"]))==null?void 0:d.name,code:s["CBSA Code"]}})),e.$$.dirty&2&&n(0,h=o.filter(s=>s.year===2022).sort((s,d)=>_o(s.bad_air_days,d.bad_air_days))),e.$$.dirty&257&&n(3,u=h.findIndex(s=>s["CBSA Code"]===(f==null?void 0:f.value)))},[h,o,a,u,l,c,i,r,f]}class bh extends ze{constructor(t){super(),Ne(this,t,gh,dh,Re,{data:5})}}export{bh as component};
