import{A as oi,s as Re,e as de,i as B,d as k,o as uo,z as P,B as $,C as so,r as qt,f as U,g as V,h as I,j as _,D as co,k as W,E as ff,u as Gt,v as jt,w as Bt,p as Mt,F as Qe,G as se,H as ce,x as R,l as O,m as H,n as le,a as ne,c as ie,I as qe,y as De,J as uf,K as hl,L as Ot,M as fi,N as pn,O as Ml,P as lr,Q as sf,R as ho}from"../chunks/scheduler.7f01e268.js";import{a as K,S as Ne,i as ze,g as Sr,t as Q,c as Er,b as ye,d as pe,m as be,e as we,f as go}from"../chunks/index.2010496a.js";import{w as re,d as Ee}from"../chunks/index.bd54f367.js";function Ge(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function dl(e,t){e.d(1),t.delete(e.key)}function gl(e,t,n,i,r,l,a,o,h,u,f,c){let s=e.length,d=l.length,g=s;const p={};for(;g--;)p[e[g].key]=g;const y=[],v=new Map,b=new Map,M=[];for(g=d;g--;){const S=c(r,l,g),C=n(S);let q=a.get(C);q?i&&M.push(()=>q.p(S,t)):(q=u(C,S),q.c()),v.set(C,y[g]=q),C in p&&b.set(C,Math.abs(g-p[C]))}const N=new Set,w=new Set;function E(S){K(S,1),S.m(o,f),a.set(S.key,S),f=S.first,d--}for(;s&&d;){const S=y[d-1],C=e[s-1],q=S.key,j=C.key;S===C?(f=S.first,s--,d--):v.has(j)?!a.has(q)||N.has(q)?E(S):w.has(j)?s--:b.get(q)>b.get(j)?(w.add(q),E(S)):(N.add(j),s--):(h(C,a),s--)}for(;s--;){const S=e[s];v.has(S.key)||h(S,a)}for(;d;)E(y[d-1]);return oi(M),y}function Et(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _o(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mo(e){let t,n,i;e.length!==2?(t=Et,n=(o,h)=>Et(e(o),h),i=(o,h)=>e(o)-h):(t=e===Et||e===_o?e:cf,n=e,i=e);function r(o,h,u=0,f=o.length){if(u<f){if(t(h,h)!==0)return f;do{const c=u+f>>>1;n(o[c],h)<0?u=c+1:f=c}while(u<f)}return u}function l(o,h,u=0,f=o.length){if(u<f){if(t(h,h)!==0)return f;do{const c=u+f>>>1;n(o[c],h)<=0?u=c+1:f=c}while(u<f)}return u}function a(o,h,u=0,f=o.length){const c=r(o,h,u,f-1);return c>u&&i(o[c-1],h)>-i(o[c],h)?c-1:c}return{left:r,center:a,right:l}}function cf(){return 0}function hf(e){return e===null?NaN:+e}function*df(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}const gf=mo(Et),_f=gf.right;mo(hf).center;const mf=_f;function yf(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let l of e)(l=t(l,++r,e))!=null&&(n===void 0?l>=l&&(n=i=l):(n>l&&(n=l),i<l&&(i=l)))}return[n,i]}class Kt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],a=t+l,o=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);o&&(n[i++]=o),t=a}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,a=0;if(n>0){for(a=t[--n];n>0&&(i=a,r=t[--n],a=i+r,l=r-(a-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=a+r,r==i-a&&(a=i))}return a}}class Rl extends Map{constructor(t,n=wf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Nl(this,t))}has(t){return super.has(Nl(this,t))}set(t,n){return super.set(pf(this,t),n)}delete(t){return super.delete(bf(this,t))}}function Nl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function pf({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function bf({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function wf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vf(e=Et){if(e===Et)return yo;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function yo(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kf=Math.sqrt(50),Sf=Math.sqrt(10),Ef=Math.sqrt(2);function ar(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),a=l>=kf?10:l>=Sf?5:l>=Ef?2:1;let o,h,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(e*u),h=Math.round(t*u),o/u<e&&++o,h/u>t&&--h,u=-u):(u=Math.pow(10,r)*a,o=Math.round(e/u),h=Math.round(t/u),o*u<e&&++o,h*u>t&&--h),h<o&&.5<=n&&n<2?ar(e,t,n*2):[o,h,u]}function Mf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,a]=i?ar(t,e,n):ar(e,t,n);if(!(l>=r))return[];const o=l-r+1,h=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)h[u]=(l-u)/-a;else for(let u=0;u<o;++u)h[u]=(l-u)*a;else if(a<0)for(let u=0;u<o;++u)h[u]=(r+u)/-a;else for(let u=0;u<o;++u)h[u]=(r+u)*a;return h}function Yr(e,t,n){return t=+t,e=+e,n=+n,ar(e,t,n)[2]}function Rf(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?Yr(t,e,n):Yr(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function zl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Dl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function po(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?yo:vf(r);i>n;){if(i-n>600){const h=i-n+1,u=t-n+1,f=Math.log(h),c=.5*Math.exp(2*f/3),s=.5*Math.sqrt(f*c*(h-c)/h)*(u-h/2<0?-1:1),d=Math.max(n,Math.floor(t-u*c/h+s)),g=Math.min(i,Math.floor(t+(h-u)*c/h+s));po(e,t,d,g,r)}const l=e[t];let a=n,o=i;for(Xn(e,n,t),r(e[i],l)>0&&Xn(e,n,i);a<o;){for(Xn(e,a,o),++a,--o;r(e[a],l)<0;)++a;for(;r(e[o],l)>0;)--o}r(e[n],l)===0?Xn(e,n,o):(++o,Xn(e,o,i)),o<=t&&(n=o+1),t<=o&&(i=o-1)}return e}function Xn(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Br(e,t,n){if(e=Float64Array.from(df(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return Dl(e);if(t>=1)return zl(e);var i,r=(i-1)*t,l=Math.floor(r),a=zl(po(e,l).subarray(0,l+1)),o=Dl(e.subarray(l+1));return a+(o-a)*(r-l)}}function*Nf(e){for(const t of e)yield*t}function bo(e){return Array.from(Nf(e))}function wo(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}const mt=re({value:"42660",label:"Seattle-Tacoma-Bellevue, WA"});function zf(e){return e===0?!0:e}function Lt(e){return zf(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function Df(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function Or(e,t={}){return Df(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function Pf(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function Af(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),l=r.length;let a,o,h,u,f,c,s;const d=e.length;for(a=0;a<l;a+=1){for(s=new Set,u=r[a],f=t[u],o=0;o<d;o+=1)if(c=f(e[o]),Array.isArray(c)){const p=c.length;for(h=0;h<p;h+=1)s.add(c[h])}else s.add(c);const g=Array.from(s);i[u]=n===!0?g.sort():g}return i}function Tf(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let l,a,o,h,u,f,c,s;const d=e.length;for(l=0;l<r;l+=1){for(h=i[l],c=t[h],u=null,f=null,a=0;a<d;a+=1)if(s=c(e[a]),Array.isArray(s)){const g=s.length;for(o=0;o<g;o+=1)s[o]!==!1&&s[o]!==void 0&&s[o]!==null&&Number.isNaN(s[o])===!1&&((u===null||s[o]<u)&&(u=s[o]),(f===null||s[o]>f)&&(f=s[o]))}else s!==!1&&s!==void 0&&s!==null&&Number.isNaN(s)===!1&&((u===null||s<u)&&(u=s),(f===null||s>f)&&(f=s));n[h]=[u,f]}return n}function Zn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function vo(e){return!!(typeof e.bandwidth=="function"||Zn(Object.keys(e),["domain","range","unknown","copy"]))}function Cf(e,t,n){const i=Object.keys(n).reduce((l,a)=>{const o=vo(n[a])===!0?"ordinal":"other";return l[o]||(l[o]={}),l[o][a]=t[a],l},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=Af(e,i.ordinal)),i.other&&(r={...r,...Tf(e,i.other)}),r}function Lf(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function Ui(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?Lf(n[e],i):i}}function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Pl=Symbol("implicit");function ko(){var e=new Rl,t=[],n=[],i=Pl;function r(l){let a=e.get(l);if(a===void 0){if(i!==Pl)return i;e.set(l,a=t.push(l)-1)}return n[a%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Rl;for(const a of l)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return ko(t,n).unknown(i)},Mr.apply(r,arguments),r}function _l(){var e=ko().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,a,o=!1,h=0,u=0,f=.5;delete e.unknown;function c(){var s=t().length,d=r<i,g=d?r:i,p=d?i:r;l=(p-g)/Math.max(1,s-h+u*2),o&&(l=Math.floor(l)),g+=(p-g-l*(s-h))*f,a=l*(1-h),o&&(g=Math.round(g),a=Math.round(a));var y=wo(s).map(function(v){return g+l*v});return n(d?y.reverse():y)}return e.domain=function(s){return arguments.length?(t(s),c()):t()},e.range=function(s){return arguments.length?([i,r]=s,i=+i,r=+r,c()):[i,r]},e.rangeRound=function(s){return[i,r]=s,i=+i,r=+r,o=!0,c()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(s){return arguments.length?(o=!!s,c()):o},e.padding=function(s){return arguments.length?(h=Math.min(1,u=+s),c()):h},e.paddingInner=function(s){return arguments.length?(h=Math.min(1,s),c()):h},e.paddingOuter=function(s){return arguments.length?(u=+s,c()):u},e.align=function(s){return arguments.length?(f=Math.max(0,Math.min(1,s)),c()):f},e.copy=function(){return _l(t(),[i,r]).round(o).paddingInner(h).paddingOuter(u).align(f)},Mr.apply(c(),arguments)}function ml(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function So(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function ui(){}var ii=.7,or=1/ii,vn="\\s*([+-]?\\d+)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",If=/^#([0-9a-f]{3,8})$/,qf=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),Gf=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),jf=new RegExp(`^rgba\\(${vn},${vn},${vn},${ri}\\)$`),Bf=new RegExp(`^rgba\\(${_t},${_t},${_t},${ri}\\)$`),Of=new RegExp(`^hsl\\(${ri},${_t},${_t}\\)$`),Hf=new RegExp(`^hsla\\(${ri},${_t},${_t},${ri}\\)$`),Al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ml(ui,li,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tl,formatHex:Tl,formatHex8:Ff,formatHsl:Wf,formatRgb:Cl,toString:Cl});function Tl(){return this.rgb().formatHex()}function Ff(){return this.rgb().formatHex8()}function Wf(){return Eo(this).formatHsl()}function Cl(){return this.rgb().formatRgb()}function li(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=If.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ll(t):n===3?new Ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qf.exec(e))?new Ue(t[1],t[2],t[3],1):(t=Gf.exec(e))?new Ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jf.exec(e))?Vi(t[1],t[2],t[3],t[4]):(t=Bf.exec(e))?Vi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Of.exec(e))?Gl(t[1],t[2]/100,t[3]/100,1):(t=Hf.exec(e))?Gl(t[1],t[2]/100,t[3]/100,t[4]):Al.hasOwnProperty(e)?Ll(Al[e]):e==="transparent"?new Ue(NaN,NaN,NaN,0):null}function Ll(e){return new Ue(e>>16&255,e>>8&255,e&255,1)}function Vi(e,t,n,i){return i<=0&&(e=t=n=NaN),new Ue(e,t,n,i)}function Uf(e){return e instanceof ui||(e=li(e)),e?(e=e.rgb(),new Ue(e.r,e.g,e.b,e.opacity)):new Ue}function fr(e,t,n,i){return arguments.length===1?Uf(e):new Ue(e,t,n,i??1)}function Ue(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}ml(Ue,fr,So(ui,{brighter(e){return e=e==null?or:Math.pow(or,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ii:Math.pow(ii,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ue(Yt(this.r),Yt(this.g),Yt(this.b),ur(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Il,formatHex:Il,formatHex8:Vf,formatRgb:ql,toString:ql}));function Il(){return`#${xt(this.r)}${xt(this.g)}${xt(this.b)}`}function Vf(){return`#${xt(this.r)}${xt(this.g)}${xt(this.b)}${xt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ql(){const e=ur(this.opacity);return`${e===1?"rgb(":"rgba("}${Yt(this.r)}, ${Yt(this.g)}, ${Yt(this.b)}${e===1?")":`, ${e})`}`}function ur(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xt(e){return e=Yt(e),(e<16?"0":"")+e.toString(16)}function Gl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ft(e,t,n,i)}function Eo(e){if(e instanceof ft)return new ft(e.h,e.s,e.l,e.opacity);if(e instanceof ui||(e=li(e)),!e)return new ft;if(e instanceof ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),a=NaN,o=l-r,h=(l+r)/2;return o?(t===l?a=(n-i)/o+(n<i)*6:n===l?a=(i-t)/o+2:a=(t-n)/o+4,o/=h<.5?l+r:2-l-r,a*=60):o=h>0&&h<1?0:a,new ft(a,o,h,e.opacity)}function xf(e,t,n,i){return arguments.length===1?Eo(e):new ft(e,t,n,i??1)}function ft(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}ml(ft,xf,So(ui,{brighter(e){return e=e==null?or:Math.pow(or,e),new ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ii:Math.pow(ii,e),new ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Ue(Hr(e>=240?e-240:e+120,r,i),Hr(e,r,i),Hr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new ft(jl(this.h),xi(this.s),xi(this.l),ur(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ur(this.opacity);return`${e===1?"hsl(":"hsla("}${jl(this.h)}, ${xi(this.s)*100}%, ${xi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jl(e){return e=(e||0)%360,e<0?e+360:e}function xi(e){return Math.max(0,Math.min(1,e||0))}function Hr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yl=e=>()=>e;function Yf(e,t){return function(n){return e+n*t}}function Kf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Xf(e){return(e=+e)==1?Mo:function(t,n){return n-t?Kf(t,n,e):yl(isNaN(t)?n:t)}}function Mo(e,t){var n=t-e;return n?Yf(e,n):yl(isNaN(e)?t:e)}const Bl=function e(t){var n=Xf(t);function i(r,l){var a=n((r=fr(r)).r,(l=fr(l)).r),o=n(r.g,l.g),h=n(r.b,l.b),u=Mo(r.opacity,l.opacity);return function(f){return r.r=a(f),r.g=o(f),r.b=h(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function Zf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function Qf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jf(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),a;for(a=0;a<i;++a)r[a]=pl(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(o){for(a=0;a<i;++a)l[a]=r[a](o);return l}}function $f(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function sr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eu(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=pl(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fr=new RegExp(Kr.source,"g");function tu(e){return function(){return e}}function nu(e){return function(t){return e(t)+""}}function iu(e,t){var n=Kr.lastIndex=Fr.lastIndex=0,i,r,l,a=-1,o=[],h=[];for(e=e+"",t=t+"";(i=Kr.exec(e))&&(r=Fr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),o[a]?o[a]+=l:o[++a]=l),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,h.push({i:a,x:sr(i,r)})),n=Fr.lastIndex;return n<t.length&&(l=t.slice(n),o[a]?o[a]+=l:o[++a]=l),o.length<2?h[0]?nu(h[0].x):tu(t):(t=h.length,function(u){for(var f=0,c;f<t;++f)o[(c=h[f]).i]=c.x(u);return o.join("")})}function pl(e,t){var n=typeof t,i;return t==null||n==="boolean"?yl(t):(n==="number"?sr:n==="string"?(i=li(t))?(t=i,Bl):iu:t instanceof li?Bl:t instanceof Date?$f:Qf(t)?Zf:Array.isArray(t)?Jf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eu:sr)(e,t)}function ru(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function lu(e){return function(){return e}}function au(e){return+e}var Ol=[0,1];function gt(e){return e}function Xr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lu(isNaN(t)?NaN:.5)}function ou(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function fu(e,t,n){var i=e[0],r=e[1],l=t[0],a=t[1];return r<i?(i=Xr(r,i),l=n(a,l)):(i=Xr(i,r),l=n(l,a)),function(o){return l(i(o))}}function uu(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Xr(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(o){var h=mf(e,o,1,i)-1;return l[h](r[h](o))}}function Ro(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function No(){var e=Ol,t=Ol,n=pl,i,r,l,a=gt,o,h,u;function f(){var s=Math.min(e.length,t.length);return a!==gt&&(a=ou(e[0],e[s-1])),o=s>2?uu:fu,h=u=null,c}function c(s){return s==null||isNaN(s=+s)?l:(h||(h=o(e.map(i),t,n)))(i(a(s)))}return c.invert=function(s){return a(r((u||(u=o(t,e.map(i),sr)))(s)))},c.domain=function(s){return arguments.length?(e=Array.from(s,au),f()):e.slice()},c.range=function(s){return arguments.length?(t=Array.from(s),f()):t.slice()},c.rangeRound=function(s){return t=Array.from(s),n=ru,f()},c.clamp=function(s){return arguments.length?(a=s?!0:gt,f()):a!==gt},c.interpolate=function(s){return arguments.length?(n=s,f()):n},c.unknown=function(s){return arguments.length?(l=s,c):l},function(s,d){return i=s,r=d,f()}}function su(){return No()(gt,gt)}function cu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function kn(e){return e=cr(Math.abs(e)),e?e[1]:NaN}function hu(e,t){return function(n,i){for(var r=n.length,l=[],a=0,o=e[0],h=0;r>0&&o>0&&(h+o+1>i&&(o=Math.max(1,i-h)),l.push(n.substring(r-=o,r+o)),!((h+=o+1)>i));)o=e[a=(a+1)%e.length];return l.reverse().join(t)}}function du(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hr(e){if(!(t=gu.exec(e)))throw new Error("invalid format: "+e);var t;return new bl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hr.prototype=bl.prototype;function bl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _u(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var zo;function mu(e,t){var n=cr(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(zo=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return l===a?i:l>a?i+new Array(l-a+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+cr(e,Math.max(0,t+l-1))[0]}function Hl(e,t){var n=cr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Fl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hl(e*100,t),r:Hl,s:mu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wl(e){return e}var Ul=Array.prototype.map,Vl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yu(e){var t=e.grouping===void 0||e.thousands===void 0?Wl:hu(Ul.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Wl:du(Ul.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function u(c){c=hr(c);var s=c.fill,d=c.align,g=c.sign,p=c.symbol,y=c.zero,v=c.width,b=c.comma,M=c.precision,N=c.trim,w=c.type;w==="n"?(b=!0,w="g"):Fl[w]||(M===void 0&&(M=12),N=!0,w="g"),(y||s==="0"&&d==="=")&&(y=!0,s="0",d="=");var E=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=p==="$"?i:/[%p]/.test(w)?a:"",C=Fl[w],q=/[defgprs%]/.test(w);M=M===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function j(T){var F=E,A=S,G,z,D;if(w==="c")A=C(T)+A,T="";else{T=+T;var x=T<0||1/T<0;if(T=isNaN(T)?h:C(Math.abs(T),M),N&&(T=_u(T)),x&&+T==0&&g!=="+"&&(x=!1),F=(x?g==="("?g:o:g==="-"||g==="("?"":g)+F,A=(w==="s"?Vl[8+zo/3]:"")+A+(x&&g==="("?")":""),q){for(G=-1,z=T.length;++G<z;)if(D=T.charCodeAt(G),48>D||D>57){A=(D===46?r+T.slice(G+1):T.slice(G))+A,T=T.slice(0,G);break}}}b&&!y&&(T=t(T,1/0));var Y=F.length+T.length+A.length,ee=Y<v?new Array(v-Y+1).join(s):"";switch(b&&y&&(T=t(ee+T,ee.length?v-A.length:1/0),ee=""),d){case"<":T=F+T+A+ee;break;case"=":T=F+ee+T+A;break;case"^":T=ee.slice(0,Y=ee.length>>1)+F+T+A+ee.slice(Y);break;default:T=ee+F+T+A;break}return l(T)}return j.toString=function(){return c+""},j}function f(c,s){var d=u((c=hr(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(kn(s)/3)))*3,p=Math.pow(10,-g),y=Vl[8+g/3];return function(v){return d(p*v)+y}}return{format:u,formatPrefix:f}}var Yi,Do,Po;pu({thousands:",",grouping:[3],currency:["$",""]});function pu(e){return Yi=yu(e),Do=Yi.format,Po=Yi.formatPrefix,Yi}function bu(e){return Math.max(0,-kn(Math.abs(e)))}function wu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kn(t)/3)))*3-kn(Math.abs(e)))}function vu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kn(t)-kn(e))+1}function ku(e,t,n,i){var r=Rf(e,t,n),l;switch(i=hr(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=wu(r,a))&&(i.precision=l),Po(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=vu(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=bu(r))&&(i.precision=l-(i.type==="%")*2);break}}return Do(i)}function Ao(e){var t=e.domain;return e.ticks=function(n){var i=t();return Mf(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return ku(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,a=i[r],o=i[l],h,u,f=10;for(o<a&&(u=a,a=o,o=u,u=r,r=l,l=u);f-- >0;){if(u=Yr(a,o,n),u===h)return i[r]=a,i[l]=o,t(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;h=u}return e},e}function nr(){var e=su();return e.copy=function(){return Ro(e,nr())},Mr.apply(e,arguments),Ao(e)}function xl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Su(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Eu(e){return e<0?-e*e:e*e}function Mu(e){var t=e(gt,gt),n=1;function i(){return n===1?e(gt,gt):n===.5?e(Su,Eu):e(xl(n),xl(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Ao(t)}function To(){var e=Mu(No());return e.copy=function(){return Ro(e,To()).exponent(e.exponent())},Mr.apply(e,arguments),e}function Co(){return To.apply(null,arguments).exponent(.5)}const Qn={x:nr,y:nr,z:nr,r:Co};function Ru(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Yl(e){return e}function Nu(e){return t=>Math.log(e*t)}function zu(e){return t=>e*Math.exp(t)}function Du(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Pu(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ki(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Au(e){const t=Ru(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Nu(n),ground:zu(n),scaleType:t}}return t==="pow"?{lift:Ki(1),ground:Ki(1/1),scaleType:t}:t==="sqrt"?{lift:Ki(.5),ground:Ki(1/.5),scaleType:t}:t==="symlog"?{lift:Du(1),ground:Pu(1),scaleType:t}:{lift:Yl,ground:Yl,scaleType:t}}function dr(e){return e.replace(/^\w/,t=>t.toUpperCase())}function Oe(e,t=""){return`scale${dr(t)}${dr(e)}`}function Lo(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?Oe("band"):Oe("point");if(Zn(Object.keys(e),["domain","range","unknown","copy"]))return Oe("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return Oe("quantile",t);if(e.thresholds)return Oe("quantize",t);if(e.constant)return Oe("symlog",t);if(e.base)return Oe("log",t);if(e.exponent)return e.exponent()===.5?Oe("sqrt",t):Oe("pow",t);if(Zn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return Oe("threshold");if(Zn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Oe("identity");if(Zn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Oe("radial");if(t)return Oe(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),Oe(i)}return Oe("linear")}const Tu=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Cu(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Tu.includes(Lo(e))||vo(e)===!0)return e.domain();const{lift:n,ground:i}=Au(e),r=e.domain()[0],l=Object.prototype.toString.call(r)==="[object Date]",[a,o]=e.domain().map(d=>n(l?d.getTime():d)),[h,u]=e.range(),f=t[0]||0,c=t[1]||0,s=(o-a)/(Math.abs(u-h)-f-c);return[a-f*s,c*s+o].map(d=>i(l?new Date(d):d))}function Lu(e,t,n,i,r){let l,a;return r===!0?(l=0,a=100):(l=e==="r"?1:0,a=e==="y"?n:e==="r"?25:t),i===!0?[a,l]:[l,a]}function Iu(e,t,n,i,r,l){return r?typeof r=="function"?r({width:t,height:n}):r:Lu(e,t,n,i,l)}function Xi(e){return function([n,i,r,l,a,o,h,u,f,c]){if(i===null)return null;const s=Iu(e,h,u,o,f,c),d=n===Qn[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(s),l&&d.domain(Cu(d,l)),(a===!0||typeof a=="number")&&(typeof d.nice=="function"?d.nice(typeof a=="number"?a:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Zi([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function Qi([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const ct="    ";function qu(e){const{r:t,g:n,b:i,opacity:r}=fr(e);return[t,n,i].every(l=>l>=0&&l<=255)?{r:t,g:n,b:i,o:r}:!1}function Gu({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function ju(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Bu(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{Ou(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Bu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${ct}${t}:`,n)})}function Ou(e,t,n){const i=Lo(t);console.log(`${ct}${e}:`),console.log(`${ct}${ct}Accessor: "${n.toString()}"`),console.log(`${ct}${ct}Type: ${i}`),Kl(t,"domain"),Kl(t,"range"," ")}function Kl(e,t,n=""){const i=e[t](),r=Fu(i);r?Hu(r,t,i):console.log(`${ct}${ct}${dr(t)}:${n}`,i)}function Hu(e,t,n){console.log(`${ct}${ct}${dr(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function Fu(e){const t=[],n=e.map((i,r)=>{const l=qu(i);if(l!==!1){t.push(l);const a=r===e.length-1?" ":"";return`%c ${i}${a}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${Gu(i)};`)]:null}const Wu=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),Xl=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function Zl(e){let t,n,i;const r=e[153].default,l=qt(r,e,e[152],Xl);return{c(){t=U("div"),l&&l.c(),this.h()},l(a){t=V(a,"DIV",{class:!0});var o=I(t);l&&l.l(o),o.forEach(k),this.h()},h(){_(t,"class","layercake-container svelte-vhzpsp"),co(()=>e[155].call(t)),W(t,"position",e[5]),W(t,"top",e[5]==="absolute"?"0":null),W(t,"right",e[5]==="absolute"?"0":null),W(t,"bottom",e[5]==="absolute"?"0":null),W(t,"left",e[5]==="absolute"?"0":null),W(t,"pointer-events",e[4]===!1?"none":null)},m(a,o){B(a,t,o),l&&l.m(t,null),e[154](t),n=ff(t,e[155].bind(t)),i=!0},p(a,o){l&&l.p&&(!i||o[0]&2147483588|o[1]&1048575|o[4]&268435456)&&Gt(l,r,a,a[152],i?Bt(r,a[152],o,Wu):jt(a[152]),Xl),o[0]&32&&W(t,"position",a[5]),o[0]&32&&W(t,"top",a[5]==="absolute"?"0":null),o[0]&32&&W(t,"right",a[5]==="absolute"?"0":null),o[0]&32&&W(t,"bottom",a[5]==="absolute"?"0":null),o[0]&32&&W(t,"left",a[5]==="absolute"?"0":null),o[0]&16&&W(t,"pointer-events",a[4]===!1?"none":null)},i(a){i||(K(l,a),i=!0)},o(a){Q(l,a),i=!1},d(a){a&&k(t),l&&l.d(a),e[154](null),n()}}}function Uu(e){let t,n,i=(e[3]===!0||typeof window<"u")&&Zl(e);return{c(){i&&i.c(),t=de()},l(r){i&&i.l(r),t=de()},m(r,l){i&&i.m(r,l),B(r,t,l),n=!0},p(r,l){r[3]===!0||typeof window<"u"?i?(i.p(r,l),l[0]&8&&K(i,1)):(i=Zl(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(Sr(),Q(i,1,1,()=>{i=null}),Er())},i(r){n||(K(i),n=!0)},o(r){Q(i),n=!1},d(r){r&&k(t),i&&i.d(r)}}}function Vu(e,t,n){let i,r,l,a,o,h,u,f,c,s,d,g,p,y,v,b,M,N,w,E,S,C,q,j,T,F,A,G,z,D,x,Y,ee,ae,L,X,J,ge,Pe,Ve,te,he,Se,Te,Fe,Je,me,xe,nt,yt,je,Ye,Qt,Nt,Ht,Jt,Ft,$t,en,Ke,tn,zt,{$$slots:nn={},$$scope:rn}=t;const Wt=Pf(ju,200);let{ssr:Dt=!1}=t,{pointerEvents:ln=!0}=t,{position:an="relative"}=t,{percentRange:Xe=!1}=t,{width:Ae=void 0}=t,{height:Rn=void 0}=t,{containerWidth:pt=Ae||100}=t,{containerHeight:Z=Rn||100}=t,{element:ue=void 0}=t,{x:Ce=void 0}=t,{y:Be=void 0}=t,{z:Ze=void 0}=t,{r:it=void 0}=t,{data:Le=[]}=t,{xDomain:bt=void 0}=t,{yDomain:wt=void 0}=t,{zDomain:vt=void 0}=t,{rDomain:We=void 0}=t,{xNice:Ut=!1}=t,{yNice:Pt=!1}=t,{zNice:kt=!1}=t,{rNice:rt=!1}=t,{xPadding:lt=void 0}=t,{yPadding:si=void 0}=t,{zPadding:ci=void 0}=t,{rPadding:hi=void 0}=t,{xScale:di=Qn.x}=t,{yScale:Nn=Qn.y}=t,{zScale:gi=Qn.z}=t,{rScale:_i=Qn.r}=t,{xRange:on=void 0}=t,{yRange:fn=void 0}=t,{zRange:un=void 0}=t,{rRange:sn=void 0}=t,{xReverse:mi=!1}=t,{yReverse:yi=void 0}=t,{zReverse:pi=!1}=t,{rReverse:bi=!1}=t,{padding:wi={}}=t,{extents:vi={}}=t,{flatData:ki=void 0}=t,{custom:Si={}}=t,{debug:Rr=!1}=t,Nr=!1;uo(()=>{Nr=!0});const _e={},At=re(Xe);P(e,At,m=>n(33,Fe=m));const cn=re(pt);P(e,cn,m=>n(32,Te=m));const hn=re(Z);P(e,hn,m=>n(31,Se=m));const Ei=re(Or(vi));P(e,Ei,m=>n(170,he=m));const Mi=re(Le);P(e,Mi,m=>n(30,te=m));const zn=re(ki||Le);P(e,zn,m=>n(29,Ve=m));const Ri=re(wi);P(e,Ri,m=>n(169,Pe=m));const dn=re(Lt(Ce));P(e,dn,m=>n(28,ge=m));const gn=re(Lt(Be));P(e,gn,m=>n(27,J=m));const _n=re(Lt(Ze));P(e,_n,m=>n(26,X=m));const mn=re(Lt(it));P(e,mn,m=>n(25,L=m));const Ni=re(bt);P(e,Ni,m=>n(168,ae=m));const zi=re(wt);P(e,zi,m=>n(167,ee=m));const Di=re(vt);P(e,Di,m=>n(166,Y=m));const Pi=re(We);P(e,Pi,m=>n(165,x=m));const Dn=re(Ut);P(e,Dn,m=>n(24,D=m));const Pn=re(Pt);P(e,Pn,m=>n(23,z=m));const An=re(kt);P(e,An,m=>n(22,G=m));const Tn=re(rt);P(e,Tn,m=>n(21,A=m));const Cn=re(mi);P(e,Cn,m=>n(20,F=m));const Ln=re(i);P(e,Ln,m=>n(19,T=m));const In=re(pi);P(e,In,m=>n(18,j=m));const qn=re(bi);P(e,qn,m=>n(17,q=m));const Gn=re(lt);P(e,Gn,m=>n(16,C=m));const jn=re(si);P(e,jn,m=>n(15,S=m));const Bn=re(ci);P(e,Bn,m=>n(14,E=m));const On=re(hi);P(e,On,m=>n(13,w=m));const Ai=re(on);P(e,Ai,m=>n(164,N=m));const Ti=re(fn);P(e,Ti,m=>n(163,M=m));const Ci=re(un);P(e,Ci,m=>n(162,b=m));const Li=re(sn);P(e,Li,m=>n(161,v=m));const Hn=re(di);P(e,Hn,m=>n(160,y=m));const Fn=re(Nn);P(e,Fn,m=>n(159,p=m));const Wn=re(gi);P(e,Wn,m=>n(158,g=m));const Un=re(_i);P(e,Un,m=>n(157,d=m));const Ii=re(_e);P(e,Ii,m=>n(11,c=m));const qi=re(Si);P(e,qi,m=>n(12,s=m));const Gi=Ee([dn,gn,_n,mn],([m,St,st,Ie])=>{const Vt={};return m&&(Vt.x=m),St&&(Vt.y=St),st&&(Vt.z=st),Ie&&(Vt.r=Ie),Vt});P(e,Gi,m=>n(10,u=m));const ji=Ee([Ri,cn,hn],([m])=>Object.assign({top:0,right:0,bottom:0,left:0},m));P(e,ji,m=>n(37,nt=m));const Bi=Ee([cn,hn,ji],([m,St,st])=>{const Ie={};return Ie.top=st.top,Ie.right=m-st.right,Ie.bottom=St-st.bottom,Ie.left=st.left,Ie.width=Ie.right-Ie.left,Ie.height=Ie.bottom-Ie.top,Ie.width<=0&&Nr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),Ie.height<=0&&Nr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),Ie});P(e,Bi,m=>n(151,f=m));const Tt=Ee([Bi],([m])=>m.width);P(e,Tt,m=>n(34,Je=m));const Ct=Ee([Bi],([m])=>m.height);P(e,Ct,m=>n(35,me=m));const at=Ee([zn,Gi,Ei,Hn,Fn,Un,Wn],([m,St,st,Ie,Vt,rf,lf])=>{const af={x:Ie,y:Vt,r:rf,z:lf},Gr=Or(St,st),of=Object.fromEntries(Object.keys(Gr).map(jr=>[jr,af[jr]]));return Object.keys(Gr).length>0?{...Cf(m,Gr,of),...st}:{}});P(e,at,m=>n(38,yt=m));const Oi=Ee([at,Ni],Ui("x"));P(e,Oi,m=>n(39,je=m));const Hi=Ee([at,zi],Ui("y"));P(e,Hi,m=>n(40,Ye=m));const Fi=Ee([at,Di],Ui("z"));P(e,Fi,m=>n(41,Qt=m));const Wi=Ee([at,Pi],Ui("r"));P(e,Wi,m=>n(42,Nt=m));const Vn=Ee([Hn,at,Oi,Gn,Dn,Cn,Tt,Ct,Ai,At],Xi("x"));P(e,Vn,m=>n(9,h=m));const zr=Ee([dn,Vn],Zi);P(e,zr,m=>n(47,en=m));const xn=Ee([Fn,at,Hi,jn,Pn,Ln,Tt,Ct,Ti,At],Xi("y"));P(e,xn,m=>n(8,o=m));const Dr=Ee([gn,xn],Zi);P(e,Dr,m=>n(48,Ke=m));const Yn=Ee([Wn,at,Fi,Bn,An,In,Tt,Ct,Ci,At],Xi("z"));P(e,Yn,m=>n(7,a=m));const Pr=Ee([_n,Yn],Zi);P(e,Pr,m=>n(49,tn=m));const Kn=Ee([Un,at,Wi,On,Tn,qn,Tt,Ct,Li,At],Xi("r"));P(e,Kn,m=>n(6,l=m));const Ar=Ee([mn,Kn],Zi);P(e,Ar,m=>n(50,zt=m));const Tr=Ee([Vn],Qi);P(e,Tr,m=>n(43,Ht=m));const Cr=Ee([xn],Qi);P(e,Cr,m=>n(44,Jt=m));const Lr=Ee([Yn],Qi);P(e,Lr,m=>n(45,Ft=m));const Ir=Ee([Kn],Qi);P(e,Ir,m=>n(46,$t=m));const qr=Ee([Tt,Ct],([m,St])=>m/St);P(e,qr,m=>n(36,xe=m));function tf(m){Mt[m?"unshift":"push"](()=>{ue=m,n(2,ue)})}function nf(){pt=this.clientWidth,Z=this.clientHeight,n(0,pt),n(1,Z)}return e.$$set=m=>{"ssr"in m&&n(3,Dt=m.ssr),"pointerEvents"in m&&n(4,ln=m.pointerEvents),"position"in m&&n(5,an=m.position),"percentRange"in m&&n(111,Xe=m.percentRange),"width"in m&&n(112,Ae=m.width),"height"in m&&n(113,Rn=m.height),"containerWidth"in m&&n(0,pt=m.containerWidth),"containerHeight"in m&&n(1,Z=m.containerHeight),"element"in m&&n(2,ue=m.element),"x"in m&&n(114,Ce=m.x),"y"in m&&n(115,Be=m.y),"z"in m&&n(116,Ze=m.z),"r"in m&&n(117,it=m.r),"data"in m&&n(118,Le=m.data),"xDomain"in m&&n(119,bt=m.xDomain),"yDomain"in m&&n(120,wt=m.yDomain),"zDomain"in m&&n(121,vt=m.zDomain),"rDomain"in m&&n(122,We=m.rDomain),"xNice"in m&&n(123,Ut=m.xNice),"yNice"in m&&n(124,Pt=m.yNice),"zNice"in m&&n(125,kt=m.zNice),"rNice"in m&&n(126,rt=m.rNice),"xPadding"in m&&n(127,lt=m.xPadding),"yPadding"in m&&n(128,si=m.yPadding),"zPadding"in m&&n(129,ci=m.zPadding),"rPadding"in m&&n(130,hi=m.rPadding),"xScale"in m&&n(131,di=m.xScale),"yScale"in m&&n(132,Nn=m.yScale),"zScale"in m&&n(133,gi=m.zScale),"rScale"in m&&n(134,_i=m.rScale),"xRange"in m&&n(135,on=m.xRange),"yRange"in m&&n(136,fn=m.yRange),"zRange"in m&&n(137,un=m.zRange),"rRange"in m&&n(138,sn=m.rRange),"xReverse"in m&&n(139,mi=m.xReverse),"yReverse"in m&&n(140,yi=m.yReverse),"zReverse"in m&&n(141,pi=m.zReverse),"rReverse"in m&&n(142,bi=m.rReverse),"padding"in m&&n(143,wi=m.padding),"extents"in m&&n(144,vi=m.extents),"flatData"in m&&n(145,ki=m.flatData),"custom"in m&&n(146,Si=m.custom),"debug"in m&&n(147,Rr=m.debug),"$$scope"in m&&n(152,rn=m.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof yi>"u"?typeof Nn.bandwidth!="function":yi),e.$$.dirty[3]&2097152&&Ce&&n(148,_e.x=Ce,_e),e.$$.dirty[3]&4194304&&Be&&n(148,_e.y=Be,_e),e.$$.dirty[3]&8388608&&Ze&&n(148,_e.z=Ze,_e),e.$$.dirty[3]&16777216&&it&&n(148,_e.r=it,_e),e.$$.dirty[3]&67108864&&bt&&n(148,_e.xDomain=bt,_e),e.$$.dirty[3]&134217728&&wt&&n(148,_e.yDomain=wt,_e),e.$$.dirty[3]&268435456&&vt&&n(148,_e.zDomain=vt,_e),e.$$.dirty[3]&536870912&&We&&n(148,_e.rDomain=We,_e),e.$$.dirty[4]&2048&&on&&n(148,_e.xRange=on,_e),e.$$.dirty[4]&4096&&fn&&n(148,_e.yRange=fn,_e),e.$$.dirty[4]&8192&&un&&n(148,_e.zRange=un,_e),e.$$.dirty[4]&16384&&sn&&n(148,_e.rRange=sn,_e),e.$$.dirty[3]&262144&&$(At,Fe=Xe,Fe),e.$$.dirty[0]&1&&$(cn,Te=pt,Te),e.$$.dirty[0]&2&&$(hn,Se=Z,Se),e.$$.dirty[4]&1048576&&$(Ei,he=Or(vi),he),e.$$.dirty[3]&33554432&&$(Mi,te=Le,te),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&$(zn,Ve=ki||Le,Ve),e.$$.dirty[4]&524288&&$(Ri,Pe=wi,Pe),e.$$.dirty[3]&2097152&&$(dn,ge=Lt(Ce),ge),e.$$.dirty[3]&4194304&&$(gn,J=Lt(Be),J),e.$$.dirty[3]&8388608&&$(_n,X=Lt(Ze),X),e.$$.dirty[3]&16777216&&$(mn,L=Lt(it),L),e.$$.dirty[3]&67108864&&$(Ni,ae=bt,ae),e.$$.dirty[3]&134217728&&$(zi,ee=wt,ee),e.$$.dirty[3]&268435456&&$(Di,Y=vt,Y),e.$$.dirty[3]&536870912&&$(Pi,x=We,x),e.$$.dirty[3]&1073741824&&$(Dn,D=Ut,D),e.$$.dirty[4]&1&&$(Pn,z=Pt,z),e.$$.dirty[4]&2&&$(An,G=kt,G),e.$$.dirty[4]&4&&$(Tn,A=rt,A),e.$$.dirty[4]&32768&&$(Cn,F=mi,F),e.$$.dirty[4]&67108864&&$(Ln,T=i,T),e.$$.dirty[4]&131072&&$(In,j=pi,j),e.$$.dirty[4]&262144&&$(qn,q=bi,q),e.$$.dirty[4]&8&&$(Gn,C=lt,C),e.$$.dirty[4]&16&&$(jn,S=si,S),e.$$.dirty[4]&32&&$(Bn,E=ci,E),e.$$.dirty[4]&64&&$(On,w=hi,w),e.$$.dirty[4]&2048&&$(Ai,N=on,N),e.$$.dirty[4]&4096&&$(Ti,M=fn,M),e.$$.dirty[4]&8192&&$(Ci,b=un,b),e.$$.dirty[4]&16384&&$(Li,v=sn,v),e.$$.dirty[4]&128&&$(Hn,y=di,y),e.$$.dirty[4]&256&&$(Fn,p=Nn,p),e.$$.dirty[4]&512&&$(Wn,g=gi,g),e.$$.dirty[4]&1024&&$(Un,d=_i,d),e.$$.dirty[4]&4194304&&$(qi,s=Si,s),e.$$.dirty[4]&16777216&&$(Ii,c=_e,c),e.$$.dirty[4]&33554432&&so("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&f&&Rr===!0&&(Dt===!0||typeof window<"u")&&Wt({boundingBox:f,activeGetters:u,x:_e.x,y:_e.y,z:_e.z,r:_e.r,xScale:h,yScale:o,zScale:a,rScale:l})},n(149,r={activeGetters:Gi,width:Tt,height:Ct,percentRange:At,aspectRatio:qr,containerWidth:cn,containerHeight:hn,x:dn,y:gn,z:_n,r:mn,custom:qi,data:Mi,xNice:Dn,yNice:Pn,zNice:An,rNice:Tn,xReverse:Cn,yReverse:Ln,zReverse:In,rReverse:qn,xPadding:Gn,yPadding:jn,zPadding:Bn,rPadding:On,padding:ji,flatData:zn,extents:at,xDomain:Oi,yDomain:Hi,zDomain:Fi,rDomain:Wi,xRange:Tr,yRange:Cr,zRange:Lr,rRange:Ir,config:Ii,xScale:Vn,xGet:zr,yScale:xn,yGet:Dr,zScale:Yn,zGet:Pr,rScale:Kn,rGet:Ar}),[pt,Z,ue,Dt,ln,an,l,a,o,h,u,c,s,w,E,S,C,q,j,T,F,A,G,z,D,L,X,J,ge,Ve,te,Se,Te,Fe,Je,me,xe,nt,yt,je,Ye,Qt,Nt,Ht,Jt,Ft,$t,en,Ke,tn,zt,At,cn,hn,Ei,Mi,zn,Ri,dn,gn,_n,mn,Ni,zi,Di,Pi,Dn,Pn,An,Tn,Cn,Ln,In,qn,Gn,jn,Bn,On,Ai,Ti,Ci,Li,Hn,Fn,Wn,Un,Ii,qi,Gi,ji,Bi,Tt,Ct,at,Oi,Hi,Fi,Wi,Vn,zr,xn,Dr,Yn,Pr,Kn,Ar,Tr,Cr,Lr,Ir,qr,Xe,Ae,Rn,Ce,Be,Ze,it,Le,bt,wt,vt,We,Ut,Pt,kt,rt,lt,si,ci,hi,di,Nn,gi,_i,on,fn,un,sn,mi,yi,pi,bi,wi,vi,ki,Si,Rr,_e,r,i,f,rn,nn,tf,nf]}class wl extends Ne{constructor(t){super(),ze(this,t,Vu,Uu,Re,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const xu=e=>({element:e&1}),Ql=e=>({element:e[0]});function Yu(e){let t,n;const i=e[11].default,r=qt(i,e,e[10],Ql);return{c(){t=U("div"),r&&r.c(),this.h()},l(l){t=V(l,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var a=I(t);r&&r.l(a),a.forEach(k),this.h()},h(){_(t,"class","layercake-layout-html svelte-1bu60uu"),_(t,"role",e[6]),_(t,"aria-label",e[3]),_(t,"aria-labelledby",e[4]),_(t,"aria-describedby",e[5]),W(t,"z-index",e[1]),W(t,"pointer-events",e[2]===!1?"none":null),W(t,"top",e[7].top+"px"),W(t,"right",e[7].right+"px"),W(t,"bottom",e[7].bottom+"px"),W(t,"left",e[7].left+"px")},m(l,a){B(l,t,a),r&&r.m(t,null),e[12](t),n=!0},p(l,[a]){r&&r.p&&(!n||a&1025)&&Gt(r,i,l,l[10],n?Bt(i,l[10],a,xu):jt(l[10]),Ql),(!n||a&64)&&_(t,"role",l[6]),(!n||a&8)&&_(t,"aria-label",l[3]),(!n||a&16)&&_(t,"aria-labelledby",l[4]),(!n||a&32)&&_(t,"aria-describedby",l[5]),a&2&&W(t,"z-index",l[1]),a&4&&W(t,"pointer-events",l[2]===!1?"none":null),a&128&&W(t,"top",l[7].top+"px"),a&128&&W(t,"right",l[7].right+"px"),a&128&&W(t,"bottom",l[7].bottom+"px"),a&128&&W(t,"left",l[7].left+"px")},i(l){n||(K(r,l),n=!0)},o(l){Q(r,l),n=!1},d(l){l&&k(t),r&&r.d(l),e[12](null)}}}function Ku(e,t,n){let i,r,{$$slots:l={},$$scope:a}=t;const{padding:o}=Qe("LayerCake");P(e,o,y=>n(7,r=y));let{element:h=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:f=void 0}=t,{role:c=void 0}=t,{label:s=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:g=void 0}=t;function p(y){Mt[y?"unshift":"push"](()=>{h=y,n(0,h)})}return e.$$set=y=>{"element"in y&&n(0,h=y.element),"zIndex"in y&&n(1,u=y.zIndex),"pointerEvents"in y&&n(2,f=y.pointerEvents),"role"in y&&n(9,c=y.role),"label"in y&&n(3,s=y.label),"labelledBy"in y&&n(4,d=y.labelledBy),"describedBy"in y&&n(5,g=y.describedBy),"$$scope"in y&&n(10,a=y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=c||(s||d||g?"figure":void 0))},[h,u,f,s,d,g,i,r,o,c,a,l,p]}class Jl extends Ne{constructor(t){super(),ze(this,t,Ku,Yu,Re,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const Xu=e=>({element:e&1}),$l=e=>({element:e[0]}),Zu=e=>({}),ea=e=>({}),Qu=e=>({}),ta=e=>({});function na(e){let t,n;return{c(){t=se("title"),n=O(e[8])},l(i){t=ce(i,"title",{});var r=I(t);n=H(r,e[8]),r.forEach(k)},m(i,r){B(i,t,r),R(t,n)},p(i,r){r&256&&le(n,i[8])},d(i){i&&k(t)}}}function Ju(e){let t,n=e[8]&&na(e);return{c(){n&&n.c(),t=de()},l(i){n&&n.l(i),t=de()},m(i,r){n&&n.m(i,r),B(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=na(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&k(t),n&&n.d(i)}}}function $u(e){let t,n,i,r,l;const a=e[16].title,o=qt(a,e,e[15],ta),h=o||Ju(e),u=e[16].defs,f=qt(u,e,e[15],ea),c=e[16].default,s=qt(c,e,e[15],$l);return{c(){t=se("svg"),h&&h.c(),n=se("defs"),f&&f.c(),i=se("g"),s&&s.c(),this.h()},l(d){t=ce(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=I(t);h&&h.l(g),n=ce(g,"defs",{});var p=I(n);f&&f.l(p),p.forEach(k),i=ce(g,"g",{class:!0,transform:!0});var y=I(i);s&&s.l(y),y.forEach(k),g.forEach(k),this.h()},h(){_(i,"class","layercake-layout-svg_g"),_(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),_(t,"class","layercake-layout-svg svelte-u84d8d"),_(t,"viewBox",e[4]),_(t,"width",e[9]),_(t,"height",e[10]),_(t,"aria-label",e[5]),_(t,"aria-labelledby",e[6]),_(t,"aria-describedby",e[7]),W(t,"z-index",e[2]),W(t,"pointer-events",e[3]===!1?"none":null)},m(d,g){B(d,t,g),h&&h.m(t,null),R(t,n),f&&f.m(n,null),R(t,i),s&&s.m(i,null),e[17](i),e[18](t),l=!0},p(d,[g]){o?o.p&&(!l||g&32768)&&Gt(o,a,d,d[15],l?Bt(a,d[15],g,Qu):jt(d[15]),ta):h&&h.p&&(!l||g&256)&&h.p(d,l?g:-1),f&&f.p&&(!l||g&32768)&&Gt(f,u,d,d[15],l?Bt(u,d[15],g,Zu):jt(d[15]),ea),s&&s.p&&(!l||g&32769)&&Gt(s,c,d,d[15],l?Bt(c,d[15],g,Xu):jt(d[15]),$l),(!l||g&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&_(i,"transform",r),(!l||g&16)&&_(t,"viewBox",d[4]),(!l||g&512)&&_(t,"width",d[9]),(!l||g&1024)&&_(t,"height",d[10]),(!l||g&32)&&_(t,"aria-label",d[5]),(!l||g&64)&&_(t,"aria-labelledby",d[6]),(!l||g&128)&&_(t,"aria-describedby",d[7]),g&4&&W(t,"z-index",d[2]),g&8&&W(t,"pointer-events",d[3]===!1?"none":null)},i(d){l||(K(h,d),K(f,d),K(s,d),l=!0)},o(d){Q(h,d),Q(f,d),Q(s,d),l=!1},d(d){d&&k(t),h&&h.d(d),f&&f.d(d),s&&s.d(d),e[17](null),e[18](null)}}}function es(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t,{element:h=void 0}=t,{innerElement:u=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:c=void 0}=t,{viewBox:s=void 0}=t,{label:d=void 0}=t,{labelledBy:g=void 0}=t,{describedBy:p=void 0}=t,{title:y=void 0}=t;const{containerWidth:v,containerHeight:b,padding:M}=Qe("LayerCake");P(e,v,E=>n(9,i=E)),P(e,b,E=>n(10,r=E)),P(e,M,E=>n(11,l=E));function N(E){Mt[E?"unshift":"push"](()=>{u=E,n(1,u)})}function w(E){Mt[E?"unshift":"push"](()=>{h=E,n(0,h)})}return e.$$set=E=>{"element"in E&&n(0,h=E.element),"innerElement"in E&&n(1,u=E.innerElement),"zIndex"in E&&n(2,f=E.zIndex),"pointerEvents"in E&&n(3,c=E.pointerEvents),"viewBox"in E&&n(4,s=E.viewBox),"label"in E&&n(5,d=E.label),"labelledBy"in E&&n(6,g=E.labelledBy),"describedBy"in E&&n(7,p=E.describedBy),"title"in E&&n(8,y=E.title),"$$scope"in E&&n(15,o=E.$$scope)},[h,u,f,c,s,d,g,p,y,i,r,l,v,b,M,o,a,N,w]}class vl extends Ne{constructor(t){super(),ze(this,t,es,$u,Re,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Io(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const ts=e=>({element:e&2,context:e&1}),ia=e=>({element:e[1],context:e[0]}),ns=e=>({}),ra=e=>({});function la(e){let t;return{c(){t=O(e[4])},l(n){t=H(n,e[4])},m(n,i){B(n,t,i)},p(n,i){i&16&&le(t,n[4])},d(n){n&&k(t)}}}function is(e){let t,n=e[4]&&la(e);return{c(){n&&n.c(),t=de()},l(i){n&&n.l(i),t=de()},m(i,r){n&&n.m(i,r),B(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=la(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&k(t),n&&n.d(i)}}}function rs(e){let t,n,i;const r=e[13].fallback,l=qt(r,e,e[12],ra),a=l||is(e),o=e[13].default,h=qt(o,e,e[12],ia);return{c(){t=U("canvas"),a&&a.c(),n=ne(),h&&h.c(),this.h()},l(u){t=V(u,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=I(t);a&&a.l(f),f.forEach(k),n=ie(u),h&&h.l(u),this.h()},h(){_(t,"class","layercake-layout-canvas"),W(t,"width","100%"),W(t,"height","100%"),W(t,"position","absolute"),_(t,"aria-label",e[5]),_(t,"aria-labelledby",e[6]),_(t,"aria-describedby",e[7]),W(t,"z-index",e[2]),W(t,"pointer-events",e[3]===!1?"none":null),W(t,"top",e[8].top+"px"),W(t,"right",e[8].right+"px"),W(t,"bottom",e[8].bottom+"px"),W(t,"left",e[8].left+"px")},m(u,f){B(u,t,f),a&&a.m(t,null),e[14](t),B(u,n,f),h&&h.m(u,f),i=!0},p(u,[f]){l?l.p&&(!i||f&4096)&&Gt(l,r,u,u[12],i?Bt(r,u[12],f,ns):jt(u[12]),ra):a&&a.p&&(!i||f&16)&&a.p(u,i?f:-1),(!i||f&32)&&_(t,"aria-label",u[5]),(!i||f&64)&&_(t,"aria-labelledby",u[6]),(!i||f&128)&&_(t,"aria-describedby",u[7]),f&4&&W(t,"z-index",u[2]),f&8&&W(t,"pointer-events",u[3]===!1?"none":null),f&256&&W(t,"top",u[8].top+"px"),f&256&&W(t,"right",u[8].right+"px"),f&256&&W(t,"bottom",u[8].bottom+"px"),f&256&&W(t,"left",u[8].left+"px"),h&&h.p&&(!i||f&4099)&&Gt(h,o,u,u[12],i?Bt(o,u[12],f,ts):jt(u[12]),ia)},i(u){i||(K(a,u),K(h,u),i=!0)},o(u){Q(a,u),Q(h,u),i=!1},d(u){u&&(k(t),k(n)),a&&a.d(u),e[14](null),h&&h.d(u)}}}function ls(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t;const{width:h,height:u,padding:f}=Qe("LayerCake");P(e,h,w=>n(16,r=w)),P(e,u,w=>n(15,i=w)),P(e,f,w=>n(8,l=w));let{element:c=void 0}=t,{context:s=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:g=void 0}=t,{fallback:p=""}=t,{label:y=void 0}=t,{labelledBy:v=void 0}=t,{describedBy:b=void 0}=t;const M={ctx:re({})};uo(()=>{n(0,s=c.getContext("2d")),Io(s,r,i)}),so("canvas",M);function N(w){Mt[w?"unshift":"push"](()=>{c=w,n(1,c)})}return e.$$set=w=>{"element"in w&&n(1,c=w.element),"context"in w&&n(0,s=w.context),"zIndex"in w&&n(2,d=w.zIndex),"pointerEvents"in w&&n(3,g=w.pointerEvents),"fallback"in w&&n(4,p=w.fallback),"label"in w&&n(5,y=w.label),"labelledBy"in w&&n(6,v=w.labelledBy),"describedBy"in w&&n(7,b=w.describedBy),"$$scope"in w&&n(12,o=w.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&M.ctx.set(s)},[s,c,d,g,p,y,v,b,l,h,u,f,o,a,N]}class as extends Ne{constructor(t){super(),ze(this,t,ls,rs,Re,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function os(e){e.nextSibling&&e.parentNode.appendChild(e)}function fs(e){return e}function us(e){if(e==null)return fs;var t,n,i=e.scale[0],r=e.scale[1],l=e.translate[0],a=e.translate[1];return function(o,h){h||(t=n=0);var u=2,f=o.length,c=new Array(f);for(c[0]=(t+=o[0])*i+l,c[1]=(n+=o[1])*r+a;u<f;)c[u]=o[u],++u;return c}}function ss(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function cs(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return aa(e,n)})}:aa(e,t)}function aa(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,l=hs(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function hs(e,t){var n=us(e.transform),i=e.arcs;function r(f,c){c.length&&c.pop();for(var s=i[f<0?~f:f],d=0,g=s.length;d<g;++d)c.push(n(s[d],d));f<0&&ss(c,g)}function l(f){return n(f)}function a(f){for(var c=[],s=0,d=f.length;s<d;++s)r(f[s],c);return c.length<2&&c.push(c[0]),c}function o(f){for(var c=a(f);c.length<4;)c.push(c[0]);return c}function h(f){return f.map(o)}function u(f){var c=f.type,s;switch(c){case"GeometryCollection":return{type:c,geometries:f.geometries.map(u)};case"Point":s=l(f.coordinates);break;case"MultiPoint":s=f.coordinates.map(l);break;case"LineString":s=a(f.arcs);break;case"MultiLineString":s=f.arcs.map(a);break;case"Polygon":s=h(f.arcs);break;case"MultiPolygon":s=f.arcs.map(h);break;default:return null}return{type:c,coordinates:s}}return u(t)}var fe=1e-6,ds=1e-12,oe=Math.PI,$e=oe/2,oa=oe/4,tt=oe*2,ot=180/oe,He=oe/180,ke=Math.abs,gs=Math.atan,Sn=Math.atan2,Me=Math.cos,ve=Math.sin,ir=Math.sign||function(e){return e>0?1:e<0?-1:0},Rt=Math.sqrt;function _s(e){return e>1?0:e<-1?oe:Math.acos(e)}function Xt(e){return e>1?$e:e<-1?-$e:Math.asin(e)}function et(){}function gr(e,t){e&&ua.hasOwnProperty(e.type)&&ua[e.type](e,t)}var fa={Feature:function(e,t){gr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)gr(n[i].geometry,t)}},ua={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Zr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Zr(n[i],t,0)},Polygon:function(e,t){sa(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)sa(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)gr(n[i],t)}};function Zr(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function sa(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Zr(e[n],t,1);t.polygonEnd()}function yn(e,t){e&&fa.hasOwnProperty(e.type)?fa[e.type](e,t):gr(e,t)}function Qr(e){return[Sn(e[1],e[0]),Xt(e[2])]}function En(e){var t=e[0],n=e[1],i=Me(n);return[i*Me(t),i*ve(t),ve(n)]}function Ji(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _r(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Wr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function $i(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Jr(e){var t=Rt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function $r(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function el(e,t){return ke(e)>oe&&(e-=Math.round(e/tt)*tt),[e,t]}el.invert=el;function ms(e,t,n){return(e%=tt)?t||n?$r(ha(e),da(t,n)):ha(e):t||n?da(t,n):el}function ca(e){return function(t,n){return t+=e,ke(t)>oe&&(t-=Math.round(t/tt)*tt),[t,n]}}function ha(e){var t=ca(e);return t.invert=ca(-e),t}function da(e,t){var n=Me(e),i=ve(e),r=Me(t),l=ve(t);function a(o,h){var u=Me(h),f=Me(o)*u,c=ve(o)*u,s=ve(h),d=s*n+f*i;return[Sn(c*r-d*l,f*n-s*i),Xt(d*r+c*l)]}return a.invert=function(o,h){var u=Me(h),f=Me(o)*u,c=ve(o)*u,s=ve(h),d=s*r-c*l;return[Sn(c*r+s*l,f*n+d*i),Xt(d*n-f*i)]},a}function ys(e,t,n,i,r,l){if(n){var a=Me(t),o=ve(t),h=i*n;r==null?(r=t+i*tt,l=t-h/2):(r=ga(a,r),l=ga(a,l),(i>0?r<l:r>l)&&(r+=i*tt));for(var u,f=r;i>0?f>l:f<l;f-=h)u=Qr([a,-o*Me(f),-o*ve(f)]),e.point(u[0],u[1])}}function ga(e,t){t=En(t),t[0]-=e,Jr(t);var n=_s(-t[1]);return((-t[2]<0?-n:n)+tt-fe)%tt}function qo(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:et,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function rr(e,t){return ke(e[0]-t[0])<fe&&ke(e[1]-t[1])<fe}function er(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Go(e,t,n,i,r){var l=[],a=[],o,h;if(e.forEach(function(g){if(!((p=g.length-1)<=0)){var p,y=g[0],v=g[p],b;if(rr(y,v)){if(!y[2]&&!v[2]){for(r.lineStart(),o=0;o<p;++o)r.point((y=g[o])[0],y[1]);r.lineEnd();return}v[0]+=2*fe}l.push(b=new er(y,g,null,!0)),a.push(b.o=new er(y,null,b,!1)),l.push(b=new er(v,g,null,!1)),a.push(b.o=new er(v,null,b,!0))}}),!!l.length){for(a.sort(t),_a(l),_a(a),o=0,h=a.length;o<h;++o)a[o].e=n=!n;for(var u=l[0],f,c;;){for(var s=u,d=!0;s.v;)if((s=s.n)===u)return;f=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(d)for(o=0,h=f.length;o<h;++o)r.point((c=f[o])[0],c[1]);else i(s.x,s.n.x,1,r);s=s.n}else{if(d)for(f=s.p.z,o=f.length-1;o>=0;--o)r.point((c=f[o])[0],c[1]);else i(s.x,s.p.x,-1,r);s=s.p}s=s.o,f=s.z,d=!d}while(!s.v);r.lineEnd()}}}function _a(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Ur(e){return ke(e[0])<=oe?e[0]:ir(e[0])*((ke(e[0])+oe)%tt-oe)}function ps(e,t){var n=Ur(t),i=t[1],r=ve(i),l=[ve(n),-Me(n),0],a=0,o=0,h=new Kt;r===1?i=$e+fe:r===-1&&(i=-$e-fe);for(var u=0,f=e.length;u<f;++u)if(s=(c=e[u]).length)for(var c,s,d=c[s-1],g=Ur(d),p=d[1]/2+oa,y=ve(p),v=Me(p),b=0;b<s;++b,g=N,y=E,v=S,d=M){var M=c[b],N=Ur(M),w=M[1]/2+oa,E=ve(w),S=Me(w),C=N-g,q=C>=0?1:-1,j=q*C,T=j>oe,F=y*E;if(h.add(Sn(F*q*ve(j),v*S+F*Me(j))),a+=T?C+q*tt:C,T^g>=n^N>=n){var A=_r(En(d),En(M));Jr(A);var G=_r(l,A);Jr(G);var z=(T^C>=0?-1:1)*Xt(G[2]);(i>z||i===z&&(A[0]||A[1]))&&(o+=T^C>=0?1:-1)}}return(a<-fe||a<fe&&h<-ds)^o&1}function jo(e,t,n,i){return function(r){var l=t(r),a=qo(),o=t(a),h=!1,u,f,c,s={point:d,lineStart:p,lineEnd:y,polygonStart:function(){s.point=v,s.lineStart=b,s.lineEnd=M,f=[],u=[]},polygonEnd:function(){s.point=d,s.lineStart=p,s.lineEnd=y,f=bo(f);var N=ps(u,i);f.length?(h||(r.polygonStart(),h=!0),Go(f,ws,N,n,r)):N&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(N,w){e(N,w)&&r.point(N,w)}function g(N,w){l.point(N,w)}function p(){s.point=g,l.lineStart()}function y(){s.point=d,l.lineEnd()}function v(N,w){c.push([N,w]),o.point(N,w)}function b(){o.lineStart(),c=[]}function M(){v(c[0][0],c[0][1]),o.lineEnd();var N=o.clean(),w=a.result(),E,S=w.length,C,q,j;if(c.pop(),u.push(c),c=null,!!S){if(N&1){if(q=w[0],(C=q.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),E=0;E<C;++E)r.point((j=q[E])[0],j[1]);r.lineEnd()}return}S>1&&N&2&&w.push(w.pop().concat(w.shift())),f.push(w.filter(bs))}}return s}}function bs(e){return e.length>1}function ws(e,t){return((e=e.x)[0]<0?e[1]-$e-fe:$e-e[1])-((t=t.x)[0]<0?t[1]-$e-fe:$e-t[1])}const ma=jo(function(){return!0},vs,Ss,[-oe,-$e]);function vs(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,a){var o=l>0?oe:-oe,h=ke(l-t);ke(h-oe)<fe?(e.point(t,n=(n+a)/2>0?$e:-$e),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(l,n),r=0):i!==o&&h>=oe&&(ke(t-i)<fe&&(t-=i*fe),ke(l-o)<fe&&(l-=o*fe),n=ks(t,n,l,a),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),r=0),e.point(t=l,n=a),i=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function ks(e,t,n,i){var r,l,a=ve(e-n);return ke(a)>fe?gs((ve(t)*(l=Me(i))*ve(n)-ve(i)*(r=Me(t))*ve(e))/(r*l*a)):(t+i)/2}function Ss(e,t,n,i){var r;if(e==null)r=n*$e,i.point(-oe,r),i.point(0,r),i.point(oe,r),i.point(oe,0),i.point(oe,-r),i.point(0,-r),i.point(-oe,-r),i.point(-oe,0),i.point(-oe,r);else if(ke(e[0]-t[0])>fe){var l=e[0]<t[0]?oe:-oe;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function Es(e){var t=Me(e),n=6*He,i=t>0,r=ke(t)>fe;function l(f,c,s,d){ys(d,e,n,s,f,c)}function a(f,c){return Me(f)*Me(c)>t}function o(f){var c,s,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(y,v){var b=[y,v],M,N=a(y,v),w=i?N?0:u(y,v):N?u(y+(y<0?oe:-oe),v):0;if(!c&&(g=d=N)&&f.lineStart(),N!==d&&(M=h(c,b),(!M||rr(c,M)||rr(b,M))&&(b[2]=1)),N!==d)p=0,N?(f.lineStart(),M=h(b,c),f.point(M[0],M[1])):(M=h(c,b),f.point(M[0],M[1],2),f.lineEnd()),c=M;else if(r&&c&&i^N){var E;!(w&s)&&(E=h(b,c,!0))&&(p=0,i?(f.lineStart(),f.point(E[0][0],E[0][1]),f.point(E[1][0],E[1][1]),f.lineEnd()):(f.point(E[1][0],E[1][1]),f.lineEnd(),f.lineStart(),f.point(E[0][0],E[0][1],3)))}N&&(!c||!rr(c,b))&&f.point(b[0],b[1]),c=b,d=N,s=w},lineEnd:function(){d&&f.lineEnd(),c=null},clean:function(){return p|(g&&d)<<1}}}function h(f,c,s){var d=En(f),g=En(c),p=[1,0,0],y=_r(d,g),v=Ji(y,y),b=y[0],M=v-b*b;if(!M)return!s&&f;var N=t*v/M,w=-t*b/M,E=_r(p,y),S=$i(p,N),C=$i(y,w);Wr(S,C);var q=E,j=Ji(S,q),T=Ji(q,q),F=j*j-T*(Ji(S,S)-1);if(!(F<0)){var A=Rt(F),G=$i(q,(-j-A)/T);if(Wr(G,S),G=Qr(G),!s)return G;var z=f[0],D=c[0],x=f[1],Y=c[1],ee;D<z&&(ee=z,z=D,D=ee);var ae=D-z,L=ke(ae-oe)<fe,X=L||ae<fe;if(!L&&Y<x&&(ee=x,x=Y,Y=ee),X?L?x+Y>0^G[1]<(ke(G[0]-z)<fe?x:Y):x<=G[1]&&G[1]<=Y:ae>oe^(z<=G[0]&&G[0]<=D)){var J=$i(q,(-j+A)/T);return Wr(J,S),[G,Qr(J)]}}}function u(f,c){var s=i?e:oe-e,d=0;return f<-s?d|=1:f>s&&(d|=2),c<-s?d|=4:c>s&&(d|=8),d}return jo(a,o,l,i?[0,-e]:[-oe,e-oe])}function Ms(e,t,n,i,r,l){var a=e[0],o=e[1],h=t[0],u=t[1],f=0,c=1,s=h-a,d=u-o,g;if(g=n-a,!(!s&&g>0)){if(g/=s,s<0){if(g<f)return;g<c&&(c=g)}else if(s>0){if(g>c)return;g>f&&(f=g)}if(g=r-a,!(!s&&g<0)){if(g/=s,s<0){if(g>c)return;g>f&&(f=g)}else if(s>0){if(g<f)return;g<c&&(c=g)}if(g=i-o,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<c&&(c=g)}else if(d>0){if(g>c)return;g>f&&(f=g)}if(g=l-o,!(!d&&g<0)){if(g/=d,d<0){if(g>c)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<c&&(c=g)}return f>0&&(e[0]=a+f*s,e[1]=o+f*d),c<1&&(t[0]=a+c*s,t[1]=o+c*d),!0}}}}}var Jn=1e9,tr=-Jn;function Rs(e,t,n,i){function r(u,f){return e<=u&&u<=n&&t<=f&&f<=i}function l(u,f,c,s){var d=0,g=0;if(u==null||(d=a(u,c))!==(g=a(f,c))||h(u,f)<0^c>0)do s.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+c+4)%4)!==g);else s.point(f[0],f[1])}function a(u,f){return ke(u[0]-e)<fe?f>0?0:3:ke(u[0]-n)<fe?f>0?2:1:ke(u[1]-t)<fe?f>0?1:0:f>0?3:2}function o(u,f){return h(u.x,f.x)}function h(u,f){var c=a(u,1),s=a(f,1);return c!==s?c-s:c===0?f[1]-u[1]:c===1?u[0]-f[0]:c===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,c=qo(),s,d,g,p,y,v,b,M,N,w,E,S={point:C,lineStart:F,lineEnd:A,polygonStart:j,polygonEnd:T};function C(z,D){r(z,D)&&f.point(z,D)}function q(){for(var z=0,D=0,x=d.length;D<x;++D)for(var Y=d[D],ee=1,ae=Y.length,L=Y[0],X,J,ge=L[0],Pe=L[1];ee<ae;++ee)X=ge,J=Pe,L=Y[ee],ge=L[0],Pe=L[1],J<=i?Pe>i&&(ge-X)*(i-J)>(Pe-J)*(e-X)&&++z:Pe<=i&&(ge-X)*(i-J)<(Pe-J)*(e-X)&&--z;return z}function j(){f=c,s=[],d=[],E=!0}function T(){var z=q(),D=E&&z,x=(s=bo(s)).length;(D||x)&&(u.polygonStart(),D&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),x&&Go(s,o,z,l,u),u.polygonEnd()),f=u,s=d=g=null}function F(){S.point=G,d&&d.push(g=[]),w=!0,N=!1,b=M=NaN}function A(){s&&(G(p,y),v&&N&&c.rejoin(),s.push(c.result())),S.point=C,N&&f.lineEnd()}function G(z,D){var x=r(z,D);if(d&&g.push([z,D]),w)p=z,y=D,v=x,w=!1,x&&(f.lineStart(),f.point(z,D));else if(x&&N)f.point(z,D);else{var Y=[b=Math.max(tr,Math.min(Jn,b)),M=Math.max(tr,Math.min(Jn,M))],ee=[z=Math.max(tr,Math.min(Jn,z)),D=Math.max(tr,Math.min(Jn,D))];Ms(Y,ee,e,t,n,i)?(N||(f.lineStart(),f.point(Y[0],Y[1])),f.point(ee[0],ee[1]),x||f.lineEnd(),E=!1):x&&(f.lineStart(),f.point(z,D),E=!1)}b=z,M=D,N=x}return S}}const tl=e=>e;var Vr=new Kt,nl=new Kt,Bo,Oo,il,rl,It={point:et,lineStart:et,lineEnd:et,polygonStart:function(){It.lineStart=Ns,It.lineEnd=Ds},polygonEnd:function(){It.lineStart=It.lineEnd=It.point=et,Vr.add(ke(nl)),nl=new Kt},result:function(){var e=Vr/2;return Vr=new Kt,e}};function Ns(){It.point=zs}function zs(e,t){It.point=Ho,Bo=il=e,Oo=rl=t}function Ho(e,t){nl.add(rl*e-il*t),il=e,rl=t}function Ds(){Ho(Bo,Oo)}const ya=It;var Mn=1/0,mr=Mn,ai=-Mn,yr=ai,Ps={point:As,lineStart:et,lineEnd:et,polygonStart:et,polygonEnd:et,result:function(){var e=[[Mn,mr],[ai,yr]];return ai=yr=-(mr=Mn=1/0),e}};function As(e,t){e<Mn&&(Mn=e),e>ai&&(ai=e),t<mr&&(mr=t),t>yr&&(yr=t)}const pr=Ps;var ll=0,al=0,$n=0,br=0,wr=0,bn=0,ol=0,fl=0,ei=0,Fo,Wo,ht,dt,ut={point:Zt,lineStart:pa,lineEnd:ba,polygonStart:function(){ut.lineStart=Ls,ut.lineEnd=Is},polygonEnd:function(){ut.point=Zt,ut.lineStart=pa,ut.lineEnd=ba},result:function(){var e=ei?[ol/ei,fl/ei]:bn?[br/bn,wr/bn]:$n?[ll/$n,al/$n]:[NaN,NaN];return ll=al=$n=br=wr=bn=ol=fl=ei=0,e}};function Zt(e,t){ll+=e,al+=t,++$n}function pa(){ut.point=Ts}function Ts(e,t){ut.point=Cs,Zt(ht=e,dt=t)}function Cs(e,t){var n=e-ht,i=t-dt,r=Rt(n*n+i*i);br+=r*(ht+e)/2,wr+=r*(dt+t)/2,bn+=r,Zt(ht=e,dt=t)}function ba(){ut.point=Zt}function Ls(){ut.point=qs}function Is(){Uo(Fo,Wo)}function qs(e,t){ut.point=Uo,Zt(Fo=ht=e,Wo=dt=t)}function Uo(e,t){var n=e-ht,i=t-dt,r=Rt(n*n+i*i);br+=r*(ht+e)/2,wr+=r*(dt+t)/2,bn+=r,r=dt*e-ht*t,ol+=r*(ht+e),fl+=r*(dt+t),ei+=r*3,Zt(ht=e,dt=t)}const wa=ut;function Vo(e){this._context=e}Vo.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,tt);break}}},result:et};var ul=new Kt,xr,xo,Yo,ti,ni,vr={point:et,lineStart:function(){vr.point=Gs},lineEnd:function(){xr&&Ko(xo,Yo),vr.point=et},polygonStart:function(){xr=!0},polygonEnd:function(){xr=null},result:function(){var e=+ul;return ul=new Kt,e}};function Gs(e,t){vr.point=Ko,xo=ti=e,Yo=ni=t}function Ko(e,t){ti-=e,ni-=t,ul.add(Rt(ti*ti+ni*ni)),ti=e,ni=t}const va=vr;let ka,kr,Sa,Ea;class Ma{constructor(t){this._append=t==null?Xo:js(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Sa||this._append!==kr){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Sa=i,kr=this._append,Ea=this._,this._=r}this._+=Ea;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Xo(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function js(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Xo;if(t!==ka){const n=10**t;ka=t,kr=function(r){let l=1;this._+=r[0];for(const a=r.length;l<a;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return kr}function Ra(e,t){let n=3,i=4.5,r,l;function a(o){return o&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),yn(o,r(l))),l.result()}return a.area=function(o){return yn(o,r(ya)),ya.result()},a.measure=function(o){return yn(o,r(va)),va.result()},a.bounds=function(o){return yn(o,r(pr)),pr.result()},a.centroid=function(o){return yn(o,r(wa)),wa.result()},a.projection=function(o){return arguments.length?(r=o==null?(e=null,tl):(e=o).stream,a):e},a.context=function(o){return arguments.length?(l=o==null?(t=null,new Ma(n)):new Vo(t=o),typeof i!="function"&&l.pointRadius(i),a):t},a.pointRadius=function(o){return arguments.length?(i=typeof o=="function"?o:(l.pointRadius(+o),+o),a):i},a.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const h=Math.floor(o);if(!(h>=0))throw new RangeError(`invalid digits: ${o}`);n=h}return t===null&&(l=new Ma(n)),a},a.projection(e).digits(n).context(t)}function kl(e){return function(t){var n=new sl;for(var i in e)n[i]=e[i];return n.stream=t,n}}function sl(){}sl.prototype={constructor:sl,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Sl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),yn(n,e.stream(pr)),t(pr.result()),i!=null&&e.clipExtent(i),e}function El(e,t,n){return Sl(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),o=+t[0][0]+(r-a*(i[1][0]+i[0][0]))/2,h=+t[0][1]+(l-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([o,h])},n)}function Zo(e,t,n){return El(e,[[0,0],t],n)}function Qo(e,t,n){return Sl(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),a=(r-l*(i[1][0]+i[0][0]))/2,o=-l*i[0][1];e.scale(150*l).translate([a,o])},n)}function Jo(e,t,n){return Sl(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),a=-l*i[0][0],o=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([a,o])},n)}var Na=16,Bs=Me(30*He);function za(e,t){return+t?Hs(e,t):Os(e)}function Os(e){return kl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Hs(e,t){function n(i,r,l,a,o,h,u,f,c,s,d,g,p,y){var v=u-i,b=f-r,M=v*v+b*b;if(M>4*t&&p--){var N=a+s,w=o+d,E=h+g,S=Rt(N*N+w*w+E*E),C=Xt(E/=S),q=ke(ke(E)-1)<fe||ke(l-c)<fe?(l+c)/2:Sn(w,N),j=e(q,C),T=j[0],F=j[1],A=T-i,G=F-r,z=b*A-v*G;(z*z/M>t||ke((v*A+b*G)/M-.5)>.3||a*s+o*d+h*g<Bs)&&(n(i,r,l,a,o,h,T,F,q,N/=S,w/=S,E,p,y),y.point(T,F),n(T,F,q,N,w,E,u,f,c,s,d,g,p,y))}}return function(i){var r,l,a,o,h,u,f,c,s,d,g,p,y={point:v,lineStart:b,lineEnd:N,polygonStart:function(){i.polygonStart(),y.lineStart=w},polygonEnd:function(){i.polygonEnd(),y.lineStart=b}};function v(C,q){C=e(C,q),i.point(C[0],C[1])}function b(){c=NaN,y.point=M,i.lineStart()}function M(C,q){var j=En([C,q]),T=e(C,q);n(c,s,f,d,g,p,c=T[0],s=T[1],f=C,d=j[0],g=j[1],p=j[2],Na,i),i.point(c,s)}function N(){y.point=v,i.lineEnd()}function w(){b(),y.point=E,y.lineEnd=S}function E(C,q){M(r=C,q),l=c,a=s,o=d,h=g,u=p,y.point=M}function S(){n(c,s,f,d,g,p,l,a,r,o,h,u,Na,i),y.lineEnd=N,N()}return y}}var Fs=kl({point:function(e,t){this.stream.point(e*He,t*He)}});function Ws(e){return kl({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function Us(e,t,n,i,r){function l(a,o){return a*=i,o*=r,[t+e*a,n-e*o]}return l.invert=function(a,o){return[(a-t)/e*i,(n-o)/e*r]},l}function Da(e,t,n,i,r,l){if(!l)return Us(e,t,n,i,r);var a=Me(l),o=ve(l),h=a*e,u=o*e,f=a/e,c=o/e,s=(o*n-a*t)/e,d=(o*t+a*n)/e;function g(p,y){return p*=i,y*=r,[h*p-u*y+t,n-u*p-h*y]}return g.invert=function(p,y){return[i*(f*p-c*y+s),r*(d-c*p-f*y)]},g}function Vs(e){var t,n=150,i=480,r=250,l=0,a=0,o=0,h=0,u=0,f,c=0,s=1,d=1,g=null,p=ma,y=null,v,b,M,N=tl,w=.5,E,S,C,q,j;function T(z){return C(z[0]*He,z[1]*He)}function F(z){return z=C.invert(z[0],z[1]),z&&[z[0]*ot,z[1]*ot]}T.stream=function(z){return q&&j===z?q:q=Fs(Ws(f)(p(E(N(j=z)))))},T.preclip=function(z){return arguments.length?(p=z,g=void 0,G()):p},T.postclip=function(z){return arguments.length?(N=z,y=v=b=M=null,G()):N},T.clipAngle=function(z){return arguments.length?(p=+z?Es(g=z*He):(g=null,ma),G()):g*ot},T.clipExtent=function(z){return arguments.length?(N=z==null?(y=v=b=M=null,tl):Rs(y=+z[0][0],v=+z[0][1],b=+z[1][0],M=+z[1][1]),G()):y==null?null:[[y,v],[b,M]]},T.scale=function(z){return arguments.length?(n=+z,A()):n},T.translate=function(z){return arguments.length?(i=+z[0],r=+z[1],A()):[i,r]},T.center=function(z){return arguments.length?(l=z[0]%360*He,a=z[1]%360*He,A()):[l*ot,a*ot]},T.rotate=function(z){return arguments.length?(o=z[0]%360*He,h=z[1]%360*He,u=z.length>2?z[2]%360*He:0,A()):[o*ot,h*ot,u*ot]},T.angle=function(z){return arguments.length?(c=z%360*He,A()):c*ot},T.reflectX=function(z){return arguments.length?(s=z?-1:1,A()):s<0},T.reflectY=function(z){return arguments.length?(d=z?-1:1,A()):d<0},T.precision=function(z){return arguments.length?(E=za(S,w=z*z),G()):Rt(w)},T.fitExtent=function(z,D){return El(T,z,D)},T.fitSize=function(z,D){return Zo(T,z,D)},T.fitWidth=function(z,D){return Qo(T,z,D)},T.fitHeight=function(z,D){return Jo(T,z,D)};function A(){var z=Da(n,0,0,s,d,c).apply(null,t(l,a)),D=Da(n,i-z[0],r-z[1],s,d,c);return f=ms(o,h,u),S=$r(t,D),C=$r(f,S),E=za(S,w),G()}function G(){return q=j=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&F,A()}}function xs(e){var t=0,n=oe/3,i=Vs(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*He,n=l[1]*He):[t*ot,n*ot]},r}function Ys(e){var t=Me(e);function n(i,r){return[i*t,ve(r)/t]}return n.invert=function(i,r){return[i/t,Xt(r*t)]},n}function Ks(e,t){var n=ve(e),i=(n+ve(t))/2;if(ke(i)<fe)return Ys(e);var r=1+n*(2*i-n),l=Rt(r)/i;function a(o,h){var u=Rt(r-2*i*ve(h))/i;return[u*ve(o*=i),l-u*Me(o)]}return a.invert=function(o,h){var u=l-h,f=Sn(o,ke(u))*ir(u);return u*i<0&&(f-=oe*ir(o)*ir(u)),[f/i,Xt((r-(o*o+u*u)*i*i)/(2*i))]},a}function cl(){return xs(Ks).scale(155.424).center([0,33.6442])}function Xs(){return cl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Zs(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Qs(){var e,t,n=Xs(),i,r=cl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,a=cl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,h,u={point:function(s,d){h=[s,d]}};function f(s){var d=s[0],g=s[1];return h=null,i.point(d,g),h||(l.point(d,g),h)||(o.point(d,g),h)}f.invert=function(s){var d=n.scale(),g=n.translate(),p=(s[0]-g[0])/d,y=(s[1]-g[1])/d;return(y>=.12&&y<.234&&p>=-.425&&p<-.214?r:y>=.166&&y<.234&&p>=-.214&&p<-.115?a:n).invert(s)},f.stream=function(s){return e&&t===s?e:e=Zs([n.stream(t=s),r.stream(s),a.stream(s)])},f.precision=function(s){return arguments.length?(n.precision(s),r.precision(s),a.precision(s),c()):n.precision()},f.scale=function(s){return arguments.length?(n.scale(s),r.scale(s*.35),a.scale(s),f.translate(n.translate())):n.scale()},f.translate=function(s){if(!arguments.length)return n.translate();var d=n.scale(),g=+s[0],p=+s[1];return i=n.translate(s).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(u),l=r.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+fe,p+.12*d+fe],[g-.214*d-fe,p+.234*d-fe]]).stream(u),o=a.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+fe,p+.166*d+fe],[g-.115*d-fe,p+.234*d-fe]]).stream(u),c()},f.fitExtent=function(s,d){return El(f,s,d)},f.fitSize=function(s,d){return Zo(f,s,d)},f.fitWidth=function(s,d){return Qo(f,s,d)},f.fitHeight=function(s,d){return Jo(f,s,d)};function c(){return e=t=null,f}return f.scale(1070)}function Js(e,t,n){let i,r,l,a,o,h,u,f;const{data:c,width:s,height:d,zGet:g}=Qe("LayerCake");P(e,c,w=>n(17,f=w)),P(e,s,w=>n(16,u=w)),P(e,d,w=>n(15,h=w)),P(e,g,w=>n(14,o=w));const{ctx:p}=Qe("canvas");P(e,p,w=>n(13,a=w));let{projection:y}=t,{stroke:v="#ccc"}=t,{strokeWidth:b=1}=t,{fill:M=void 0}=t,{features:N=void 0}=t;return e.$$set=w=>{"projection"in w&&n(5,y=w.projection),"stroke"in w&&n(6,v=w.stroke),"strokeWidth"in w&&n(7,b=w.strokeWidth),"fill"in w&&n(8,M=w.fill),"features"in w&&n(9,N=w.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=y().fitSize([u,h],f)),e.$$.dirty&4096&&n(10,r=Ra(i)),e.$$.dirty&131584&&n(11,l=N||f.features),e.$$.dirty&126400&&a&&Ra&&(Io(a,u,h),a.clearRect(0,0,u,h),l.forEach(w=>{a.beginPath(),r.context(a),r(w),$(p,a.fillStyle=M||o(w.properties),a),a.fill(),$(p,a.lineWidth=b,a),$(p,a.strokeStyle=v,a),a.stroke()}))},[c,s,d,g,p,y,v,b,M,N,r,l,i,a,o,h,u,f]}class $s extends Ne{constructor(t){super(),ze(this,t,Js,null,Re,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function Pa(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function Aa(e){let t=[],n=new Map,i,r=Ge(e[4]);const l=a=>`${a[29].ori}-${a[29].name}`;for(let a=0;a<r.length;a+=1){let o=Pa(e,r,a),h=l(o);n.set(h,t[a]=Ca(h,o))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();i=de()},l(a){for(let o=0;o<t.length;o+=1)t[o].l(a);i=de()},m(a,o){for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(a,o);B(a,i,o)},p(a,o){o[0]&98815&&(r=Ge(a[4]),t=gl(t,o,l,1,a,r,n,i.parentNode,dl,Ca,i,Pa))},d(a){a&&k(i);for(let o=0;o<t.length;o+=1)t[o].d(a)}}}function Ta(e){let t,n,i,r,l,a,o;function h(...c){return e[22](e[29],...c)}function u(...c){return e[23](e[29],...c)}function f(...c){return e[24](e[29],...c)}return{c(){t=se("circle"),this.h()},l(c){t=ce(c,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),I(t).forEach(k),this.h()},h(){_(t,"cx",n=e[30][0]),_(t,"cy",i=e[30][1]),_(t,"r",r=e[7](Math.abs(e[8](e[29])))),_(t,"fill",l=e[0](e[29])),_(t,"stroke",e[1]),_(t,"stroke-width",e[2]),_(t,"opacity",e[3])},m(c,s){B(c,t,s),a||(o=[qe(t,"mouseover",h),qe(t,"focus",u),qe(t,"mousemove",function(){hl(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),qe(t,"click",f)],a=!0)},p(c,s){e=c,s[0]&48&&n!==(n=e[30][0])&&_(t,"cx",n),s[0]&48&&i!==(i=e[30][1])&&_(t,"cy",i),s[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&_(t,"r",r),s[0]&17&&l!==(l=e[0](e[29]))&&_(t,"fill",l),s[0]&2&&_(t,"stroke",e[1]),s[0]&4&&_(t,"stroke-width",e[2]),s[0]&8&&_(t,"opacity",e[3])},d(c){c&&k(t),a=!1,oi(o)}}}function Ca(e,t){let n,i=!isNaN(t[6](t[29])),r,l=i&&Ta(t);return{key:e,first:null,c(){n=de(),l&&l.c(),r=de(),this.h()},l(a){n=de(),l&&l.l(a),r=de(),this.h()},h(){this.first=n},m(a,o){B(a,n,o),l&&l.m(a,o),B(a,r,o)},p(a,o){t=a,o[0]&80&&(i=!isNaN(t[6](t[29]))),i?l?l.p(t,o):(l=Ta(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(k(n),k(r)),l&&l.d(a)}}}function ec(e){let t,n,i,r=e[4].length&&Aa(e);return{c(){t=se("g"),r&&r.c(),this.h()},l(l){t=ce(l,"g",{class:!0});var a=I(t);r&&r.l(a),a.forEach(k),this.h()},h(){_(t,"class","points")},m(l,a){B(l,t,a),r&&r.m(t,null),n||(i=[qe(t,"mouseout",e[25]),qe(t,"blur",e[26])],n=!0)},p(l,a){l[4].length?r?r.p(l,a):(r=Aa(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:De,o:De,d(l){l&&k(t),r&&r.d(),n=!1,oi(i)}}}function tc(e,t,n){let i,r,l,a,o,h,u;const{data:f,width:c,height:s,rScale:d,rGet:g,zGet:p,r:y,zScale:v}=Qe("LayerCake");P(e,f,D=>n(19,r=D)),P(e,c,D=>n(21,a=D)),P(e,s,D=>n(20,l=D)),P(e,d,D=>n(7,h=D)),P(e,g,D=>n(6,o=D)),P(e,y,D=>n(8,u=D));let{projection:b}=t;const M=uf();let{fill:N="yellow"}=t,{fillFunction:w=D=>D}=t,{stroke:E="#000"}=t,{strokeWidth:S=1}=t,{opacity:C=1}=t,{features:q=void 0}=t;function j(D){return function(Y){os(this),Y.layerX!==0&&Y.layerY!==0&&M("mousemove",{e:Y,props:D})}}const T=(D,x)=>M("mousemove",{e:x,props:D}),F=(D,x)=>M("mousemove",{e:x,props:D}),A=(D,x)=>M("clickedPoint",{e:x,props:D}),G=D=>M("mouseout"),z=D=>M("mouseout");return e.$$set=D=>{"projection"in D&&n(17,b=D.projection),"fill"in D&&n(18,N=D.fill),"fillFunction"in D&&n(0,w=D.fillFunction),"stroke"in D&&n(1,E=D.stroke),"strokeWidth"in D&&n(2,S=D.strokeWidth),"opacity"in D&&n(3,C=D.opacity),"features"in D&&n(4,q=D.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=b().fitSize([a,l],r))},[w,E,S,C,q,i,o,h,u,f,c,s,d,g,y,M,j,b,N,r,l,a,T,F,A,G,z]}class nc extends Ne{constructor(t){super(),ze(this,t,tc,ec,Re,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const ic=e=>({detail:e&1}),La=e=>({detail:e[0].detail});function Ia(e){let t,n;const i=e[3].default,r=qt(i,e,e[2],La);return{c(){t=U("div"),r&&r.c(),this.h()},l(l){t=V(l,"DIV",{class:!0,style:!0});var a=I(t);r&&r.l(a),a.forEach(k),this.h()},h(){_(t,"class","tooltip svelte-qjsu2l"),W(t,"top",e[0].detail.e.layerY+e[1]+"px"),W(t,"left",e[0].detail.e.layerX+"px")},m(l,a){B(l,t,a),r&&r.m(t,null),n=!0},p(l,a){r&&r.p&&(!n||a&5)&&Gt(r,i,l,l[2],n?Bt(i,l[2],a,ic):jt(l[2]),La),(!n||a&3)&&W(t,"top",l[0].detail.e.layerY+l[1]+"px"),(!n||a&1)&&W(t,"left",l[0].detail.e.layerX+"px")},i(l){n||(K(r,l),n=!0)},o(l){Q(r,l),n=!1},d(l){l&&k(t),r&&r.d(l)}}}function rc(e){let t,n,i=e[0].detail&&Ia(e);return{c(){i&&i.c(),t=de()},l(r){i&&i.l(r),t=de()},m(r,l){i&&i.m(r,l),B(r,t,l),n=!0},p(r,[l]){r[0].detail?i?(i.p(r,l),l&1&&K(i,1)):(i=Ia(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(Sr(),Q(i,1,1,()=>{i=null}),Er())},i(r){n||(K(i),n=!0)},o(r){Q(i),n=!1},d(r){r&&k(t),i&&i.d(r)}}}function lc(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:l={}}=t,{offset:a=-35}=t;return e.$$set=o=>{"evt"in o&&n(0,l=o.evt),"offset"in o&&n(1,a=o.offset),"$$scope"in o&&n(2,r=o.$$scope)},[l,a,r,i]}class ac extends Ne{constructor(t){super(),ze(this,t,lc,rc,Re,{evt:0,offset:1})}}function oc(e){let t,n,i="The Worst:",r,l=e[1].name+"",a,o=`${e[3][1]+qa}px`,h=`${e[3][0]}px`,u,f,c,s="The Best:",d,g=e[0].name+"",p,y=`${e[2][1]}px`,v=`${e[2][0]}px`;return{c(){t=U("p"),n=U("strong"),n.textContent=i,r=ne(),a=O(l),u=ne(),f=U("p"),c=U("strong"),c.textContent=s,d=ne(),p=O(g),this.h()},l(b){t=V(b,"P",{class:!0});var M=I(t);n=V(M,"STRONG",{"data-svelte-h":!0}),Ot(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=ie(M),a=H(M,l),M.forEach(k),u=ie(b),f=V(b,"P",{class:!0});var N=I(f);c=V(N,"STRONG",{"data-svelte-h":!0}),Ot(c)!=="svelte-1u2nyi3"&&(c.textContent=s),d=ie(N),p=H(N,g),N.forEach(k),this.h()},h(){_(t,"class","worst svelte-1vzmzh6"),W(t,"top",o),W(t,"left",h),_(f,"class","best svelte-1vzmzh6"),W(f,"top",y),W(f,"left",v)},m(b,M){B(b,t,M),R(t,n),R(t,r),R(t,a),B(b,u,M),B(b,f,M),R(f,c),R(f,d),R(f,p)},p(b,[M]){M&2&&l!==(l=b[1].name+"")&&le(a,l),M&8&&o!==(o=`${b[3][1]+qa}px`)&&W(t,"top",o),M&8&&h!==(h=`${b[3][0]}px`)&&W(t,"left",h),M&1&&g!==(g=b[0].name+"")&&le(p,g),M&4&&y!==(y=`${b[2][1]}px`)&&W(f,"top",y),M&4&&v!==(v=`${b[2][0]}px`)&&W(f,"left",v)},i:De,o:De,d(b){b&&(k(t),k(u),k(f))}}}const qa=25;function fc(e,t,n){let i,r,l,a,o,h,u,f;const{data:c,width:s,height:d}=Qe("LayerCake");P(e,c,y=>n(10,h=y)),P(e,s,y=>n(12,f=y)),P(e,d,y=>n(11,u=y));let{features:g}=t,{projection:p}=t;return e.$$set=y=>{"features"in y&&n(7,g=y.features),"projection"in y&&n(8,p=y.projection)},e.$$.update=()=>{e.$$.dirty&7424&&n(9,i=p().fitSize([f,u],h)),e.$$.dirty&128&&n(1,r=g[0]),e.$$.dirty&128&&n(0,l=g[g.length-1]),e.$$.dirty&514&&n(3,a=i([r.longitude,r.latitude])),e.$$.dirty&513&&n(2,o=i([l.longitude,l.latitude]))},[l,r,o,a,c,s,d,g,p,i,h,u,f]}class uc extends Ne{constructor(t){super(),ze(this,t,fc,oc,Re,{features:7,projection:8})}}function Ga(e){const t={...e[14].props};e[15]=t}function sc(e){let t,n;return t=new $s({props:{projection:e[6],fill:"#fff"}}),{c(){ye(t.$$.fragment)},l(i){pe(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p:De,i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Q(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}function cc(e){let t,n;return t=new nc({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[11]),t.$on("mouseout",e[12]),t.$on("clickedPoint",e[13]),{c(){ye(t.$$.fragment)},l(i){pe(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),r&8&&(l.fillFunction=i[3]),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Q(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}function hc(e){let t,n;return t=new uc({props:{features:e[4],projection:e[6]}}),{c(){ye(t.$$.fragment)},l(i){pe(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Q(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}function ja(e){let t,n;return t=new ac({props:{evt:e[1],$$slots:{default:[dc,({detail:i})=>({14:i}),({detail:i})=>i?16384:0]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},l(i){pe(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.evt=i[1]),r&81920&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Q(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}function dc(e){Ga(e);let t,n=e[15].name+"",i,r,l,a=e[15].bad_air_days+"",o,h;return{c(){t=U("p"),i=O(n),r=ne(),l=U("p"),o=O(a),h=O(" bad air days"),this.h()},l(u){t=V(u,"P",{class:!0});var f=I(t);i=H(f,n),f.forEach(k),r=ie(u),l=V(u,"P",{class:!0});var c=I(l);o=H(c,a),h=H(c," bad air days"),c.forEach(k),this.h()},h(){_(t,"class","name svelte-1q0sbj5"),_(l,"class","days")},m(u,f){B(u,t,f),R(t,i),B(u,r,f),B(u,l,f),R(l,o),R(l,h)},p(u,f){Ga(u),f&16384&&n!==(n=u[15].name+"")&&le(i,n),f&16384&&a!==(a=u[15].bad_air_days+"")&&le(o,a)},d(u){u&&(k(t),k(r),k(l))}}}function gc(e){let t,n,i=e[2]!==!0&&ja(e);return{c(){i&&i.c(),t=de()},l(r){i&&i.l(r),t=de()},m(r,l){i&&i.m(r,l),B(r,t,l),n=!0},p(r,l){r[2]!==!0?i?(i.p(r,l),l&4&&K(i,1)):(i=ja(r),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(Sr(),Q(i,1,1,()=>{i=null}),Er())},i(r){n||(K(i),n=!0)},o(r){Q(i),n=!1},d(r){r&&k(t),i&&i.d(r)}}}function _c(e){let t,n,i,r,l,a,o,h;return t=new as({props:{$$slots:{default:[sc]},$$scope:{ctx:e}}}),i=new vl({props:{$$slots:{default:[cc]},$$scope:{ctx:e}}}),l=new Jl({props:{pointerEvents:!1,$$slots:{default:[hc]},$$scope:{ctx:e}}}),o=new Jl({props:{pointerEvents:!1,$$slots:{default:[gc]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment),n=ne(),ye(i.$$.fragment),r=ne(),ye(l.$$.fragment),a=ne(),ye(o.$$.fragment)},l(u){pe(t.$$.fragment,u),n=ie(u),pe(i.$$.fragment,u),r=ie(u),pe(l.$$.fragment,u),a=ie(u),pe(o.$$.fragment,u)},m(u,f){be(t,u,f),B(u,n,f),be(i,u,f),B(u,r,f),be(l,u,f),B(u,a,f),be(o,u,f),h=!0},p(u,f){const c={};f&65536&&(c.$$scope={dirty:f,ctx:u}),t.$set(c);const s={};f&65567&&(s.$$scope={dirty:f,ctx:u}),i.$set(s);const d={};f&65552&&(d.$$scope={dirty:f,ctx:u}),l.$set(d);const g={};f&65542&&(g.$$scope={dirty:f,ctx:u}),o.$set(g)},i(u){h||(K(t.$$.fragment,u),K(i.$$.fragment,u),K(l.$$.fragment,u),K(o.$$.fragment,u),h=!0)},o(u){Q(t.$$.fragment,u),Q(i.$$.fragment,u),Q(l.$$.fragment,u),Q(o.$$.fragment,u),h=!1},d(u){u&&(k(n),k(r),k(a)),we(t,u),we(i,u),we(l,u),we(o,u)}}}function mc(e){let t,n,i;return n=new wl({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:Co().clamp(!0),rRange:[1,15],rDomain:[0,100],$$slots:{default:[_c]},$$scope:{ctx:e}}}),{c(){t=U("div"),ye(n.$$.fragment),this.h()},l(r){t=V(r,"DIV",{class:!0});var l=I(t);pe(n.$$.fragment,l),l.forEach(k),this.h()},h(){_(t,"class","container svelte-1q0sbj5")},m(r,l){B(r,t,l),be(n,t,null),i=!0},p(r,[l]){const a={};l&65567&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){Q(n.$$.fragment,r),i=!1},d(r){r&&k(t),we(n)}}}function yc(e,t,n){let i,r,l;P(e,mt,v=>n(0,l=v));let{data:a}=t,{us_states:o}=t,{cbsa_lookup:h}=t,u,f=!0;const c=cs(o,o.objects.collection),s=Qs,d=c.features.map(v=>v.properties),g=v=>n(1,u=n(2,f=v)),p=()=>n(2,f=!0),y=v=>{const{detail:b}=v,{props:M}=b;$(mt,l={value:M==null?void 0:M.code,label:M==null?void 0:M.name},l)};return e.$$set=v=>{"data"in v&&n(8,a=v.data),"us_states"in v&&n(9,o=v.us_states),"cbsa_lookup"in v&&n(10,h=v.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=a.map(v=>{var b,M;return{...v,latitude:(b=h.get(v.code))==null?void 0:b.latitude,longitude:(M=h.get(v.code))==null?void 0:M.longitude}}).filter(v=>v.latitude).filter(v=>v.longitude)),e.$$.dirty&1&&n(3,r=v=>v.code===l.value?"var(--primary)":"var(--secondary)")},[l,u,f,r,i,c,s,d,a,o,h,g,p,y]}class pc extends Ne{constructor(t){super(),ze(this,t,yc,mc,Re,{data:8,us_states:9,cbsa_lookup:10})}}function Ba(e,t,n){const i=e.slice();return i[7]=t[n].name,i[8]=t[n].code,i[9]=t[n].bad_air_days,i}function Oa(e){let t,n,i=e[7]+"",r,l,a=e[9]+"",o,h,u,f;return{c(){t=U("li"),n=U("span"),r=O(i),l=O(`
				- `),o=O(a),h=O(` days
			`),this.h()},l(c){t=V(c,"LI",{class:!0});var s=I(t);n=V(s,"SPAN",{role:!0,class:!0});var d=I(n);r=H(d,i),d.forEach(k),l=H(s,`
				- `),o=H(s,a),h=H(s,` days
			`),s.forEach(k),this.h()},h(){_(n,"role","button"),_(n,"class","svelte-fe00af"),_(t,"class","svelte-fe00af")},m(c,s){B(c,t,s),R(t,n),R(n,r),R(t,l),R(t,o),R(t,h),u||(f=qe(n,"click",function(){hl(e[6](e[7],e[8]))&&e[6](e[7],e[8]).apply(this,arguments)}),u=!0)},p(c,s){e=c,s&16&&i!==(i=e[7]+"")&&le(r,i),s&16&&a!==(a=e[9]+"")&&le(o,a)},d(c){c&&k(t),u=!1,f()}}}function bc(e){var ge,Pe,Ve;let t,n,i="The 10 Smokiest Places in 2022",r,l,a,o,h,u,f=((ge=e[0][0])==null?void 0:ge.name)+"",c,s,d,g=((Pe=e[0][0])==null?void 0:Pe.bad_air_days)+"",p,y,v,b,M,N,w=((Ve=e[5])==null?void 0:Ve.label)+"",E,S,C,q=e[3]+1+"",j,T,F=e[0].length+"",A,G,z,D=e[0][e[3]].bad_air_days+"",x,Y,ee,ae,L,X=Ge(e[4]),J=[];for(let te=0;te<X.length;te+=1)J[te]=Oa(Ba(e,X,te));return ae=new pc({props:{data:e[0],us_states:e[1],cbsa_lookup:e[2]}}),{c(){t=U("section"),n=U("h2"),n.textContent=i,r=ne(),l=U("ol");for(let te=0;te<J.length;te+=1)J[te].c();a=ne(),o=U("p"),h=O("In 2022 (our most recent year of data), "),u=U("strong"),c=O(f),s=O(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=U("strong"),p=O(g),y=O(` days of haze and low
		air quality.`),v=ne(),b=U("p"),M=O("For comparison, "),N=U("strong"),E=O(w),S=O(` ranked number
		`),C=U("strong"),j=O(q),T=O(`
			out of `),A=O(F),G=O(`
		locations with `),z=U("strong"),x=O(D),Y=O(`
		low air quality days in 2022.`),ee=ne(),ye(ae.$$.fragment),this.h()},l(te){t=V(te,"SECTION",{});var he=I(t);n=V(he,"H2",{"data-svelte-h":!0}),Ot(n)!=="svelte-15n9idw"&&(n.textContent=i),r=ie(he),l=V(he,"OL",{class:!0});var Se=I(l);for(let je=0;je<J.length;je+=1)J[je].l(Se);Se.forEach(k),a=ie(he),o=V(he,"P",{class:!0});var Te=I(o);h=H(Te,"In 2022 (our most recent year of data), "),u=V(Te,"STRONG",{});var Fe=I(u);c=H(Fe,f),Fe.forEach(k),s=H(Te,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=V(Te,"STRONG",{});var Je=I(d);p=H(Je,g),Je.forEach(k),y=H(Te,` days of haze and low
		air quality.`),Te.forEach(k),v=ie(he),b=V(he,"P",{class:!0});var me=I(b);M=H(me,"For comparison, "),N=V(me,"STRONG",{});var xe=I(N);E=H(xe,w),xe.forEach(k),S=H(me,` ranked number
		`),C=V(me,"STRONG",{});var nt=I(C);j=H(nt,q),T=H(nt,`
			out of `),A=H(nt,F),nt.forEach(k),G=H(me,`
		locations with `),z=V(me,"STRONG",{});var yt=I(z);x=H(yt,D),yt.forEach(k),Y=H(me,`
		low air quality days in 2022.`),me.forEach(k),ee=ie(he),pe(ae.$$.fragment,he),he.forEach(k),this.h()},h(){_(l,"class","svelte-fe00af"),_(o,"class","prose"),_(b,"class","prose")},m(te,he){B(te,t,he),R(t,n),R(t,r),R(t,l);for(let Se=0;Se<J.length;Se+=1)J[Se]&&J[Se].m(l,null);R(t,a),R(t,o),R(o,h),R(o,u),R(u,c),R(o,s),R(o,d),R(d,p),R(o,y),R(t,v),R(t,b),R(b,M),R(b,N),R(N,E),R(b,S),R(b,C),R(C,j),R(C,T),R(C,A),R(b,G),R(b,z),R(z,x),R(b,Y),R(t,ee),be(ae,t,null),L=!0},p(te,[he]){var Te,Fe,Je;if(he&80){X=Ge(te[4]);let me;for(me=0;me<X.length;me+=1){const xe=Ba(te,X,me);J[me]?J[me].p(xe,he):(J[me]=Oa(xe),J[me].c(),J[me].m(l,null))}for(;me<J.length;me+=1)J[me].d(1);J.length=X.length}(!L||he&1)&&f!==(f=((Te=te[0][0])==null?void 0:Te.name)+"")&&le(c,f),(!L||he&1)&&g!==(g=((Fe=te[0][0])==null?void 0:Fe.bad_air_days)+"")&&le(p,g),(!L||he&32)&&w!==(w=((Je=te[5])==null?void 0:Je.label)+"")&&le(E,w),(!L||he&8)&&q!==(q=te[3]+1+"")&&le(j,q),(!L||he&1)&&F!==(F=te[0].length+"")&&le(A,F),(!L||he&9)&&D!==(D=te[0][te[3]].bad_air_days+"")&&le(x,D);const Se={};he&1&&(Se.data=te[0]),he&2&&(Se.us_states=te[1]),he&4&&(Se.cbsa_lookup=te[2]),ae.$set(Se)},i(te){L||(K(ae.$$.fragment,te),L=!0)},o(te){Q(ae.$$.fragment,te),L=!1},d(te){te&&k(t),fi(J,te),we(ae)}}}function wc(e,t,n){let i,r;P(e,mt,f=>n(5,r=f));let{data:l}=t,{us_states:a}=t,{cbsa_lookup:o}=t,{index_of_selected:h}=t;const u=(f,c)=>{$(mt,r={value:c,label:f},r)};return e.$$set=f=>{"data"in f&&n(0,l=f.data),"us_states"in f&&n(1,a=f.us_states),"cbsa_lookup"in f&&n(2,o=f.cbsa_lookup),"index_of_selected"in f&&n(3,h=f.index_of_selected)},e.$$.update=()=>{e.$$.dirty&1&&n(4,i=l.slice(0,10))},[l,a,o,h,i,r,u]}class vc extends Ne{constructor(t){super(),ze(this,t,wc,bc,Re,{data:0,us_states:1,cbsa_lookup:2,index_of_selected:3})}}function Ha(e){let t,n;return{c(){t=se("desc"),n=O(e[7])},l(i){t=ce(i,"desc",{});var r=I(t);n=H(r,e[7]),r.forEach(k)},m(i,r){B(i,t,r),R(t,n)},p(i,r){r&128&&le(n,i[7])},d(i){i&&k(t)}}}function Fa(e){let t,n;return{c(){t=se("title"),n=O(e[6])},l(i){t=ce(i,"title",{});var r=I(t);n=H(r,e[6]),r.forEach(k)},m(i,r){B(i,t,r),R(t,n)},p(i,r){r&64&&le(n,i[6])},d(i){i&&k(t)}}}function kc(e){let t,n,i,r=e[7]&&Ha(e),l=e[6]&&Fa(e);return{c(){t=se("svg"),r&&r.c(),n=de(),l&&l.c(),i=se("path"),this.h()},l(a){t=ce(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var o=I(t);r&&r.l(o),n=de(),l&&l.l(o),i=ce(o,"path",{d:!0,fill:!0}),I(i).forEach(k),o.forEach(k),this.h()},h(){_(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),_(i,"fill",e[2]),_(t,"viewBox",e[3]),_(t,"width",e[0]),_(t,"height",e[1]),_(t,"class",e[8]),_(t,"aria-label",e[4]),_(t,"aria-hidden",e[5])},m(a,o){B(a,t,o),r&&r.m(t,null),R(t,n),l&&l.m(t,null),R(t,i)},p(a,[o]){a[7]?r?r.p(a,o):(r=Ha(a),r.c(),r.m(t,n)):r&&(r.d(1),r=null),a[6]?l?l.p(a,o):(l=Fa(a),l.c(),l.m(t,i)):l&&(l.d(1),l=null),o&4&&_(i,"fill",a[2]),o&8&&_(t,"viewBox",a[3]),o&1&&_(t,"width",a[0]),o&2&&_(t,"height",a[1]),o&256&&_(t,"class",a[8]),o&16&&_(t,"aria-label",a[4]),o&32&&_(t,"aria-hidden",a[5])},i:De,o:De,d(a){a&&k(t),r&&r.d(),l&&l.d()}}}function Sc(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:l=i}=t,{color:a="currentColor"}=t,{viewBox:o="0 0 24 24"}=t,{ariaLabel:h=void 0}=t,{ariaHidden:u=void 0}=t,{title:f=void 0}=t,{desc:c=void 0}=t,{class:s=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,l=d.height),"color"in d&&n(2,a=d.color),"viewBox"in d&&n(3,o=d.viewBox),"ariaLabel"in d&&n(4,h=d.ariaLabel),"ariaHidden"in d&&n(5,u=d.ariaHidden),"title"in d&&n(6,f=d.title),"desc"in d&&n(7,c=d.desc),"class"in d&&n(8,s=d.class)},[r,l,a,o,h,u,f,c,s,i]}class Ec extends Ne{constructor(t){super(),ze(this,t,Sc,kc,Re,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function Wa(e,t,n){const i=e.slice();return i[34]=t[n].label,i[35]=t[n].value,i[36]=t,i[37]=n,i}function Ua(e,t,n){const i=e.slice();return i[34]=t[n].label,i[35]=t[n].value,i}function Va(e){let t,n=e[34]+"",i,r;return{c(){t=U("option"),i=O(n),this.h()},l(l){t=V(l,"OPTION",{});var a=I(t);i=H(a,n),a.forEach(k),this.h()},h(){t.__value=r=e[35],lr(t,t.__value)},m(l,a){B(l,t,a),R(t,i)},p(l,a){a[0]&2&&n!==(n=l[34]+"")&&le(i,n),a[0]&2&&r!==(r=l[35])&&(t.__value=r,lr(t,t.__value))},d(l){l&&k(t)}}}function Mc(e){let t,n="Sorry, no options match";return{c(){t=U("li"),t.textContent=n,this.h()},l(i){t=V(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),Ot(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){_(t,"class","disabled svelte-13q4pje"),_(t,"tabindex","-1")},m(i,r){B(i,t,r)},p:De,d(i){i&&k(t)}}}function Rc(e){let t,n=Ge(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=xa(Wa(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=de()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=de()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);B(r,t,l)},p(r,l){if(l[0]&798784){n=Ge(r[6]);let a;for(a=0;a<n.length;a+=1){const o=Wa(r,n,a);i[a]?i[a].p(o,l):(i[a]=xa(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(r){r&&k(t),fi(i,r)}}}function xa(e){let t,n=e[34]+"",i,r,l,a,o=e[37],h,u;const f=()=>e[28](t,o),c=()=>e[28](null,o);function s(){return e[29](e[35],e[34])}function d(...g){return e[30](e[35],e[34],...g)}return{c(){t=U("li"),i=O(n),r=ne(),this.h()},l(g){t=V(g,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var p=I(t);i=H(p,n),r=ie(p),p.forEach(k),this.h()},h(){_(t,"role","option"),_(t,"tabindex","-1"),_(t,"aria-selected",l=e[37]===e[13]),_(t,"data-option-value",a=e[35]),_(t,"id",`autocomplete_${e[37]}`),_(t,"class","svelte-13q4pje")},m(g,p){B(g,t,p),R(t,i),R(t,r),f(),h||(u=[qe(t,"click",s),qe(t,"keydown",d)],h=!0)},p(g,p){e=g,p[0]&64&&n!==(n=e[34]+"")&&le(i,n),p[0]&8192&&l!==(l=e[37]===e[13])&&_(t,"aria-selected",l),p[0]&64&&a!==(a=e[35])&&_(t,"data-option-value",a),o!==e[37]&&(c(),o=e[37],f())},d(g){g&&k(t),c(),h=!1,oi(u)}}}function Ya(e){let t,n,i,r,l;return n=new Ec({props:{width:"16px",height:"16px"}}),{c(){t=U("button"),ye(n.$$.fragment),this.h()},l(a){t=V(a,"BUTTON",{"aria-label":!0,class:!0});var o=I(t);pe(n.$$.fragment,o),o.forEach(k),this.h()},h(){_(t,"aria-label","clear autocomplete search"),_(t,"class","svelte-13q4pje")},m(a,o){B(a,t,o),be(n,t,null),i=!0,r||(l=qe(t,"click",e[22]),r=!0)},p:De,i(a){i||(K(n.$$.fragment,a),i=!0)},o(a){Q(n.$$.fragment,a),i=!1},d(a){a&&k(t),we(n),r=!1,l()}}}function Nc(e){let t,n,i,r,l,a,o,h,u,f,c,s,d,g,p,y,v,b,M,N,w,E,S,C,q=Ge(e[1]),j=[];for(let z=0;z<q.length;z+=1)j[z]=Va(Ua(e,q,z));function T(z,D){return z[6].length?Rc:Mc}let F=T(e),A=F(e),G=e[4]===!0&&e[8]&&e[8].length&&Ya(e);return{c(){t=U("div"),n=U("label"),i=U("span"),r=O(e[2]),a=ne(),o=U("select");for(let z=0;z<j.length;z+=1)j[z].c();h=ne(),u=U("div"),f=U("input"),d=ne(),g=U("ul"),A.c(),y=ne(),v=U("div"),b=O(e[7]),M=O(" results available"),N=ne(),G&&G.c(),this.h()},l(z){t=V(z,"DIV",{class:!0,style:!0,id:!0});var D=I(t);n=V(D,"LABEL",{for:!0,class:!0});var x=I(n);i=V(x,"SPAN",{class:!0});var Y=I(i);r=H(Y,e[2]),Y.forEach(k),x.forEach(k),a=ie(D),o=V(D,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var ee=I(o);for(let J=0;J<j.length;J+=1)j[J].l(ee);ee.forEach(k),h=ie(D),u=V(D,"DIV",{class:!0});var ae=I(u);f=V(ae,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=ie(ae),g=V(ae,"UL",{id:!0,role:!0,class:!0});var L=I(g);A.l(L),L.forEach(k),y=ie(ae),v=V(ae,"DIV",{"aria-live":!0,role:!0,class:!0});var X=I(v);b=H(X,e[7]),M=H(X," results available"),X.forEach(k),N=ie(ae),G&&G.l(ae),ae.forEach(k),D.forEach(k),this.h()},h(){_(i,"class","field-label"),_(n,"for",l=`${e[14]}-${e[2]}`),_(n,"class","svelte-13q4pje"),pn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),_(o,"name",e[2]),_(o,"aria-hidden","true"),_(o,"tabindex","-1"),_(o,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&co(()=>e[25].call(o)),_(f,"aria-controls",c=`autocomplete-options--${e[14]}-${e[2]}`),_(f,"autocapitalize","none"),_(f,"type","text"),_(f,"autocomplete","off"),_(f,"aria-autocomplete","list"),_(f,"role","combobox"),_(f,"id",s=`${e[14]}-${e[2]}`),_(f,"aria-expanded","false"),_(f,"name",`autocomplete-${e[14]}`),_(f,"class","svelte-13q4pje"),_(g,"id",p=`autocomplete-options--${e[14]}-${e[2]}`),_(g,"role","listbox"),_(g,"class","svelte-13q4pje"),pn(g,"hidden",!e[9]),_(v,"aria-live","polite"),_(v,"role","status"),_(v,"class","visually-hidden svelte-13q4pje"),_(u,"class","autocomplete svelte-13q4pje"),_(t,"class","field svelte-13q4pje"),W(t,"font-size",e[3]+"px"),_(t,"id",w=`field-${e[14]}-${e[2]}`),W(t,"flex",e[5]?"1 1 auto":"auto")},m(z,D){B(z,t,D),R(t,n),R(n,i),R(i,r),R(t,a),R(t,o);for(let x=0;x<j.length;x+=1)j[x]&&j[x].m(o,null);Ml(o,e[0],!0),R(t,h),R(t,u),R(u,f),lr(f,e[8]),e[27](f),R(u,d),R(u,g),A.m(g,null),R(u,y),R(u,v),R(v,b),R(v,M),R(u,N),G&&G.m(u,null),E=!0,S||(C=[qe(window,"click",e[21]),qe(o,"change",e[25]),qe(f,"keyup",e[15]),qe(f,"keydown",e[16]),qe(f,"focus",e[17]),qe(f,"blur",function(){hl(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),qe(f,"input",e[26]),qe(f,"click",e[20])],S=!0)},p(z,D){if(e=z,(!E||D[0]&4)&&le(r,e[2]),(!E||D[0]&4&&l!==(l=`${e[14]}-${e[2]}`))&&_(n,"for",l),(!E||D[0]&1537)&&pn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),D[0]&2){q=Ge(e[1]);let Y;for(Y=0;Y<q.length;Y+=1){const ee=Ua(e,q,Y);j[Y]?j[Y].p(ee,D):(j[Y]=Va(ee),j[Y].c(),j[Y].m(o,null))}for(;Y<j.length;Y+=1)j[Y].d(1);j.length=q.length}(!E||D[0]&4)&&_(o,"name",e[2]),D[0]&3&&Ml(o,e[0]),(!E||D[0]&4&&c!==(c=`autocomplete-options--${e[14]}-${e[2]}`))&&_(f,"aria-controls",c),(!E||D[0]&4&&s!==(s=`${e[14]}-${e[2]}`))&&_(f,"id",s),D[0]&256&&f.value!==e[8]&&lr(f,e[8]),F===(F=T(e))&&A?A.p(e,D):(A.d(1),A=F(e),A&&(A.c(),A.m(g,null))),(!E||D[0]&4&&p!==(p=`autocomplete-options--${e[14]}-${e[2]}`))&&_(g,"id",p),(!E||D[0]&512)&&pn(g,"hidden",!e[9]),(!E||D[0]&128)&&le(b,e[7]),e[4]===!0&&e[8]&&e[8].length?G?(G.p(e,D),D[0]&272&&K(G,1)):(G=Ya(e),G.c(),K(G,1),G.m(u,null)):G&&(Sr(),Q(G,1,1,()=>{G=null}),Er()),(!E||D[0]&8)&&W(t,"font-size",e[3]+"px"),(!E||D[0]&4&&w!==(w=`field-${e[14]}-${e[2]}`))&&_(t,"id",w),(D[0]&8||D[0]&40)&&W(t,"flex",e[5]?"1 1 auto":"auto")},i(z){E||(K(G),E=!0)},o(z){Q(G),E=!1},d(z){z&&k(t),fi(j,z),e[27](null),A.d(),G&&G.d(),S=!1,oi(C)}}}function zc(e,t,n){let i;P(e,mt,L=>n(32,i=L));let{data:r}=t,{name:l}=t,{fontSize:a=16}=t,{selected:o=""}=t,{clearButton:h=!0}=t,{manualSelection:u={}}=t,{inline:f=!1}=t,{updateLocation:c}=t,s=r.sort((L,X)=>Et(L.label,X.label)),d=Math.floor(Math.random()*1e4),g=s.length,p=o,y=!1,v=!1,b,M=[],N,w=!0;const E=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function S(L){!E.includes(L.key)&&p&&p.length&&(n(6,s=r.filter(X=>String(X.label).toLowerCase().includes(String(p).toLowerCase()))),n(9,y=!0),n(7,g=s.length)),L.key==="Tab"&&n(9,y=!1),L.key==="ArrowDown"&&s&&s.length&&(n(9,y=!0),n(13,N=0),M[0].focus())}function C(L){L.key==="Tab"&&n(9,y=!1),p&&p.length===1&&L.key==="Backspace"&&(n(6,s=r),n(0,o="")),L.key==="Escape"&&n(9,y=!1)}function q(){n(10,v=!0)}function j(L,X){n(0,o=L),n(8,p=X),n(9,y=!1),b.focus(),c&&$(mt,i={value:L,label:X},i)}function T(L,X,J){const ge=L.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(ge)?(ge==="Enter"&&(j(X,J),w=!1),ge==="ArrowDown"&&s&&s.length&&(n(13,N=N<s.length-1?N+1:s.length-1),M[N].focus(),w=!0),ge==="Escape"&&(n(9,y=!1),b.focus()),ge==="ArrowUp"&&N===0?(b.focus(),n(13,N=null),w=!0):ge==="ArrowUp"&&N!=0&&(n(13,N-=1),M[N].focus(),w=!0)):w=!1,w===!0&&L.preventDefault()}function F(){n(8,p=""),n(23,u={}),n(9,y=!0),n(6,s=r),n(13,N=null)}function A(L){const X=L.target;X!=b&&!M.includes(X)&&n(9,y=!1)}function G(){n(8,p=""),n(0,o=""),n(23,u={})}function z(){o=sf(this),n(0,o),n(23,u),n(1,r)}function D(){p=this.value,n(8,p),n(23,u),n(0,o)}function x(L){Mt[L?"unshift":"push"](()=>{b=L,n(11,b)})}function Y(L,X){Mt[L?"unshift":"push"](()=>{M[X]=L,n(12,M)})}const ee=(L,X)=>{j(L,X)},ae=(L,X,J)=>T(J,L,X);return e.$$set=L=>{"data"in L&&n(1,r=L.data),"name"in L&&n(2,l=L.name),"fontSize"in L&&n(3,a=L.fontSize),"selected"in L&&n(0,o=L.selected),"clearButton"in L&&n(4,h=L.clearButton),"manualSelection"in L&&n(23,u=L.manualSelection),"inline"in L&&n(5,f=L.inline),"updateLocation"in L&&n(24,c=L.updateLocation)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(n(0,o=u.value),n(8,p=u.label)),e.$$.dirty[0]&1&&o===""&&n(8,p="")},[o,r,l,a,h,f,s,g,p,y,v,b,M,N,d,S,C,q,j,T,F,A,G,u,c,z,D,x,Y,ee,ae]}class $o extends Ne{constructor(t){super(),ze(this,t,zc,Nc,Re,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5,updateLocation:24},null,[-1,-1])}}function Dc(e){let t,n,i,r,l,a,o,h,u=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,f,c,s=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function g(y){e[4](y)}let p={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35",updateLocation:!0};return e[1]!==void 0&&(p.selected=e[1]),l=new $o({props:p}),Mt.push(()=>go(l,"selected",g)),{c(){t=U("section"),n=U("div"),i=U("h1"),r=O("Smoke in "),ye(l.$$.fragment),o=ne(),h=U("p"),h.textContent=u,f=ne(),c=U("p"),c.textContent=s,this.h()},l(y){t=V(y,"SECTION",{});var v=I(t);n=V(v,"DIV",{class:!0});var b=I(n);i=V(b,"H1",{class:!0});var M=I(i);r=H(M,"Smoke in "),pe(l.$$.fragment,M),M.forEach(k),b.forEach(k),o=ie(v),h=V(v,"P",{class:!0,"data-svelte-h":!0}),Ot(h)!=="svelte-1ieckh9"&&(h.textContent=u),f=ie(v),c=V(v,"P",{class:!0,"data-svelte-h":!0}),Ot(c)!=="svelte-18rohxi"&&(c.textContent=s),v.forEach(k),this.h()},h(){_(i,"class","svelte-1acsj2x"),_(n,"class","inline svelte-1acsj2x"),_(h,"class","prose"),_(c,"class","prose")},m(y,v){B(y,t,v),R(t,n),R(n,i),R(i,r),be(l,i,null),R(t,o),R(t,h),R(t,f),R(t,c),d=!0},p(y,[v]){const b={};v&1&&(b.data=y[0]),v&4&&(b.manualSelection=y[2]),!a&&v&2&&(a=!0,b.selected=y[1],ho(()=>a=!1)),l.$set(b)},i(y){d||(K(l.$$.fragment,y),d=!0)},o(y){Q(l.$$.fragment,y),d=!1},d(y){y&&k(t),we(l)}}}function Pc(e,t,n){let i,r;P(e,mt,h=>n(2,r=h));let{data:l}=t,a;function o(h){a=h,n(1,a)}return e.$$set=h=>{"data"in h&&n(3,l=h.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(l.map(h=>JSON.stringify([h.name,h.code])))).map(h=>JSON.parse(h)).map(h=>({value:h[1],label:h[0]})).filter(h=>h.label)),e.$$.dirty&1&&new Map(i)},[i,a,r,l,o]}class Ac extends Ne{constructor(t){super(),ze(this,t,Pc,Dc,Re,{data:3})}}function Ka(e,t,n){const i=e.slice();i[26]=t[n],i[33]=n;const r=i[6](i[26]);i[27]=r;const l=i[5](i[26]);i[28]=l;const a=Array.isArray(i[28])?i[28][0]:i[28];i[29]=a;const o=i[9].bandwidth?i[9].bandwidth():i[7](i[26]);i[30]=o;const h=i[10](i[26]);return i[31]=h,i}function Xa(e){let t,n=e[31]+"",i,r,l;return{c(){t=se("text"),i=O(n),this.h()},l(a){t=ce(a,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var o=I(t);i=H(o,n),o.forEach(k),this.h()},h(){_(t,"x",r=e[29]+e[30]/2),_(t,"y",l=e[12]-e[27]-5),_(t,"text-anchor","middle"),_(t,"class","svelte-gs7zwh")},m(a,o){B(a,t,o),R(t,i)},p(a,o){o[0]&1280&&n!==(n=a[31]+"")&&le(i,n),o[0]&928&&r!==(r=a[29]+a[30]/2)&&_(t,"x",r),o[0]&4416&&l!==(l=a[12]-a[27]-5)&&_(t,"y",l)},d(a){a&&k(t)}}}function Za(e){let t,n,i,r,l,a,o,h,u,f=e[3]&&e[31]&&Xa(e);return{c(){t=se("rect"),f&&f.c(),u=de(),this.h()},l(c){t=ce(c,"rect",{class:!0,"data-id":!0,"data-range":!0,"data-count":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),I(t).forEach(k),f&&f.l(c),u=de(),this.h()},h(){_(t,"class","group-rect"),_(t,"data-id",e[33]),_(t,"data-range",n=e[11](e[26])),_(t,"data-count",i=e[31]),_(t,"x",r=e[29]),_(t,"y",l=e[4](e[26])),_(t,"width",a=e[30]),_(t,"height",o=e[27]),_(t,"fill",h=e[0](e[26])),_(t,"stroke",e[1]),_(t,"stroke-width",e[2])},m(c,s){B(c,t,s),f&&f.m(c,s),B(c,u,s)},p(c,s){s[0]&2304&&n!==(n=c[11](c[26]))&&_(t,"data-range",n),s[0]&1280&&i!==(i=c[31])&&_(t,"data-count",i),s[0]&288&&r!==(r=c[29])&&_(t,"x",r),s[0]&272&&l!==(l=c[4](c[26]))&&_(t,"y",l),s[0]&896&&a!==(a=c[30])&&_(t,"width",a),s[0]&320&&o!==(o=c[27])&&_(t,"height",o),s[0]&257&&h!==(h=c[0](c[26]))&&_(t,"fill",h),s[0]&2&&_(t,"stroke",c[1]),s[0]&4&&_(t,"stroke-width",c[2]),c[3]&&c[31]?f?f.p(c,s):(f=Xa(c),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(c){c&&(k(t),k(u)),f&&f.d(c)}}}function Tc(e){let t,n=Ge(e[8]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Za(Ka(e,n,r));return{c(){t=se("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=ce(r,"g",{class:!0});var l=I(t);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(k),this.h()},h(){_(t,"class","column-group")},m(r,l){B(r,t,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null)},p(r,l){if(l[0]&8191){n=Ge(r[8]);let a;for(a=0;a<n.length;a+=1){const o=Ka(r,n,a);i[a]?i[a].p(o,l):(i[a]=Za(o),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i:De,o:De,d(r){r&&k(t),fi(i,r)}}}function Cc(e,t,n){let i,r,l,a,o,h,u,f,c,s;const{data:d,xGet:g,yGet:p,x:y,yRange:v,xScale:b,y:M,height:N,zGet:w,zScale:E,z:S}=Qe("LayerCake");P(e,d,A=>n(8,h=A)),P(e,g,A=>n(5,o=A)),P(e,p,A=>n(4,l=A)),P(e,y,A=>n(11,c=A)),P(e,v,A=>n(22,a=A)),P(e,b,A=>n(9,u=A)),P(e,M,A=>n(10,f=A)),P(e,N,A=>n(12,s=A));let{fill:C="#00e047"}=t,{fillFunction:q=A=>A}=t,{stroke:j="#000"}=t,{strokeWidth:T=0}=t,{showLabels:F=!1}=t;return e.$$set=A=>{"fill"in A&&n(21,C=A.fill),"fillFunction"in A&&n(0,q=A.fillFunction),"stroke"in A&&n(1,j=A.stroke),"strokeWidth"in A&&n(2,T=A.strokeWidth),"showLabels"in A&&n(3,F=A.showLabels)},e.$$.update=()=>{e.$$.dirty[0]&32&&n(7,i=A=>{const G=o(A);return Math.abs(G[1]-G[0])}),e.$$.dirty[0]&4194320&&n(6,r=A=>a[0]-l(A))},[q,j,T,F,l,o,r,i,h,u,f,c,s,d,g,p,y,v,b,M,N,C,a]}class Lc extends Ne{constructor(t){super(),ze(this,t,Cc,Tc,Re,{fill:21,fillFunction:0,stroke:1,strokeWidth:2,showLabels:3},null,[-1,-1])}}function Qa(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function Ja(e){let t,n;return{c(){t=se("line"),this.h()},l(i){t=ce(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),I(t).forEach(k),this.h()},h(){_(t,"class","gridline svelte-gquvov"),_(t,"y1",n=e[11]*-1),_(t,"y2","0"),_(t,"x1","0"),_(t,"x2","0")},m(i,r){B(i,t,r)},p(i,r){r&2048&&n!==(n=i[11]*-1)&&_(t,"y1",n)},d(i){i&&k(t)}}}function $a(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),I(t).forEach(k),this.h()},h(){_(t,"class","tick-mark svelte-gquvov"),_(t,"y1",0),_(t,"y2",6),_(t,"x1",n=e[7]?e[8].bandwidth()/2:0),_(t,"x2",i=e[7]?e[8].bandwidth()/2:0)},m(r,l){B(r,t,l)},p(r,l){l&384&&n!==(n=r[7]?r[8].bandwidth()/2:0)&&_(t,"x1",n),l&384&&i!==(i=r[7]?r[8].bandwidth()/2:0)&&_(t,"x2",i)},d(r){r&&k(t)}}}function eo(e,t){let n,i,r,l=t[4](t[20])+"",a,o,h,u,f,c=t[0]!==!1&&Ja(t),s=t[1]===!0&&$a(t);return{key:e,first:null,c(){n=se("g"),c&&c.c(),i=de(),s&&s.c(),r=se("text"),a=O(l),this.h()},l(d){n=ce(d,"g",{class:!0,transform:!0});var g=I(n);c&&c.l(g),i=de(),s&&s.l(g),r=ce(g,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var p=I(r);a=H(p,l),p.forEach(k),g.forEach(k),this.h()},h(){_(r,"x",o=t[7]?t[8].bandwidth()/2+t[5]:t[5]),_(r,"y",t[6]),_(r,"dx",""),_(r,"dy",""),_(r,"text-anchor",h=t[17](t[22])),_(r,"class","svelte-gquvov"),_(n,"class",u="tick tick-"+t[22]+" svelte-gquvov"),_(n,"transform",f="translate("+t[8](t[20])+","+Math.max(...t[10])+")"),this.first=n},m(d,g){B(d,n,g),c&&c.m(n,null),R(n,i),s&&s.m(n,null),R(n,r),R(r,a)},p(d,g){t=d,t[0]!==!1?c?c.p(t,g):(c=Ja(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),t[1]===!0?s?s.p(t,g):(s=$a(t),s.c(),s.m(n,r)):s&&(s.d(1),s=null),g&528&&l!==(l=t[4](t[20])+"")&&le(a,l),g&416&&o!==(o=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&_(r,"x",o),g&64&&_(r,"y",t[6]),g&512&&h!==(h=t[17](t[22]))&&_(r,"text-anchor",h),g&512&&u!==(u="tick tick-"+t[22]+" svelte-gquvov")&&_(n,"class",u),g&1792&&f!==(f="translate("+t[8](t[20])+","+Math.max(...t[10])+")")&&_(n,"transform",f)},d(d){d&&k(n),c&&c.d(),s&&s.d()}}}function to(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),I(t).forEach(k),this.h()},h(){_(t,"class","baseline svelte-gquvov"),_(t,"y1",n=e[11]+.5),_(t,"y2",i=e[11]+.5),_(t,"x1","0"),_(t,"x2",e[12])},m(r,l){B(r,t,l)},p(r,l){l&2048&&n!==(n=r[11]+.5)&&_(t,"y1",n),l&2048&&i!==(i=r[11]+.5)&&_(t,"y2",i),l&4096&&_(t,"x2",r[12])},d(r){r&&k(t)}}}function Ic(e){let t,n=[],i=new Map,r,l=Ge(e[9]);const a=h=>h[20];for(let h=0;h<l.length;h+=1){let u=Qa(e,l,h),f=a(u);i.set(f,n[h]=eo(f,u))}let o=e[2]===!0&&to(e);return{c(){t=se("g");for(let h=0;h<n.length;h+=1)n[h].c();r=de(),o&&o.c(),this.h()},l(h){t=ce(h,"g",{class:!0});var u=I(t);for(let f=0;f<n.length;f+=1)n[f].l(u);r=de(),o&&o.l(u),u.forEach(k),this.h()},h(){_(t,"class","axis x-axis svelte-gquvov"),pn(t,"snapTicks",e[3])},m(h,u){B(h,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);R(t,r),o&&o.m(t,null)},p(h,[u]){u&135155&&(l=Ge(h[9]),n=gl(n,u,a,1,h,l,i,t,dl,eo,r,Qa)),h[2]===!0?o?o.p(h,u):(o=to(h),o.c(),o.m(t,null)):o&&(o.d(1),o=null),u&8&&pn(t,"snapTicks",h[3])},i:De,o:De,d(h){h&&k(t);for(let u=0;u<n.length;u+=1)n[u].d();o&&o.d()}}}function qc(e,t,n){let i,r,l,a,o,h;const{width:u,height:f,xScale:c,yRange:s,xReverse:d}=Qe("LayerCake");P(e,u,S=>n(12,h=S)),P(e,f,S=>n(11,o=S)),P(e,c,S=>n(8,l=S)),P(e,s,S=>n(10,a=S));let{gridlines:g=!0}=t,{tickMarks:p=!1}=t,{baseline:y=!1}=t,{snapTicks:v=!1}=t,{formatTick:b=S=>S}=t,{ticks:M=void 0}=t,{xTick:N=0}=t,{yTick:w=16}=t;function E(S){if(v===!0)if(d===!1){if(S===0)return"start";if(S===r.length-1)return"end"}else{if(S===0)return"end";if(S===r.length-1)return"start"}return"middle"}return e.$$set=S=>{"gridlines"in S&&n(0,g=S.gridlines),"tickMarks"in S&&n(1,p=S.tickMarks),"baseline"in S&&n(2,y=S.baseline),"snapTicks"in S&&n(3,v=S.snapTicks),"formatTick"in S&&n(4,b=S.formatTick),"ticks"in S&&n(18,M=S.ticks),"xTick"in S&&n(5,N=S.xTick),"yTick"in S&&n(6,w=S.yTick)},e.$$.update=()=>{e.$$.dirty&256&&n(7,i=typeof l.bandwidth=="function"),e.$$.dirty&262528&&n(9,r=Array.isArray(M)?M:i?l.domain():typeof M=="function"?M(l.ticks()):l.ticks(M))},[g,p,y,v,b,N,w,i,l,r,a,o,h,u,f,c,s,E,M]}class ef extends Ne{constructor(t){super(),ze(this,t,qc,Ic,Re,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function no(e,t,n){const i=e.slice();return i[20]=t[n],i}function io(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,x2:!0,y1:!0,y2:!0}),I(t).forEach(k),this.h()},h(){_(t,"class","gridline svelte-1d87mp0"),_(t,"x2","100%"),_(t,"y1",n=e[9]?e[10].bandwidth()/2:0),_(t,"y2",i=e[9]?e[10].bandwidth()/2:0)},m(r,l){B(r,t,l)},p(r,l){l&1536&&n!==(n=r[9]?r[10].bandwidth()/2:0)&&_(t,"y1",n),l&1536&&i!==(i=r[9]?r[10].bandwidth()/2:0)&&_(t,"y2",i)},d(r){r&&k(t)}}}function ro(e){let t,n,i,r;return{c(){t=se("line"),this.h()},l(l){t=ce(l,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),I(t).forEach(k),this.h()},h(){_(t,"class","tick-mark svelte-1d87mp0"),_(t,"x1","0"),_(t,"x2",n=e[9]?-6:6),_(t,"y1",i=e[9]?e[10].bandwidth()/2:0),_(t,"y2",r=e[9]?e[10].bandwidth()/2:0)},m(l,a){B(l,t,a)},p(l,a){a&512&&n!==(n=l[9]?-6:6)&&_(t,"x2",n),a&1536&&i!==(i=l[9]?l[10].bandwidth()/2:0)&&_(t,"y1",i),a&1536&&r!==(r=l[9]?l[10].bandwidth()/2:0)&&_(t,"y2",r)},d(l){l&&k(t)}}}function lo(e,t){let n,i,r,l=t[2](t[20])+"",a,o,h,u,f,c,s=t[0]!==!1&&io(t),d=t[1]===!0&&ro(t);return{key:e,first:null,c(){n=se("g"),s&&s.c(),i=de(),d&&d.c(),r=se("text"),a=O(l),this.h()},l(g){n=ce(g,"g",{class:!0,transform:!0});var p=I(n);s&&s.l(p),i=de(),d&&d.l(p),r=ce(p,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var y=I(r);a=H(y,l),y.forEach(k),p.forEach(k),this.h()},h(){_(r,"x",t[3]),_(r,"y",o=t[9]?t[10].bandwidth()/2+t[4]:t[4]),_(r,"dx",h=t[9]?-9:t[5]),_(r,"dy",u=t[9]?4:t[6]),W(r,"text-anchor",t[9]?"end":t[8]),_(r,"class","svelte-1d87mp0"),_(n,"class",f="tick tick-"+t[20]+" svelte-1d87mp0"),_(n,"transform",c="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")"),this.first=n},m(g,p){B(g,n,p),s&&s.m(n,null),R(n,i),d&&d.m(n,null),R(n,r),R(r,a)},p(g,p){t=g,t[0]!==!1?s?s.p(t,p):(s=io(t),s.c(),s.m(n,i)):s&&(s.d(1),s=null),t[1]===!0?d?d.p(t,p):(d=ro(t),d.c(),d.m(n,r)):d&&(d.d(1),d=null),p&2052&&l!==(l=t[2](t[20])+"")&&le(a,l),p&8&&_(r,"x",t[3]),p&1552&&o!==(o=t[9]?t[10].bandwidth()/2+t[4]:t[4])&&_(r,"y",o),p&544&&h!==(h=t[9]?-9:t[5])&&_(r,"dx",h),p&576&&u!==(u=t[9]?4:t[6])&&_(r,"dy",u),p&768&&W(r,"text-anchor",t[9]?"end":t[8]),p&2048&&f!==(f="tick tick-"+t[20]+" svelte-1d87mp0")&&_(n,"class",f),p&15872&&c!==(c="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")")&&_(n,"transform",c)},d(g){g&&k(n),s&&s.d(),d&&d.d()}}}function ao(e){let t,n,i;return{c(){t=se("line"),this.h()},l(r){t=ce(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),I(t).forEach(k),this.h()},h(){_(t,"class","baseline svelte-1d87mp0"),_(t,"y1","0"),_(t,"y2",e[14]),_(t,"x1",n=e[12].left),_(t,"x2",i=e[12].left)},m(r,l){B(r,t,l)},p(r,l){l&16384&&_(t,"y2",r[14]),l&4096&&n!==(n=r[12].left)&&_(t,"x1",n),l&4096&&i!==(i=r[12].left)&&_(t,"x2",i)},d(r){r&&k(t)}}}function Gc(e){let t,n=[],i=new Map,r,l,a=Ge(e[11]);const o=u=>u[20];for(let u=0;u<a.length;u+=1){let f=no(e,a,u),c=o(f);i.set(c,n[u]=lo(c,f))}let h=e[7]===!0&&ao(e);return{c(){t=se("g");for(let u=0;u<n.length;u+=1)n[u].c();r=de(),h&&h.c(),this.h()},l(u){t=ce(u,"g",{class:!0,transform:!0});var f=I(t);for(let c=0;c<n.length;c+=1)n[c].l(f);r=de(),h&&h.l(f),f.forEach(k),this.h()},h(){_(t,"class","axis y-axis"),_(t,"transform",l="translate("+-e[12].left+", 0)")},m(u,f){B(u,t,f);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);R(t,r),h&&h.m(t,null)},p(u,[f]){f&16255&&(a=Ge(u[11]),n=gl(n,f,o,1,u,a,i,t,dl,lo,r,no)),u[7]===!0?h?h.p(u,f):(h=ao(u),h.c(),h.m(t,null)):h&&(h.d(1),h=null),f&4096&&l!==(l="translate("+-u[12].left+", 0)")&&_(t,"transform",l)},i:De,o:De,d(u){u&&k(t);for(let f=0;f<n.length;f+=1)n[f].d();h&&h.d()}}}function jc(e,t,n){let i,r,l,a,o,h;const{padding:u,xRange:f,yScale:c,height:s}=Qe("LayerCake");P(e,u,S=>n(12,a=S)),P(e,f,S=>n(13,o=S)),P(e,c,S=>n(10,l=S)),P(e,s,S=>n(14,h=S));let{gridlines:d=!0}=t,{tickMarks:g=!1}=t,{formatTick:p=S=>S}=t,{ticks:y=4}=t,{xTick:v=0}=t,{yTick:b=0}=t,{dxTick:M=0}=t,{dyTick:N=-4}=t,{baseline:w=!1}=t,{textAnchor:E="start"}=t;return e.$$set=S=>{"gridlines"in S&&n(0,d=S.gridlines),"tickMarks"in S&&n(1,g=S.tickMarks),"formatTick"in S&&n(2,p=S.formatTick),"ticks"in S&&n(19,y=S.ticks),"xTick"in S&&n(3,v=S.xTick),"yTick"in S&&n(4,b=S.yTick),"dxTick"in S&&n(5,M=S.dxTick),"dyTick"in S&&n(6,N=S.dyTick),"baseline"in S&&n(7,w=S.baseline),"textAnchor"in S&&n(8,E=S.textAnchor)},e.$$.update=()=>{e.$$.dirty&1024&&n(9,i=typeof l.bandwidth=="function"),e.$$.dirty&525824&&n(11,r=Array.isArray(y)?y:i?l.domain():typeof y=="function"?y(l.ticks()):l.ticks(y))},[d,g,p,v,b,M,N,w,E,i,l,r,a,o,h,u,f,c,s,y]}class Bc extends Ne{constructor(t){super(),ze(this,t,jc,Gc,Re,{gridlines:0,tickMarks:1,formatTick:2,ticks:19,xTick:3,yTick:4,dxTick:5,dyTick:6,baseline:7,textAnchor:8})}}function Oc(e){let t,n,i,r;return t=new Lc({props:{fillFunction:e[1]}}),i=new ef({props:{gridlines:!1,ticks:e[2],tickMarks:!0}}),{c(){ye(t.$$.fragment),n=ne(),ye(i.$$.fragment)},l(l){pe(t.$$.fragment,l),n=ie(l),pe(i.$$.fragment,l)},m(l,a){be(t,l,a),B(l,n,a),be(i,l,a),r=!0},p(l,a){const o={};a&2&&(o.fillFunction=l[1]),t.$set(o);const h={};a&4&&(h.ticks=l[2]),i.$set(h)},i(l){r||(K(t.$$.fragment,l),K(i.$$.fragment,l),r=!0)},o(l){Q(t.$$.fragment,l),Q(i.$$.fragment,l),r=!1},d(l){l&&k(n),we(t,l),we(i,l)}}}function Hc(e){let t,n;return t=new vl({props:{$$slots:{default:[Oc]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},l(i){pe(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&38&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Q(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}function Fc(e){let t,n,i;return n=new wl({props:{padding:{top:0,right:40,bottom:20,left:30},x:Wc,y:Uc,xScale:_l().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xReverse:!0,$$slots:{default:[Hc]},$$scope:{ctx:e}}}),{c(){t=U("div"),ye(n.$$.fragment),this.h()},l(r){t=V(r,"DIV",{class:!0});var l=I(t);pe(n.$$.fragment,l),l.forEach(k),this.h()},h(){_(t,"class","chart-container svelte-ufs0ll")},m(r,l){B(r,t,l),be(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&38&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){Q(n.$$.fragment,r),i=!1},d(r){r&&k(t),we(n)}}}const Wc="name",Uc="bad_air_days";function Vc(e,t,n){let i,r,l;P(e,mt,h=>n(4,l=h));let{data:a}=t,{index_of_selected:o}=t;return e.$$set=h=>{"data"in h&&n(0,a=h.data),"index_of_selected"in h&&n(3,o=h.index_of_selected)},e.$$.update=()=>{e.$$.dirty&25&&(o>a.length/2?n(2,i=[l.label,a[0].name]):n(2,i=[l.label,a[a.length-1].name])),e.$$.dirty&16&&n(1,r=h=>h.code===l.value?"var(--primary)":"var(--secondary)")},n(2,i=[]),[a,r,i,o,l]}class xc extends Ne{constructor(t){super(),ze(this,t,Vc,Fc,Re,{data:0,index_of_selected:3})}}function Yc(e){let t;return{c(){t=se("path"),this.h()},l(n){t=ce(n,"path",{class:!0,d:!0,stroke:!0,opacity:!0}),I(t).forEach(k),this.h()},h(){_(t,"class","path-line svelte-1a99x5h"),_(t,"d",e[2]),_(t,"stroke",e[0]),_(t,"opacity",e[1])},m(n,i){B(n,t,i)},p(n,[i]){i&4&&_(t,"d",n[2]),i&1&&_(t,"stroke",n[0]),i&2&&_(t,"opacity",n[1])},i:De,o:De,d(n){n&&k(t)}}}function Kc(e,t,n){let i,r,l,a;const{data:o,xGet:h,yGet:u}=Qe("LayerCake");P(e,o,s=>n(8,a=s)),P(e,h,s=>n(7,l=s)),P(e,u,s=>n(6,r=s));let{stroke:f="#ab00d6"}=t,{opacity:c=1}=t;return e.$$set=s=>{"stroke"in s&&n(0,f=s.stroke),"opacity"in s&&n(1,c=s.opacity)},e.$$.update=()=>{e.$$.dirty&448&&n(2,i="M"+a.map(s=>l(s)+","+r(s)).join("L"))},[f,c,i,o,h,u,r,l,a]}class Xc extends Ne{constructor(t){super(),ze(this,t,Kc,Yc,Re,{stroke:0,opacity:1})}}function oo(e,t,n){const i=e.slice();return i[12]=t[n],i[14]=n,i}function fo(e){var N,w;let t,n=((N=e[12])==null?void 0:N.bad_air_days)+"",i,r=e[14]!==0?"days":"",l,a,o,h,u,f=((w=e[12])==null?void 0:w.bad_air_days)+"",c,s=e[14]!==0?" days":"",d,g,p,y,v,b,M;return{c(){t=se("text"),i=O(n),l=O(r),h=ne(),u=se("text"),c=O(f),d=O(s),y=ne(),v=se("circle"),this.h()},l(E){t=ce(E,"text",{x:!0,y:!0,class:!0});var S=I(t);i=H(S,n),l=H(S,r),S.forEach(k),h=ie(E),u=ce(E,"text",{x:!0,y:!0,class:!0});var C=I(u);c=H(C,f),d=H(C,s),C.forEach(k),y=ie(E),v=ce(E,"circle",{r:!0,fill:!0,cx:!0,cy:!0}),I(v).forEach(k),this.h()},h(){_(t,"x",a=e[2](e[12])),_(t,"y",o=e[3](e[12])-16),_(t,"class","bg svelte-7mghxg"),_(u,"x",g=e[2](e[12])),_(u,"y",p=e[3](e[12])-16),_(u,"class","svelte-7mghxg"),_(v,"r","8"),_(v,"fill",e[0]),_(v,"cx",b=e[2](e[12])),_(v,"cy",M=e[3](e[12]))},m(E,S){B(E,t,S),R(t,i),R(t,l),B(E,h,S),B(E,u,S),R(u,c),R(u,d),B(E,y,S),B(E,v,S)},p(E,S){var C,q;S&2&&n!==(n=((C=E[12])==null?void 0:C.bad_air_days)+"")&&le(i,n),S&6&&a!==(a=E[2](E[12]))&&_(t,"x",a),S&10&&o!==(o=E[3](E[12])-16)&&_(t,"y",o),S&2&&f!==(f=((q=E[12])==null?void 0:q.bad_air_days)+"")&&le(c,f),S&6&&g!==(g=E[2](E[12]))&&_(u,"x",g),S&10&&p!==(p=E[3](E[12])-16)&&_(u,"y",p),S&1&&_(v,"fill",E[0]),S&6&&b!==(b=E[2](E[12]))&&_(v,"cx",b),S&10&&M!==(M=E[3](E[12]))&&_(v,"cy",M)},d(E){E&&(k(t),k(h),k(u),k(y),k(v))}}}function Zc(e){let t,n=Ge(e[1]),i=[];for(let r=0;r<n.length;r+=1)i[r]=fo(oo(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=de()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=de()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);B(r,t,l)},p(r,[l]){if(l&15){n=Ge(r[1]);let a;for(a=0;a<n.length;a+=1){const o=oo(r,n,a);i[a]?i[a].p(o,l):(i[a]=fo(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i:De,o:De,d(r){r&&k(t),fi(i,r)}}}function Qc(e,t,n){let i,r,l,a,o;const{data:h,xGet:u,yGet:f,xScale:c}=Qe("LayerCake");P(e,h,p=>n(10,l=p)),P(e,u,p=>n(2,a=p)),P(e,f,p=>n(3,o=p));let{comparison_year:s}=t,{fill:d="#ab00d6"}=t,{stroke:g="#ab00d6"}=t;return e.$$set=p=>{"comparison_year"in p&&n(7,s=p.comparison_year),"fill"in p&&n(0,d=p.fill),"stroke"in p&&n(8,g=p.stroke)},e.$$.update=()=>{e.$$.dirty&128&&n(9,i=[s,2022]),e.$$.dirty&1536&&n(1,r=l.filter(p=>i.includes(p.year)))},[d,r,a,o,h,u,f,s,g,i,l]}class Jc extends Ne{constructor(t){super(),ze(this,t,Qc,Zc,Re,{comparison_year:7,fill:0,stroke:8})}}function $c(e){let t,n,i,r;return{c(){t=se("defs"),n=se("linearGradient"),i=se("stop"),r=se("stop"),this.h()},l(l){t=ce(l,"defs",{});var a=I(t);n=ce(a,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var o=I(n);i=ce(o,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),I(i).forEach(k),r=ce(o,"stop",{offset:!0,"stop-color":!0,"stop-opacity":!0}),I(r).forEach(k),o.forEach(k),a.forEach(k),this.h()},h(){_(i,"offset",e[1]),_(i,"stop-color",e[0]),_(i,"stop-opacity","0.25"),_(r,"offset",e[1]),_(r,"stop-color",e[0]),_(r,"stop-opacity","1"),_(n,"id","line-gradient"),_(n,"x1","0%"),_(n,"y1","0%"),_(n,"x2","100%"),_(n,"y2","0%")},m(l,a){B(l,t,a),R(t,n),R(n,i),R(n,r)},p(l,[a]){a&2&&_(i,"offset",l[1]),a&1&&_(i,"stop-color",l[0]),a&2&&_(r,"offset",l[1]),a&1&&_(r,"stop-color",l[0])},i:De,o:De,d(l){l&&k(t)}}}function e0(e,t,n){let i,r,l,a;const{data:o,xGet:h,yGet:u,xScale:f,yScale:c,x:s,zGet:d,zScale:g,height:p}=Qe("LayerCake");P(e,o,b=>n(6,a=b));let{yearOfInterest:y=2008}=t,{accentColor:v}=t;return e.$$set=b=>{"yearOfInterest"in b&&n(3,y=b.yearOfInterest),"accentColor"in b&&n(0,v=b.accentColor)},e.$$.update=()=>{e.$$.dirty&64&&n(5,i=yf(a,b=>b.year)),e.$$.dirty&32&&n(4,r=i[1]-i[0]),e.$$.dirty&56&&n(1,l=(y-i[0])/r)},[v,l,o,y,r,i,a]}class t0 extends Ne{constructor(t){super(),ze(this,t,e0,$c,Re,{yearOfInterest:3,accentColor:0})}}function n0(e){let t,n,i,r,l,a,o,h,u,f;return t=new t0({props:{yearOfInterest:e[1],accentColor:"var(--secondary)"}}),i=new Xc({props:{stroke:"url(#line-gradient)"}}),l=new Jc({props:{fill:"var(--secondary)",stroke:"var(--secondary)",comparison_year:e[1]}}),o=new ef({props:{gridlines:!1,ticks:[1980,e[1],2022],baseline:!0}}),u=new Bc({props:{gridlines:!1,baseline:!0}}),{c(){ye(t.$$.fragment),n=ne(),ye(i.$$.fragment),r=ne(),ye(l.$$.fragment),a=ne(),ye(o.$$.fragment),h=ne(),ye(u.$$.fragment)},l(c){pe(t.$$.fragment,c),n=ie(c),pe(i.$$.fragment,c),r=ie(c),pe(l.$$.fragment,c),a=ie(c),pe(o.$$.fragment,c),h=ie(c),pe(u.$$.fragment,c)},m(c,s){be(t,c,s),B(c,n,s),be(i,c,s),B(c,r,s),be(l,c,s),B(c,a,s),be(o,c,s),B(c,h,s),be(u,c,s),f=!0},p(c,s){const d={};s&2&&(d.yearOfInterest=c[1]),t.$set(d);const g={};s&2&&(g.comparison_year=c[1]),l.$set(g);const p={};s&2&&(p.ticks=[1980,c[1],2022]),o.$set(p)},i(c){f||(K(t.$$.fragment,c),K(i.$$.fragment,c),K(l.$$.fragment,c),K(o.$$.fragment,c),K(u.$$.fragment,c),f=!0)},o(c){Q(t.$$.fragment,c),Q(i.$$.fragment,c),Q(l.$$.fragment,c),Q(o.$$.fragment,c),Q(u.$$.fragment,c),f=!1},d(c){c&&(k(n),k(r),k(a),k(h)),we(t,c),we(i,c),we(l,c),we(o,c),we(u,c)}}}function i0(e){let t,n;return t=new vl({props:{$$slots:{default:[n0]},$$scope:{ctx:e}}}),{c(){ye(t.$$.fragment)},l(i){pe(t.$$.fragment,i)},m(i,r){be(t,i,r),n=!0},p(i,r){const l={};r&6&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(K(t.$$.fragment,i),n=!0)},o(i){Q(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}function r0(e){let t,n,i;return n=new wl({props:{padding:{top:0,right:40,bottom:20,left:30},x:l0,y:a0,xScale:_l().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],$$slots:{default:[i0]},$$scope:{ctx:e}}}),{c(){t=U("div"),ye(n.$$.fragment),this.h()},l(r){t=V(r,"DIV",{class:!0});var l=I(t);pe(n.$$.fragment,l),l.forEach(k),this.h()},h(){_(t,"class","chart-container svelte-ufs0ll")},m(r,l){B(r,t,l),be(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&6&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(K(n.$$.fragment,r),i=!0)},o(r){Q(n.$$.fragment,r),i=!1},d(r){r&&k(t),we(n)}}}const l0="year",a0="bad_air_days";function o0(e,t,n){let{data:i}=t,{comparison_year:r}=t;return e.$$set=l=>{"data"in l&&n(0,i=l.data),"comparison_year"in l&&n(1,r=l.comparison_year)},[i,r]}class f0 extends Ne{constructor(t){super(),ze(this,t,o0,r0,Re,{data:0,comparison_year:1})}}function u0(e){let t,n,i='<h2 class="svelte-1tqp2pl">Is this typical?</h2> <p class="subtitle svelte-1tqp2pl">You be the judge.</p>',r,l,a,o="2022",h,u,f=e[0][e[1]].name+"",c,s,d=e[0][e[1]].bad_air_days+"",g,p,y,v,b,M,N=e[9](e[0][e[1]].bad_air_days)+"",w,E,S,C,q,j,T,F,A,G,z,D,x=e[2]?`When you were ${wn} years old`:"20 years ago",Y,ee,ae,L,X,J,ge,Pe,Ve=e[5].label+"",te,he,Se,Te,Fe,Je,me=e[2]?`when you were ${wn} years old`:"20 years ago",xe,nt,yt,je,Ye,Qt,Nt=e[8]>e[7]?"fewer":"more",Ht,Jt,Ft,$t,en,Ke,tn,zt=e[6].year+"",nn,rn,Wt=e[6].bad_air_days+"",Dt,ln,an,Xe,Ae;C=new xc({props:{data:e[0],index_of_selected:e[1]}});function Rn(Z){e[13](Z)}let pt={name:"How old are you?",data:e[10]};return e[2]!==void 0&&(pt.selected=e[2]),L=new $o({props:pt}),Mt.push(()=>go(L,"selected",Rn)),Xe=new f0({props:{data:e[3],comparison_year:e[4]}}),{c(){t=U("section"),n=U("div"),n.innerHTML=i,r=ne(),l=U("div"),a=U("h3"),a.textContent=o,h=ne(),u=U("p"),c=O(f),s=O(" experienced "),g=O(d),p=O(" days with bad air quality in 2022."),y=ne(),v=U("ul"),b=U("li"),M=O("This is "),w=O(N),E=O(` compared
				to all other cities in our data.`),S=ne(),ye(C.$$.fragment),q=ne(),j=U("hr"),T=ne(),F=U("div"),A=U("h3"),G=O(e[4]),z=ne(),D=U("p"),Y=O(x),ee=ne(),ae=U("div"),ye(L.$$.fragment),J=ne(),ge=U("p"),Pe=U("strong"),te=O(Ve),he=O(` experienced
			`),Se=U("strong"),Te=O(e[8]),Fe=O(" bad air quality days"),Je=ne(),xe=O(me),nt=O("."),yt=ne(),je=U("ul"),Ye=U("li"),Qt=O("There are "),Ht=O(Nt),Jt=O(` smoky days
				now than there were in `),Ft=O(e[4]),$t=O("."),en=ne(),Ke=U("li"),tn=O("The highest on record was in "),nn=O(zt),rn=O(" when there were "),Dt=O(Wt),ln=O(`
				smoky days reported.`),an=ne(),ye(Xe.$$.fragment),this.h()},l(Z){t=V(Z,"SECTION",{class:!0});var ue=I(t);n=V(ue,"DIV",{class:!0,"data-svelte-h":!0}),Ot(n)!=="svelte-1wgwpos"&&(n.innerHTML=i),r=ie(ue),l=V(ue,"DIV",{class:!0});var Ce=I(l);a=V(Ce,"H3",{class:!0,"data-svelte-h":!0}),Ot(a)!=="svelte-1rc7x6b"&&(a.textContent=o),h=ie(Ce),u=V(Ce,"P",{class:!0});var Be=I(u);c=H(Be,f),s=H(Be," experienced "),g=H(Be,d),p=H(Be," days with bad air quality in 2022."),Be.forEach(k),y=ie(Ce),v=V(Ce,"UL",{class:!0});var Ze=I(v);b=V(Ze,"LI",{class:!0});var it=I(b);M=H(it,"This is "),w=H(it,N),E=H(it,` compared
				to all other cities in our data.`),it.forEach(k),Ze.forEach(k),S=ie(Ce),pe(C.$$.fragment,Ce),Ce.forEach(k),q=ie(ue),j=V(ue,"HR",{class:!0}),T=ie(ue),F=V(ue,"DIV",{class:!0});var Le=I(F);A=V(Le,"H3",{class:!0});var bt=I(A);G=H(bt,e[4]),bt.forEach(k),z=ie(Le),D=V(Le,"P",{class:!0});var wt=I(D);Y=H(wt,x),wt.forEach(k),ee=ie(Le),ae=V(Le,"DIV",{class:!0});var vt=I(ae);pe(L.$$.fragment,vt),vt.forEach(k),J=ie(Le),ge=V(Le,"P",{class:!0});var We=I(ge);Pe=V(We,"STRONG",{});var Ut=I(Pe);te=H(Ut,Ve),Ut.forEach(k),he=H(We,` experienced
			`),Se=V(We,"STRONG",{});var Pt=I(Se);Te=H(Pt,e[8]),Fe=H(Pt," bad air quality days"),Pt.forEach(k),Je=ie(We),xe=H(We,me),nt=H(We,"."),We.forEach(k),yt=ie(Le),je=V(Le,"UL",{class:!0});var kt=I(je);Ye=V(kt,"LI",{class:!0});var rt=I(Ye);Qt=H(rt,"There are "),Ht=H(rt,Nt),Jt=H(rt,` smoky days
				now than there were in `),Ft=H(rt,e[4]),$t=H(rt,"."),rt.forEach(k),en=ie(kt),Ke=V(kt,"LI",{class:!0});var lt=I(Ke);tn=H(lt,"The highest on record was in "),nn=H(lt,zt),rn=H(lt," when there were "),Dt=H(lt,Wt),ln=H(lt,`
				smoky days reported.`),lt.forEach(k),kt.forEach(k),an=ie(Le),pe(Xe.$$.fragment,Le),Le.forEach(k),ue.forEach(k),this.h()},h(){_(n,"class","contents svelte-1tqp2pl"),_(a,"class","rail svelte-1tqp2pl"),_(u,"class","prose"),_(b,"class","svelte-1tqp2pl"),_(v,"class","svelte-1tqp2pl"),_(l,"class","latest block svelte-1tqp2pl"),_(j,"class","svelte-1tqp2pl"),_(A,"class","rail svelte-1tqp2pl"),_(D,"class","rail__context svelte-1tqp2pl"),_(ae,"class","age"),_(ge,"class","prose"),_(Ye,"class","svelte-1tqp2pl"),_(Ke,"class","svelte-1tqp2pl"),_(je,"class","svelte-1tqp2pl"),_(F,"class","past block svelte-1tqp2pl"),_(t,"class","svelte-1tqp2pl")},m(Z,ue){B(Z,t,ue),R(t,n),R(t,r),R(t,l),R(l,a),R(l,h),R(l,u),R(u,c),R(u,s),R(u,g),R(u,p),R(l,y),R(l,v),R(v,b),R(b,M),R(b,w),R(b,E),R(l,S),be(C,l,null),R(t,q),R(t,j),R(t,T),R(t,F),R(F,A),R(A,G),R(F,z),R(F,D),R(D,Y),R(F,ee),R(F,ae),be(L,ae,null),R(F,J),R(F,ge),R(ge,Pe),R(Pe,te),R(ge,he),R(ge,Se),R(Se,Te),R(Se,Fe),R(ge,Je),R(ge,xe),R(ge,nt),R(F,yt),R(F,je),R(je,Ye),R(Ye,Qt),R(Ye,Ht),R(Ye,Jt),R(Ye,Ft),R(Ye,$t),R(je,en),R(je,Ke),R(Ke,tn),R(Ke,nn),R(Ke,rn),R(Ke,Dt),R(Ke,ln),R(F,an),be(Xe,F,null),Ae=!0},p(Z,[ue]){(!Ae||ue&3)&&f!==(f=Z[0][Z[1]].name+"")&&le(c,f),(!Ae||ue&3)&&d!==(d=Z[0][Z[1]].bad_air_days+"")&&le(g,d),(!Ae||ue&3)&&N!==(N=Z[9](Z[0][Z[1]].bad_air_days)+"")&&le(w,N);const Ce={};ue&1&&(Ce.data=Z[0]),ue&2&&(Ce.index_of_selected=Z[1]),C.$set(Ce),(!Ae||ue&16)&&le(G,Z[4]),(!Ae||ue&4)&&x!==(x=Z[2]?`When you were ${wn} years old`:"20 years ago")&&le(Y,x);const Be={};!X&&ue&4&&(X=!0,Be.selected=Z[2],ho(()=>X=!1)),L.$set(Be),(!Ae||ue&32)&&Ve!==(Ve=Z[5].label+"")&&le(te,Ve),(!Ae||ue&256)&&le(Te,Z[8]),(!Ae||ue&4)&&me!==(me=Z[2]?`when you were ${wn} years old`:"20 years ago")&&le(xe,me),(!Ae||ue&384)&&Nt!==(Nt=Z[8]>Z[7]?"fewer":"more")&&le(Ht,Nt),(!Ae||ue&16)&&le(Ft,Z[4]),(!Ae||ue&64)&&zt!==(zt=Z[6].year+"")&&le(nn,zt),(!Ae||ue&64)&&Wt!==(Wt=Z[6].bad_air_days+"")&&le(Dt,Wt);const Ze={};ue&8&&(Ze.data=Z[3]),ue&16&&(Ze.comparison_year=Z[4]),Xe.$set(Ze)},i(Z){Ae||(K(C.$$.fragment,Z),K(L.$$.fragment,Z),K(Xe.$$.fragment,Z),Ae=!0)},o(Z){Q(C.$$.fragment,Z),Q(L.$$.fragment,Z),Q(Xe.$$.fragment,Z),Ae=!1},d(Z){Z&&k(t),we(C),we(L),we(Xe)}}}let s0=30,wn=10;function c0(e,t,n){let i,r,l,a,o,h,u,f,c,s;P(e,mt,N=>n(5,s=N));let{latestData:d}=t,{allData:g}=t,{index_of_selected:p}=t,y;const v=N=>N<l?"very low":N<a?"moderately low":N<o?"moderately high":"very high",b=wo(10,53,1).map(N=>({value:N,label:N===52?"52 or older":N}));function M(N){y=N,n(2,y)}return e.$$set=N=>{"latestData"in N&&n(0,d=N.latestData),"allData"in N&&n(11,g=N.allData),"index_of_selected"in N&&n(1,p=N.index_of_selected)},e.$$.update=()=>{var N;e.$$.dirty&1&&n(12,i=d.map(w=>w.bad_air_days)),e.$$.dirty&4&&n(4,r=y?2022-y+wn:2022-s0+wn),e.$$.dirty&4096&&(l=Br(i,.25)),e.$$.dirty&4096&&(a=Br(i,.5)),e.$$.dirty&4096&&(o=Br(i,.75)),e.$$.dirty&2080&&n(3,h=g.filter(w=>w.code===s.value)),e.$$.dirty&24&&n(8,u=(N=[...h].filter(w=>w.year===r)[0])==null?void 0:N.bad_air_days),e.$$.dirty&8&&n(7,f=[...h].sort((w,E)=>Et(w.year,E.year))[h.length-1].bad_air_days),e.$$.dirty&8&&n(6,c=[...h].sort((w,E)=>Et(w.bad_air_days,E.bad_air_days))[h.length-1])},[d,p,y,h,r,s,c,f,u,v,b,g,i,M]}class h0 extends Ne{constructor(t){super(),ze(this,t,c0,u0,Re,{latestData:0,allData:11,index_of_selected:1})}}function d0(e){let t,n,i,r,l,a;return t=new Ac({props:{data:e[0]}}),i=new vc({props:{data:e[0],us_states:e[4],cbsa_lookup:e[2],index_of_selected:e[3]}}),l=new h0({props:{latestData:e[0],allData:e[1],index_of_selected:e[3]}}),{c(){ye(t.$$.fragment),n=ne(),ye(i.$$.fragment),r=ne(),ye(l.$$.fragment)},l(o){pe(t.$$.fragment,o),n=ie(o),pe(i.$$.fragment,o),r=ie(o),pe(l.$$.fragment,o)},m(o,h){be(t,o,h),B(o,n,h),be(i,o,h),B(o,r,h),be(l,o,h),a=!0},p(o,[h]){const u={};h&1&&(u.data=o[0]),t.$set(u);const f={};h&1&&(f.data=o[0]),h&16&&(f.us_states=o[4]),h&4&&(f.cbsa_lookup=o[2]),h&8&&(f.index_of_selected=o[3]),i.$set(f);const c={};h&1&&(c.latestData=o[0]),h&2&&(c.allData=o[1]),h&8&&(c.index_of_selected=o[3]),l.$set(c)},i(o){a||(K(t.$$.fragment,o),K(i.$$.fragment,o),K(l.$$.fragment,o),a=!0)},o(o){Q(t.$$.fragment,o),Q(i.$$.fragment,o),Q(l.$$.fragment,o),a=!1},d(o){o&&(k(n),k(r)),we(t,o),we(i,o),we(l,o)}}}function g0(e,t,n){let i,r,l,a,o,h,u,f;P(e,mt,s=>n(8,f=s));let{data:c}=t;return e.$$set=s=>{"data"in s&&n(5,c=s.data)},e.$$.update=()=>{e.$$.dirty&32&&n(6,{city_data:i,cbsa:r,us_states:l}=c,i,(n(7,r),n(5,c)),(n(4,l),n(5,c))),e.$$.dirty&128&&n(2,a=new Map(r.map(s=>[s.GEOID,{name:s.NAME.replace(" Metro Area",""),latitude:+s.latitude,longitude:+s.longitude}]))),e.$$.dirty&68&&n(1,o=i.map(s=>{var d;return{...s,year:+s.year,bad_air_days:+s.n,name:(d=a.get(s["CBSA Code"]))==null?void 0:d.name,code:s["CBSA Code"]}})),e.$$.dirty&2&&n(0,h=o.filter(s=>s.year===2022).sort((s,d)=>_o(s.bad_air_days,d.bad_air_days))),e.$$.dirty&257&&n(3,u=h.findIndex(s=>s["CBSA Code"]===(f==null?void 0:f.value)))},[h,o,a,u,l,c,i,r,f]}class p0 extends Ne{constructor(t){super(),ze(this,t,g0,d0,Re,{data:5})}}export{p0 as component};
