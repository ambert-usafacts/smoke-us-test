import{A as ti,s as Me,e as he,i as G,d as S,o as oo,z as P,B as Q,C as fo,r as Pt,f as U,g as V,h as j,j as _,D as uo,k as F,E as tf,u as At,v as Tt,w as Ct,p as It,F as ft,G as pe,H as we,x as R,l as O,m as H,n as se,a as ne,c as ie,I as Ae,y as Te,J as nf,K as hl,L as pt,M as kr,N as gn,O as Ml,P as rr,Q as rf,R as lf}from"../chunks/scheduler.7f01e268.js";import{a as Z,S as Re,i as Ne,g as Sr,t as ee,c as Er,b as _e,d as me,m as ye,e as be,f as af}from"../chunks/index.2010496a.js";import{w as te,d as ke}from"../chunks/index.bd54f367.js";function We(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function dl(e,t){e.d(1),t.delete(e.key)}function gl(e,t,n,i,r,l,a,o,s,u,f,h){let c=e.length,d=l.length,g=c;const b={};for(;g--;)b[e[g].key]=g;const y=[],p=new Map,w=new Map,v=[];for(g=d;g--;){const M=h(r,l,g),C=n(M);let I=a.get(C);I?i&&v.push(()=>I.p(M,t)):(I=u(C,M),I.c()),p.set(C,y[g]=I),C in b&&w.set(C,Math.abs(g-b[C]))}const D=new Set,k=new Set;function z(M){Z(M,1),M.m(o,f),a.set(M.key,M),f=M.first,d--}for(;c&&d;){const M=y[d-1],C=e[c-1],I=M.key,B=C.key;M===C?(f=M.first,c--,d--):p.has(B)?!a.has(I)||D.has(I)?z(M):k.has(B)?c--:w.get(I)>w.get(B)?(k.add(I),z(M)):(D.add(B),c--):(s(C,a),c--)}for(;c--;){const M=e[c];p.has(M.key)||s(M,a)}for(;d;)z(y[d-1]);return ti(v),y}function wt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function so(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function co(e){let t,n,i;e.length!==2?(t=wt,n=(o,s)=>wt(e(o),s),i=(o,s)=>e(o)-s):(t=e===wt||e===so?e:of,n=e,i=e);function r(o,s,u=0,f=o.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(o[h],s)<0?u=h+1:f=h}while(u<f)}return u}function l(o,s,u=0,f=o.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(o[h],s)<=0?u=h+1:f=h}while(u<f)}return u}function a(o,s,u=0,f=o.length){const h=r(o,s,u,f-1);return h>u&&i(o[h-1],s)>-i(o[h],s)?h-1:h}return{left:r,center:a,right:l}}function of(){return 0}function ff(e){return e===null?NaN:+e}function*uf(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}const sf=co(wt),cf=sf.right;co(ff).center;const hf=cf;class Ft{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const l=n[r],a=t+l,o=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);o&&(n[i++]=o),t=a}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let n=this._n,i,r,l,a=0;if(n>0){for(a=t[--n];n>0&&(i=a,r=t[--n],a=i+r,l=r-(a-i),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(r=l*2,i=a+r,r==i-a&&(a=i))}return a}}class Rl extends Map{constructor(t,n=_f){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Nl(this,t))}has(t){return super.has(Nl(this,t))}set(t,n){return super.set(df(this,t),n)}delete(t){return super.delete(gf(this,t))}}function Nl({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function df({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function gf({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function _f(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mf(e=wt){if(e===wt)return ho;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function ho(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yf=Math.sqrt(50),bf=Math.sqrt(10),pf=Math.sqrt(2);function lr(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),l=i/Math.pow(10,r),a=l>=yf?10:l>=bf?5:l>=pf?2:1;let o,s,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(e*u),s=Math.round(t*u),o/u<e&&++o,s/u>t&&--s,u=-u):(u=Math.pow(10,r)*a,o=Math.round(e/u),s=Math.round(t/u),o*u<e&&++o,s*u>t&&--s),s<o&&.5<=n&&n<2?lr(e,t,n*2):[o,s,u]}function wf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,l,a]=i?lr(t,e,n):lr(e,t,n);if(!(l>=r))return[];const o=l-r+1,s=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)s[u]=(l-u)/-a;else for(let u=0;u<o;++u)s[u]=(l-u)*a;else if(a<0)for(let u=0;u<o;++u)s[u]=(r+u)/-a;else for(let u=0;u<o;++u)s[u]=(r+u)*a;return s}function Yr(e,t,n){return t=+t,e=+e,n=+n,lr(e,t,n)[2]}function vf(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?Yr(t,e,n):Yr(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function zl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Dl(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function go(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?ho:mf(r);i>n;){if(i-n>600){const s=i-n+1,u=t-n+1,f=Math.log(s),h=.5*Math.exp(2*f/3),c=.5*Math.sqrt(f*h*(s-h)/s)*(u-s/2<0?-1:1),d=Math.max(n,Math.floor(t-u*h/s+c)),g=Math.min(i,Math.floor(t+(s-u)*h/s+c));go(e,t,d,g,r)}const l=e[t];let a=n,o=i;for(xn(e,n,t),r(e[i],l)>0&&xn(e,n,i);a<o;){for(xn(e,a,o),++a,--o;r(e[a],l)<0;)++a;for(;r(e[o],l)>0;)--o}r(e[n],l)===0?xn(e,n,o):(++o,xn(e,o,i)),o<=t&&(n=o+1),t<=o&&(i=o-1)}return e}function xn(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Gr(e,t,n){if(e=Float64Array.from(uf(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return Dl(e);if(t>=1)return zl(e);var i,r=(i-1)*t,l=Math.floor(r),a=zl(go(e,l).subarray(0,l+1)),o=Dl(e.subarray(l+1));return a+(o-a)*(r-l)}}function*kf(e){for(const t of e)yield*t}function _o(e){return Array.from(kf(e))}function Sf(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(r);++i<r;)l[i]=e+i*n;return l}const yt=te({value:"42660",label:"Seattle-Tacoma-Bellevue, WA Metro Area"});function Ef(e){return e===0?!0:e}function zt(e){return Ef(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function Mf(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{"0":i,"1":r}=n;Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}function Or(e,t={}){return Mf(Object.entries(e).filter(([n,i])=>i!==void 0&&t[n]===void 0))}function Rf(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}function Nf(e,t,{sort:n=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const i={},r=Object.keys(t),l=r.length;let a,o,s,u,f,h,c;const d=e.length;for(a=0;a<l;a+=1){for(c=new Set,u=r[a],f=t[u],o=0;o<d;o+=1)if(h=f(e[o]),Array.isArray(h)){const b=h.length;for(s=0;s<b;s+=1)c.add(h[s])}else c.add(h);const g=Array.from(c);i[u]=n===!0?g.sort():g}return i}function zf(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),r=i.length;let l,a,o,s,u,f,h,c;const d=e.length;for(l=0;l<r;l+=1){for(s=i[l],h=t[s],u=null,f=null,a=0;a<d;a+=1)if(c=h(e[a]),Array.isArray(c)){const g=c.length;for(o=0;o<g;o+=1)c[o]!==!1&&c[o]!==void 0&&c[o]!==null&&Number.isNaN(c[o])===!1&&((u===null||c[o]<u)&&(u=c[o]),(f===null||c[o]>f)&&(f=c[o]))}else c!==!1&&c!==void 0&&c!==null&&Number.isNaN(c)===!1&&((u===null||c<u)&&(u=c),(f===null||c>f)&&(f=c));n[s]=[u,f]}return n}function Wn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function mo(e){return!!(typeof e.bandwidth=="function"||Wn(Object.keys(e),["domain","range","unknown","copy"]))}function Df(e,t,n){const i=Object.keys(n).reduce((l,a)=>{const o=mo(n[a])===!0?"ordinal":"other";return l[o]||(l[o]={}),l[o][a]=t[a],l},{ordinal:!1,other:!1});let r={};return i.ordinal&&(r=Nf(e,i.ordinal)),i.other&&(r={...r,...zf(e,i.other)}),r}function Pf(e=[],t){return Array.isArray(t)===!0?t.map((n,i)=>n===null?e[i]:n):e}function Fi(e){return function([n,i]){return typeof i=="function"&&(i=i(n[e])),n?Pf(n[e],i):i}}function Mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Pl=Symbol("implicit");function yo(){var e=new Rl,t=[],n=[],i=Pl;function r(l){let a=e.get(l);if(a===void 0){if(i!==Pl)return i;e.set(l,a=t.push(l)-1)}return n[a%n.length]}return r.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Rl;for(const a of l)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(l){return arguments.length?(n=Array.from(l),r):n.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.copy=function(){return yo(t,n).unknown(i)},Mr.apply(r,arguments),r}function _l(){var e=yo().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,l,a,o=!1,s=0,u=0,f=.5;delete e.unknown;function h(){var c=t().length,d=r<i,g=d?r:i,b=d?i:r;l=(b-g)/Math.max(1,c-s+u*2),o&&(l=Math.floor(l)),g+=(b-g-l*(c-s))*f,a=l*(1-s),o&&(g=Math.round(g),a=Math.round(a));var y=Sf(c).map(function(p){return g+l*p});return n(d?y.reverse():y)}return e.domain=function(c){return arguments.length?(t(c),h()):t()},e.range=function(c){return arguments.length?([i,r]=c,i=+i,r=+r,h()):[i,r]},e.rangeRound=function(c){return[i,r]=c,i=+i,r=+r,o=!0,h()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(c){return arguments.length?(o=!!c,h()):o},e.padding=function(c){return arguments.length?(s=Math.min(1,u=+c),h()):s},e.paddingInner=function(c){return arguments.length?(s=Math.min(1,c),h()):s},e.paddingOuter=function(c){return arguments.length?(u=+c,h()):u},e.align=function(c){return arguments.length?(f=Math.max(0,Math.min(1,c)),h()):f},e.copy=function(){return _l(t(),[i,r]).round(o).paddingInner(s).paddingOuter(u).align(f)},Mr.apply(h(),arguments)}function ml(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bo(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function ni(){}var Qn=.7,ar=1/Qn,mn="\\s*([+-]?\\d+)\\s*",Jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Af=/^#([0-9a-f]{3,8})$/,Tf=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),Cf=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),If=new RegExp(`^rgba\\(${mn},${mn},${mn},${Jn}\\)$`),Lf=new RegExp(`^rgba\\(${mt},${mt},${mt},${Jn}\\)$`),qf=new RegExp(`^hsl\\(${Jn},${mt},${mt}\\)$`),jf=new RegExp(`^hsla\\(${Jn},${mt},${mt},${Jn}\\)$`),Al={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ml(ni,$n,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tl,formatHex:Tl,formatHex8:Bf,formatHsl:Gf,formatRgb:Cl,toString:Cl});function Tl(){return this.rgb().formatHex()}function Bf(){return this.rgb().formatHex8()}function Gf(){return po(this).formatHsl()}function Cl(){return this.rgb().formatRgb()}function $n(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Af.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Il(t):n===3?new xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tf.exec(e))?new xe(t[1],t[2],t[3],1):(t=Cf.exec(e))?new xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=If.exec(e))?xi(t[1],t[2],t[3],t[4]):(t=Lf.exec(e))?xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qf.exec(e))?jl(t[1],t[2]/100,t[3]/100,1):(t=jf.exec(e))?jl(t[1],t[2]/100,t[3]/100,t[4]):Al.hasOwnProperty(e)?Il(Al[e]):e==="transparent"?new xe(NaN,NaN,NaN,0):null}function Il(e){return new xe(e>>16&255,e>>8&255,e&255,1)}function xi(e,t,n,i){return i<=0&&(e=t=n=NaN),new xe(e,t,n,i)}function Of(e){return e instanceof ni||(e=$n(e)),e?(e=e.rgb(),new xe(e.r,e.g,e.b,e.opacity)):new xe}function or(e,t,n,i){return arguments.length===1?Of(e):new xe(e,t,n,i??1)}function xe(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}ml(xe,or,bo(ni,{brighter(e){return e=e==null?ar:Math.pow(ar,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qn:Math.pow(Qn,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xe(Ht(this.r),Ht(this.g),Ht(this.b),fr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ll,formatHex:Ll,formatHex8:Hf,formatRgb:ql,toString:ql}));function Ll(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}`}function Hf(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}${Ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function ql(){const e=fr(this.opacity);return`${e===1?"rgb(":"rgba("}${Ht(this.r)}, ${Ht(this.g)}, ${Ht(this.b)}${e===1?")":`, ${e})`}`}function fr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ht(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ot(e){return e=Ht(e),(e<16?"0":"")+e.toString(16)}function jl(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new at(e,t,n,i)}function po(e){if(e instanceof at)return new at(e.h,e.s,e.l,e.opacity);if(e instanceof ni||(e=$n(e)),!e)return new at;if(e instanceof at)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),l=Math.max(t,n,i),a=NaN,o=l-r,s=(l+r)/2;return o?(t===l?a=(n-i)/o+(n<i)*6:n===l?a=(i-t)/o+2:a=(t-n)/o+4,o/=s<.5?l+r:2-l-r,a*=60):o=s>0&&s<1?0:a,new at(a,o,s,e.opacity)}function Ff(e,t,n,i){return arguments.length===1?po(e):new at(e,t,n,i??1)}function at(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}ml(at,Ff,bo(ni,{brighter(e){return e=e==null?ar:Math.pow(ar,e),new at(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qn:Math.pow(Qn,e),new at(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new xe(Hr(e>=240?e-240:e+120,r,i),Hr(e,r,i),Hr(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new at(Bl(this.h),Wi(this.s),Wi(this.l),fr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fr(this.opacity);return`${e===1?"hsl(":"hsla("}${Bl(this.h)}, ${Wi(this.s)*100}%, ${Wi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bl(e){return e=(e||0)%360,e<0?e+360:e}function Wi(e){return Math.max(0,Math.min(1,e||0))}function Hr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yl=e=>()=>e;function xf(e,t){return function(n){return e+n*t}}function Wf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Uf(e){return(e=+e)==1?wo:function(t,n){return n-t?Wf(t,n,e):yl(isNaN(t)?n:t)}}function wo(e,t){var n=t-e;return n?xf(e,n):yl(isNaN(e)?t:e)}const Gl=function e(t){var n=Uf(t);function i(r,l){var a=n((r=or(r)).r,(l=or(l)).r),o=n(r.g,l.g),s=n(r.b,l.b),u=wo(r.opacity,l.opacity);return function(f){return r.r=a(f),r.g=o(f),r.b=s(f),r.opacity=u(f),r+""}}return i.gamma=e,i}(1);function Vf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(l){for(r=0;r<n;++r)i[r]=e[r]*(1-l)+t[r]*l;return i}}function Yf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kf(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),l=new Array(n),a;for(a=0;a<i;++a)r[a]=bl(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(o){for(a=0;a<i;++a)l[a]=r[a](o);return l}}function Xf(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function ur(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zf(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=bl(e[r],t[r]):i[r]=t[r];return function(l){for(r in n)i[r]=n[r](l);return i}}var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fr=new RegExp(Kr.source,"g");function Qf(e){return function(){return e}}function Jf(e){return function(t){return e(t)+""}}function $f(e,t){var n=Kr.lastIndex=Fr.lastIndex=0,i,r,l,a=-1,o=[],s=[];for(e=e+"",t=t+"";(i=Kr.exec(e))&&(r=Fr.exec(t));)(l=r.index)>n&&(l=t.slice(n,l),o[a]?o[a]+=l:o[++a]=l),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,s.push({i:a,x:ur(i,r)})),n=Fr.lastIndex;return n<t.length&&(l=t.slice(n),o[a]?o[a]+=l:o[++a]=l),o.length<2?s[0]?Jf(s[0].x):Qf(t):(t=s.length,function(u){for(var f=0,h;f<t;++f)o[(h=s[f]).i]=h.x(u);return o.join("")})}function bl(e,t){var n=typeof t,i;return t==null||n==="boolean"?yl(t):(n==="number"?ur:n==="string"?(i=$n(t))?(t=i,Gl):$f:t instanceof $n?Gl:t instanceof Date?Xf:Yf(t)?Vf:Array.isArray(t)?Kf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zf:ur)(e,t)}function eu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function tu(e){return function(){return e}}function nu(e){return+e}var Ol=[0,1];function _t(e){return e}function Xr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:tu(isNaN(t)?NaN:.5)}function iu(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function ru(e,t,n){var i=e[0],r=e[1],l=t[0],a=t[1];return r<i?(i=Xr(r,i),l=n(a,l)):(i=Xr(i,r),l=n(l,a)),function(o){return l(i(o))}}function lu(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),l=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Xr(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(o){var s=hf(e,o,1,i)-1;return l[s](r[s](o))}}function vo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ko(){var e=Ol,t=Ol,n=bl,i,r,l,a=_t,o,s,u;function f(){var c=Math.min(e.length,t.length);return a!==_t&&(a=iu(e[0],e[c-1])),o=c>2?lu:ru,s=u=null,h}function h(c){return c==null||isNaN(c=+c)?l:(s||(s=o(e.map(i),t,n)))(i(a(c)))}return h.invert=function(c){return a(r((u||(u=o(t,e.map(i),ur)))(c)))},h.domain=function(c){return arguments.length?(e=Array.from(c,nu),f()):e.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),f()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),n=eu,f()},h.clamp=function(c){return arguments.length?(a=c?!0:_t,f()):a!==_t},h.interpolate=function(c){return arguments.length?(n=c,f()):n},h.unknown=function(c){return arguments.length?(l=c,h):l},function(c,d){return i=c,r=d,f()}}function au(){return ko()(_t,_t)}function ou(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function yn(e){return e=sr(Math.abs(e)),e?e[1]:NaN}function fu(e,t){return function(n,i){for(var r=n.length,l=[],a=0,o=e[0],s=0;r>0&&o>0&&(s+o+1>i&&(o=Math.max(1,i-s)),l.push(n.substring(r-=o,r+o)),!((s+=o+1)>i));)o=e[a=(a+1)%e.length];return l.reverse().join(t)}}function uu(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var su=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cr(e){if(!(t=su.exec(e)))throw new Error("invalid format: "+e);var t;return new pl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cr.prototype=pl.prototype;function pl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cu(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var So;function hu(e,t){var n=sr(e,t);if(!n)return e+"";var i=n[0],r=n[1],l=r-(So=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return l===a?i:l>a?i+new Array(l-a+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+sr(e,Math.max(0,t+l-1))[0]}function Hl(e,t){var n=sr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Fl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ou,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hl(e*100,t),r:Hl,s:hu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xl(e){return e}var Wl=Array.prototype.map,Ul=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function du(e){var t=e.grouping===void 0||e.thousands===void 0?xl:fu(Wl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?xl:uu(Wl.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(h){h=cr(h);var c=h.fill,d=h.align,g=h.sign,b=h.symbol,y=h.zero,p=h.width,w=h.comma,v=h.precision,D=h.trim,k=h.type;k==="n"?(w=!0,k="g"):Fl[k]||(v===void 0&&(v=12),D=!0,k="g"),(y||c==="0"&&d==="=")&&(y=!0,c="0",d="=");var z=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=b==="$"?i:/[%p]/.test(k)?a:"",C=Fl[k],I=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function B(T){var x=z,A=M,q,E,N;if(k==="c")A=C(T)+A,T="";else{T=+T;var Y=T<0||1/T<0;if(T=isNaN(T)?s:C(Math.abs(T),v),D&&(T=cu(T)),Y&&+T==0&&g!=="+"&&(Y=!1),x=(Y?g==="("?g:o:g==="-"||g==="("?"":g)+x,A=(k==="s"?Ul[8+So/3]:"")+A+(Y&&g==="("?")":""),I){for(q=-1,E=T.length;++q<E;)if(N=T.charCodeAt(q),48>N||N>57){A=(N===46?r+T.slice(q+1):T.slice(q))+A,T=T.slice(0,q);break}}}w&&!y&&(T=t(T,1/0));var K=x.length+T.length+A.length,J=K<p?new Array(p-K+1).join(c):"";switch(w&&y&&(T=t(J+T,J.length?p-A.length:1/0),J=""),d){case"<":T=x+T+A+J;break;case"=":T=x+J+T+A;break;case"^":T=J.slice(0,K=J.length>>1)+x+T+A+J.slice(K);break;default:T=J+x+T+A;break}return l(T)}return B.toString=function(){return h+""},B}function f(h,c){var d=u((h=cr(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(yn(c)/3)))*3,b=Math.pow(10,-g),y=Ul[8+g/3];return function(p){return d(b*p)+y}}return{format:u,formatPrefix:f}}var Ui,Eo,Mo;gu({thousands:",",grouping:[3],currency:["$",""]});function gu(e){return Ui=du(e),Eo=Ui.format,Mo=Ui.formatPrefix,Ui}function _u(e){return Math.max(0,-yn(Math.abs(e)))}function mu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yn(t)/3)))*3-yn(Math.abs(e)))}function yu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yn(t)-yn(e))+1}function bu(e,t,n,i){var r=vf(e,t,n),l;switch(i=cr(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=mu(r,a))&&(i.precision=l),Mo(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=yu(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=_u(r))&&(i.precision=l-(i.type==="%")*2);break}}return Eo(i)}function Ro(e){var t=e.domain;return e.ticks=function(n){var i=t();return wf(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return bu(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,l=i.length-1,a=i[r],o=i[l],s,u,f=10;for(o<a&&(u=a,a=o,o=u,u=r,r=l,l=u);f-- >0;){if(u=Yr(a,o,n),u===s)return i[r]=a,i[l]=o,t(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;s=u}return e},e}function tr(){var e=au();return e.copy=function(){return vo(e,tr())},Mr.apply(e,arguments),Ro(e)}function Vl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function pu(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wu(e){return e<0?-e*e:e*e}function vu(e){var t=e(_t,_t),n=1;function i(){return n===1?e(_t,_t):n===.5?e(pu,wu):e(Vl(n),Vl(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Ro(t)}function No(){var e=vu(ko());return e.copy=function(){return vo(e,No()).exponent(e.exponent())},Mr.apply(e,arguments),e}function zo(){return No.apply(null,arguments).exponent(.5)}const Un={x:tr,y:tr,z:tr,r:zo};function ku(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Yl(e){return e}function Su(e){return t=>Math.log(e*t)}function Eu(e){return t=>e*Math.exp(t)}function Mu(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Ru(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Vi(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Nu(e){const t=ku(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Su(n),ground:Eu(n),scaleType:t}}return t==="pow"?{lift:Vi(1),ground:Vi(1/1),scaleType:t}:t==="sqrt"?{lift:Vi(.5),ground:Vi(1/.5),scaleType:t}:t==="symlog"?{lift:Mu(1),ground:Ru(1),scaleType:t}:{lift:Yl,ground:Yl,scaleType:t}}function hr(e){return e.replace(/^\w/,t=>t.toUpperCase())}function je(e,t=""){return`scale${hr(t)}${hr(e)}`}function Do(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?je("band"):je("point");if(Wn(Object.keys(e),["domain","range","unknown","copy"]))return je("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return je("quantile",t);if(e.thresholds)return je("quantize",t);if(e.constant)return je("symlog",t);if(e.base)return je("log",t);if(e.exponent)return e.exponent()===.5?je("sqrt",t):je("pow",t);if(Wn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return je("threshold");if(Wn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return je("identity");if(Wn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return je("radial");if(t)return je(t);if(e.domain()[0]instanceof Date){const n=new Date;let i;return n.getDay=()=>i="time",n.getUTCDay=()=>i="utc",e.tickFormat(0,"%a")(n),je(i)}return je("linear")}const zu=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Du(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||zu.includes(Do(e))||mo(e)===!0)return e.domain();const{lift:n,ground:i}=Nu(e),r=e.domain()[0],l=Object.prototype.toString.call(r)==="[object Date]",[a,o]=e.domain().map(d=>n(l?d.getTime():d)),[s,u]=e.range(),f=t[0]||0,h=t[1]||0,c=(o-a)/(Math.abs(u-s)-f-h);return[a-f*c,h*c+o].map(d=>i(l?new Date(d):d))}function Pu(e,t,n,i,r){let l,a;return r===!0?(l=0,a=100):(l=e==="r"?1:0,a=e==="y"?n:e==="r"?25:t),i===!0?[a,l]:[l,a]}function Au(e,t,n,i,r,l){return r?typeof r=="function"?r({width:t,height:n}):r:Pu(e,t,n,i,l)}function Yi(e){return function([n,i,r,l,a,o,s,u,f,h]){if(i===null)return null;const c=Au(e,s,u,o,f,h),d=n===Un[e]?n():n.copy();return d.domain(r),(!d.interpolator||typeof d.interpolator=="function"&&d.interpolator().name.startsWith("identity"))&&d.range(c),l&&d.domain(Du(d,l)),(a===!0||typeof a=="number")&&(typeof d.nice=="function"?d.nice(typeof a=="number"?a:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Ki([e,t]){return n=>{const i=e(n);return Array.isArray(i)?i.map(r=>t(r)):t(i)}}function Xi([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const ht="    ";function Tu(e){const{r:t,g:n,b:i,opacity:r}=or(e);return[t,n,i].every(l=>l>=0&&l<=255)?{r:t,g:n,b:i,o:r}:!1}function Cu({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Iu(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Lu(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{qu(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Lu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${ht}${t}:`,n)})}function qu(e,t,n){const i=Do(t);console.log(`${ht}${e}:`),console.log(`${ht}${ht}Accessor: "${n.toString()}"`),console.log(`${ht}${ht}Type: ${i}`),Kl(t,"domain"),Kl(t,"range"," ")}function Kl(e,t,n=""){const i=e[t](),r=Bu(i);r?ju(r,t,i):console.log(`${ht}${ht}${hr(t)}:${n}`,i)}function ju(e,t,n){console.log(`${ht}${ht}${hr(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function Bu(e){const t=[],n=e.map((i,r)=>{const l=Tu(i);if(l!==!1){t.push(l);const a=r===e.length-1?" ":"";return`%c ${i}${a}`}return i});return t.length?[`%c[ ${n.join(", ")}`,t.map(i=>`background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.o}); color:${Cu(i)};`)]:null}const Gu=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),Xl=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function Zl(e){let t,n,i;const r=e[153].default,l=Pt(r,e,e[152],Xl);return{c(){t=U("div"),l&&l.c(),this.h()},l(a){t=V(a,"DIV",{class:!0});var o=j(t);l&&l.l(o),o.forEach(S),this.h()},h(){_(t,"class","layercake-container svelte-vhzpsp"),uo(()=>e[155].call(t)),F(t,"position",e[5]),F(t,"top",e[5]==="absolute"?"0":null),F(t,"right",e[5]==="absolute"?"0":null),F(t,"bottom",e[5]==="absolute"?"0":null),F(t,"left",e[5]==="absolute"?"0":null),F(t,"pointer-events",e[4]===!1?"none":null)},m(a,o){G(a,t,o),l&&l.m(t,null),e[154](t),n=tf(t,e[155].bind(t)),i=!0},p(a,o){l&&l.p&&(!i||o[0]&2147483588|o[1]&1048575|o[4]&268435456)&&At(l,r,a,a[152],i?Ct(r,a[152],o,Gu):Tt(a[152]),Xl),o[0]&32&&F(t,"position",a[5]),o[0]&32&&F(t,"top",a[5]==="absolute"?"0":null),o[0]&32&&F(t,"right",a[5]==="absolute"?"0":null),o[0]&32&&F(t,"bottom",a[5]==="absolute"?"0":null),o[0]&32&&F(t,"left",a[5]==="absolute"?"0":null),o[0]&16&&F(t,"pointer-events",a[4]===!1?"none":null)},i(a){i||(Z(l,a),i=!0)},o(a){ee(l,a),i=!1},d(a){a&&S(t),l&&l.d(a),e[154](null),n()}}}function Ou(e){let t,n,i=(e[3]===!0||typeof window<"u")&&Zl(e);return{c(){i&&i.c(),t=he()},l(r){i&&i.l(r),t=he()},m(r,l){i&&i.m(r,l),G(r,t,l),n=!0},p(r,l){r[3]===!0||typeof window<"u"?i?(i.p(r,l),l[0]&8&&Z(i,1)):(i=Zl(r),i.c(),Z(i,1),i.m(t.parentNode,t)):i&&(Sr(),ee(i,1,1,()=>{i=null}),Er())},i(r){n||(Z(i),n=!0)},o(r){ee(i),n=!1},d(r){r&&S(t),i&&i.d(r)}}}function Hu(e,t,n){let i,r,l,a,o,s,u,f,h,c,d,g,b,y,p,w,v,D,k,z,M,C,I,B,T,x,A,q,E,N,Y,K,J,L,W,ae,X,ze,Ce,Ge,$,fe,Ee,De,Oe,Ye,oe,Ie,Qe,Je,$e,Ut,Vt,Ue,Yt,kt,Lt,Kt,St,qt,Xt,Zt,{$$slots:ut={},$$scope:Le}=t;const ce=Rf(Iu,200);let{ssr:de=!1}=t,{pointerEvents:qe=!0}=t,{position:et="relative"}=t,{percentRange:jt=!1}=t,{width:Et=void 0}=t,{height:He=void 0}=t,{containerWidth:tt=Et||100}=t,{containerHeight:Fe=He||100}=t,{element:Bt=void 0}=t,{x:st=void 0}=t,{y:nt=void 0}=t,{z:it=void 0}=t,{r:Ve=void 0}=t,{data:Qt=[]}=t,{xDomain:Jt=void 0}=t,{yDomain:$t=void 0}=t,{zDomain:en=void 0}=t,{rDomain:tn=void 0}=t,{xNice:ii=!1}=t,{yNice:ri=!1}=t,{zNice:li=!1}=t,{rNice:ai=!1}=t,{xPadding:oi=void 0}=t,{yPadding:fi=void 0}=t,{zPadding:ui=void 0}=t,{rPadding:si=void 0}=t,{xScale:ci=Un.x}=t,{yScale:vn=Un.y}=t,{zScale:hi=Un.z}=t,{rScale:di=Un.r}=t,{xRange:nn=void 0}=t,{yRange:rn=void 0}=t,{zRange:ln=void 0}=t,{rRange:an=void 0}=t,{xReverse:gi=!1}=t,{yReverse:_i=void 0}=t,{zReverse:mi=!1}=t,{rReverse:yi=!1}=t,{padding:bi={}}=t,{extents:pi={}}=t,{flatData:wi=void 0}=t,{custom:vi={}}=t,{debug:Rr=!1}=t,Nr=!1;oo(()=>{Nr=!0});const ue={},Mt=te(jt);P(e,Mt,m=>n(33,Oe=m));const on=te(tt);P(e,on,m=>n(32,De=m));const fn=te(Fe);P(e,fn,m=>n(31,Ee=m));const ki=te(Or(pi));P(e,ki,m=>n(170,fe=m));const Si=te(Qt);P(e,Si,m=>n(30,$=m));const kn=te(wi||Qt);P(e,kn,m=>n(29,Ge=m));const Ei=te(bi);P(e,Ei,m=>n(169,Ce=m));const un=te(zt(st));P(e,un,m=>n(28,ze=m));const sn=te(zt(nt));P(e,sn,m=>n(27,X=m));const cn=te(zt(it));P(e,cn,m=>n(26,ae=m));const hn=te(zt(Ve));P(e,hn,m=>n(25,W=m));const Mi=te(Jt);P(e,Mi,m=>n(168,L=m));const Ri=te($t);P(e,Ri,m=>n(167,J=m));const Ni=te(en);P(e,Ni,m=>n(166,K=m));const zi=te(tn);P(e,zi,m=>n(165,Y=m));const Sn=te(ii);P(e,Sn,m=>n(24,N=m));const En=te(ri);P(e,En,m=>n(23,E=m));const Mn=te(li);P(e,Mn,m=>n(22,q=m));const Rn=te(ai);P(e,Rn,m=>n(21,A=m));const Nn=te(gi);P(e,Nn,m=>n(20,x=m));const zn=te(i);P(e,zn,m=>n(19,T=m));const Dn=te(mi);P(e,Dn,m=>n(18,B=m));const Pn=te(yi);P(e,Pn,m=>n(17,I=m));const An=te(oi);P(e,An,m=>n(16,C=m));const Tn=te(fi);P(e,Tn,m=>n(15,M=m));const Cn=te(ui);P(e,Cn,m=>n(14,z=m));const In=te(si);P(e,In,m=>n(13,k=m));const Di=te(nn);P(e,Di,m=>n(164,D=m));const Pi=te(rn);P(e,Pi,m=>n(163,v=m));const Ai=te(ln);P(e,Ai,m=>n(162,w=m));const Ti=te(an);P(e,Ti,m=>n(161,p=m));const Ln=te(ci);P(e,Ln,m=>n(160,y=m));const qn=te(vn);P(e,qn,m=>n(159,b=m));const jn=te(hi);P(e,jn,m=>n(158,g=m));const Bn=te(di);P(e,Bn,m=>n(157,d=m));const Ci=te(ue);P(e,Ci,m=>n(11,h=m));const Ii=te(vi);P(e,Ii,m=>n(12,c=m));const Li=ke([un,sn,cn,hn],([m,bt,ct,Pe])=>{const Gt={};return m&&(Gt.x=m),bt&&(Gt.y=bt),ct&&(Gt.z=ct),Pe&&(Gt.r=Pe),Gt});P(e,Li,m=>n(10,u=m));const qi=ke([Ei,on,fn],([m])=>Object.assign({top:0,right:0,bottom:0,left:0},m));P(e,qi,m=>n(37,Qe=m));const ji=ke([on,fn,qi],([m,bt,ct])=>{const Pe={};return Pe.top=ct.top,Pe.right=m-ct.right,Pe.bottom=bt-ct.bottom,Pe.left=ct.left,Pe.width=Pe.right-Pe.left,Pe.height=Pe.bottom-Pe.top,Pe.width<=0&&Nr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),Pe.height<=0&&Nr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),Pe});P(e,ji,m=>n(151,f=m));const Rt=ke([ji],([m])=>m.width);P(e,Rt,m=>n(34,Ye=m));const Nt=ke([ji],([m])=>m.height);P(e,Nt,m=>n(35,oe=m));const rt=ke([kn,Li,ki,Ln,qn,Bn,jn],([m,bt,ct,Pe,Gt,Qo,Jo])=>{const $o={x:Pe,y:Gt,r:Qo,z:Jo},jr=Or(bt,ct),ef=Object.fromEntries(Object.keys(jr).map(Br=>[Br,$o[Br]]));return Object.keys(jr).length>0?{...Df(m,jr,ef),...ct}:{}});P(e,rt,m=>n(38,Je=m));const Bi=ke([rt,Mi],Fi("x"));P(e,Bi,m=>n(39,$e=m));const Gi=ke([rt,Ri],Fi("y"));P(e,Gi,m=>n(40,Ut=m));const Oi=ke([rt,Ni],Fi("z"));P(e,Oi,m=>n(41,Vt=m));const Hi=ke([rt,zi],Fi("r"));P(e,Hi,m=>n(42,Ue=m));const Gn=ke([Ln,rt,Bi,An,Sn,Nn,Rt,Nt,Di,Mt],Yi("x"));P(e,Gn,m=>n(9,s=m));const zr=ke([un,Gn],Ki);P(e,zr,m=>n(47,St=m));const On=ke([qn,rt,Gi,Tn,En,zn,Rt,Nt,Pi,Mt],Yi("y"));P(e,On,m=>n(8,o=m));const Dr=ke([sn,On],Ki);P(e,Dr,m=>n(48,qt=m));const Hn=ke([jn,rt,Oi,Cn,Mn,Dn,Rt,Nt,Ai,Mt],Yi("z"));P(e,Hn,m=>n(7,a=m));const Pr=ke([cn,Hn],Ki);P(e,Pr,m=>n(49,Xt=m));const Fn=ke([Bn,rt,Hi,In,Rn,Pn,Rt,Nt,Ti,Mt],Yi("r"));P(e,Fn,m=>n(6,l=m));const Ar=ke([hn,Fn],Ki);P(e,Ar,m=>n(50,Zt=m));const Tr=ke([Gn],Xi);P(e,Tr,m=>n(43,Yt=m));const Cr=ke([On],Xi);P(e,Cr,m=>n(44,kt=m));const Ir=ke([Hn],Xi);P(e,Ir,m=>n(45,Lt=m));const Lr=ke([Fn],Xi);P(e,Lr,m=>n(46,Kt=m));const qr=ke([Rt,Nt],([m,bt])=>m/bt);P(e,qr,m=>n(36,Ie=m));function Xo(m){It[m?"unshift":"push"](()=>{Bt=m,n(2,Bt)})}function Zo(){tt=this.clientWidth,Fe=this.clientHeight,n(0,tt),n(1,Fe)}return e.$$set=m=>{"ssr"in m&&n(3,de=m.ssr),"pointerEvents"in m&&n(4,qe=m.pointerEvents),"position"in m&&n(5,et=m.position),"percentRange"in m&&n(111,jt=m.percentRange),"width"in m&&n(112,Et=m.width),"height"in m&&n(113,He=m.height),"containerWidth"in m&&n(0,tt=m.containerWidth),"containerHeight"in m&&n(1,Fe=m.containerHeight),"element"in m&&n(2,Bt=m.element),"x"in m&&n(114,st=m.x),"y"in m&&n(115,nt=m.y),"z"in m&&n(116,it=m.z),"r"in m&&n(117,Ve=m.r),"data"in m&&n(118,Qt=m.data),"xDomain"in m&&n(119,Jt=m.xDomain),"yDomain"in m&&n(120,$t=m.yDomain),"zDomain"in m&&n(121,en=m.zDomain),"rDomain"in m&&n(122,tn=m.rDomain),"xNice"in m&&n(123,ii=m.xNice),"yNice"in m&&n(124,ri=m.yNice),"zNice"in m&&n(125,li=m.zNice),"rNice"in m&&n(126,ai=m.rNice),"xPadding"in m&&n(127,oi=m.xPadding),"yPadding"in m&&n(128,fi=m.yPadding),"zPadding"in m&&n(129,ui=m.zPadding),"rPadding"in m&&n(130,si=m.rPadding),"xScale"in m&&n(131,ci=m.xScale),"yScale"in m&&n(132,vn=m.yScale),"zScale"in m&&n(133,hi=m.zScale),"rScale"in m&&n(134,di=m.rScale),"xRange"in m&&n(135,nn=m.xRange),"yRange"in m&&n(136,rn=m.yRange),"zRange"in m&&n(137,ln=m.zRange),"rRange"in m&&n(138,an=m.rRange),"xReverse"in m&&n(139,gi=m.xReverse),"yReverse"in m&&n(140,_i=m.yReverse),"zReverse"in m&&n(141,mi=m.zReverse),"rReverse"in m&&n(142,yi=m.rReverse),"padding"in m&&n(143,bi=m.padding),"extents"in m&&n(144,pi=m.extents),"flatData"in m&&n(145,wi=m.flatData),"custom"in m&&n(146,vi=m.custom),"debug"in m&&n(147,Rr=m.debug),"$$scope"in m&&n(152,Le=m.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&n(150,i=typeof _i>"u"?typeof vn.bandwidth!="function":_i),e.$$.dirty[3]&2097152&&st&&n(148,ue.x=st,ue),e.$$.dirty[3]&4194304&&nt&&n(148,ue.y=nt,ue),e.$$.dirty[3]&8388608&&it&&n(148,ue.z=it,ue),e.$$.dirty[3]&16777216&&Ve&&n(148,ue.r=Ve,ue),e.$$.dirty[3]&67108864&&Jt&&n(148,ue.xDomain=Jt,ue),e.$$.dirty[3]&134217728&&$t&&n(148,ue.yDomain=$t,ue),e.$$.dirty[3]&268435456&&en&&n(148,ue.zDomain=en,ue),e.$$.dirty[3]&536870912&&tn&&n(148,ue.rDomain=tn,ue),e.$$.dirty[4]&2048&&nn&&n(148,ue.xRange=nn,ue),e.$$.dirty[4]&4096&&rn&&n(148,ue.yRange=rn,ue),e.$$.dirty[4]&8192&&ln&&n(148,ue.zRange=ln,ue),e.$$.dirty[4]&16384&&an&&n(148,ue.rRange=an,ue),e.$$.dirty[3]&262144&&Q(Mt,Oe=jt,Oe),e.$$.dirty[0]&1&&Q(on,De=tt,De),e.$$.dirty[0]&2&&Q(fn,Ee=Fe,Ee),e.$$.dirty[4]&1048576&&Q(ki,fe=Or(pi),fe),e.$$.dirty[3]&33554432&&Q(Si,$=Qt,$),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&Q(kn,Ge=wi||Qt,Ge),e.$$.dirty[4]&524288&&Q(Ei,Ce=bi,Ce),e.$$.dirty[3]&2097152&&Q(un,ze=zt(st),ze),e.$$.dirty[3]&4194304&&Q(sn,X=zt(nt),X),e.$$.dirty[3]&8388608&&Q(cn,ae=zt(it),ae),e.$$.dirty[3]&16777216&&Q(hn,W=zt(Ve),W),e.$$.dirty[3]&67108864&&Q(Mi,L=Jt,L),e.$$.dirty[3]&134217728&&Q(Ri,J=$t,J),e.$$.dirty[3]&268435456&&Q(Ni,K=en,K),e.$$.dirty[3]&536870912&&Q(zi,Y=tn,Y),e.$$.dirty[3]&1073741824&&Q(Sn,N=ii,N),e.$$.dirty[4]&1&&Q(En,E=ri,E),e.$$.dirty[4]&2&&Q(Mn,q=li,q),e.$$.dirty[4]&4&&Q(Rn,A=ai,A),e.$$.dirty[4]&32768&&Q(Nn,x=gi,x),e.$$.dirty[4]&67108864&&Q(zn,T=i,T),e.$$.dirty[4]&131072&&Q(Dn,B=mi,B),e.$$.dirty[4]&262144&&Q(Pn,I=yi,I),e.$$.dirty[4]&8&&Q(An,C=oi,C),e.$$.dirty[4]&16&&Q(Tn,M=fi,M),e.$$.dirty[4]&32&&Q(Cn,z=ui,z),e.$$.dirty[4]&64&&Q(In,k=si,k),e.$$.dirty[4]&2048&&Q(Di,D=nn,D),e.$$.dirty[4]&4096&&Q(Pi,v=rn,v),e.$$.dirty[4]&8192&&Q(Ai,w=ln,w),e.$$.dirty[4]&16384&&Q(Ti,p=an,p),e.$$.dirty[4]&128&&Q(Ln,y=ci,y),e.$$.dirty[4]&256&&Q(qn,b=vn,b),e.$$.dirty[4]&512&&Q(jn,g=hi,g),e.$$.dirty[4]&1024&&Q(Bn,d=di,d),e.$$.dirty[4]&4194304&&Q(Ii,c=vi,c),e.$$.dirty[4]&16777216&&Q(Ci,h=ue,h),e.$$.dirty[4]&33554432&&fo("LayerCake",r),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&f&&Rr===!0&&(de===!0||typeof window<"u")&&ce({boundingBox:f,activeGetters:u,x:ue.x,y:ue.y,z:ue.z,r:ue.r,xScale:s,yScale:o,zScale:a,rScale:l})},n(149,r={activeGetters:Li,width:Rt,height:Nt,percentRange:Mt,aspectRatio:qr,containerWidth:on,containerHeight:fn,x:un,y:sn,z:cn,r:hn,custom:Ii,data:Si,xNice:Sn,yNice:En,zNice:Mn,rNice:Rn,xReverse:Nn,yReverse:zn,zReverse:Dn,rReverse:Pn,xPadding:An,yPadding:Tn,zPadding:Cn,rPadding:In,padding:qi,flatData:kn,extents:rt,xDomain:Bi,yDomain:Gi,zDomain:Oi,rDomain:Hi,xRange:Tr,yRange:Cr,zRange:Ir,rRange:Lr,config:Ci,xScale:Gn,xGet:zr,yScale:On,yGet:Dr,zScale:Hn,zGet:Pr,rScale:Fn,rGet:Ar}),[tt,Fe,Bt,de,qe,et,l,a,o,s,u,h,c,k,z,M,C,I,B,T,x,A,q,E,N,W,ae,X,ze,Ge,$,Ee,De,Oe,Ye,oe,Ie,Qe,Je,$e,Ut,Vt,Ue,Yt,kt,Lt,Kt,St,qt,Xt,Zt,Mt,on,fn,ki,Si,kn,Ei,un,sn,cn,hn,Mi,Ri,Ni,zi,Sn,En,Mn,Rn,Nn,zn,Dn,Pn,An,Tn,Cn,In,Di,Pi,Ai,Ti,Ln,qn,jn,Bn,Ci,Ii,Li,qi,ji,Rt,Nt,rt,Bi,Gi,Oi,Hi,Gn,zr,On,Dr,Hn,Pr,Fn,Ar,Tr,Cr,Ir,Lr,qr,jt,Et,He,st,nt,it,Ve,Qt,Jt,$t,en,tn,ii,ri,li,ai,oi,fi,ui,si,ci,vn,hi,di,nn,rn,ln,an,gi,_i,mi,yi,bi,pi,wi,vi,Rr,ue,r,i,f,Le,ut,Xo,Zo]}class wl extends Re{constructor(t){super(),Ne(this,t,Hu,Ou,Me,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Fu=e=>({element:e&1}),Ql=e=>({element:e[0]});function xu(e){let t,n;const i=e[11].default,r=Pt(i,e,e[10],Ql);return{c(){t=U("div"),r&&r.c(),this.h()},l(l){t=V(l,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var a=j(t);r&&r.l(a),a.forEach(S),this.h()},h(){_(t,"class","layercake-layout-html svelte-1bu60uu"),_(t,"role",e[6]),_(t,"aria-label",e[3]),_(t,"aria-labelledby",e[4]),_(t,"aria-describedby",e[5]),F(t,"z-index",e[1]),F(t,"pointer-events",e[2]===!1?"none":null),F(t,"top",e[7].top+"px"),F(t,"right",e[7].right+"px"),F(t,"bottom",e[7].bottom+"px"),F(t,"left",e[7].left+"px")},m(l,a){G(l,t,a),r&&r.m(t,null),e[12](t),n=!0},p(l,[a]){r&&r.p&&(!n||a&1025)&&At(r,i,l,l[10],n?Ct(i,l[10],a,Fu):Tt(l[10]),Ql),(!n||a&64)&&_(t,"role",l[6]),(!n||a&8)&&_(t,"aria-label",l[3]),(!n||a&16)&&_(t,"aria-labelledby",l[4]),(!n||a&32)&&_(t,"aria-describedby",l[5]),a&2&&F(t,"z-index",l[1]),a&4&&F(t,"pointer-events",l[2]===!1?"none":null),a&128&&F(t,"top",l[7].top+"px"),a&128&&F(t,"right",l[7].right+"px"),a&128&&F(t,"bottom",l[7].bottom+"px"),a&128&&F(t,"left",l[7].left+"px")},i(l){n||(Z(r,l),n=!0)},o(l){ee(r,l),n=!1},d(l){l&&S(t),r&&r.d(l),e[12](null)}}}function Wu(e,t,n){let i,r,{$$slots:l={},$$scope:a}=t;const{padding:o}=ft("LayerCake");P(e,o,y=>n(7,r=y));let{element:s=void 0}=t,{zIndex:u=void 0}=t,{pointerEvents:f=void 0}=t,{role:h=void 0}=t,{label:c=void 0}=t,{labelledBy:d=void 0}=t,{describedBy:g=void 0}=t;function b(y){It[y?"unshift":"push"](()=>{s=y,n(0,s)})}return e.$$set=y=>{"element"in y&&n(0,s=y.element),"zIndex"in y&&n(1,u=y.zIndex),"pointerEvents"in y&&n(2,f=y.pointerEvents),"role"in y&&n(9,h=y.role),"label"in y&&n(3,c=y.label),"labelledBy"in y&&n(4,d=y.labelledBy),"describedBy"in y&&n(5,g=y.describedBy),"$$scope"in y&&n(10,a=y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&n(6,i=h||(c||d||g?"figure":void 0))},[s,u,f,c,d,g,i,r,o,h,a,l,b]}class Jl extends Re{constructor(t){super(),Ne(this,t,Wu,xu,Me,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const Uu=e=>({element:e&1}),$l=e=>({element:e[0]}),Vu=e=>({}),ea=e=>({}),Yu=e=>({}),ta=e=>({});function na(e){let t,n;return{c(){t=pe("title"),n=O(e[8])},l(i){t=we(i,"title",{});var r=j(t);n=H(r,e[8]),r.forEach(S)},m(i,r){G(i,t,r),R(t,n)},p(i,r){r&256&&se(n,i[8])},d(i){i&&S(t)}}}function Ku(e){let t,n=e[8]&&na(e);return{c(){n&&n.c(),t=he()},l(i){n&&n.l(i),t=he()},m(i,r){n&&n.m(i,r),G(i,t,r)},p(i,r){i[8]?n?n.p(i,r):(n=na(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&S(t),n&&n.d(i)}}}function Xu(e){let t,n,i,r,l;const a=e[16].title,o=Pt(a,e,e[15],ta),s=o||Ku(e),u=e[16].defs,f=Pt(u,e,e[15],ea),h=e[16].default,c=Pt(h,e,e[15],$l);return{c(){t=pe("svg"),s&&s.c(),n=pe("defs"),f&&f.c(),i=pe("g"),c&&c.c(),this.h()},l(d){t=we(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=j(t);s&&s.l(g),n=we(g,"defs",{});var b=j(n);f&&f.l(b),b.forEach(S),i=we(g,"g",{class:!0,transform:!0});var y=j(i);c&&c.l(y),y.forEach(S),g.forEach(S),this.h()},h(){_(i,"class","layercake-layout-svg_g"),_(i,"transform",r="translate("+e[11].left+", "+e[11].top+")"),_(t,"class","layercake-layout-svg svelte-u84d8d"),_(t,"viewBox",e[4]),_(t,"width",e[9]),_(t,"height",e[10]),_(t,"aria-label",e[5]),_(t,"aria-labelledby",e[6]),_(t,"aria-describedby",e[7]),F(t,"z-index",e[2]),F(t,"pointer-events",e[3]===!1?"none":null)},m(d,g){G(d,t,g),s&&s.m(t,null),R(t,n),f&&f.m(n,null),R(t,i),c&&c.m(i,null),e[17](i),e[18](t),l=!0},p(d,[g]){o?o.p&&(!l||g&32768)&&At(o,a,d,d[15],l?Ct(a,d[15],g,Yu):Tt(d[15]),ta):s&&s.p&&(!l||g&256)&&s.p(d,l?g:-1),f&&f.p&&(!l||g&32768)&&At(f,u,d,d[15],l?Ct(u,d[15],g,Vu):Tt(d[15]),ea),c&&c.p&&(!l||g&32769)&&At(c,h,d,d[15],l?Ct(h,d[15],g,Uu):Tt(d[15]),$l),(!l||g&2048&&r!==(r="translate("+d[11].left+", "+d[11].top+")"))&&_(i,"transform",r),(!l||g&16)&&_(t,"viewBox",d[4]),(!l||g&512)&&_(t,"width",d[9]),(!l||g&1024)&&_(t,"height",d[10]),(!l||g&32)&&_(t,"aria-label",d[5]),(!l||g&64)&&_(t,"aria-labelledby",d[6]),(!l||g&128)&&_(t,"aria-describedby",d[7]),g&4&&F(t,"z-index",d[2]),g&8&&F(t,"pointer-events",d[3]===!1?"none":null)},i(d){l||(Z(s,d),Z(f,d),Z(c,d),l=!0)},o(d){ee(s,d),ee(f,d),ee(c,d),l=!1},d(d){d&&S(t),s&&s.d(d),f&&f.d(d),c&&c.d(d),e[17](null),e[18](null)}}}function Zu(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t,{element:s=void 0}=t,{innerElement:u=void 0}=t,{zIndex:f=void 0}=t,{pointerEvents:h=void 0}=t,{viewBox:c=void 0}=t,{label:d=void 0}=t,{labelledBy:g=void 0}=t,{describedBy:b=void 0}=t,{title:y=void 0}=t;const{containerWidth:p,containerHeight:w,padding:v}=ft("LayerCake");P(e,p,z=>n(9,i=z)),P(e,w,z=>n(10,r=z)),P(e,v,z=>n(11,l=z));function D(z){It[z?"unshift":"push"](()=>{u=z,n(1,u)})}function k(z){It[z?"unshift":"push"](()=>{s=z,n(0,s)})}return e.$$set=z=>{"element"in z&&n(0,s=z.element),"innerElement"in z&&n(1,u=z.innerElement),"zIndex"in z&&n(2,f=z.zIndex),"pointerEvents"in z&&n(3,h=z.pointerEvents),"viewBox"in z&&n(4,c=z.viewBox),"label"in z&&n(5,d=z.label),"labelledBy"in z&&n(6,g=z.labelledBy),"describedBy"in z&&n(7,b=z.describedBy),"title"in z&&n(8,y=z.title),"$$scope"in z&&n(15,o=z.$$scope)},[s,u,f,h,c,d,g,b,y,i,r,l,p,w,v,o,a,D,k]}class vl extends Re{constructor(t){super(),Ne(this,t,Zu,Xu,Me,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}function Po(e,t,n){const i=window.devicePixelRatio||1;return e.canvas.width=t*i,e.canvas.height=n*i,e.canvas.style.width=`${t}px`,e.canvas.style.height=`${n}px`,e.scale(i,i),{width:e.canvas.width,height:e.canvas.height}}const Qu=e=>({element:e&2,context:e&1}),ia=e=>({element:e[1],context:e[0]}),Ju=e=>({}),ra=e=>({});function la(e){let t;return{c(){t=O(e[4])},l(n){t=H(n,e[4])},m(n,i){G(n,t,i)},p(n,i){i&16&&se(t,n[4])},d(n){n&&S(t)}}}function $u(e){let t,n=e[4]&&la(e);return{c(){n&&n.c(),t=he()},l(i){n&&n.l(i),t=he()},m(i,r){n&&n.m(i,r),G(i,t,r)},p(i,r){i[4]?n?n.p(i,r):(n=la(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&S(t),n&&n.d(i)}}}function es(e){let t,n,i;const r=e[13].fallback,l=Pt(r,e,e[12],ra),a=l||$u(e),o=e[13].default,s=Pt(o,e,e[12],ia);return{c(){t=U("canvas"),a&&a.c(),n=ne(),s&&s.c(),this.h()},l(u){t=V(u,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=j(t);a&&a.l(f),f.forEach(S),n=ie(u),s&&s.l(u),this.h()},h(){_(t,"class","layercake-layout-canvas"),F(t,"width","100%"),F(t,"height","100%"),F(t,"position","absolute"),_(t,"aria-label",e[5]),_(t,"aria-labelledby",e[6]),_(t,"aria-describedby",e[7]),F(t,"z-index",e[2]),F(t,"pointer-events",e[3]===!1?"none":null),F(t,"top",e[8].top+"px"),F(t,"right",e[8].right+"px"),F(t,"bottom",e[8].bottom+"px"),F(t,"left",e[8].left+"px")},m(u,f){G(u,t,f),a&&a.m(t,null),e[14](t),G(u,n,f),s&&s.m(u,f),i=!0},p(u,[f]){l?l.p&&(!i||f&4096)&&At(l,r,u,u[12],i?Ct(r,u[12],f,Ju):Tt(u[12]),ra):a&&a.p&&(!i||f&16)&&a.p(u,i?f:-1),(!i||f&32)&&_(t,"aria-label",u[5]),(!i||f&64)&&_(t,"aria-labelledby",u[6]),(!i||f&128)&&_(t,"aria-describedby",u[7]),f&4&&F(t,"z-index",u[2]),f&8&&F(t,"pointer-events",u[3]===!1?"none":null),f&256&&F(t,"top",u[8].top+"px"),f&256&&F(t,"right",u[8].right+"px"),f&256&&F(t,"bottom",u[8].bottom+"px"),f&256&&F(t,"left",u[8].left+"px"),s&&s.p&&(!i||f&4099)&&At(s,o,u,u[12],i?Ct(o,u[12],f,Qu):Tt(u[12]),ia)},i(u){i||(Z(a,u),Z(s,u),i=!0)},o(u){ee(a,u),ee(s,u),i=!1},d(u){u&&(S(t),S(n)),a&&a.d(u),e[14](null),s&&s.d(u)}}}function ts(e,t,n){let i,r,l,{$$slots:a={},$$scope:o}=t;const{width:s,height:u,padding:f}=ft("LayerCake");P(e,s,k=>n(16,r=k)),P(e,u,k=>n(15,i=k)),P(e,f,k=>n(8,l=k));let{element:h=void 0}=t,{context:c=void 0}=t,{zIndex:d=void 0}=t,{pointerEvents:g=void 0}=t,{fallback:b=""}=t,{label:y=void 0}=t,{labelledBy:p=void 0}=t,{describedBy:w=void 0}=t;const v={ctx:te({})};oo(()=>{n(0,c=h.getContext("2d")),Po(c,r,i)}),fo("canvas",v);function D(k){It[k?"unshift":"push"](()=>{h=k,n(1,h)})}return e.$$set=k=>{"element"in k&&n(1,h=k.element),"context"in k&&n(0,c=k.context),"zIndex"in k&&n(2,d=k.zIndex),"pointerEvents"in k&&n(3,g=k.pointerEvents),"fallback"in k&&n(4,b=k.fallback),"label"in k&&n(5,y=k.label),"labelledBy"in k&&n(6,p=k.labelledBy),"describedBy"in k&&n(7,w=k.describedBy),"$$scope"in k&&n(12,o=k.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&v.ctx.set(c)},[c,h,d,g,b,y,p,w,l,s,u,f,o,a,D]}class ns extends Re{constructor(t){super(),Ne(this,t,ts,es,Me,{element:1,context:0,zIndex:2,pointerEvents:3,fallback:4,label:5,labelledBy:6,describedBy:7})}}function is(e){e.nextSibling&&e.parentNode.appendChild(e)}function rs(e){return e}function ls(e){if(e==null)return rs;var t,n,i=e.scale[0],r=e.scale[1],l=e.translate[0],a=e.translate[1];return function(o,s){s||(t=n=0);var u=2,f=o.length,h=new Array(f);for(h[0]=(t+=o[0])*i+l,h[1]=(n+=o[1])*r+a;u<f;)h[u]=o[u],++u;return h}}function as(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}function os(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return aa(e,n)})}:aa(e,t)}function aa(e,t){var n=t.id,i=t.bbox,r=t.properties==null?{}:t.properties,l=fs(e,t);return n==null&&i==null?{type:"Feature",properties:r,geometry:l}:i==null?{type:"Feature",id:n,properties:r,geometry:l}:{type:"Feature",id:n,bbox:i,properties:r,geometry:l}}function fs(e,t){var n=ls(e.transform),i=e.arcs;function r(f,h){h.length&&h.pop();for(var c=i[f<0?~f:f],d=0,g=c.length;d<g;++d)h.push(n(c[d],d));f<0&&as(h,g)}function l(f){return n(f)}function a(f){for(var h=[],c=0,d=f.length;c<d;++c)r(f[c],h);return h.length<2&&h.push(h[0]),h}function o(f){for(var h=a(f);h.length<4;)h.push(h[0]);return h}function s(f){return f.map(o)}function u(f){var h=f.type,c;switch(h){case"GeometryCollection":return{type:h,geometries:f.geometries.map(u)};case"Point":c=l(f.coordinates);break;case"MultiPoint":c=f.coordinates.map(l);break;case"LineString":c=a(f.arcs);break;case"MultiLineString":c=f.arcs.map(a);break;case"Polygon":c=s(f.arcs);break;case"MultiPolygon":c=f.arcs.map(s);break;default:return null}return{type:h,coordinates:c}}return u(t)}var le=1e-6,us=1e-12,re=Math.PI,Ke=re/2,oa=re/4,Ze=re*2,lt=180/re,Be=re/180,ve=Math.abs,ss=Math.atan,bn=Math.atan2,Se=Math.cos,ge=Math.sin,nr=Math.sign||function(e){return e>0?1:e<0?-1:0},vt=Math.sqrt;function cs(e){return e>1?0:e<-1?re:Math.acos(e)}function xt(e){return e>1?Ke:e<-1?-Ke:Math.asin(e)}function Xe(){}function dr(e,t){e&&ua.hasOwnProperty(e.type)&&ua[e.type](e,t)}var fa={Feature:function(e,t){dr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)dr(n[i].geometry,t)}},ua={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Zr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Zr(n[i],t,0)},Polygon:function(e,t){sa(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)sa(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)dr(n[i],t)}};function Zr(e,t,n){var i=-1,r=e.length-n,l;for(t.lineStart();++i<r;)l=e[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function sa(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Zr(e[n],t,1);t.polygonEnd()}function dn(e,t){e&&fa.hasOwnProperty(e.type)?fa[e.type](e,t):dr(e,t)}function Qr(e){return[bn(e[1],e[0]),xt(e[2])]}function pn(e){var t=e[0],n=e[1],i=Se(n);return[i*Se(t),i*ge(t),ge(n)]}function Zi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function xr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Qi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Jr(e){var t=vt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function $r(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function el(e,t){return ve(e)>re&&(e-=Math.round(e/Ze)*Ze),[e,t]}el.invert=el;function hs(e,t,n){return(e%=Ze)?t||n?$r(ha(e),da(t,n)):ha(e):t||n?da(t,n):el}function ca(e){return function(t,n){return t+=e,ve(t)>re&&(t-=Math.round(t/Ze)*Ze),[t,n]}}function ha(e){var t=ca(e);return t.invert=ca(-e),t}function da(e,t){var n=Se(e),i=ge(e),r=Se(t),l=ge(t);function a(o,s){var u=Se(s),f=Se(o)*u,h=ge(o)*u,c=ge(s),d=c*n+f*i;return[bn(h*r-d*l,f*n-c*i),xt(d*r+h*l)]}return a.invert=function(o,s){var u=Se(s),f=Se(o)*u,h=ge(o)*u,c=ge(s),d=c*r-h*l;return[bn(h*r+c*l,f*n+d*i),xt(d*n-f*i)]},a}function ds(e,t,n,i,r,l){if(n){var a=Se(t),o=ge(t),s=i*n;r==null?(r=t+i*Ze,l=t-s/2):(r=ga(a,r),l=ga(a,l),(i>0?r<l:r>l)&&(r+=i*Ze));for(var u,f=r;i>0?f>l:f<l;f-=s)u=Qr([a,-o*Se(f),-o*ge(f)]),e.point(u[0],u[1])}}function ga(e,t){t=pn(t),t[0]-=e,Jr(t);var n=cs(-t[1]);return((-t[2]<0?-n:n)+Ze-le)%Ze}function Ao(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:Xe,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ir(e,t){return ve(e[0]-t[0])<le&&ve(e[1]-t[1])<le}function Ji(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function To(e,t,n,i,r){var l=[],a=[],o,s;if(e.forEach(function(g){if(!((b=g.length-1)<=0)){var b,y=g[0],p=g[b],w;if(ir(y,p)){if(!y[2]&&!p[2]){for(r.lineStart(),o=0;o<b;++o)r.point((y=g[o])[0],y[1]);r.lineEnd();return}p[0]+=2*le}l.push(w=new Ji(y,g,null,!0)),a.push(w.o=new Ji(y,null,w,!1)),l.push(w=new Ji(p,g,null,!1)),a.push(w.o=new Ji(p,null,w,!0))}}),!!l.length){for(a.sort(t),_a(l),_a(a),o=0,s=a.length;o<s;++o)a[o].e=n=!n;for(var u=l[0],f,h;;){for(var c=u,d=!0;c.v;)if((c=c.n)===u)return;f=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(o=0,s=f.length;o<s;++o)r.point((h=f[o])[0],h[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(d)for(f=c.p.z,o=f.length-1;o>=0;--o)r.point((h=f[o])[0],h[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,f=c.z,d=!d}while(!c.v);r.lineEnd()}}}function _a(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Wr(e){return ve(e[0])<=re?e[0]:nr(e[0])*((ve(e[0])+re)%Ze-re)}function gs(e,t){var n=Wr(t),i=t[1],r=ge(i),l=[ge(n),-Se(n),0],a=0,o=0,s=new Ft;r===1?i=Ke+le:r===-1&&(i=-Ke-le);for(var u=0,f=e.length;u<f;++u)if(c=(h=e[u]).length)for(var h,c,d=h[c-1],g=Wr(d),b=d[1]/2+oa,y=ge(b),p=Se(b),w=0;w<c;++w,g=D,y=z,p=M,d=v){var v=h[w],D=Wr(v),k=v[1]/2+oa,z=ge(k),M=Se(k),C=D-g,I=C>=0?1:-1,B=I*C,T=B>re,x=y*z;if(s.add(bn(x*I*ge(B),p*M+x*Se(B))),a+=T?C+I*Ze:C,T^g>=n^D>=n){var A=gr(pn(d),pn(v));Jr(A);var q=gr(l,A);Jr(q);var E=(T^C>=0?-1:1)*xt(q[2]);(i>E||i===E&&(A[0]||A[1]))&&(o+=T^C>=0?1:-1)}}return(a<-le||a<le&&s<-us)^o&1}function Co(e,t,n,i){return function(r){var l=t(r),a=Ao(),o=t(a),s=!1,u,f,h,c={point:d,lineStart:b,lineEnd:y,polygonStart:function(){c.point=p,c.lineStart=w,c.lineEnd=v,f=[],u=[]},polygonEnd:function(){c.point=d,c.lineStart=b,c.lineEnd=y,f=_o(f);var D=gs(u,i);f.length?(s||(r.polygonStart(),s=!0),To(f,ms,D,n,r)):D&&(s||(r.polygonStart(),s=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),s&&(r.polygonEnd(),s=!1),f=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(D,k){e(D,k)&&r.point(D,k)}function g(D,k){l.point(D,k)}function b(){c.point=g,l.lineStart()}function y(){c.point=d,l.lineEnd()}function p(D,k){h.push([D,k]),o.point(D,k)}function w(){o.lineStart(),h=[]}function v(){p(h[0][0],h[0][1]),o.lineEnd();var D=o.clean(),k=a.result(),z,M=k.length,C,I,B;if(h.pop(),u.push(h),h=null,!!M){if(D&1){if(I=k[0],(C=I.length-1)>0){for(s||(r.polygonStart(),s=!0),r.lineStart(),z=0;z<C;++z)r.point((B=I[z])[0],B[1]);r.lineEnd()}return}M>1&&D&2&&k.push(k.pop().concat(k.shift())),f.push(k.filter(_s))}}return c}}function _s(e){return e.length>1}function ms(e,t){return((e=e.x)[0]<0?e[1]-Ke-le:Ke-e[1])-((t=t.x)[0]<0?t[1]-Ke-le:Ke-t[1])}const ma=Co(function(){return!0},ys,ps,[-re,-Ke]);function ys(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(l,a){var o=l>0?re:-re,s=ve(l-t);ve(s-re)<le?(e.point(t,n=(n+a)/2>0?Ke:-Ke),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(l,n),r=0):i!==o&&s>=re&&(ve(t-i)<le&&(t-=i*le),ve(l-o)<le&&(l-=o*le),n=bs(t,n,l,a),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),r=0),e.point(t=l,n=a),i=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function bs(e,t,n,i){var r,l,a=ge(e-n);return ve(a)>le?ss((ge(t)*(l=Se(i))*ge(n)-ge(i)*(r=Se(t))*ge(e))/(r*l*a)):(t+i)/2}function ps(e,t,n,i){var r;if(e==null)r=n*Ke,i.point(-re,r),i.point(0,r),i.point(re,r),i.point(re,0),i.point(re,-r),i.point(0,-r),i.point(-re,-r),i.point(-re,0),i.point(-re,r);else if(ve(e[0]-t[0])>le){var l=e[0]<t[0]?re:-re;r=n*l/2,i.point(-l,r),i.point(0,r),i.point(l,r)}else i.point(t[0],t[1])}function ws(e){var t=Se(e),n=6*Be,i=t>0,r=ve(t)>le;function l(f,h,c,d){ds(d,e,n,c,f,h)}function a(f,h){return Se(f)*Se(h)>t}function o(f){var h,c,d,g,b;return{lineStart:function(){g=d=!1,b=1},point:function(y,p){var w=[y,p],v,D=a(y,p),k=i?D?0:u(y,p):D?u(y+(y<0?re:-re),p):0;if(!h&&(g=d=D)&&f.lineStart(),D!==d&&(v=s(h,w),(!v||ir(h,v)||ir(w,v))&&(w[2]=1)),D!==d)b=0,D?(f.lineStart(),v=s(w,h),f.point(v[0],v[1])):(v=s(h,w),f.point(v[0],v[1],2),f.lineEnd()),h=v;else if(r&&h&&i^D){var z;!(k&c)&&(z=s(w,h,!0))&&(b=0,i?(f.lineStart(),f.point(z[0][0],z[0][1]),f.point(z[1][0],z[1][1]),f.lineEnd()):(f.point(z[1][0],z[1][1]),f.lineEnd(),f.lineStart(),f.point(z[0][0],z[0][1],3)))}D&&(!h||!ir(h,w))&&f.point(w[0],w[1]),h=w,d=D,c=k},lineEnd:function(){d&&f.lineEnd(),h=null},clean:function(){return b|(g&&d)<<1}}}function s(f,h,c){var d=pn(f),g=pn(h),b=[1,0,0],y=gr(d,g),p=Zi(y,y),w=y[0],v=p-w*w;if(!v)return!c&&f;var D=t*p/v,k=-t*w/v,z=gr(b,y),M=Qi(b,D),C=Qi(y,k);xr(M,C);var I=z,B=Zi(M,I),T=Zi(I,I),x=B*B-T*(Zi(M,M)-1);if(!(x<0)){var A=vt(x),q=Qi(I,(-B-A)/T);if(xr(q,M),q=Qr(q),!c)return q;var E=f[0],N=h[0],Y=f[1],K=h[1],J;N<E&&(J=E,E=N,N=J);var L=N-E,W=ve(L-re)<le,ae=W||L<le;if(!W&&K<Y&&(J=Y,Y=K,K=J),ae?W?Y+K>0^q[1]<(ve(q[0]-E)<le?Y:K):Y<=q[1]&&q[1]<=K:L>re^(E<=q[0]&&q[0]<=N)){var X=Qi(I,(-B+A)/T);return xr(X,M),[q,Qr(X)]}}}function u(f,h){var c=i?e:re-e,d=0;return f<-c?d|=1:f>c&&(d|=2),h<-c?d|=4:h>c&&(d|=8),d}return Co(a,o,l,i?[0,-e]:[-re,e-re])}function vs(e,t,n,i,r,l){var a=e[0],o=e[1],s=t[0],u=t[1],f=0,h=1,c=s-a,d=u-o,g;if(g=n-a,!(!c&&g>0)){if(g/=c,c<0){if(g<f)return;g<h&&(h=g)}else if(c>0){if(g>h)return;g>f&&(f=g)}if(g=r-a,!(!c&&g<0)){if(g/=c,c<0){if(g>h)return;g>f&&(f=g)}else if(c>0){if(g<f)return;g<h&&(h=g)}if(g=i-o,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>f&&(f=g)}if(g=l-o,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<h&&(h=g)}return f>0&&(e[0]=a+f*c,e[1]=o+f*d),h<1&&(t[0]=a+h*c,t[1]=o+h*d),!0}}}}}var Vn=1e9,$i=-Vn;function ks(e,t,n,i){function r(u,f){return e<=u&&u<=n&&t<=f&&f<=i}function l(u,f,h,c){var d=0,g=0;if(u==null||(d=a(u,h))!==(g=a(f,h))||s(u,f)<0^h>0)do c.point(d===0||d===3?e:n,d>1?i:t);while((d=(d+h+4)%4)!==g);else c.point(f[0],f[1])}function a(u,f){return ve(u[0]-e)<le?f>0?0:3:ve(u[0]-n)<le?f>0?2:1:ve(u[1]-t)<le?f>0?1:0:f>0?3:2}function o(u,f){return s(u.x,f.x)}function s(u,f){var h=a(u,1),c=a(f,1);return h!==c?h-c:h===0?f[1]-u[1]:h===1?u[0]-f[0]:h===2?u[1]-f[1]:f[0]-u[0]}return function(u){var f=u,h=Ao(),c,d,g,b,y,p,w,v,D,k,z,M={point:C,lineStart:x,lineEnd:A,polygonStart:B,polygonEnd:T};function C(E,N){r(E,N)&&f.point(E,N)}function I(){for(var E=0,N=0,Y=d.length;N<Y;++N)for(var K=d[N],J=1,L=K.length,W=K[0],ae,X,ze=W[0],Ce=W[1];J<L;++J)ae=ze,X=Ce,W=K[J],ze=W[0],Ce=W[1],X<=i?Ce>i&&(ze-ae)*(i-X)>(Ce-X)*(e-ae)&&++E:Ce<=i&&(ze-ae)*(i-X)<(Ce-X)*(e-ae)&&--E;return E}function B(){f=h,c=[],d=[],z=!0}function T(){var E=I(),N=z&&E,Y=(c=_o(c)).length;(N||Y)&&(u.polygonStart(),N&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),Y&&To(c,o,E,l,u),u.polygonEnd()),f=u,c=d=g=null}function x(){M.point=q,d&&d.push(g=[]),k=!0,D=!1,w=v=NaN}function A(){c&&(q(b,y),p&&D&&h.rejoin(),c.push(h.result())),M.point=C,D&&f.lineEnd()}function q(E,N){var Y=r(E,N);if(d&&g.push([E,N]),k)b=E,y=N,p=Y,k=!1,Y&&(f.lineStart(),f.point(E,N));else if(Y&&D)f.point(E,N);else{var K=[w=Math.max($i,Math.min(Vn,w)),v=Math.max($i,Math.min(Vn,v))],J=[E=Math.max($i,Math.min(Vn,E)),N=Math.max($i,Math.min(Vn,N))];vs(K,J,e,t,n,i)?(D||(f.lineStart(),f.point(K[0],K[1])),f.point(J[0],J[1]),Y||f.lineEnd(),z=!1):Y&&(f.lineStart(),f.point(E,N),z=!1)}w=E,v=N,D=Y}return M}}const tl=e=>e;var Ur=new Ft,nl=new Ft,Io,Lo,il,rl,Dt={point:Xe,lineStart:Xe,lineEnd:Xe,polygonStart:function(){Dt.lineStart=Ss,Dt.lineEnd=Ms},polygonEnd:function(){Dt.lineStart=Dt.lineEnd=Dt.point=Xe,Ur.add(ve(nl)),nl=new Ft},result:function(){var e=Ur/2;return Ur=new Ft,e}};function Ss(){Dt.point=Es}function Es(e,t){Dt.point=qo,Io=il=e,Lo=rl=t}function qo(e,t){nl.add(rl*e-il*t),il=e,rl=t}function Ms(){qo(Io,Lo)}const ya=Dt;var wn=1/0,_r=wn,ei=-wn,mr=ei,Rs={point:Ns,lineStart:Xe,lineEnd:Xe,polygonStart:Xe,polygonEnd:Xe,result:function(){var e=[[wn,_r],[ei,mr]];return ei=mr=-(_r=wn=1/0),e}};function Ns(e,t){e<wn&&(wn=e),e>ei&&(ei=e),t<_r&&(_r=t),t>mr&&(mr=t)}const yr=Rs;var ll=0,al=0,Yn=0,br=0,pr=0,_n=0,ol=0,fl=0,Kn=0,jo,Bo,dt,gt,ot={point:Wt,lineStart:ba,lineEnd:pa,polygonStart:function(){ot.lineStart=Ps,ot.lineEnd=As},polygonEnd:function(){ot.point=Wt,ot.lineStart=ba,ot.lineEnd=pa},result:function(){var e=Kn?[ol/Kn,fl/Kn]:_n?[br/_n,pr/_n]:Yn?[ll/Yn,al/Yn]:[NaN,NaN];return ll=al=Yn=br=pr=_n=ol=fl=Kn=0,e}};function Wt(e,t){ll+=e,al+=t,++Yn}function ba(){ot.point=zs}function zs(e,t){ot.point=Ds,Wt(dt=e,gt=t)}function Ds(e,t){var n=e-dt,i=t-gt,r=vt(n*n+i*i);br+=r*(dt+e)/2,pr+=r*(gt+t)/2,_n+=r,Wt(dt=e,gt=t)}function pa(){ot.point=Wt}function Ps(){ot.point=Ts}function As(){Go(jo,Bo)}function Ts(e,t){ot.point=Go,Wt(jo=dt=e,Bo=gt=t)}function Go(e,t){var n=e-dt,i=t-gt,r=vt(n*n+i*i);br+=r*(dt+e)/2,pr+=r*(gt+t)/2,_n+=r,r=gt*e-dt*t,ol+=r*(dt+e),fl+=r*(gt+t),Kn+=r*3,Wt(dt=e,gt=t)}const wa=ot;function Oo(e){this._context=e}Oo.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ze);break}}},result:Xe};var ul=new Ft,Vr,Ho,Fo,Xn,Zn,wr={point:Xe,lineStart:function(){wr.point=Cs},lineEnd:function(){Vr&&xo(Ho,Fo),wr.point=Xe},polygonStart:function(){Vr=!0},polygonEnd:function(){Vr=null},result:function(){var e=+ul;return ul=new Ft,e}};function Cs(e,t){wr.point=xo,Ho=Xn=e,Fo=Zn=t}function xo(e,t){Xn-=e,Zn-=t,ul.add(vt(Xn*Xn+Zn*Zn)),Xn=e,Zn=t}const va=wr;let ka,vr,Sa,Ea;class Ma{constructor(t){this._append=t==null?Wo:Is(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Sa||this._append!==vr){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Sa=i,vr=this._append,Ea=this._,this._=r}this._+=Ea;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Wo(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Is(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Wo;if(t!==ka){const n=10**t;ka=t,vr=function(r){let l=1;this._+=r[0];for(const a=r.length;l<a;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}return vr}function Ra(e,t){let n=3,i=4.5,r,l;function a(o){return o&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),dn(o,r(l))),l.result()}return a.area=function(o){return dn(o,r(ya)),ya.result()},a.measure=function(o){return dn(o,r(va)),va.result()},a.bounds=function(o){return dn(o,r(yr)),yr.result()},a.centroid=function(o){return dn(o,r(wa)),wa.result()},a.projection=function(o){return arguments.length?(r=o==null?(e=null,tl):(e=o).stream,a):e},a.context=function(o){return arguments.length?(l=o==null?(t=null,new Ma(n)):new Oo(t=o),typeof i!="function"&&l.pointRadius(i),a):t},a.pointRadius=function(o){return arguments.length?(i=typeof o=="function"?o:(l.pointRadius(+o),+o),a):i},a.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const s=Math.floor(o);if(!(s>=0))throw new RangeError(`invalid digits: ${o}`);n=s}return t===null&&(l=new Ma(n)),a},a.projection(e).digits(n).context(t)}function kl(e){return function(t){var n=new sl;for(var i in e)n[i]=e[i];return n.stream=t,n}}function sl(){}sl.prototype={constructor:sl,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Sl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),dn(n,e.stream(yr)),t(yr.result()),i!=null&&e.clipExtent(i),e}function El(e,t,n){return Sl(e,function(i){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(r/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),o=+t[0][0]+(r-a*(i[1][0]+i[0][0]))/2,s=+t[0][1]+(l-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([o,s])},n)}function Uo(e,t,n){return El(e,[[0,0],t],n)}function Vo(e,t,n){return Sl(e,function(i){var r=+t,l=r/(i[1][0]-i[0][0]),a=(r-l*(i[1][0]+i[0][0]))/2,o=-l*i[0][1];e.scale(150*l).translate([a,o])},n)}function Yo(e,t,n){return Sl(e,function(i){var r=+t,l=r/(i[1][1]-i[0][1]),a=-l*i[0][0],o=(r-l*(i[1][1]+i[0][1]))/2;e.scale(150*l).translate([a,o])},n)}var Na=16,Ls=Se(30*Be);function za(e,t){return+t?js(e,t):qs(e)}function qs(e){return kl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function js(e,t){function n(i,r,l,a,o,s,u,f,h,c,d,g,b,y){var p=u-i,w=f-r,v=p*p+w*w;if(v>4*t&&b--){var D=a+c,k=o+d,z=s+g,M=vt(D*D+k*k+z*z),C=xt(z/=M),I=ve(ve(z)-1)<le||ve(l-h)<le?(l+h)/2:bn(k,D),B=e(I,C),T=B[0],x=B[1],A=T-i,q=x-r,E=w*A-p*q;(E*E/v>t||ve((p*A+w*q)/v-.5)>.3||a*c+o*d+s*g<Ls)&&(n(i,r,l,a,o,s,T,x,I,D/=M,k/=M,z,b,y),y.point(T,x),n(T,x,I,D,k,z,u,f,h,c,d,g,b,y))}}return function(i){var r,l,a,o,s,u,f,h,c,d,g,b,y={point:p,lineStart:w,lineEnd:D,polygonStart:function(){i.polygonStart(),y.lineStart=k},polygonEnd:function(){i.polygonEnd(),y.lineStart=w}};function p(C,I){C=e(C,I),i.point(C[0],C[1])}function w(){h=NaN,y.point=v,i.lineStart()}function v(C,I){var B=pn([C,I]),T=e(C,I);n(h,c,f,d,g,b,h=T[0],c=T[1],f=C,d=B[0],g=B[1],b=B[2],Na,i),i.point(h,c)}function D(){y.point=p,i.lineEnd()}function k(){w(),y.point=z,y.lineEnd=M}function z(C,I){v(r=C,I),l=h,a=c,o=d,s=g,u=b,y.point=v}function M(){n(h,c,f,d,g,b,l,a,r,o,s,u,Na,i),y.lineEnd=D,D()}return y}}var Bs=kl({point:function(e,t){this.stream.point(e*Be,t*Be)}});function Gs(e){return kl({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function Os(e,t,n,i,r){function l(a,o){return a*=i,o*=r,[t+e*a,n-e*o]}return l.invert=function(a,o){return[(a-t)/e*i,(n-o)/e*r]},l}function Da(e,t,n,i,r,l){if(!l)return Os(e,t,n,i,r);var a=Se(l),o=ge(l),s=a*e,u=o*e,f=a/e,h=o/e,c=(o*n-a*t)/e,d=(o*t+a*n)/e;function g(b,y){return b*=i,y*=r,[s*b-u*y+t,n-u*b-s*y]}return g.invert=function(b,y){return[i*(f*b-h*y+c),r*(d-h*b-f*y)]},g}function Hs(e){var t,n=150,i=480,r=250,l=0,a=0,o=0,s=0,u=0,f,h=0,c=1,d=1,g=null,b=ma,y=null,p,w,v,D=tl,k=.5,z,M,C,I,B;function T(E){return C(E[0]*Be,E[1]*Be)}function x(E){return E=C.invert(E[0],E[1]),E&&[E[0]*lt,E[1]*lt]}T.stream=function(E){return I&&B===E?I:I=Bs(Gs(f)(b(z(D(B=E)))))},T.preclip=function(E){return arguments.length?(b=E,g=void 0,q()):b},T.postclip=function(E){return arguments.length?(D=E,y=p=w=v=null,q()):D},T.clipAngle=function(E){return arguments.length?(b=+E?ws(g=E*Be):(g=null,ma),q()):g*lt},T.clipExtent=function(E){return arguments.length?(D=E==null?(y=p=w=v=null,tl):ks(y=+E[0][0],p=+E[0][1],w=+E[1][0],v=+E[1][1]),q()):y==null?null:[[y,p],[w,v]]},T.scale=function(E){return arguments.length?(n=+E,A()):n},T.translate=function(E){return arguments.length?(i=+E[0],r=+E[1],A()):[i,r]},T.center=function(E){return arguments.length?(l=E[0]%360*Be,a=E[1]%360*Be,A()):[l*lt,a*lt]},T.rotate=function(E){return arguments.length?(o=E[0]%360*Be,s=E[1]%360*Be,u=E.length>2?E[2]%360*Be:0,A()):[o*lt,s*lt,u*lt]},T.angle=function(E){return arguments.length?(h=E%360*Be,A()):h*lt},T.reflectX=function(E){return arguments.length?(c=E?-1:1,A()):c<0},T.reflectY=function(E){return arguments.length?(d=E?-1:1,A()):d<0},T.precision=function(E){return arguments.length?(z=za(M,k=E*E),q()):vt(k)},T.fitExtent=function(E,N){return El(T,E,N)},T.fitSize=function(E,N){return Uo(T,E,N)},T.fitWidth=function(E,N){return Vo(T,E,N)},T.fitHeight=function(E,N){return Yo(T,E,N)};function A(){var E=Da(n,0,0,c,d,h).apply(null,t(l,a)),N=Da(n,i-E[0],r-E[1],c,d,h);return f=hs(o,s,u),M=$r(t,N),C=$r(f,M),z=za(M,k),q()}function q(){return I=B=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&x,A()}}function Fs(e){var t=0,n=re/3,i=Hs(e),r=i(t,n);return r.parallels=function(l){return arguments.length?i(t=l[0]*Be,n=l[1]*Be):[t*lt,n*lt]},r}function xs(e){var t=Se(e);function n(i,r){return[i*t,ge(r)/t]}return n.invert=function(i,r){return[i/t,xt(r*t)]},n}function Ws(e,t){var n=ge(e),i=(n+ge(t))/2;if(ve(i)<le)return xs(e);var r=1+n*(2*i-n),l=vt(r)/i;function a(o,s){var u=vt(r-2*i*ge(s))/i;return[u*ge(o*=i),l-u*Se(o)]}return a.invert=function(o,s){var u=l-s,f=bn(o,ve(u))*nr(u);return u*i<0&&(f-=re*nr(o)*nr(u)),[f/i,xt((r-(o*o+u*u)*i*i)/(2*i))]},a}function cl(){return Fs(Ws).scale(155.424).center([0,33.6442])}function Us(){return cl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Vs(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Ys(){var e,t,n=Us(),i,r=cl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,a=cl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,s,u={point:function(c,d){s=[c,d]}};function f(c){var d=c[0],g=c[1];return s=null,i.point(d,g),s||(l.point(d,g),s)||(o.point(d,g),s)}f.invert=function(c){var d=n.scale(),g=n.translate(),b=(c[0]-g[0])/d,y=(c[1]-g[1])/d;return(y>=.12&&y<.234&&b>=-.425&&b<-.214?r:y>=.166&&y<.234&&b>=-.214&&b<-.115?a:n).invert(c)},f.stream=function(c){return e&&t===c?e:e=Vs([n.stream(t=c),r.stream(c),a.stream(c)])},f.precision=function(c){return arguments.length?(n.precision(c),r.precision(c),a.precision(c),h()):n.precision()},f.scale=function(c){return arguments.length?(n.scale(c),r.scale(c*.35),a.scale(c),f.translate(n.translate())):n.scale()},f.translate=function(c){if(!arguments.length)return n.translate();var d=n.scale(),g=+c[0],b=+c[1];return i=n.translate(c).clipExtent([[g-.455*d,b-.238*d],[g+.455*d,b+.238*d]]).stream(u),l=r.translate([g-.307*d,b+.201*d]).clipExtent([[g-.425*d+le,b+.12*d+le],[g-.214*d-le,b+.234*d-le]]).stream(u),o=a.translate([g-.205*d,b+.212*d]).clipExtent([[g-.214*d+le,b+.166*d+le],[g-.115*d-le,b+.234*d-le]]).stream(u),h()},f.fitExtent=function(c,d){return El(f,c,d)},f.fitSize=function(c,d){return Uo(f,c,d)},f.fitWidth=function(c,d){return Vo(f,c,d)},f.fitHeight=function(c,d){return Yo(f,c,d)};function h(){return e=t=null,f}return f.scale(1070)}function Ks(e,t,n){let i,r,l,a,o,s,u,f;const{data:h,width:c,height:d,zGet:g}=ft("LayerCake");P(e,h,k=>n(17,f=k)),P(e,c,k=>n(16,u=k)),P(e,d,k=>n(15,s=k)),P(e,g,k=>n(14,o=k));const{ctx:b}=ft("canvas");P(e,b,k=>n(13,a=k));let{projection:y}=t,{stroke:p="#ccc"}=t,{strokeWidth:w=1}=t,{fill:v=void 0}=t,{features:D=void 0}=t;return e.$$set=k=>{"projection"in k&&n(5,y=k.projection),"stroke"in k&&n(6,p=k.stroke),"strokeWidth"in k&&n(7,w=k.strokeWidth),"fill"in k&&n(8,v=k.fill),"features"in k&&n(9,D=k.features)},e.$$.update=()=>{e.$$.dirty&229408&&n(12,i=y().fitSize([u,s],f)),e.$$.dirty&4096&&n(10,r=Ra(i)),e.$$.dirty&131584&&n(11,l=D||f.features),e.$$.dirty&126400&&a&&Ra&&(Po(a,u,s),a.clearRect(0,0,u,s),l.forEach(k=>{a.beginPath(),r.context(a),r(k),Q(b,a.fillStyle=v||o(k.properties),a),a.fill(),Q(b,a.lineWidth=w,a),Q(b,a.strokeStyle=p,a),a.stroke()}))},[h,c,d,g,b,y,p,w,v,D,r,l,i,a,o,s,u,f]}class Xs extends Re{constructor(t){super(),Ne(this,t,Ks,null,Me,{projection:5,stroke:6,strokeWidth:7,fill:8,features:9})}}function Pa(e,t,n){const i=e.slice();i[29]=t[n];const r=i[5]([i[29].longitude,i[29].latitude]);return i[30]=r,i}function Aa(e){let t=[],n=new Map,i,r=We(e[4]);const l=a=>`${a[29].ori}-${a[29].name}`;for(let a=0;a<r.length;a+=1){let o=Pa(e,r,a),s=l(o);n.set(s,t[a]=Ca(s,o))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();i=he()},l(a){for(let o=0;o<t.length;o+=1)t[o].l(a);i=he()},m(a,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(a,o);G(a,i,o)},p(a,o){o[0]&98815&&(r=We(a[4]),t=gl(t,o,l,1,a,r,n,i.parentNode,dl,Ca,i,Pa))},d(a){a&&S(i);for(let o=0;o<t.length;o+=1)t[o].d(a)}}}function Ta(e){let t,n,i,r,l,a,o;function s(...h){return e[22](e[29],...h)}function u(...h){return e[23](e[29],...h)}function f(...h){return e[24](e[29],...h)}return{c(){t=pe("circle"),this.h()},l(h){t=we(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,opacity:!0}),j(t).forEach(S),this.h()},h(){_(t,"cx",n=e[30][0]),_(t,"cy",i=e[30][1]),_(t,"r",r=e[7](Math.abs(e[8](e[29])))),_(t,"fill",l=e[0](e[29])),_(t,"stroke",e[1]),_(t,"stroke-width",e[2]),_(t,"opacity",e[3])},m(h,c){G(h,t,c),a||(o=[Ae(t,"mouseover",s),Ae(t,"focus",u),Ae(t,"mousemove",function(){hl(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),Ae(t,"click",f)],a=!0)},p(h,c){e=h,c[0]&48&&n!==(n=e[30][0])&&_(t,"cx",n),c[0]&48&&i!==(i=e[30][1])&&_(t,"cy",i),c[0]&400&&r!==(r=e[7](Math.abs(e[8](e[29]))))&&_(t,"r",r),c[0]&17&&l!==(l=e[0](e[29]))&&_(t,"fill",l),c[0]&2&&_(t,"stroke",e[1]),c[0]&4&&_(t,"stroke-width",e[2]),c[0]&8&&_(t,"opacity",e[3])},d(h){h&&S(t),a=!1,ti(o)}}}function Ca(e,t){let n,i=!isNaN(t[6](t[29])),r,l=i&&Ta(t);return{key:e,first:null,c(){n=he(),l&&l.c(),r=he(),this.h()},l(a){n=he(),l&&l.l(a),r=he(),this.h()},h(){this.first=n},m(a,o){G(a,n,o),l&&l.m(a,o),G(a,r,o)},p(a,o){t=a,o[0]&80&&(i=!isNaN(t[6](t[29]))),i?l?l.p(t,o):(l=Ta(t),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},d(a){a&&(S(n),S(r)),l&&l.d(a)}}}function Zs(e){let t,n,i,r=e[4].length&&Aa(e);return{c(){t=pe("g"),r&&r.c(),this.h()},l(l){t=we(l,"g",{class:!0});var a=j(t);r&&r.l(a),a.forEach(S),this.h()},h(){_(t,"class","points")},m(l,a){G(l,t,a),r&&r.m(t,null),n||(i=[Ae(t,"mouseout",e[25]),Ae(t,"blur",e[26])],n=!0)},p(l,a){l[4].length?r?r.p(l,a):(r=Aa(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:Te,o:Te,d(l){l&&S(t),r&&r.d(),n=!1,ti(i)}}}function Qs(e,t,n){let i,r,l,a,o,s,u;const{data:f,width:h,height:c,rScale:d,rGet:g,zGet:b,r:y,zScale:p}=ft("LayerCake");P(e,f,N=>n(19,r=N)),P(e,h,N=>n(21,a=N)),P(e,c,N=>n(20,l=N)),P(e,d,N=>n(7,s=N)),P(e,g,N=>n(6,o=N)),P(e,y,N=>n(8,u=N));let{projection:w}=t;const v=nf();let{fill:D="yellow"}=t,{fillFunction:k=N=>N}=t,{stroke:z="#000"}=t,{strokeWidth:M=1}=t,{opacity:C=1}=t,{features:I=void 0}=t;function B(N){return function(K){is(this),K.layerX!==0&&K.layerY!==0&&v("mousemove",{e:K,props:N})}}const T=(N,Y)=>v("mousemove",{e:Y,props:N}),x=(N,Y)=>v("mousemove",{e:Y,props:N}),A=(N,Y)=>v("clickedPoint",{e:Y,props:N}),q=N=>v("mouseout"),E=N=>v("mouseout");return e.$$set=N=>{"projection"in N&&n(17,w=N.projection),"fill"in N&&n(18,D=N.fill),"fillFunction"in N&&n(0,k=N.fillFunction),"stroke"in N&&n(1,z=N.stroke),"strokeWidth"in N&&n(2,M=N.strokeWidth),"opacity"in N&&n(3,C=N.opacity),"features"in N&&n(4,I=N.features)},e.$$.update=()=>{e.$$.dirty[0]&3801088&&n(5,i=w().fitSize([a,l],r))},[k,z,M,C,I,i,o,s,u,f,h,c,d,g,y,v,B,w,D,r,l,a,T,x,A,q,E]}class Js extends Re{constructor(t){super(),Ne(this,t,Qs,Zs,Me,{projection:17,fill:18,fillFunction:0,stroke:1,strokeWidth:2,opacity:3,features:4},null,[-1,-1])}}const $s=e=>({detail:e&1}),Ia=e=>({detail:e[0].detail});function La(e){let t,n;const i=e[3].default,r=Pt(i,e,e[2],Ia);return{c(){t=U("div"),r&&r.c(),this.h()},l(l){t=V(l,"DIV",{class:!0,style:!0});var a=j(t);r&&r.l(a),a.forEach(S),this.h()},h(){_(t,"class","tooltip svelte-qjsu2l"),F(t,"top",e[0].detail.e.layerY+e[1]+"px"),F(t,"left",e[0].detail.e.layerX+"px")},m(l,a){G(l,t,a),r&&r.m(t,null),n=!0},p(l,a){r&&r.p&&(!n||a&5)&&At(r,i,l,l[2],n?Ct(i,l[2],a,$s):Tt(l[2]),Ia),(!n||a&3)&&F(t,"top",l[0].detail.e.layerY+l[1]+"px"),(!n||a&1)&&F(t,"left",l[0].detail.e.layerX+"px")},i(l){n||(Z(r,l),n=!0)},o(l){ee(r,l),n=!1},d(l){l&&S(t),r&&r.d(l)}}}function ec(e){let t,n,i=e[0].detail&&La(e);return{c(){i&&i.c(),t=he()},l(r){i&&i.l(r),t=he()},m(r,l){i&&i.m(r,l),G(r,t,l),n=!0},p(r,[l]){r[0].detail?i?(i.p(r,l),l&1&&Z(i,1)):(i=La(r),i.c(),Z(i,1),i.m(t.parentNode,t)):i&&(Sr(),ee(i,1,1,()=>{i=null}),Er())},i(r){n||(Z(i),n=!0)},o(r){ee(i),n=!1},d(r){r&&S(t),i&&i.d(r)}}}function tc(e,t,n){let{$$slots:i={},$$scope:r}=t,{evt:l={}}=t,{offset:a=-35}=t;return e.$$set=o=>{"evt"in o&&n(0,l=o.evt),"offset"in o&&n(1,a=o.offset),"$$scope"in o&&n(2,r=o.$$scope)},[l,a,r,i]}class nc extends Re{constructor(t){super(),Ne(this,t,tc,ec,Me,{evt:0,offset:1})}}function ic(e){let t,n,i="The Worst:",r,l=e[1].name+"",a,o=`${e[3][1]+qa}px`,s=`${e[3][0]}px`,u,f,h,c="The Best:",d,g=e[0].name+"",b,y=`${e[2][1]}px`,p=`${e[2][0]}px`;return{c(){t=U("p"),n=U("strong"),n.textContent=i,r=ne(),a=O(l),u=ne(),f=U("p"),h=U("strong"),h.textContent=c,d=ne(),b=O(g),this.h()},l(w){t=V(w,"P",{class:!0});var v=j(t);n=V(v,"STRONG",{"data-svelte-h":!0}),pt(n)!=="svelte-pnjbm6"&&(n.textContent=i),r=ie(v),a=H(v,l),v.forEach(S),u=ie(w),f=V(w,"P",{class:!0});var D=j(f);h=V(D,"STRONG",{"data-svelte-h":!0}),pt(h)!=="svelte-1u2nyi3"&&(h.textContent=c),d=ie(D),b=H(D,g),D.forEach(S),this.h()},h(){_(t,"class","worst svelte-1vzmzh6"),F(t,"top",o),F(t,"left",s),_(f,"class","best svelte-1vzmzh6"),F(f,"top",y),F(f,"left",p)},m(w,v){G(w,t,v),R(t,n),R(t,r),R(t,a),G(w,u,v),G(w,f,v),R(f,h),R(f,d),R(f,b)},p(w,[v]){v&2&&l!==(l=w[1].name+"")&&se(a,l),v&8&&o!==(o=`${w[3][1]+qa}px`)&&F(t,"top",o),v&8&&s!==(s=`${w[3][0]}px`)&&F(t,"left",s),v&1&&g!==(g=w[0].name+"")&&se(b,g),v&4&&y!==(y=`${w[2][1]}px`)&&F(f,"top",y),v&4&&p!==(p=`${w[2][0]}px`)&&F(f,"left",p)},i:Te,o:Te,d(w){w&&(S(t),S(u),S(f))}}}const qa=25;function rc(e,t,n){let i,r,l,a,o,s,u,f;const{data:h,width:c,height:d}=ft("LayerCake");P(e,h,y=>n(10,s=y)),P(e,c,y=>n(12,f=y)),P(e,d,y=>n(11,u=y));let{features:g}=t,{projection:b}=t;return e.$$set=y=>{"features"in y&&n(7,g=y.features),"projection"in y&&n(8,b=y.projection)},e.$$.update=()=>{e.$$.dirty&7424&&n(9,i=b().fitSize([f,u],s)),e.$$.dirty&128&&n(1,r=g[0]),e.$$.dirty&128&&n(0,l=g[g.length-1]),e.$$.dirty&514&&n(3,a=i([r.longitude,r.latitude])),e.$$.dirty&513&&n(2,o=i([l.longitude,l.latitude]))},[l,r,o,a,h,c,d,g,b,i,s,u,f]}class lc extends Re{constructor(t){super(),Ne(this,t,rc,ic,Me,{features:7,projection:8})}}function ja(e){const t={...e[14].props};e[15]=t}function ac(e){let t,n;return t=new Xs({props:{projection:e[6],fill:"#fff"}}),{c(){_e(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){ye(t,i,r),n=!0},p:Te,i(i){n||(Z(t.$$.fragment,i),n=!0)},o(i){ee(t.$$.fragment,i),n=!1},d(i){be(t,i)}}}function oc(e){let t,n;return t=new Js({props:{projection:e[6],features:e[4],fill:"var(--secondary)",stroke:"var(--color-bg)",fillFunction:e[3]}}),t.$on("mousemove",e[11]),t.$on("mouseout",e[12]),t.$on("clickedPoint",e[13]),{c(){_e(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){ye(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),r&8&&(l.fillFunction=i[3]),t.$set(l)},i(i){n||(Z(t.$$.fragment,i),n=!0)},o(i){ee(t.$$.fragment,i),n=!1},d(i){be(t,i)}}}function fc(e){let t,n;return t=new lc({props:{features:e[4],projection:e[6]}}),{c(){_e(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){ye(t,i,r),n=!0},p(i,r){const l={};r&16&&(l.features=i[4]),t.$set(l)},i(i){n||(Z(t.$$.fragment,i),n=!0)},o(i){ee(t.$$.fragment,i),n=!1},d(i){be(t,i)}}}function Ba(e){let t,n;return t=new nc({props:{evt:e[1],$$slots:{default:[uc,({detail:i})=>({14:i}),({detail:i})=>i?16384:0]},$$scope:{ctx:e}}}),{c(){_e(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){ye(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.evt=i[1]),r&81920&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(Z(t.$$.fragment,i),n=!0)},o(i){ee(t.$$.fragment,i),n=!1},d(i){be(t,i)}}}function uc(e){ja(e);let t,n=e[15].name+"",i,r,l,a=e[15].bad_air_days+"",o,s;return{c(){t=U("p"),i=O(n),r=ne(),l=U("p"),o=O(a),s=O(" bad air days"),this.h()},l(u){t=V(u,"P",{class:!0});var f=j(t);i=H(f,n),f.forEach(S),r=ie(u),l=V(u,"P",{class:!0});var h=j(l);o=H(h,a),s=H(h," bad air days"),h.forEach(S),this.h()},h(){_(t,"class","name svelte-1q0sbj5"),_(l,"class","days")},m(u,f){G(u,t,f),R(t,i),G(u,r,f),G(u,l,f),R(l,o),R(l,s)},p(u,f){ja(u),f&16384&&n!==(n=u[15].name+"")&&se(i,n),f&16384&&a!==(a=u[15].bad_air_days+"")&&se(o,a)},d(u){u&&(S(t),S(r),S(l))}}}function sc(e){let t,n,i=e[2]!==!0&&Ba(e);return{c(){i&&i.c(),t=he()},l(r){i&&i.l(r),t=he()},m(r,l){i&&i.m(r,l),G(r,t,l),n=!0},p(r,l){r[2]!==!0?i?(i.p(r,l),l&4&&Z(i,1)):(i=Ba(r),i.c(),Z(i,1),i.m(t.parentNode,t)):i&&(Sr(),ee(i,1,1,()=>{i=null}),Er())},i(r){n||(Z(i),n=!0)},o(r){ee(i),n=!1},d(r){r&&S(t),i&&i.d(r)}}}function cc(e){let t,n,i,r,l,a,o,s;return t=new ns({props:{$$slots:{default:[ac]},$$scope:{ctx:e}}}),i=new vl({props:{$$slots:{default:[oc]},$$scope:{ctx:e}}}),l=new Jl({props:{pointerEvents:!1,$$slots:{default:[fc]},$$scope:{ctx:e}}}),o=new Jl({props:{pointerEvents:!1,$$slots:{default:[sc]},$$scope:{ctx:e}}}),{c(){_e(t.$$.fragment),n=ne(),_e(i.$$.fragment),r=ne(),_e(l.$$.fragment),a=ne(),_e(o.$$.fragment)},l(u){me(t.$$.fragment,u),n=ie(u),me(i.$$.fragment,u),r=ie(u),me(l.$$.fragment,u),a=ie(u),me(o.$$.fragment,u)},m(u,f){ye(t,u,f),G(u,n,f),ye(i,u,f),G(u,r,f),ye(l,u,f),G(u,a,f),ye(o,u,f),s=!0},p(u,f){const h={};f&65536&&(h.$$scope={dirty:f,ctx:u}),t.$set(h);const c={};f&65567&&(c.$$scope={dirty:f,ctx:u}),i.$set(c);const d={};f&65552&&(d.$$scope={dirty:f,ctx:u}),l.$set(d);const g={};f&65542&&(g.$$scope={dirty:f,ctx:u}),o.$set(g)},i(u){s||(Z(t.$$.fragment,u),Z(i.$$.fragment,u),Z(l.$$.fragment,u),Z(o.$$.fragment,u),s=!0)},o(u){ee(t.$$.fragment,u),ee(i.$$.fragment,u),ee(l.$$.fragment,u),ee(o.$$.fragment,u),s=!1},d(u){u&&(S(n),S(r),S(a)),be(t,u),be(i,u),be(l,u),be(o,u)}}}function hc(e){let t,n,i;return n=new wl({props:{data:e[5],flatData:e[7],r:"bad_air_days",rScale:zo().clamp(!0),rRange:[1,15],rDomain:[0,365],$$slots:{default:[cc]},$$scope:{ctx:e}}}),{c(){t=U("div"),_e(n.$$.fragment),this.h()},l(r){t=V(r,"DIV",{class:!0});var l=j(t);me(n.$$.fragment,l),l.forEach(S),this.h()},h(){_(t,"class","container svelte-1q0sbj5")},m(r,l){G(r,t,l),ye(n,t,null),i=!0},p(r,[l]){const a={};l&65567&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(Z(n.$$.fragment,r),i=!0)},o(r){ee(n.$$.fragment,r),i=!1},d(r){r&&S(t),be(n)}}}function dc(e,t,n){let i,r,l;P(e,yt,p=>n(0,l=p));let{data:a}=t,{us_states:o}=t,{cbsa_lookup:s}=t,u,f=!0;const h=os(o,o.objects.collection),c=Ys,d=h.features.map(p=>p.properties),g=p=>n(1,u=n(2,f=p)),b=()=>n(2,f=!0),y=p=>{const{detail:w}=p,{props:v}=w;Q(yt,l={value:v==null?void 0:v.code,label:v==null?void 0:v.name},l)};return e.$$set=p=>{"data"in p&&n(8,a=p.data),"us_states"in p&&n(9,o=p.us_states),"cbsa_lookup"in p&&n(10,s=p.cbsa_lookup)},e.$$.update=()=>{e.$$.dirty&1280&&n(4,i=a.map(p=>{var w,v;return{...p,latitude:(w=s.get(p.code))==null?void 0:w.latitude,longitude:(v=s.get(p.code))==null?void 0:v.longitude}}).filter(p=>p.latitude).filter(p=>p.longitude)),e.$$.dirty&1&&n(3,r=p=>p.code===l.value?"var(--primary)":"var(--secondary)")},[l,u,f,r,i,h,c,d,a,o,s,g,b,y]}class gc extends Re{constructor(t){super(),Ne(this,t,dc,hc,Me,{data:8,us_states:9,cbsa_lookup:10})}}function Ga(e,t,n){const i=e.slice();return i[7]=t[n].name,i[8]=t[n].code,i[9]=t[n].bad_air_days,i}function Oa(e){let t,n,i=e[7]+"",r,l,a=e[9]+"",o,s,u,f;return{c(){t=U("li"),n=U("span"),r=O(i),l=O(`
				- `),o=O(a),s=O(` days
			`),this.h()},l(h){t=V(h,"LI",{class:!0});var c=j(t);n=V(c,"SPAN",{role:!0,class:!0});var d=j(n);r=H(d,i),d.forEach(S),l=H(c,`
				- `),o=H(c,a),s=H(c,` days
			`),c.forEach(S),this.h()},h(){_(n,"role","button"),_(n,"class","svelte-fe00af"),_(t,"class","svelte-fe00af")},m(h,c){G(h,t,c),R(t,n),R(n,r),R(t,l),R(t,o),R(t,s),u||(f=Ae(n,"click",function(){hl(e[6](e[7],e[8]))&&e[6](e[7],e[8]).apply(this,arguments)}),u=!0)},p(h,c){e=h,c&16&&i!==(i=e[7]+"")&&se(r,i),c&16&&a!==(a=e[9]+"")&&se(o,a)},d(h){h&&S(t),u=!1,f()}}}function _c(e){var ze,Ce,Ge;let t,n,i="The 10 Smokiest Places in 2022",r,l,a,o,s,u,f=((ze=e[0][0])==null?void 0:ze.name)+"",h,c,d,g=((Ce=e[0][0])==null?void 0:Ce.bad_air_days)+"",b,y,p,w,v,D,k=((Ge=e[5])==null?void 0:Ge.label)+"",z,M,C,I=e[3]+1+"",B,T,x=e[0].length+"",A,q,E,N=e[0][e[3]].bad_air_days+"",Y,K,J,L,W,ae=We(e[4]),X=[];for(let $=0;$<ae.length;$+=1)X[$]=Oa(Ga(e,ae,$));return L=new gc({props:{data:e[0],us_states:e[1],cbsa_lookup:e[2]}}),{c(){t=U("section"),n=U("h2"),n.textContent=i,r=ne(),l=U("ol");for(let $=0;$<X.length;$+=1)X[$].c();a=ne(),o=U("p"),s=O("In 2022 (our most recent year of data), "),u=U("strong"),h=O(f),c=O(`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=U("strong"),b=O(g),y=O(` days of haze and low
		air quality.`),p=ne(),w=U("p"),v=O("For comparison, "),D=U("strong"),z=O(k),M=O(` ranked number
		`),C=U("strong"),B=O(I),T=O(`
			out of `),A=O(x),q=O(`
		locations with `),E=U("strong"),Y=O(N),K=O(`
		low air quality days in 2022.`),J=ne(),_e(L.$$.fragment),this.h()},l($){t=V($,"SECTION",{});var fe=j(t);n=V(fe,"H2",{"data-svelte-h":!0}),pt(n)!=="svelte-15n9idw"&&(n.textContent=i),r=ie(fe),l=V(fe,"OL",{class:!0});var Ee=j(l);for(let $e=0;$e<X.length;$e+=1)X[$e].l(Ee);Ee.forEach(S),a=ie(fe),o=V(fe,"P",{class:!0});var De=j(o);s=H(De,"In 2022 (our most recent year of data), "),u=V(De,"STRONG",{});var Oe=j(u);h=H(Oe,f),Oe.forEach(S),c=H(De,`
		was the smokiest city in the USA. If you were living in that area, you might
		remember up to `),d=V(De,"STRONG",{});var Ye=j(d);b=H(Ye,g),Ye.forEach(S),y=H(De,` days of haze and low
		air quality.`),De.forEach(S),p=ie(fe),w=V(fe,"P",{class:!0});var oe=j(w);v=H(oe,"For comparison, "),D=V(oe,"STRONG",{});var Ie=j(D);z=H(Ie,k),Ie.forEach(S),M=H(oe,` ranked number
		`),C=V(oe,"STRONG",{});var Qe=j(C);B=H(Qe,I),T=H(Qe,`
			out of `),A=H(Qe,x),Qe.forEach(S),q=H(oe,`
		locations with `),E=V(oe,"STRONG",{});var Je=j(E);Y=H(Je,N),Je.forEach(S),K=H(oe,`
		low air quality days in 2022.`),oe.forEach(S),J=ie(fe),me(L.$$.fragment,fe),fe.forEach(S),this.h()},h(){_(l,"class","svelte-fe00af"),_(o,"class","prose"),_(w,"class","prose")},m($,fe){G($,t,fe),R(t,n),R(t,r),R(t,l);for(let Ee=0;Ee<X.length;Ee+=1)X[Ee]&&X[Ee].m(l,null);R(t,a),R(t,o),R(o,s),R(o,u),R(u,h),R(o,c),R(o,d),R(d,b),R(o,y),R(t,p),R(t,w),R(w,v),R(w,D),R(D,z),R(w,M),R(w,C),R(C,B),R(C,T),R(C,A),R(w,q),R(w,E),R(E,Y),R(w,K),R(t,J),ye(L,t,null),W=!0},p($,[fe]){var De,Oe,Ye;if(fe&80){ae=We($[4]);let oe;for(oe=0;oe<ae.length;oe+=1){const Ie=Ga($,ae,oe);X[oe]?X[oe].p(Ie,fe):(X[oe]=Oa(Ie),X[oe].c(),X[oe].m(l,null))}for(;oe<X.length;oe+=1)X[oe].d(1);X.length=ae.length}(!W||fe&1)&&f!==(f=((De=$[0][0])==null?void 0:De.name)+"")&&se(h,f),(!W||fe&1)&&g!==(g=((Oe=$[0][0])==null?void 0:Oe.bad_air_days)+"")&&se(b,g),(!W||fe&32)&&k!==(k=((Ye=$[5])==null?void 0:Ye.label)+"")&&se(z,k),(!W||fe&8)&&I!==(I=$[3]+1+"")&&se(B,I),(!W||fe&1)&&x!==(x=$[0].length+"")&&se(A,x),(!W||fe&9)&&N!==(N=$[0][$[3]].bad_air_days+"")&&se(Y,N);const Ee={};fe&1&&(Ee.data=$[0]),fe&2&&(Ee.us_states=$[1]),fe&4&&(Ee.cbsa_lookup=$[2]),L.$set(Ee)},i($){W||(Z(L.$$.fragment,$),W=!0)},o($){ee(L.$$.fragment,$),W=!1},d($){$&&S(t),kr(X,$),be(L)}}}function mc(e,t,n){let i,r;P(e,yt,f=>n(5,r=f));let{data:l}=t,{us_states:a}=t,{cbsa_lookup:o}=t,{index_of_selected:s}=t;const u=(f,h)=>{Q(yt,r={value:h,label:f},r)};return e.$$set=f=>{"data"in f&&n(0,l=f.data),"us_states"in f&&n(1,a=f.us_states),"cbsa_lookup"in f&&n(2,o=f.cbsa_lookup),"index_of_selected"in f&&n(3,s=f.index_of_selected)},e.$$.update=()=>{e.$$.dirty&1&&n(4,i=l.slice(0,10))},[l,a,o,s,i,r,u]}class yc extends Re{constructor(t){super(),Ne(this,t,mc,_c,Me,{data:0,us_states:1,cbsa_lookup:2,index_of_selected:3})}}function Ha(e){let t,n;return{c(){t=pe("desc"),n=O(e[7])},l(i){t=we(i,"desc",{});var r=j(t);n=H(r,e[7]),r.forEach(S)},m(i,r){G(i,t,r),R(t,n)},p(i,r){r&128&&se(n,i[7])},d(i){i&&S(t)}}}function Fa(e){let t,n;return{c(){t=pe("title"),n=O(e[6])},l(i){t=we(i,"title",{});var r=j(t);n=H(r,e[6]),r.forEach(S)},m(i,r){G(i,t,r),R(t,n)},p(i,r){r&64&&se(n,i[6])},d(i){i&&S(t)}}}function bc(e){let t,n,i,r=e[7]&&Ha(e),l=e[6]&&Fa(e);return{c(){t=pe("svg"),r&&r.c(),n=he(),l&&l.c(),i=pe("path"),this.h()},l(a){t=we(a,"svg",{viewBox:!0,width:!0,height:!0,class:!0,"aria-label":!0,"aria-hidden":!0});var o=j(t);r&&r.l(o),n=he(),l&&l.l(o),i=we(o,"path",{d:!0,fill:!0}),j(i).forEach(S),o.forEach(S),this.h()},h(){_(i,"d","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),_(i,"fill",e[2]),_(t,"viewBox",e[3]),_(t,"width",e[0]),_(t,"height",e[1]),_(t,"class",e[8]),_(t,"aria-label",e[4]),_(t,"aria-hidden",e[5])},m(a,o){G(a,t,o),r&&r.m(t,null),R(t,n),l&&l.m(t,null),R(t,i)},p(a,[o]){a[7]?r?r.p(a,o):(r=Ha(a),r.c(),r.m(t,n)):r&&(r.d(1),r=null),a[6]?l?l.p(a,o):(l=Fa(a),l.c(),l.m(t,i)):l&&(l.d(1),l=null),o&4&&_(i,"fill",a[2]),o&8&&_(t,"viewBox",a[3]),o&1&&_(t,"width",a[0]),o&2&&_(t,"height",a[1]),o&256&&_(t,"class",a[8]),o&16&&_(t,"aria-label",a[4]),o&32&&_(t,"aria-hidden",a[5])},i:Te,o:Te,d(a){a&&S(t),r&&r.d(),l&&l.d()}}}function pc(e,t,n){let{size:i="1em"}=t,{width:r=i}=t,{height:l=i}=t,{color:a="currentColor"}=t,{viewBox:o="0 0 24 24"}=t,{ariaLabel:s=void 0}=t,{ariaHidden:u=void 0}=t,{title:f=void 0}=t,{desc:h=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{"size"in d&&n(9,i=d.size),"width"in d&&n(0,r=d.width),"height"in d&&n(1,l=d.height),"color"in d&&n(2,a=d.color),"viewBox"in d&&n(3,o=d.viewBox),"ariaLabel"in d&&n(4,s=d.ariaLabel),"ariaHidden"in d&&n(5,u=d.ariaHidden),"title"in d&&n(6,f=d.title),"desc"in d&&n(7,h=d.desc),"class"in d&&n(8,c=d.class)},[r,l,a,o,s,u,f,h,c,i]}class wc extends Re{constructor(t){super(),Ne(this,t,pc,bc,Me,{size:9,width:0,height:1,color:2,viewBox:3,ariaLabel:4,ariaHidden:5,title:6,desc:7,class:8})}}function xa(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i[35]=t,i[36]=n,i}function Wa(e,t,n){const i=e.slice();return i[33]=t[n].label,i[34]=t[n].value,i}function Ua(e){let t,n=e[33]+"",i,r;return{c(){t=U("option"),i=O(n),this.h()},l(l){t=V(l,"OPTION",{});var a=j(t);i=H(a,n),a.forEach(S),this.h()},h(){t.__value=r=e[34],rr(t,t.__value)},m(l,a){G(l,t,a),R(t,i)},p(l,a){a[0]&2&&n!==(n=l[33]+"")&&se(i,n),a[0]&2&&r!==(r=l[34])&&(t.__value=r,rr(t,t.__value))},d(l){l&&S(t)}}}function vc(e){let t,n="Sorry, no options match";return{c(){t=U("li"),t.textContent=n,this.h()},l(i){t=V(i,"LI",{class:!0,tabindex:!0,"data-svelte-h":!0}),pt(t)!=="svelte-yi880w"&&(t.textContent=n),this.h()},h(){_(t,"class","disabled svelte-13q4pje"),_(t,"tabindex","-1")},m(i,r){G(i,t,r)},p:Te,d(i){i&&S(t)}}}function kc(e){let t,n=We(e[6]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Va(xa(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=he()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);t=he()},m(r,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,l);G(r,t,l)},p(r,l){if(l[0]&798784){n=We(r[6]);let a;for(a=0;a<n.length;a+=1){const o=xa(r,n,a);i[a]?i[a].p(o,l):(i[a]=Va(o),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(r){r&&S(t),kr(i,r)}}}function Va(e){let t,n=e[33]+"",i,r,l,a,o=e[36],s,u;const f=()=>e[27](t,o),h=()=>e[27](null,o);function c(){return e[28](e[34],e[33])}function d(...g){return e[29](e[34],e[33],...g)}return{c(){t=U("li"),i=O(n),r=ne(),this.h()},l(g){t=V(g,"LI",{role:!0,tabindex:!0,"aria-selected":!0,"data-option-value":!0,id:!0,class:!0});var b=j(t);i=H(b,n),r=ie(b),b.forEach(S),this.h()},h(){_(t,"role","option"),_(t,"tabindex","-1"),_(t,"aria-selected",l=e[36]===e[13]),_(t,"data-option-value",a=e[34]),_(t,"id",`autocomplete_${e[36]}`),_(t,"class","svelte-13q4pje")},m(g,b){G(g,t,b),R(t,i),R(t,r),f(),s||(u=[Ae(t,"click",c),Ae(t,"keydown",d)],s=!0)},p(g,b){e=g,b[0]&64&&n!==(n=e[33]+"")&&se(i,n),b[0]&8192&&l!==(l=e[36]===e[13])&&_(t,"aria-selected",l),b[0]&64&&a!==(a=e[34])&&_(t,"data-option-value",a),o!==e[36]&&(h(),o=e[36],f())},d(g){g&&S(t),h(),s=!1,ti(u)}}}function Ya(e){let t,n,i,r,l;return n=new wc({props:{width:"16px",height:"16px"}}),{c(){t=U("button"),_e(n.$$.fragment),this.h()},l(a){t=V(a,"BUTTON",{"aria-label":!0,class:!0});var o=j(t);me(n.$$.fragment,o),o.forEach(S),this.h()},h(){_(t,"aria-label","clear autocomplete search"),_(t,"class","svelte-13q4pje")},m(a,o){G(a,t,o),ye(n,t,null),i=!0,r||(l=Ae(t,"click",e[22]),r=!0)},p:Te,i(a){i||(Z(n.$$.fragment,a),i=!0)},o(a){ee(n.$$.fragment,a),i=!1},d(a){a&&S(t),be(n),r=!1,l()}}}function Sc(e){let t,n,i,r,l,a,o,s,u,f,h,c,d,g,b,y,p,w,v,D,k,z,M,C,I=We(e[1]),B=[];for(let E=0;E<I.length;E+=1)B[E]=Ua(Wa(e,I,E));function T(E,N){return E[6].length?kc:vc}let x=T(e),A=x(e),q=e[4]===!0&&e[8]&&e[8].length&&Ya(e);return{c(){t=U("div"),n=U("label"),i=U("span"),r=O(e[2]),a=ne(),o=U("select");for(let E=0;E<B.length;E+=1)B[E].c();s=ne(),u=U("div"),f=U("input"),d=ne(),g=U("ul"),A.c(),y=ne(),p=U("div"),w=O(e[7]),v=O(" results available"),D=ne(),q&&q.c(),this.h()},l(E){t=V(E,"DIV",{class:!0,style:!0,id:!0});var N=j(t);n=V(N,"LABEL",{for:!0,class:!0});var Y=j(n);i=V(Y,"SPAN",{class:!0});var K=j(i);r=H(K,e[2]),K.forEach(S),Y.forEach(S),a=ie(N),o=V(N,"SELECT",{name:!0,"aria-hidden":!0,tabindex:!0,class:!0});var J=j(o);for(let X=0;X<B.length;X+=1)B[X].l(J);J.forEach(S),s=ie(N),u=V(N,"DIV",{class:!0});var L=j(u);f=V(L,"INPUT",{"aria-controls":!0,autocapitalize:!0,type:!0,autocomplete:!0,"aria-autocomplete":!0,role:!0,id:!0,"aria-expanded":!0,name:!0,class:!0}),d=ie(L),g=V(L,"UL",{id:!0,role:!0,class:!0});var W=j(g);A.l(W),W.forEach(S),y=ie(L),p=V(L,"DIV",{"aria-live":!0,role:!0,class:!0});var ae=j(p);w=H(ae,e[7]),v=H(ae," results available"),ae.forEach(S),D=ie(L),q&&q.l(L),L.forEach(S),N.forEach(S),this.h()},h(){_(i,"class","field-label"),_(n,"for",l=`${e[14]}-${e[2]}`),_(n,"class","svelte-13q4pje"),gn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),_(o,"name",e[2]),_(o,"aria-hidden","true"),_(o,"tabindex","-1"),_(o,"class","visually-hidden svelte-13q4pje"),e[0]===void 0&&uo(()=>e[24].call(o)),_(f,"aria-controls",h=`autocomplete-options--${e[14]}-${e[2]}`),_(f,"autocapitalize","none"),_(f,"type","text"),_(f,"autocomplete","off"),_(f,"aria-autocomplete","list"),_(f,"role","combobox"),_(f,"id",c=`${e[14]}-${e[2]}`),_(f,"aria-expanded","false"),_(f,"name",`autocomplete-${e[14]}`),_(f,"class","svelte-13q4pje"),_(g,"id",b=`autocomplete-options--${e[14]}-${e[2]}`),_(g,"role","listbox"),_(g,"class","svelte-13q4pje"),gn(g,"hidden",!e[9]),_(p,"aria-live","polite"),_(p,"role","status"),_(p,"class","visually-hidden svelte-13q4pje"),_(u,"class","autocomplete svelte-13q4pje"),_(t,"class","field svelte-13q4pje"),F(t,"font-size",e[3]+"px"),_(t,"id",k=`field-${e[14]}-${e[2]}`),F(t,"flex",e[5]?"1 1 auto":"auto")},m(E,N){G(E,t,N),R(t,n),R(n,i),R(i,r),R(t,a),R(t,o);for(let Y=0;Y<B.length;Y+=1)B[Y]&&B[Y].m(o,null);Ml(o,e[0],!0),R(t,s),R(t,u),R(u,f),rr(f,e[8]),e[26](f),R(u,d),R(u,g),A.m(g,null),R(u,y),R(u,p),R(p,w),R(p,v),R(u,D),q&&q.m(u,null),z=!0,M||(C=[Ae(window,"click",e[21]),Ae(o,"change",e[24]),Ae(f,"keyup",e[15]),Ae(f,"keydown",e[16]),Ae(f,"focus",e[17]),Ae(f,"blur",function(){hl(e[10]=!1)&&(e[10]=!1).apply(this,arguments)}),Ae(f,"input",e[25]),Ae(f,"click",e[20])],M=!0)},p(E,N){if(e=E,(!z||N[0]&4)&&se(r,e[2]),(!z||N[0]&4&&l!==(l=`${e[14]}-${e[2]}`))&&_(n,"for",l),(!z||N[0]&1537)&&gn(n,"offset",e[9]||e[0]&&e[0].length||e[10]),N[0]&2){I=We(e[1]);let K;for(K=0;K<I.length;K+=1){const J=Wa(e,I,K);B[K]?B[K].p(J,N):(B[K]=Ua(J),B[K].c(),B[K].m(o,null))}for(;K<B.length;K+=1)B[K].d(1);B.length=I.length}(!z||N[0]&4)&&_(o,"name",e[2]),N[0]&3&&Ml(o,e[0]),(!z||N[0]&4&&h!==(h=`autocomplete-options--${e[14]}-${e[2]}`))&&_(f,"aria-controls",h),(!z||N[0]&4&&c!==(c=`${e[14]}-${e[2]}`))&&_(f,"id",c),N[0]&256&&f.value!==e[8]&&rr(f,e[8]),x===(x=T(e))&&A?A.p(e,N):(A.d(1),A=x(e),A&&(A.c(),A.m(g,null))),(!z||N[0]&4&&b!==(b=`autocomplete-options--${e[14]}-${e[2]}`))&&_(g,"id",b),(!z||N[0]&512)&&gn(g,"hidden",!e[9]),(!z||N[0]&128)&&se(w,e[7]),e[4]===!0&&e[8]&&e[8].length?q?(q.p(e,N),N[0]&272&&Z(q,1)):(q=Ya(e),q.c(),Z(q,1),q.m(u,null)):q&&(Sr(),ee(q,1,1,()=>{q=null}),Er()),(!z||N[0]&8)&&F(t,"font-size",e[3]+"px"),(!z||N[0]&4&&k!==(k=`field-${e[14]}-${e[2]}`))&&_(t,"id",k),(N[0]&8||N[0]&40)&&F(t,"flex",e[5]?"1 1 auto":"auto")},i(E){z||(Z(q),z=!0)},o(E){ee(q),z=!1},d(E){E&&S(t),kr(B,E),e[26](null),A.d(),q&&q.d(),M=!1,ti(C)}}}function Ec(e,t,n){let i;P(e,yt,L=>n(31,i=L));let{data:r}=t,{name:l}=t,{fontSize:a=16}=t,{selected:o=""}=t,{clearButton:s=!0}=t,{manualSelection:u={}}=t,{inline:f=!1}=t,h=r.sort((L,W)=>wt(L.label,W.label)),c=Math.floor(Math.random()*100),d=h.length,g=o,b=!1,y=!1,p,w=[],v,D=!0;const k=["Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown","Space","Enter","Tab","Shift"];function z(L){!k.includes(L.key)&&g&&g.length&&(n(6,h=r.filter(W=>(console.log({label:W.label}),W.label.toLowerCase().includes(g.toLowerCase())))),n(9,b=!0),n(7,d=h.length)),L.key==="Tab"&&n(9,b=!1),L.key==="ArrowDown"&&h&&h.length&&(n(9,b=!0),n(13,v=0),w[0].focus())}function M(L){L.key==="Tab"&&n(9,b=!1),g&&g.length===1&&L.key==="Backspace"&&(n(6,h=r),n(0,o="")),L.key==="Escape"&&n(9,b=!1)}function C(){n(10,y=!0)}function I(L,W){n(0,o=L),n(8,g=W),n(9,b=!1),p.focus(),Q(yt,i={value:L,label:W},i)}function B(L,W,ae){const X=L.key;["Enter","ArrowDown","ArrowUp","Escape"].includes(X)?(X==="Enter"&&(I(W,ae),D=!1),X==="ArrowDown"&&h&&h.length&&(n(13,v=v<h.length-1?v+1:h.length-1),w[v].focus(),D=!0),X==="Escape"&&(n(9,b=!1),p.focus()),X==="ArrowUp"&&v===0?(p.focus(),n(13,v=null),D=!0):X==="ArrowUp"&&v!=0&&(n(13,v-=1),w[v].focus(),D=!0)):D=!1,D===!0&&L.preventDefault()}function T(){n(8,g=""),n(23,u={}),n(9,b=!0),n(6,h=r),n(13,v=null)}function x(L){const W=L.target;W!=p&&!w.includes(W)&&n(9,b=!1)}function A(){n(8,g=""),n(0,o=""),n(23,u={})}function q(){o=rf(this),n(0,o),n(23,u),n(1,r)}function E(){g=this.value,n(8,g),n(23,u),n(0,o)}function N(L){It[L?"unshift":"push"](()=>{p=L,n(11,p)})}function Y(L,W){It[L?"unshift":"push"](()=>{w[W]=L,n(12,w)})}const K=(L,W)=>{I(L,W)},J=(L,W,ae)=>B(ae,L,W);return e.$$set=L=>{"data"in L&&n(1,r=L.data),"name"in L&&n(2,l=L.name),"fontSize"in L&&n(3,a=L.fontSize),"selected"in L&&n(0,o=L.selected),"clearButton"in L&&n(4,s=L.clearButton),"manualSelection"in L&&n(23,u=L.manualSelection),"inline"in L&&n(5,f=L.inline)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&u!=null&&u.value&&(n(0,o=u.value),n(8,g=u.label)),e.$$.dirty[0]&1&&o===""&&n(8,g="")},[o,r,l,a,s,f,h,d,g,b,y,p,w,v,c,z,M,C,I,B,T,x,A,u,q,E,N,Y,K,J]}class Mc extends Re{constructor(t){super(),Ne(this,t,Ec,Sc,Me,{data:1,name:2,fontSize:3,selected:0,clearButton:4,manualSelection:23,inline:5},null,[-1,-1])}}function Rc(e){let t,n,i,r,l,a,o,s,u=`We experience above and below-seasonal variation in the weather every year.
		Fire smoke is no exception. This year we’ve seen stunning images from
		coast-to-coast during an active fire season in the USA and Canada. Is this
		typical? Or is this year different.`,f,h,c=`Using data from the government agencies that have this data we can look at
		the number of days with smoke in cities across the country to better
		understand our own experiences.`,d;function g(y){e[4](y)}let b={data:e[0],name:"select a location",manualSelection:e[2],inline:!0,fontSize:"35"};return e[1]!==void 0&&(b.selected=e[1]),l=new Mc({props:b}),It.push(()=>af(l,"selected",g)),{c(){t=U("section"),n=U("div"),i=U("h1"),r=O("Smoke in "),_e(l.$$.fragment),o=ne(),s=U("p"),s.textContent=u,f=ne(),h=U("p"),h.textContent=c,this.h()},l(y){t=V(y,"SECTION",{});var p=j(t);n=V(p,"DIV",{class:!0});var w=j(n);i=V(w,"H1",{class:!0});var v=j(i);r=H(v,"Smoke in "),me(l.$$.fragment,v),v.forEach(S),w.forEach(S),o=ie(p),s=V(p,"P",{class:!0,"data-svelte-h":!0}),pt(s)!=="svelte-1ieckh9"&&(s.textContent=u),f=ie(p),h=V(p,"P",{class:!0,"data-svelte-h":!0}),pt(h)!=="svelte-18rohxi"&&(h.textContent=c),p.forEach(S),this.h()},h(){_(i,"class","svelte-1acsj2x"),_(n,"class","inline svelte-1acsj2x"),_(s,"class","prose"),_(h,"class","prose")},m(y,p){G(y,t,p),R(t,n),R(n,i),R(i,r),ye(l,i,null),R(t,o),R(t,s),R(t,f),R(t,h),d=!0},p(y,[p]){const w={};p&1&&(w.data=y[0]),p&4&&(w.manualSelection=y[2]),!a&&p&2&&(a=!0,w.selected=y[1],lf(()=>a=!1)),l.$set(w)},i(y){d||(Z(l.$$.fragment,y),d=!0)},o(y){ee(l.$$.fragment,y),d=!1},d(y){y&&S(t),be(l)}}}function Nc(e,t,n){let i,r;P(e,yt,s=>n(2,r=s));let{data:l}=t,a;function o(s){a=s,n(1,a)}return e.$$set=s=>{"data"in s&&n(3,l=s.data)},e.$$.update=()=>{e.$$.dirty&8&&n(0,i=Array.from(new Set(l.map(s=>JSON.stringify([s.name,s.code])))).map(s=>JSON.parse(s)).map(s=>({value:s[1],label:s[0]})).filter(s=>s.label)),e.$$.dirty&1&&new Map(i)},[i,a,r,l,o]}class zc extends Re{constructor(t){super(),Ne(this,t,Nc,Rc,Me,{data:3})}}function Ka(e,t,n){const i=e.slice();i[26]=t[n],i[33]=n;const r=i[6](i[26]);i[27]=r;const l=i[5](i[26]);i[28]=l;const a=Array.isArray(i[28])?i[28][0]:i[28];i[29]=a;const o=i[9].bandwidth?i[9].bandwidth():i[7](i[26]);i[30]=o;const s=i[10](i[26]);return i[31]=s,i}function Xa(e){let t,n=e[31]+"",i,r,l;return{c(){t=pe("text"),i=O(n),this.h()},l(a){t=we(a,"text",{x:!0,y:!0,"text-anchor":!0,class:!0});var o=j(t);i=H(o,n),o.forEach(S),this.h()},h(){_(t,"x",r=e[29]+e[30]/2),_(t,"y",l=e[12]-e[27]-5),_(t,"text-anchor","middle"),_(t,"class","svelte-gs7zwh")},m(a,o){G(a,t,o),R(t,i)},p(a,o){o[0]&1280&&n!==(n=a[31]+"")&&se(i,n),o[0]&928&&r!==(r=a[29]+a[30]/2)&&_(t,"x",r),o[0]&4416&&l!==(l=a[12]-a[27]-5)&&_(t,"y",l)},d(a){a&&S(t)}}}function Za(e){let t,n,i,r,l,a,o,s,u,f=e[3]&&e[31]&&Xa(e);return{c(){t=pe("rect"),f&&f.c(),u=he(),this.h()},l(h){t=we(h,"rect",{class:!0,"data-id":!0,"data-range":!0,"data-count":!0,x:!0,y:!0,width:!0,height:!0,fill:!0,stroke:!0,"stroke-width":!0}),j(t).forEach(S),f&&f.l(h),u=he(),this.h()},h(){_(t,"class","group-rect"),_(t,"data-id",e[33]),_(t,"data-range",n=e[11](e[26])),_(t,"data-count",i=e[31]),_(t,"x",r=e[29]),_(t,"y",l=e[4](e[26])),_(t,"width",a=e[30]),_(t,"height",o=e[27]),_(t,"fill",s=e[0](e[26])),_(t,"stroke",e[1]),_(t,"stroke-width",e[2])},m(h,c){G(h,t,c),f&&f.m(h,c),G(h,u,c)},p(h,c){c[0]&2304&&n!==(n=h[11](h[26]))&&_(t,"data-range",n),c[0]&1280&&i!==(i=h[31])&&_(t,"data-count",i),c[0]&288&&r!==(r=h[29])&&_(t,"x",r),c[0]&272&&l!==(l=h[4](h[26]))&&_(t,"y",l),c[0]&896&&a!==(a=h[30])&&_(t,"width",a),c[0]&320&&o!==(o=h[27])&&_(t,"height",o),c[0]&257&&s!==(s=h[0](h[26]))&&_(t,"fill",s),c[0]&2&&_(t,"stroke",h[1]),c[0]&4&&_(t,"stroke-width",h[2]),h[3]&&h[31]?f?f.p(h,c):(f=Xa(h),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(h){h&&(S(t),S(u)),f&&f.d(h)}}}function Dc(e){let t,n=We(e[8]),i=[];for(let r=0;r<n.length;r+=1)i[r]=Za(Ka(e,n,r));return{c(){t=pe("g");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=we(r,"g",{class:!0});var l=j(t);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(S),this.h()},h(){_(t,"class","column-group")},m(r,l){G(r,t,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null)},p(r,l){if(l[0]&8191){n=We(r[8]);let a;for(a=0;a<n.length;a+=1){const o=Ka(r,n,a);i[a]?i[a].p(o,l):(i[a]=Za(o),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},i:Te,o:Te,d(r){r&&S(t),kr(i,r)}}}function Pc(e,t,n){let i,r,l,a,o,s,u,f,h,c;const{data:d,xGet:g,yGet:b,x:y,yRange:p,xScale:w,y:v,height:D,zGet:k,zScale:z,z:M}=ft("LayerCake");P(e,d,A=>n(8,s=A)),P(e,g,A=>n(5,o=A)),P(e,b,A=>n(4,l=A)),P(e,y,A=>n(11,h=A)),P(e,p,A=>n(22,a=A)),P(e,w,A=>n(9,u=A)),P(e,v,A=>n(10,f=A)),P(e,D,A=>n(12,c=A));let{fill:C="#00e047"}=t,{fillFunction:I=A=>A}=t,{stroke:B="#000"}=t,{strokeWidth:T=0}=t,{showLabels:x=!1}=t;return e.$$set=A=>{"fill"in A&&n(21,C=A.fill),"fillFunction"in A&&n(0,I=A.fillFunction),"stroke"in A&&n(1,B=A.stroke),"strokeWidth"in A&&n(2,T=A.strokeWidth),"showLabels"in A&&n(3,x=A.showLabels)},e.$$.update=()=>{e.$$.dirty[0]&32&&n(7,i=A=>{const q=o(A);return Math.abs(q[1]-q[0])}),e.$$.dirty[0]&4194320&&n(6,r=A=>a[0]-l(A))},[I,B,T,x,l,o,r,i,s,u,f,h,c,d,g,b,y,p,w,v,D,C,a]}class Ac extends Re{constructor(t){super(),Ne(this,t,Pc,Dc,Me,{fill:21,fillFunction:0,stroke:1,strokeWidth:2,showLabels:3},null,[-1,-1])}}function Qa(e,t,n){const i=e.slice();return i[20]=t[n],i[22]=n,i}function Ja(e){let t,n;return{c(){t=pe("line"),this.h()},l(i){t=we(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),j(t).forEach(S),this.h()},h(){_(t,"class","gridline svelte-gquvov"),_(t,"y1",n=e[11]*-1),_(t,"y2","0"),_(t,"x1","0"),_(t,"x2","0")},m(i,r){G(i,t,r)},p(i,r){r&2048&&n!==(n=i[11]*-1)&&_(t,"y1",n)},d(i){i&&S(t)}}}function $a(e){let t,n,i;return{c(){t=pe("line"),this.h()},l(r){t=we(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),j(t).forEach(S),this.h()},h(){_(t,"class","tick-mark svelte-gquvov"),_(t,"y1",0),_(t,"y2",6),_(t,"x1",n=e[7]?e[8].bandwidth()/2:0),_(t,"x2",i=e[7]?e[8].bandwidth()/2:0)},m(r,l){G(r,t,l)},p(r,l){l&384&&n!==(n=r[7]?r[8].bandwidth()/2:0)&&_(t,"x1",n),l&384&&i!==(i=r[7]?r[8].bandwidth()/2:0)&&_(t,"x2",i)},d(r){r&&S(t)}}}function eo(e,t){let n,i,r,l=t[4](t[20])+"",a,o,s,u,f,h=t[0]!==!1&&Ja(t),c=t[1]===!0&&$a(t);return{key:e,first:null,c(){n=pe("g"),h&&h.c(),i=he(),c&&c.c(),r=pe("text"),a=O(l),this.h()},l(d){n=we(d,"g",{class:!0,transform:!0});var g=j(n);h&&h.l(g),i=he(),c&&c.l(g),r=we(g,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var b=j(r);a=H(b,l),b.forEach(S),g.forEach(S),this.h()},h(){_(r,"x",o=t[7]?t[8].bandwidth()/2+t[5]:t[5]),_(r,"y",t[6]),_(r,"dx",""),_(r,"dy",""),_(r,"text-anchor",s=t[17](t[22])),_(r,"class","svelte-gquvov"),_(n,"class",u="tick tick-"+t[22]+" svelte-gquvov"),_(n,"transform",f="translate("+t[8](t[20])+","+Math.max(...t[10])+")"),this.first=n},m(d,g){G(d,n,g),h&&h.m(n,null),R(n,i),c&&c.m(n,null),R(n,r),R(r,a)},p(d,g){t=d,t[0]!==!1?h?h.p(t,g):(h=Ja(t),h.c(),h.m(n,i)):h&&(h.d(1),h=null),t[1]===!0?c?c.p(t,g):(c=$a(t),c.c(),c.m(n,r)):c&&(c.d(1),c=null),g&528&&l!==(l=t[4](t[20])+"")&&se(a,l),g&416&&o!==(o=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&_(r,"x",o),g&64&&_(r,"y",t[6]),g&512&&s!==(s=t[17](t[22]))&&_(r,"text-anchor",s),g&512&&u!==(u="tick tick-"+t[22]+" svelte-gquvov")&&_(n,"class",u),g&1792&&f!==(f="translate("+t[8](t[20])+","+Math.max(...t[10])+")")&&_(n,"transform",f)},d(d){d&&S(n),h&&h.d(),c&&c.d()}}}function to(e){let t,n,i;return{c(){t=pe("line"),this.h()},l(r){t=we(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),j(t).forEach(S),this.h()},h(){_(t,"class","baseline svelte-gquvov"),_(t,"y1",n=e[11]+.5),_(t,"y2",i=e[11]+.5),_(t,"x1","0"),_(t,"x2",e[12])},m(r,l){G(r,t,l)},p(r,l){l&2048&&n!==(n=r[11]+.5)&&_(t,"y1",n),l&2048&&i!==(i=r[11]+.5)&&_(t,"y2",i),l&4096&&_(t,"x2",r[12])},d(r){r&&S(t)}}}function Tc(e){let t,n=[],i=new Map,r,l=We(e[9]);const a=s=>s[20];for(let s=0;s<l.length;s+=1){let u=Qa(e,l,s),f=a(u);i.set(f,n[s]=eo(f,u))}let o=e[2]===!0&&to(e);return{c(){t=pe("g");for(let s=0;s<n.length;s+=1)n[s].c();r=he(),o&&o.c(),this.h()},l(s){t=we(s,"g",{class:!0});var u=j(t);for(let f=0;f<n.length;f+=1)n[f].l(u);r=he(),o&&o.l(u),u.forEach(S),this.h()},h(){_(t,"class","axis x-axis svelte-gquvov"),gn(t,"snapTicks",e[3])},m(s,u){G(s,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);R(t,r),o&&o.m(t,null)},p(s,[u]){u&135155&&(l=We(s[9]),n=gl(n,u,a,1,s,l,i,t,dl,eo,r,Qa)),s[2]===!0?o?o.p(s,u):(o=to(s),o.c(),o.m(t,null)):o&&(o.d(1),o=null),u&8&&gn(t,"snapTicks",s[3])},i:Te,o:Te,d(s){s&&S(t);for(let u=0;u<n.length;u+=1)n[u].d();o&&o.d()}}}function Cc(e,t,n){let i,r,l,a,o,s;const{width:u,height:f,xScale:h,yRange:c,xReverse:d}=ft("LayerCake");P(e,u,M=>n(12,s=M)),P(e,f,M=>n(11,o=M)),P(e,h,M=>n(8,l=M)),P(e,c,M=>n(10,a=M));let{gridlines:g=!0}=t,{tickMarks:b=!1}=t,{baseline:y=!1}=t,{snapTicks:p=!1}=t,{formatTick:w=M=>M}=t,{ticks:v=void 0}=t,{xTick:D=0}=t,{yTick:k=16}=t;function z(M){if(p===!0)if(d===!1){if(M===0)return"start";if(M===r.length-1)return"end"}else{if(M===0)return"end";if(M===r.length-1)return"start"}return"middle"}return e.$$set=M=>{"gridlines"in M&&n(0,g=M.gridlines),"tickMarks"in M&&n(1,b=M.tickMarks),"baseline"in M&&n(2,y=M.baseline),"snapTicks"in M&&n(3,p=M.snapTicks),"formatTick"in M&&n(4,w=M.formatTick),"ticks"in M&&n(18,v=M.ticks),"xTick"in M&&n(5,D=M.xTick),"yTick"in M&&n(6,k=M.yTick)},e.$$.update=()=>{e.$$.dirty&256&&n(7,i=typeof l.bandwidth=="function"),e.$$.dirty&262528&&n(9,r=Array.isArray(v)?v:i?l.domain():typeof v=="function"?v(l.ticks()):l.ticks(v))},[g,b,y,p,w,D,k,i,l,r,a,o,s,u,f,h,c,z,v]}class Ko extends Re{constructor(t){super(),Ne(this,t,Cc,Tc,Me,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function no(e,t,n){const i=e.slice();return i[20]=t[n],i}function io(e){let t,n,i;return{c(){t=pe("line"),this.h()},l(r){t=we(r,"line",{class:!0,x2:!0,y1:!0,y2:!0}),j(t).forEach(S),this.h()},h(){_(t,"class","gridline svelte-1d87mp0"),_(t,"x2","100%"),_(t,"y1",n=e[9]?e[10].bandwidth()/2:0),_(t,"y2",i=e[9]?e[10].bandwidth()/2:0)},m(r,l){G(r,t,l)},p(r,l){l&1536&&n!==(n=r[9]?r[10].bandwidth()/2:0)&&_(t,"y1",n),l&1536&&i!==(i=r[9]?r[10].bandwidth()/2:0)&&_(t,"y2",i)},d(r){r&&S(t)}}}function ro(e){let t,n,i,r;return{c(){t=pe("line"),this.h()},l(l){t=we(l,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),j(t).forEach(S),this.h()},h(){_(t,"class","tick-mark svelte-1d87mp0"),_(t,"x1","0"),_(t,"x2",n=e[9]?-6:6),_(t,"y1",i=e[9]?e[10].bandwidth()/2:0),_(t,"y2",r=e[9]?e[10].bandwidth()/2:0)},m(l,a){G(l,t,a)},p(l,a){a&512&&n!==(n=l[9]?-6:6)&&_(t,"x2",n),a&1536&&i!==(i=l[9]?l[10].bandwidth()/2:0)&&_(t,"y1",i),a&1536&&r!==(r=l[9]?l[10].bandwidth()/2:0)&&_(t,"y2",r)},d(l){l&&S(t)}}}function lo(e,t){let n,i,r,l=t[2](t[20])+"",a,o,s,u,f,h,c=t[0]!==!1&&io(t),d=t[1]===!0&&ro(t);return{key:e,first:null,c(){n=pe("g"),c&&c.c(),i=he(),d&&d.c(),r=pe("text"),a=O(l),this.h()},l(g){n=we(g,"g",{class:!0,transform:!0});var b=j(n);c&&c.l(b),i=he(),d&&d.l(b),r=we(b,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var y=j(r);a=H(y,l),y.forEach(S),b.forEach(S),this.h()},h(){_(r,"x",t[3]),_(r,"y",o=t[9]?t[10].bandwidth()/2+t[4]:t[4]),_(r,"dx",s=t[9]?-9:t[5]),_(r,"dy",u=t[9]?4:t[6]),F(r,"text-anchor",t[9]?"end":t[8]),_(r,"class","svelte-1d87mp0"),_(n,"class",f="tick tick-"+t[20]+" svelte-1d87mp0"),_(n,"transform",h="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")"),this.first=n},m(g,b){G(g,n,b),c&&c.m(n,null),R(n,i),d&&d.m(n,null),R(n,r),R(r,a)},p(g,b){t=g,t[0]!==!1?c?c.p(t,b):(c=io(t),c.c(),c.m(n,i)):c&&(c.d(1),c=null),t[1]===!0?d?d.p(t,b):(d=ro(t),d.c(),d.m(n,r)):d&&(d.d(1),d=null),b&2052&&l!==(l=t[2](t[20])+"")&&se(a,l),b&8&&_(r,"x",t[3]),b&1552&&o!==(o=t[9]?t[10].bandwidth()/2+t[4]:t[4])&&_(r,"y",o),b&544&&s!==(s=t[9]?-9:t[5])&&_(r,"dx",s),b&576&&u!==(u=t[9]?4:t[6])&&_(r,"dy",u),b&768&&F(r,"text-anchor",t[9]?"end":t[8]),b&2048&&f!==(f="tick tick-"+t[20]+" svelte-1d87mp0")&&_(n,"class",f),b&15872&&h!==(h="translate("+(t[13][0]+(t[9]?t[12].left:0))+", "+t[10](t[20])+")")&&_(n,"transform",h)},d(g){g&&S(n),c&&c.d(),d&&d.d()}}}function ao(e){let t,n,i;return{c(){t=pe("line"),this.h()},l(r){t=we(r,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),j(t).forEach(S),this.h()},h(){_(t,"class","baseline svelte-1d87mp0"),_(t,"y1","0"),_(t,"y2",e[14]),_(t,"x1",n=e[12].left),_(t,"x2",i=e[12].left)},m(r,l){G(r,t,l)},p(r,l){l&16384&&_(t,"y2",r[14]),l&4096&&n!==(n=r[12].left)&&_(t,"x1",n),l&4096&&i!==(i=r[12].left)&&_(t,"x2",i)},d(r){r&&S(t)}}}function Ic(e){let t,n=[],i=new Map,r,l,a=We(e[11]);const o=u=>u[20];for(let u=0;u<a.length;u+=1){let f=no(e,a,u),h=o(f);i.set(h,n[u]=lo(h,f))}let s=e[7]===!0&&ao(e);return{c(){t=pe("g");for(let u=0;u<n.length;u+=1)n[u].c();r=he(),s&&s.c(),this.h()},l(u){t=we(u,"g",{class:!0,transform:!0});var f=j(t);for(let h=0;h<n.length;h+=1)n[h].l(f);r=he(),s&&s.l(f),f.forEach(S),this.h()},h(){_(t,"class","axis y-axis"),_(t,"transform",l="translate("+-e[12].left+", 0)")},m(u,f){G(u,t,f);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(t,null);R(t,r),s&&s.m(t,null)},p(u,[f]){f&16255&&(a=We(u[11]),n=gl(n,f,o,1,u,a,i,t,dl,lo,r,no)),u[7]===!0?s?s.p(u,f):(s=ao(u),s.c(),s.m(t,null)):s&&(s.d(1),s=null),f&4096&&l!==(l="translate("+-u[12].left+", 0)")&&_(t,"transform",l)},i:Te,o:Te,d(u){u&&S(t);for(let f=0;f<n.length;f+=1)n[f].d();s&&s.d()}}}function Lc(e,t,n){let i,r,l,a,o,s;const{padding:u,xRange:f,yScale:h,height:c}=ft("LayerCake");P(e,u,M=>n(12,a=M)),P(e,f,M=>n(13,o=M)),P(e,h,M=>n(10,l=M)),P(e,c,M=>n(14,s=M));let{gridlines:d=!0}=t,{tickMarks:g=!1}=t,{formatTick:b=M=>M}=t,{ticks:y=4}=t,{xTick:p=0}=t,{yTick:w=0}=t,{dxTick:v=0}=t,{dyTick:D=-4}=t,{baseline:k=!1}=t,{textAnchor:z="start"}=t;return e.$$set=M=>{"gridlines"in M&&n(0,d=M.gridlines),"tickMarks"in M&&n(1,g=M.tickMarks),"formatTick"in M&&n(2,b=M.formatTick),"ticks"in M&&n(19,y=M.ticks),"xTick"in M&&n(3,p=M.xTick),"yTick"in M&&n(4,w=M.yTick),"dxTick"in M&&n(5,v=M.dxTick),"dyTick"in M&&n(6,D=M.dyTick),"baseline"in M&&n(7,k=M.baseline),"textAnchor"in M&&n(8,z=M.textAnchor)},e.$$.update=()=>{e.$$.dirty&1024&&n(9,i=typeof l.bandwidth=="function"),e.$$.dirty&525824&&n(11,r=Array.isArray(y)?y:i?l.domain():typeof y=="function"?y(l.ticks()):l.ticks(y))},[d,g,b,p,w,v,D,k,z,i,l,r,a,o,s,u,f,h,c,y]}class qc extends Re{constructor(t){super(),Ne(this,t,Lc,Ic,Me,{gridlines:0,tickMarks:1,formatTick:2,ticks:19,xTick:3,yTick:4,dxTick:5,dyTick:6,baseline:7,textAnchor:8})}}function jc(e){let t,n,i,r;return t=new Ac({props:{fillFunction:e[1]}}),i=new Ko({props:{gridlines:!1,ticks:e[2],tickMarks:!0}}),{c(){_e(t.$$.fragment),n=ne(),_e(i.$$.fragment)},l(l){me(t.$$.fragment,l),n=ie(l),me(i.$$.fragment,l)},m(l,a){ye(t,l,a),G(l,n,a),ye(i,l,a),r=!0},p(l,a){const o={};a&2&&(o.fillFunction=l[1]),t.$set(o);const s={};a&4&&(s.ticks=l[2]),i.$set(s)},i(l){r||(Z(t.$$.fragment,l),Z(i.$$.fragment,l),r=!0)},o(l){ee(t.$$.fragment,l),ee(i.$$.fragment,l),r=!1},d(l){l&&S(n),be(t,l),be(i,l)}}}function Bc(e){let t,n;return t=new vl({props:{$$slots:{default:[jc]},$$scope:{ctx:e}}}),{c(){_e(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){ye(t,i,r),n=!0},p(i,r){const l={};r&38&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(Z(t.$$.fragment,i),n=!0)},o(i){ee(t.$$.fragment,i),n=!1},d(i){be(t,i)}}}function Gc(e){let t,n,i;return n=new wl({props:{padding:{top:0,right:40,bottom:20,left:70},x:Oc,y:Hc,xScale:_l().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],xReverse:!0,$$slots:{default:[Bc]},$$scope:{ctx:e}}}),{c(){t=U("div"),_e(n.$$.fragment),this.h()},l(r){t=V(r,"DIV",{class:!0});var l=j(t);me(n.$$.fragment,l),l.forEach(S),this.h()},h(){_(t,"class","chart-container svelte-h0hpcd")},m(r,l){G(r,t,l),ye(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&38&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(Z(n.$$.fragment,r),i=!0)},o(r){ee(n.$$.fragment,r),i=!1},d(r){r&&S(t),be(n)}}}const Oc="name",Hc="bad_air_days";function Fc(e,t,n){let i,r,l;P(e,yt,s=>n(4,l=s));let{data:a}=t,{index_of_selected:o}=t;return e.$$set=s=>{"data"in s&&n(0,a=s.data),"index_of_selected"in s&&n(3,o=s.index_of_selected)},e.$$.update=()=>{e.$$.dirty&25&&(o>a.length/2?n(2,i=[l.label,a[0].name]):n(2,i=[l.label,a[a.length-1].name])),e.$$.dirty&16&&n(1,r=s=>s.code===l.value?"var(--primary)":"var(--secondary)")},n(2,i=[]),[a,r,i,o,l]}class xc extends Re{constructor(t){super(),Ne(this,t,Fc,Gc,Me,{data:0,index_of_selected:3})}}function Wc(e){let t;return{c(){t=pe("path"),this.h()},l(n){t=we(n,"path",{class:!0,d:!0,stroke:!0}),j(t).forEach(S),this.h()},h(){_(t,"class","path-line svelte-1a99x5h"),_(t,"d",e[1]),_(t,"stroke",e[0])},m(n,i){G(n,t,i)},p(n,[i]){i&2&&_(t,"d",n[1]),i&1&&_(t,"stroke",n[0])},i:Te,o:Te,d(n){n&&S(t)}}}function Uc(e,t,n){let i,r,l,a;const{data:o,xGet:s,yGet:u}=ft("LayerCake");P(e,o,h=>n(7,a=h)),P(e,s,h=>n(6,l=h)),P(e,u,h=>n(5,r=h));let{stroke:f="#ab00d6"}=t;return e.$$set=h=>{"stroke"in h&&n(0,f=h.stroke)},e.$$.update=()=>{e.$$.dirty&224&&n(1,i="M"+a.map(h=>l(h)+","+r(h)).join("L"))},[f,i,o,s,u,r,l,a]}class Vc extends Re{constructor(t){super(),Ne(this,t,Uc,Wc,Me,{stroke:0})}}function Yc(e){let t,n,i,r,l,a;return t=new Vc({props:{stroke:"var(--secondary)"}}),i=new Ko({props:{gridlines:!1,ticks:[1980,2002,2022],baseline:!0}}),l=new qc({props:{gridlines:!1,baseline:!0}}),{c(){_e(t.$$.fragment),n=ne(),_e(i.$$.fragment),r=ne(),_e(l.$$.fragment)},l(o){me(t.$$.fragment,o),n=ie(o),me(i.$$.fragment,o),r=ie(o),me(l.$$.fragment,o)},m(o,s){ye(t,o,s),G(o,n,s),ye(i,o,s),G(o,r,s),ye(l,o,s),a=!0},p:Te,i(o){a||(Z(t.$$.fragment,o),Z(i.$$.fragment,o),Z(l.$$.fragment,o),a=!0)},o(o){ee(t.$$.fragment,o),ee(i.$$.fragment,o),ee(l.$$.fragment,o),a=!1},d(o){o&&(S(n),S(r)),be(t,o),be(i,o),be(l,o)}}}function Kc(e){let t,n;return t=new vl({props:{$$slots:{default:[Yc]},$$scope:{ctx:e}}}),{c(){_e(t.$$.fragment)},l(i){me(t.$$.fragment,i)},m(i,r){ye(t,i,r),n=!0},p(i,r){const l={};r&2&&(l.$$scope={dirty:r,ctx:i}),t.$set(l)},i(i){n||(Z(t.$$.fragment,i),n=!0)},o(i){ee(t.$$.fragment,i),n=!1},d(i){be(t,i)}}}function Xc(e){let t,n,i;return n=new wl({props:{padding:{top:0,right:40,bottom:20,left:30},x:Zc,y:Qc,xScale:_l().paddingInner(.02).round(!0),yDomain:[0,null],data:e[0],$$slots:{default:[Kc]},$$scope:{ctx:e}}}),{c(){t=U("div"),_e(n.$$.fragment),this.h()},l(r){t=V(r,"DIV",{class:!0});var l=j(t);me(n.$$.fragment,l),l.forEach(S),this.h()},h(){_(t,"class","chart-container svelte-1c4lw4g")},m(r,l){G(r,t,l),ye(n,t,null),i=!0},p(r,[l]){const a={};l&1&&(a.data=r[0]),l&2&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){i||(Z(n.$$.fragment,r),i=!0)},o(r){ee(n.$$.fragment,r),i=!1},d(r){r&&S(t),be(n)}}}const Zc="year",Qc="bad_air_days";function Jc(e,t,n){let{data:i}=t;return e.$$set=r=>{"data"in r&&n(0,i=r.data)},[i]}class $c extends Re{constructor(t){super(),Ne(this,t,Jc,Xc,Me,{data:0})}}function eh(e){let t,n,i='<h2 class="svelte-129cd64">Is this typical?</h2> <p class="subtitle svelte-129cd64">You be the judge.</p>',r,l,a,o="2022",s,u,f=e[0][e[1]].name+"",h,c,d=e[0][e[1]].bad_air_days+"",g,b,y,p,w,v,D=e[7](e[0][e[1]].bad_air_days)+"",k,z,M,C,I,B,T,x,A,q="2002",E,N,Y,K,J,L,W,ae,X=e[3].label+"",ze,Ce,Ge,$,fe,Ee,De,Oe,Ye,oe,Ie,Qe,Je=e[6]>e[5]?"fewer":"more",$e,Ut,Vt,Ue,Yt,kt=e[4].year+"",Lt,Kt,St=e[4].bad_air_days+"",qt,Xt,Zt,ut,Le;return C=new xc({props:{data:e[0],index_of_selected:e[1]}}),ut=new $c({props:{data:e[2]}}),{c(){t=U("section"),n=U("div"),n.innerHTML=i,r=ne(),l=U("div"),a=U("h3"),a.textContent=o,s=ne(),u=U("p"),h=O(f),c=O(" experienced "),g=O(d),b=O(" days with bad air quality in 2022."),y=ne(),p=U("ul"),w=U("li"),v=O("This is "),k=O(D),z=O(` compared
				to all other cities in our data.`),M=ne(),_e(C.$$.fragment),I=ne(),B=U("hr"),T=ne(),x=U("div"),A=U("h3"),A.textContent=q,E=ne(),N=U("p"),Y=O("When you were "),K=O(er),J=O(" years old"),L=ne(),W=U("p"),ae=U("strong"),ze=O(X),Ce=O(` experienced
			`),Ge=U("strong"),$=O(e[6]),fe=O(" bad air quality days"),Ee=O(`
			when you were `),De=O(er),Oe=O(" years old."),Ye=ne(),oe=U("ul"),Ie=U("li"),Qe=O("There are "),$e=O(Je),Ut=O(` smoky days
				than there were in 2002.`),Vt=ne(),Ue=U("li"),Yt=O("The highest on record was in "),Lt=O(kt),Kt=O(" when there were "),qt=O(St),Xt=O(`
				smoky days reported.`),Zt=ne(),_e(ut.$$.fragment),this.h()},l(ce){t=V(ce,"SECTION",{class:!0});var de=j(t);n=V(de,"DIV",{class:!0,"data-svelte-h":!0}),pt(n)!=="svelte-1wgwpos"&&(n.innerHTML=i),r=ie(de),l=V(de,"DIV",{class:!0});var qe=j(l);a=V(qe,"H3",{class:!0,"data-svelte-h":!0}),pt(a)!=="svelte-1rc7x6b"&&(a.textContent=o),s=ie(qe),u=V(qe,"P",{class:!0});var et=j(u);h=H(et,f),c=H(et," experienced "),g=H(et,d),b=H(et," days with bad air quality in 2022."),et.forEach(S),y=ie(qe),p=V(qe,"UL",{class:!0});var jt=j(p);w=V(jt,"LI",{class:!0});var Et=j(w);v=H(Et,"This is "),k=H(Et,D),z=H(Et,` compared
				to all other cities in our data.`),Et.forEach(S),jt.forEach(S),M=ie(qe),me(C.$$.fragment,qe),qe.forEach(S),I=ie(de),B=V(de,"HR",{class:!0}),T=ie(de),x=V(de,"DIV",{class:!0});var He=j(x);A=V(He,"H3",{class:!0,"data-svelte-h":!0}),pt(A)!=="svelte-1qkset9"&&(A.textContent=q),E=ie(He),N=V(He,"P",{class:!0});var tt=j(N);Y=H(tt,"When you were "),K=H(tt,er),J=H(tt," years old"),tt.forEach(S),L=ie(He),W=V(He,"P",{class:!0});var Fe=j(W);ae=V(Fe,"STRONG",{});var Bt=j(ae);ze=H(Bt,X),Bt.forEach(S),Ce=H(Fe,` experienced
			`),Ge=V(Fe,"STRONG",{});var st=j(Ge);$=H(st,e[6]),fe=H(st," bad air quality days"),st.forEach(S),Ee=H(Fe,`
			when you were `),De=H(Fe,er),Oe=H(Fe," years old."),Fe.forEach(S),Ye=ie(He),oe=V(He,"UL",{class:!0});var nt=j(oe);Ie=V(nt,"LI",{class:!0});var it=j(Ie);Qe=H(it,"There are "),$e=H(it,Je),Ut=H(it,` smoky days
				than there were in 2002.`),it.forEach(S),Vt=ie(nt),Ue=V(nt,"LI",{class:!0});var Ve=j(Ue);Yt=H(Ve,"The highest on record was in "),Lt=H(Ve,kt),Kt=H(Ve," when there were "),qt=H(Ve,St),Xt=H(Ve,`
				smoky days reported.`),Ve.forEach(S),nt.forEach(S),Zt=ie(He),me(ut.$$.fragment,He),He.forEach(S),de.forEach(S),this.h()},h(){_(n,"class","contents svelte-129cd64"),_(a,"class","rail svelte-129cd64"),_(u,"class","prose"),_(w,"class","svelte-129cd64"),_(p,"class","svelte-129cd64"),_(l,"class","latest block svelte-129cd64"),_(B,"class","svelte-129cd64"),_(A,"class","rail svelte-129cd64"),_(N,"class","rail__context svelte-129cd64"),_(W,"class","prose"),_(Ie,"class","svelte-129cd64"),_(Ue,"class","svelte-129cd64"),_(oe,"class","svelte-129cd64"),_(x,"class","past block svelte-129cd64"),_(t,"class","svelte-129cd64")},m(ce,de){G(ce,t,de),R(t,n),R(t,r),R(t,l),R(l,a),R(l,s),R(l,u),R(u,h),R(u,c),R(u,g),R(u,b),R(l,y),R(l,p),R(p,w),R(w,v),R(w,k),R(w,z),R(l,M),ye(C,l,null),R(t,I),R(t,B),R(t,T),R(t,x),R(x,A),R(x,E),R(x,N),R(N,Y),R(N,K),R(N,J),R(x,L),R(x,W),R(W,ae),R(ae,ze),R(W,Ce),R(W,Ge),R(Ge,$),R(Ge,fe),R(W,Ee),R(W,De),R(W,Oe),R(x,Ye),R(x,oe),R(oe,Ie),R(Ie,Qe),R(Ie,$e),R(Ie,Ut),R(oe,Vt),R(oe,Ue),R(Ue,Yt),R(Ue,Lt),R(Ue,Kt),R(Ue,qt),R(Ue,Xt),R(x,Zt),ye(ut,x,null),Le=!0},p(ce,[de]){(!Le||de&3)&&f!==(f=ce[0][ce[1]].name+"")&&se(h,f),(!Le||de&3)&&d!==(d=ce[0][ce[1]].bad_air_days+"")&&se(g,d),(!Le||de&3)&&D!==(D=ce[7](ce[0][ce[1]].bad_air_days)+"")&&se(k,D);const qe={};de&1&&(qe.data=ce[0]),de&2&&(qe.index_of_selected=ce[1]),C.$set(qe),(!Le||de&8)&&X!==(X=ce[3].label+"")&&se(ze,X),(!Le||de&64)&&se($,ce[6]),(!Le||de&96)&&Je!==(Je=ce[6]>ce[5]?"fewer":"more")&&se($e,Je),(!Le||de&16)&&kt!==(kt=ce[4].year+"")&&se(Lt,kt),(!Le||de&16)&&St!==(St=ce[4].bad_air_days+"")&&se(qt,St);const et={};de&4&&(et.data=ce[2]),ut.$set(et)},i(ce){Le||(Z(C.$$.fragment,ce),Z(ut.$$.fragment,ce),Le=!0)},o(ce){ee(C.$$.fragment,ce),ee(ut.$$.fragment,ce),Le=!1},d(ce){ce&&S(t),be(C),be(ut)}}}let er=10;function th(e,t,n){let i,r,l,a,o,s,u,f,h;P(e,yt,y=>n(3,h=y));let{latestData:c}=t,{allData:d}=t,{index_of_selected:g}=t;const b=y=>y<r?"very low":y<l?"moderately low":y<a?"moderately high":"very high";return e.$$set=y=>{"latestData"in y&&n(0,c=y.latestData),"allData"in y&&n(8,d=y.allData),"index_of_selected"in y&&n(1,g=y.index_of_selected)},e.$$.update=()=>{var y;e.$$.dirty&1&&n(9,i=c.map(p=>p.bad_air_days)),e.$$.dirty&512&&(r=Gr(i,.25)),e.$$.dirty&512&&(l=Gr(i,.5)),e.$$.dirty&512&&(a=Gr(i,.75)),e.$$.dirty&264&&n(2,o=d.filter(p=>p.code===h.value)),e.$$.dirty&4&&n(6,s=(y=[...o].filter(p=>p.year===2002)[0])==null?void 0:y.bad_air_days),e.$$.dirty&4&&n(5,u=[...o].sort((p,w)=>wt(p.year,w.year))[o.length-1].bad_air_days),e.$$.dirty&4&&n(4,f=[...o].sort((p,w)=>wt(p.bad_air_days,w.bad_air_days))[o.length-1])},[c,g,o,h,f,u,s,b,d,i]}class nh extends Re{constructor(t){super(),Ne(this,t,th,eh,Me,{latestData:0,allData:8,index_of_selected:1})}}function ih(e){let t,n,i,r,l,a;return t=new zc({props:{data:e[0]}}),i=new yc({props:{data:e[0],us_states:e[4],cbsa_lookup:e[2],index_of_selected:e[3]}}),l=new nh({props:{latestData:e[0],allData:e[1],index_of_selected:e[3]}}),{c(){_e(t.$$.fragment),n=ne(),_e(i.$$.fragment),r=ne(),_e(l.$$.fragment)},l(o){me(t.$$.fragment,o),n=ie(o),me(i.$$.fragment,o),r=ie(o),me(l.$$.fragment,o)},m(o,s){ye(t,o,s),G(o,n,s),ye(i,o,s),G(o,r,s),ye(l,o,s),a=!0},p(o,[s]){const u={};s&1&&(u.data=o[0]),t.$set(u);const f={};s&1&&(f.data=o[0]),s&16&&(f.us_states=o[4]),s&4&&(f.cbsa_lookup=o[2]),s&8&&(f.index_of_selected=o[3]),i.$set(f);const h={};s&1&&(h.latestData=o[0]),s&2&&(h.allData=o[1]),s&8&&(h.index_of_selected=o[3]),l.$set(h)},i(o){a||(Z(t.$$.fragment,o),Z(i.$$.fragment,o),Z(l.$$.fragment,o),a=!0)},o(o){ee(t.$$.fragment,o),ee(i.$$.fragment,o),ee(l.$$.fragment,o),a=!1},d(o){o&&(S(n),S(r)),be(t,o),be(i,o),be(l,o)}}}function rh(e,t,n){let i,r,l,a,o,s,u,f;P(e,yt,c=>n(8,f=c));let{data:h}=t;return e.$$set=c=>{"data"in c&&n(5,h=c.data)},e.$$.update=()=>{e.$$.dirty&32&&n(6,{city_data:i,cbsa:r,us_states:l}=h,i,(n(7,r),n(5,h)),(n(4,l),n(5,h))),e.$$.dirty&128&&n(2,a=new Map(r.map(c=>[c.GEOID,{name:c.NAME,latitude:+c.latitude,longitude:+c.longitude}]))),e.$$.dirty&68&&n(1,o=i.map(c=>{var d;return{...c,year:+c.year,bad_air_days:+c.n,name:(d=a.get(c["CBSA Code"]))==null?void 0:d.name,code:c["CBSA Code"]}})),e.$$.dirty&2&&n(0,s=o.filter(c=>c.year===2022).sort((c,d)=>so(c.bad_air_days,d.bad_air_days))),e.$$.dirty&257&&n(3,u=s.findIndex(c=>c["CBSA Code"]===(f==null?void 0:f.value)))},[s,o,a,u,l,h,i,r,f]}class fh extends Re{constructor(t){super(),Ne(this,t,rh,ih,Me,{data:5})}}export{fh as component};
